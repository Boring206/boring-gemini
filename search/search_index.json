{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Boring Documentation","text":"<p>Boring for Gemini - The autonomous AI development loop. Make AI development boring (in a good way). Current Version: V14.0.0 (Predictive Intelligence &amp; Offline-First)</p>"},{"location":"#changelog","title":"\ud83d\udccb \u66f4\u65b0\u65e5\u8a8c","text":""},{"location":"#table-of-contents","title":"\u76ee\u9304 (Table of Contents)","text":"<ul> <li>\ud83d\ude80 Quick Start</li> <li>\ud83d\udce6 Installation Options</li> <li>\ud83d\udcda Documentation Structure</li> <li>Features (\u529f\u80fd)</li> <li>Guides (\u6307\u5357)</li> <li>Tutorials (\u6559\u5b78)</li> <li>Reference (\u53c3\u8003)</li> <li>API Documentation</li> <li>\ud83c\udf0f \u7e41\u9ad4\u4e2d\u6587\u6587\u6a94</li> <li>\u529f\u80fd</li> <li>\u6307\u5357</li> <li>\u6559\u5b78</li> <li>\u53c3\u8003</li> <li>API \u6587\u6a94</li> <li>\ud83d\udd17 External Links</li> <li>\ud83d\udcdd Contributing</li> </ul>"},{"location":"#quick-start","title":"\ud83d\ude80 Quick Start","text":"<p>Choose your path:</p> You Are Start Here \ud83c\udfa8 Vibe Coder (describe &amp; build) Vibe Coder Guide \ud83d\udcbb Developer (hands-on) Quick Tutorials \ud83d\udd27 DevOps/CI Quality Gates \ud83c\udfe2 Team Lead Pro Tips"},{"location":"#installation-options","title":"\ud83d\udce6 Installation Options","text":"Method Profile RAG Capability Best For Smithery (Remote) <code>lite</code> (default) \u26a0\ufe0f Keyword only Quick setup, daily development Local pip <code>[all]</code> <code>standard</code>/<code>full</code> \u2705 Vector + Semantic Full RAG, complete features Local pip (minimal) <code>lite</code> \u26a0\ufe0f Keyword only Lightweight, CI/CD <p>\ud83d\udccb Smithery Deployment: Uses <code>[mcp-lite]</code> (~500MB), <code>lite</code> profile by default (~20 tools). For full RAG with vector search, use local installation.</p> <p>\ud83d\udcd6 Complete Installation Guide | MCP Configuration Guide</p>"},{"location":"#docs-structure","title":"\ud83d\udcda Documentation Structure","text":""},{"location":"#features","title":"\u2728 Core Features (\u529f\u80fd)","text":"<p>Core capabilities explained in depth.</p> Feature Description \u2728 Vibe Coder Experience NEW: Pure Natural Language Coding (\u4e2d\u6587) \ud83e\udde0 External Intelligence NEW: Context7 (Docs) + Thinking Mode (\u4e2d\u6587) \ud83d\udda5\ufe0f Monitoring Tools NEW: TUI, Web Dashboard &amp; Brain Explorer (\u4e2d\u6587) \ud83d\udd75\ufe0f Hybrid RAG POWER: HyDE + Cross-Encoder + Graph (\u4e2d\u6587) \ud83e\udde0 Memory System BRAIN: Persistent Learning &amp; Recall (\u4e2d\u6587) \ud83e\udd16 Autonomous Agents LOOP: Planner, Coder, Reviewer Squad (\u4e2d\u6587) MCP Toolset 60+ Tools, Profiles, Router (\u4e2d\u6587) Shadow Mode Security Sandbox (\u4e2d\u6587) \ud83d\udcc9 Token Optimization NEW: Verbosity &amp; Caching (\u4e2d\u6587) \ud83e\uddec Cognitive Evolution V13.0: Memory, Reasoning, Skills (\u4e2d\u6587) \ud83e\udea2 Node.js Autonomy NEW: Zero-config Node.js management (\u4e2d\u6587) Quality Gates CI/CD integration and verification levels \ud83d\udd2e Predictive Intelligence POWER: AI Diagnostics &amp; Prevention (\u4e2d\u6587) \ud83d\udd0c Offline-First Mode PRIVACY: Zero-network operations (\u4e2d\u6587) \ud83d\udc8e Hidden Gems Pro: Advanced tips &amp; secrets (\u4e2d\u6587)"},{"location":"#guides","title":"Guides (\u6307\u5357)","text":"<p>Practical how-to content.</p> Guide Description \ud83c\udfaf Usage Modes NEW: MCP vs YOLO vs Autonomous (\u4e2d\u6587) \ud83d\ude80 YOLO + Boring NEW: Maximum automation guide (\u4e2d\u6587) \ud83d\udd04 Workflow Comparison NEW: Code-level analysis of Start vs Session (\u4e2d\u6587) \u2699\ufe0f MCP Configuration NEW: Profiles, ENV vars, Smithery vs Local (\u4e2d\u6587) \ud83c\udf9b\ufe0f MCP Profiles NEW: Code-level analysis of Lite vs Standard (\u4e2d\u6587) \ud83d\udee0\ufe0f Tool Manual NEW: Complete tool usage guide (English) \ud83d\udcca Evaluation Metrics NEW: Kappa, Spearman, F1, Bias Monitoring (English) Vibe Coder Guide For description-based developers Quick Tutorials 5-minute step-by-step guides Cookbook Ready-to-use recipes for all features Pro Tips Expert techniques by skill level Git Hooks Automated commit/push verification Agentic Workflows Slash Commands: <code>/release-prep</code> and SOPs Knowledge System Brain, RAG &amp; Patterns - storage and migration Plugin Guide Extend Boring with custom Python tools Knowledge &amp; Brain Pro: Backup &amp; sharing intelligence Human Alignment Pro: Steer AI with Rubrics &amp; Memory Modular Installation NEW: \"Boring Diet\" &amp; Extras Guide (\u4e2d\u6587) API Integration Use Boring as a Python library Skills Guide Learning: Master the Boring Skill Tree"},{"location":"#tutorials","title":"Tutorials (\u6559\u5b78)","text":"<p>In-depth learning resources.</p> Tutorial Description Basic Tutorial Getting started with Boring Advanced Tutorial Deep dive into advanced features Practical Demo Real-world project walkthrough Professional Playbook Enterprise usage patterns Offline Quickstart NEW: Zero-network setup guide"},{"location":"#reference","title":"Reference (\u53c3\u8003)","text":"<p>Deep dive technical documentation.</p> Reference Description Configuration Cookbook: Recipes for Save Money/Max Power (\u4e2d\u6587) API Reference Complete Specs: Core, Tools, Vibe (Auto-generated) Troubleshooting Deep Dive: Diagnosis &amp; common fixes Architecture Deep Dive: Internals &amp; Design Tool Reference (Appendix A) Complete API documentation Security &amp; Privacy Deep Dive: Data flows &amp; protection Agent Comparison Deep Dive: Boring vs Cursor/Claude FAQ (Appendix B) Common questions answered Prompt Philosophy (Appendix C) AI prompt design principles Architect Mode High-level architecture planning"},{"location":"#api-docs","title":"API Documentation","text":"Page Description Intelligence API NEW: Brain, Vector Memory, Patterns Loop &amp; Workflow API NEW: Shadow Mode, Transactions Judge API NEW: Rubrics, Metrics, Evaluation Security API NEW: Security Scanner &amp; Guard Agents API Orchestrator, Coder, Reviewer logic MCP Server API Model Context Protocol integration"},{"location":"#chinese-docs","title":"\ud83c\udf0f \u7e41\u9ad4\u4e2d\u6587\u6587\u6a94","text":""},{"location":"#zh-features","title":"\u529f\u80fd","text":"\u529f\u80fd \u8aaa\u660e \u6548\u80fd\u8207\u67b6\u69cb \u589e\u91cf\u9a57\u8b49\u3001\u5feb\u53d6\u3001\u5e73\u884c\u5316 \ud83d\udcc9 Token \u512a\u5316 \u6700\u65b0: Verbosity \u63a7\u5236\u8207 Prompt Caching Vibe Coder Pro \u6700\u65b0: \u6587\u4ef6\u751f\u6210\u3001\u6e2c\u8a66\u751f\u6210\u3001\u885d\u64ca\u5206\u6790\u3001\u53cb\u5584\u5be9\u67e5 \ud83e\uddec \u8a8d\u77e5\u9032\u5316 V13.0: \u8a18\u61b6\u3001\u63a8\u7406\u3001\u6280\u80fd\u3001\u5408\u6210 \u54c1\u8cea\u9598\u9053 CI/CD \u6574\u5408\u548c\u9a57\u8b49\u7d1a\u5225 \ud83d\udd2e \u9810\u6e2c\u6027\u667a\u6167 \u6700\u65b0: AI \u8a3a\u65b7\u8207\u4e3b\u52d5\u9810\u8b66 \ud83d\udd0c \u96e2\u7dda\u512a\u5148\u6a21\u5f0f \u6700\u65b0: \u96f6\u7db2\u8def\u4f9d\u8cf4\u8207\u96b1\u79c1\u4fdd\u969c \ud83e\udea2 Node.js \u81ea\u4e3b\u6b0a \u6700\u65b0: \u81ea\u52d5\u4e0b\u8f09\u8207\u7ba1\u7406\u74b0\u5883"},{"location":"#zh-guides","title":"\u6307\u5357","text":"\u6307\u5357 \u8aaa\u660e Vibe Coder \u6307\u5357 \u7d66\u63cf\u8ff0\u5f0f\u958b\u767c\u8005 \u5de5\u4f5c\u6d41\u7a0b\u6bd4\u8f03 \u6700\u65b0: Start vs Session \u7684\u4ee3\u78bc\u7d1a\u5206\u6790 \u5feb\u901f\u6559\u5b78 5 \u5206\u9418\u9010\u6b65\u6307\u5357 Cookbook \u6240\u6709\u529f\u80fd\u7684\u5373\u7528\u98df\u8b5c \u5c08\u696d\u6280\u5de7 \u6309\u6280\u80fd\u6c34\u5e73\u7684\u5c08\u5bb6\u6280\u8853 Git Hooks \u81ea\u52d5\u5316\u63d0\u4ea4/\u63a8\u9001\u9a57\u8b49 \u4ee3\u7406\u5de5\u4f5c\u6d41 \u659c\u69d3\u6307\u4ee4\uff1a<code>/release-prep</code> \u8207 SOP \u81ea\u52d5\u5316 \u77e5\u8b58\u7cfb\u7d71 Brain\u3001RAG \u8207 Patterns - \u5132\u5b58\u8207\u9077\u79fb \u63d2\u4ef6\u958b\u767c\u6307\u5357 \u4f7f\u7528\u81ea\u5b9a\u7fa9 Python \u5de5\u5177\u64f4\u5145 Boring \u77e5\u8b58\u8207\u5927\u8166\u7ba1\u7406 \u9032\u968e\uff1a\u5099\u4efd\u8207\u5206\u4eab\u5b78\u7fd2\u6210\u679c \u4eba\u985e\u5c0d\u9f4a\u6307\u5357 \u9032\u968e\uff1a\u4f7f\u7528 Rubrics \u8207\u8a18\u61b6\u5f15\u5c0e AI API \u6574\u5408\u6307\u5357 \u5c07 Boring \u4f5c\u70ba Python \u51fd\u5f0f\u5eab\u4f7f\u7528 \u6a21\u7d44\u5316\u5b89\u88dd\u6307\u5357 \u6700\u65b0: \"Boring Diet\" \u8207\u5ef6\u4f38\u5b89\u88dd\u8aaa\u660e \u6280\u80fd\u6307\u5357 \u638c\u63e1 Boring \u6280\u80fd\u6a39"},{"location":"#zh-tutorials","title":"\u6559\u5b78","text":"\u6559\u5b78 \u8aaa\u660e \u57fa\u790e\u6559\u5b78 \u958b\u59cb\u4f7f\u7528 Boring \u9032\u968e\u6559\u5b78 \u6df1\u5165\u9032\u968e\u529f\u80fd \u5be6\u6230\u6f14\u793a \u771f\u5be6\u5c08\u6848\u6f14\u7df4 \u5c08\u696d\u624b\u518a \u4f01\u696d\u4f7f\u7528\u6a21\u5f0f"},{"location":"#zh-reference","title":"\u53c3\u8003","text":"\u53c3\u8003 \u8aaa\u660e \u914d\u7f6e\u624b\u518a \u6df1\u5ea6\u6307\u5357\uff1a<code>.boring.toml</code> \u8207\u74b0\u5883\u8b8a\u6578 \u6545\u969c\u6392\u9664 \u6df1\u5ea6\u6307\u5357\uff1a\u8a3a\u65b7\u8207\u5e38\u898b\u4fee\u5fa9 \u67b6\u69cb\u539f\u7406 \u6df1\u5ea6\u6307\u5357\uff1a\u5167\u90e8\u6a5f\u5236\u8207\u8a2d\u8a08 \u5de5\u5177\u53c3\u8003\uff08\u9644\u9304 A\uff09 \u5b8c\u6574 API \u6587\u6a94 \u5b89\u5168\u8207\u96b1\u79c1\u767d\u76ae\u66f8 \u6df1\u5ea6\u6307\u5357\uff1a\u8cc7\u6599\u6d41\u5411\u8207\u9632\u8b77\u6a5f\u5236 \u5de5\u5177\u5c0d\u6bd4\u5206\u6790 \u6df1\u5ea6\u6307\u5357\uff1aBoring vs Cursor/Claude \u5e38\u898b\u554f\u984c\uff08\u9644\u9304 B\uff09 \u5e38\u898b\u554f\u984c\u89e3\u7b54 \u63d0\u793a\u8a5e\u54f2\u5b78\uff08\u9644\u9304 C\uff09 AI \u63d0\u793a\u8a2d\u8a08\u539f\u5247 \u67b6\u69cb\u5e2b\u6a21\u5f0f \u9ad8\u968e\u67b6\u69cb\u898f\u5283"},{"location":"#zh-api-docs","title":"API \u6587\u6a94","text":"\u9801\u9762 \u8aaa\u660e \u667a\u80fd API (Intelligence) \u6700\u65b0: \u5927\u8166\u3001\u5411\u91cf\u8a18\u61b6\u3001\u6a21\u5f0f\u5b78\u7fd2 \u5de5\u4f5c\u6d41 API (Loop) \u6700\u65b0: \u5f71\u5b50\u6a21\u5f0f\u3001\u539f\u5b50\u4ea4\u6613 \u8a55\u5be9 API (Judge) \u6700\u65b0: \u8a55\u5206\u6e96\u5247\u3001\u6307\u6a19\u3001\u81ea\u52d5\u8a55\u4f30 \u5b89\u5168 API (Security) \u6700\u65b0: \u5b89\u5168\u6383\u63cf\u8207\u9632\u8b77\u5b88\u885b \u4ee3\u7406 API (Agents) \u7de8\u6392\u5668\u3001\u7de8\u78bc\u54e1\u3001\u5be9\u6838\u54e1\u908f\u8f2f MCP \u4f3a\u670d\u5668 API \u6a21\u578b\u5167\u5bb9\u5354\u5b9a (MCP) \u6574\u5408"},{"location":"#external-links","title":"\ud83d\udd17 External Links","text":"<ul> <li>GitHub Repository</li> <li>PyPI Package</li> <li>Smithery MCP Server</li> </ul>"},{"location":"#contributing","title":"\ud83d\udcdd Contributing","text":"<p>See Contributing Guide for how to contribute to Boring.</p>"},{"location":"ARCHITECTURE/","title":"Boring for Gemini - System Architecture (V14)","text":"<p>Version: V14.0.0 Last Updated: 2026-01-15 Status: Production</p>"},{"location":"ARCHITECTURE/#the-4-layer-cognitive-architecture","title":"\ud83c\udfd7\ufe0f The 4-Layer Cognitive Architecture","text":"<p>Boring V14 introduces a Cognitive Architecture that moves beyond simple tool calling to autonomous reasoning and execution. The system is organized into four distinct layers:</p> <pre><code>graph TD\n    classDef flow fill:#e1f5fe,stroke:#01579b,stroke-width:2px;\n    classDef cognitive fill:#fff3e0,stroke:#ff6f00,stroke-width:2px;\n    classDef tools fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;\n    classDef infra fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px;\n\n    subgraph L4_Flow [\"Layer 4: Flow Engine (Orchestration)\"]\n        OneDragon[\"One Dragon Flow\"]:::flow\n        AutoOpt[\"Auto Optimization\"]:::flow\n        VibeSession[\"Vibe Session\"]:::flow\n    end\n\n    subgraph L3_Cognition [\"Layer 3: Cognitive Engine (System 2)\"]\n        SeqThink[\"Sequential Thinking\"]:::cognitive\n        CritThink[\"Critical Thinking\"]:::cognitive\n        BrainMgr[\"Brain Manager (Memory)\"]:::cognitive\n        Router[\"Semantic Tool Router\"]:::cognitive\n    end\n\n    subgraph L2_Tools [\"Layer 2: Tool Layer (Capabilities)\"]\n        RAG[\"RAG &amp; Search\"]:::tools\n        Git[\"Git &amp; Versioning\"]:::tools\n        Review[\"Code Review\"]:::tools\n        Security[\"Security Scan\"]:::tools\n    end\n\n    subgraph L1_Infra [\"Layer 1: Infrastructure (Foundation)\"]\n        MCP[\"MCP Server Protocol\"]:::infra\n        Core[\"Core Config &amp; Env\"]:::infra\n        Services[\"Services (Monitor/Notify)\"]:::infra\n        Storage[\"SQLite Storage\"]:::infra\n    end\n\n    L4_Flow --&gt; L3_Cognition\n    L3_Cognition --&gt; L2_Tools\n    L2_Tools --&gt; L1_Infra\n</code></pre>"},{"location":"ARCHITECTURE/#layer-3-cognitive-engine-the-brain","title":"\ud83e\udde0 Layer 3: Cognitive Engine (The Brain)","text":"<p>This is the key differentiator of V14. Instead of reactively calling tools, the agent thinks before acting.</p>"},{"location":"ARCHITECTURE/#1-sequential-thinking-system-2","title":"1. Sequential Thinking (System 2)","text":"<p>The <code>sequentialthinking</code> module allows the agent to: - Break complex problems into atomic steps. - Revise its own assumptions (\"Wait, that approach won't work...\"). - Branch into alternative hypotheses. - Maintain context over long executions.</p>"},{"location":"ARCHITECTURE/#2-semantic-tool-router","title":"2. Semantic Tool Router","text":"<p>The <code>tool_router.py</code> acts as a context-aware gateway: - Input: Natural language intent (\"Fix the login bug\"). - Processing: Semantic analysis + Flow Stage filtering. - Output: A curated list of 3-5 relevant tools (out of 60+). - Benefit: Reduces context usage by 80% and increases accuracy.</p>"},{"location":"ARCHITECTURE/#layer-4-one-dragon-flow-autonomous","title":"\ud83d\udc09 Layer 4: One Dragon Flow (Autonomous)","text":"<p>The One Dragon Flow (<code>boring_flow</code>) allows the agent to autonomously traverse the entire software development lifecycle:</p> Stage Goal Active Mechanisms 1. Design Architect the solution <code>boring_arch_check</code>, <code>sequantialthinking</code>, <code>boring_predict_impact</code> 2. Implement Write the code <code>boring_code_review</code>, <code>boring_test_gen</code>, <code>context7_query</code> 3. Polish Refine &amp; Optimize <code>boring_perf_tips</code>, <code>boring_security_scan</code> 4. Verify Ensure Quality <code>boring_verify</code>, <code>boring_integrity_score</code>"},{"location":"ARCHITECTURE/#module-structure-v14-source-map","title":"\ud83d\uddc2\ufe0f Module Structure (V14 Source Map)","text":"<p>The codebase reflects this layered architecture:</p> <pre><code>src/boring/\n\u251c\u2500\u2500 flow/                 # [L4] Flow Engine &amp; Nodes\n\u2502   \u251c\u2500\u2500 engine.py         # The orchestrator\n\u2502   \u2514\u2500\u2500 nodes/            # Architect, Builder, Critic nodes\n\u2502\n\u251c\u2500\u2500 mcp/                  # [L1/L2] MCP Server &amp; Tools\n\u2502   \u251c\u2500\u2500 tool_router.py    # The Semantic Gateway\n\u2502   \u251c\u2500\u2500 tool_profiles.py  # Profile Management\n\u2502   \u2514\u2500\u2500 tools/            # Individual Tool Implementations\n\u2502\n\u251c\u2500\u2500 intelligence/         # [L3] Cognitive Modules\n\u2502   \u251c\u2500\u2500 brain_manager.py  # Long-term Memory\n\u2502   \u2514\u2500\u2500 thinking/         # Thinking Strategies\n\u2502\n\u251c\u2500\u2500 services/             # [L1] Core Services\n\u2502   \u251c\u2500\u2500 monitor.py        # Web Dashboard\n\u2502   \u2514\u2500\u2500 notifier.py       # Notification System\n\u2502\n\u251c\u2500\u2500 core/                 # [L1] Fundamental Metadata\n\u2502   \u251c\u2500\u2500 config.py         # Configuration\n\u2502   \u2514\u2500\u2500 context.py        # Context Management\n\u2502\n\u2514\u2500\u2500 main.py               # CLI Entry Point\n</code></pre>"},{"location":"ARCHITECTURE/#security-integrity","title":"\ud83d\udee1\ufe0f Security &amp; Integrity","text":""},{"location":"ARCHITECTURE/#shadow-mode","title":"Shadow Mode","text":"<p>A \"Sandboxed Execution\" environment that intercepts all tool calls. - Strict Mode: Requires manual approval for any file modification. - Standard Mode: Auto-approves safe edits, blocks heuristic risks.</p>"},{"location":"ARCHITECTURE/#offline-first-architecture","title":"Offline-First Architecture","text":"<p>V14 supports complete air-gapped operation: - Docs: Local embeddings via <code>chromadb</code>. - LLM: Local connection to <code>Ollama</code> or <code>LM Studio</code> via <code>boring-adapter</code>. - Privacy: Zero data egress guarantee.</p>"},{"location":"ARCHITECTURE/#performance-metrics","title":"\ud83d\udcca Performance Metrics","text":"<ul> <li>Context Optimization: 120k tokens -&gt; 4k tokens (via Semantic Router).</li> <li>Latency: &lt;200ms overhead per tool call.</li> <li>Success Rate: 92% for autonomous E2E tasks (measured on <code>boring verify</code>).</li> </ul>"},{"location":"ARCHITECTURE_zh/","title":"Boring for Gemini - \u5b8c\u6574\u67b6\u69cb\u8aaa\u660e (\u4e2d\u6587\u7248)","text":"<p>\u7248\u672c: V11.2.2 \u66f4\u65b0\u65e5\u671f: 2026-01-12</p>"},{"location":"ARCHITECTURE_zh/#_1","title":"\ud83c\udfaf \u6838\u5fc3\u4f7f\u547d","text":"<pre><code>                         \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n                         \u2551           \ud83e\udd16 AI Coding                 \u2551\n                         \u2551    \u8b93 AI \u771f\u6b63\u6210\u70ba\u4f60\u7684\u7a0b\u5f0f\u8a2d\u8a08\u5925\u4f34        \u2551\n                         \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n                                          \u2502\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u25bc              \u25bc              \u25bc              \u25bc              \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  \ud83e\udde0 \u4ee3\u78bc\u667a\u80fd   \u2502 \u2502  \u2705 \u54c1\u8cea\u4fdd\u8b49   \u2502 \u2502  \ud83d\udd04 \u5de5\u4f5c\u6d41    \u2502 \u2502  \ud83c\udfd7\ufe0f \u57fa\u790e\u8a2d\u65bd  \u2502\n    \u2502  Intelligence  \u2502 \u2502  Quality      \u2502 \u2502  Workflow     \u2502 \u2502  Infra        \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502                 \u2502                 \u2502                 \u2502\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502 \u2022 SQLite Brain  \u2502   \u2502 \u2022 Judge     \u2502   \u2502 \u2022 Agent     \u2502   \u2502 \u2022 MCP Server\u2502\n     \u2502 \u2022 Brain Map   \u2502   \u2502 \u2022 Verify    \u2502   \u2502 \u2022 Shadow    \u2502   \u2502 \u2022 Router    \u2502\n     \u2502 \u2022 Predict     \u2502   \u2502 \u2022 Security  \u2502   \u2502 \u2022 Session   \u2502   \u2502 \u2022 Plugin    \u2502\n     \u2502 \u2022 Context     \u2502   \u2502 \u2022 Vibe      \u2502   \u2502 \u2022 Git       \u2502   \u2502 \u2022 Workspace \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE_zh/#_2","title":"\ud83d\udcca \u56db\u5927\u652f\u67f1\u8a73\u89e3","text":""},{"location":"ARCHITECTURE_zh/#code-intelligence","title":"\ud83e\udde0 \u4ee3\u78bc\u667a\u80fd (Code Intelligence)","text":"<p>\u8b93 AI \u771f\u6b63\u300c\u7406\u89e3\u300d\u4f60\u7684\u5c08\u6848\uff0c\u800c\u4e0d\u53ea\u662f\u76f2\u76ee\u751f\u6210\u7a0b\u5f0f\u78bc\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           \ud83e\udde0 \u4ee3\u78bc\u667a\u80fd                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502     RAG     \u2502   \u2502    Brain    \u2502   \u2502   Predict   \u2502   \u2502   Context   \u2502     \u2502\n\u2502  \u2502  \u8a9e\u7fa9\u641c\u5c0b    \u2502   \u2502  \u8a18\u61b6\u5b78\u7fd2   \u2502   \u2502   \u932f\u8aa4\u9810\u6e2c   \u2502   \u2502  \u4e0a\u4e0b\u6587\u7ba1\u7406  \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502         \u2502                 \u2502                 \u2502                 \u2502            \u2502\n\u2502  \u2022 rag_search      \u2022 SQLite Storage \u2022 predict_errors  \u2022 context           \u2502\n\u2502  \u2022 rag_index       \u2022 Active Recall  \u2022 predict_impact  \u2022 optimize_context  \u2502\n\u2502  \u2022 rag_status      \u2022 Brain Map      \u2022 risk_areas      \u2022 cache_insights    \u2502\n\u2502                    \u2022 brain_stats    \u2022 health_score                        \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> \u6a21\u7d44 \u529f\u80fd\u63cf\u8ff0 \u6838\u5fc3\u5de5\u5177 RAG \u8a9e\u7fa9\u641c\u5c0b\u4ee3\u78bc\u5eab <code>boring_rag_search</code>, <code>boring_rag_index</code> Brain \u5b78\u7fd2\u5c08\u6848\u6a21\u5f0f (SQLite) <code>boring_learn</code>, <code>boring_recall</code>, <code>boring_forget</code> Predict \u9810\u6e2c\u932f\u8aa4\u548c\u5f71\u97ff <code>boring_predict_errors</code>, <code>boring_predict_impact</code> Context \u667a\u80fd\u4e0a\u4e0b\u6587\u7ba1\u7406 <code>boring_context</code>, <code>boring_optimize_context</code>"},{"location":"ARCHITECTURE_zh/#quality-assurance","title":"\u2705 \u54c1\u8cea\u4fdd\u8b49 (Quality Assurance)","text":"<p>\u78ba\u4fdd AI \u751f\u6210\u7684\u7a0b\u5f0f\u78bc\u9054\u5230\u5de5\u7a0b\u5e2b\u6c34\u6e96\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           \u2705 \u54c1\u8cea\u4fdd\u8b49                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502    Judge    \u2502   \u2502   Verify    \u2502   \u2502  Security   \u2502   \u2502    Vibe     \u2502     \u2502\n\u2502  \u2502   \u54c1\u8cea\u8a55\u4f30   \u2502   \u2502   \u9a57\u8b49\u4fee\u5fa9   \u2502   \u2502   \u5b89\u5168\u6383\u63cf   \u2502   \u2502  \u904a\u6232\u5316\u5065\u6aa2  \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502         \u2502                 \u2502                 \u2502                 \u2502            \u2502\n\u2502  \u2022 evaluate        \u2022 verify          \u2022 security_scan   \u2022 vibe_check       \u2502\n\u2502  \u2022 rubric          \u2022 prompt_fix      \u2022 secret_detect   \u2022 code_review      \u2502\n\u2502  \u2022 suggest_next                                        \u2022 test_gen         \u2502\n\u2502                                                        \u2022 perf_tips        \u2502\n\u2502                                                        \u2022 arch_check       \u2502\n\u2502                                                        \u2022 impact_check     \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> \u6a21\u7d44 \u529f\u80fd\u63cf\u8ff0 \u6838\u5fc3\u5de5\u5177 Judge LLM \u8a55\u5206\u8207\u5efa\u8b70 <code>boring_evaluate</code>, <code>boring_rubric</code> Verify \u81ea\u52d5\u9a57\u8b49\u4e26\u751f\u6210\u4fee\u5fa9\u63d0\u793a <code>boring_verify</code>, <code>boring_prompt_fix</code> Security \u6383\u63cf\u5b89\u5168\u6f0f\u6d1e\u8207\u5bc6\u9470\u6d29\u9732 <code>boring_security_scan</code> Vibe Vibe Coder Pro \u904a\u6232\u5316\u5065\u6aa2 <code>boring_vibe_check</code>, <code>boring_code_review</code>, <code>boring_test_gen</code>"},{"location":"ARCHITECTURE_zh/#workflow-automation","title":"\ud83d\udd04 \u5de5\u4f5c\u6d41\u81ea\u52d5\u5316 (Workflow Automation)","text":"<p>\u5f9e\u55ae\u6b21\u5c0d\u8a71\u5230\u5b8c\u6574\u958b\u767c\u6d41\u7a0b\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          \ud83d\udd04 \u5de5\u4f5c\u6d41\u81ea\u52d5\u5316                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502    Agent    \u2502   \u2502   Shadow    \u2502   \u2502   Session   \u2502   \u2502     Git     \u2502     \u2502\n\u2502  \u2502  \u591a\u4ee3\u7406\u5354\u4f5c  \u2502   \u2502   \u5f71\u5b50\u6a21\u5f0f   \u2502   \u2502  \u6703\u8a71\u7ba1\u7406   \u2502   \u2502   \u7248\u672c\u63a7\u5236   \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502         \u2502                 \u2502                 \u2502                 \u2502            \u2502\n\u2502  \u2022 multi_agent     \u2022 shadow_mode    \u2022 session_start   \u2022 commit            \u2502\n\u2502  \u2022 background_task \u2022 shadow_status  \u2022 session_confirm \u2022 visualize         \u2502\n\u2502  \u2022 agent_status    \u2022 shadow_apply   \u2022 session_status  \u2022 diff_preview      \u2502\n\u2502                    \u2022 shadow_diff    \u2022 session_pause                       \u2502\n\u2502                                     \u2022 session_auto                        \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> \u6a21\u7d44 \u529f\u80fd\u63cf\u8ff0 \u6838\u5fc3\u5de5\u5177 Agent \u591a\u4ee3\u7406\u4e26\u884c\u5354\u4f5c <code>boring_multi_agent</code>, <code>boring_background_task</code> Shadow \u5b89\u5168\u9810\u89bd\u6a21\u5f0f\uff0c\u4e0d\u76f4\u63a5\u4fee\u6539\u6a94\u6848 <code>boring_shadow_mode</code>, <code>boring_shadow_apply</code> Session \u4eba\u6a5f\u5c0d\u9f4a\u7684 4 \u968e\u6bb5\u5de5\u4f5c\u6d41 <code>boring_session_start</code>, <code>boring_session_confirm</code> Git \u667a\u80fd\u63d0\u4ea4\u8207\u8996\u89ba\u5316 <code>boring_commit</code>, <code>boring_visualize</code>"},{"location":"ARCHITECTURE_zh/#infrastructure","title":"\ud83c\udfd7\ufe0f \u57fa\u790e\u8a2d\u65bd (Infrastructure)","text":"<p>\u7a69\u56fa\u7684\u5e95\u5c64\u67b6\u69cb\u652f\u6490\u4e00\u5207\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          \ud83c\udfd7\ufe0f \u57fa\u790e\u8a2d\u65bd                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 MCP Server  \u2502   \u2502 Tool Router \u2502   \u2502   Plugin    \u2502   \u2502  Workspace  \u2502     \u2502\n\u2502  \u2502   \u670d\u52d9\u6838\u5fc3   \u2502   \u2502  \u81ea\u7136\u8a9e\u8a00\u8def\u7531 \u2502   \u2502   \u64f4\u5145\u7cfb\u7d71   \u2502   \u2502   \u5c08\u6848\u7ba1\u7406   \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502         \u2502                 \u2502                 \u2502                 \u2502            \u2502\n\u2502  \u2022 boring_help     \u2022 boring()       \u2022 list_plugins    \u2022 Lazy Init         \u2502\n\u2502  \u2022 mcp_server      \u2022 profile_set    \u2022 run_plugin      \u2022 workspace_add     \u2502\n\u2502  \u2022 prompts         \u2022 profile_get    \u2022 reload_plugins  \u2022 Dashboard (Vis.js)\u2502\n\u2502  \u2022 resources                                          \u2022 Lightweight Mode  \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \u2502\n\u2502  \u2502   SpecKit   \u2502   \u2502  Discovery  \u2502                                          \u2502\n\u2502  \u2502   \u898f\u683c\u9a45\u52d5   \u2502   \u2502   \u80fd\u529b\u767c\u73fe   \u2502                                          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                          \u2502\n\u2502         \u2502                 \u2502                                                  \u2502\n\u2502  \u2022 speckit_plan    \u2022 capabilities                                           \u2502\n\u2502  \u2022 speckit_task    \u2022 tool_list                                              \u2502\n\u2502  \u2022 speckit_check   \u2022 schema                                                 \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> \u6a21\u7d44 \u529f\u80fd\u63cf\u8ff0 \u6838\u5fc3\u5de5\u5177 MCP Server \u670d\u52d9\u6838\u5fc3 <code>boring_help</code>, Prompts, Resources Tool Router \u81ea\u7136\u8a9e\u8a00\u8def\u7531 <code>boring()</code> (\u842c\u7528\u5165\u53e3) Plugin \u64f4\u5145\u7cfb\u7d71 <code>boring_list_plugins</code>, <code>boring_run_plugin</code> Workspace \u5c08\u6848\u7ba1\u7406 <code>Lazy Init</code> (Lightweight Mode), Dashboard (Vis.js) SpecKit \u898f\u683c\u9a45\u52d5\u958b\u767c <code>boring_speckit_plan</code>, <code>boring_speckit_checklist</code>"},{"location":"ARCHITECTURE_zh/#v10260","title":"\ud83d\uddc2\ufe0f \u7a0b\u5f0f\u78bc\u7d50\u69cb (V10.26.0)","text":"<pre><code>src/boring/\n\u251c\u2500\u2500 mcp/                          # MCP \u5c64\n\u2502   \u251c\u2500\u2500 server.py                 # \ud83c\udfaf MCP Server \u4e3b\u5165\u53e3\n\u2502   \u251c\u2500\u2500 instance.py               # FastMCP \u5be6\u4f8b\n\u2502   \u251c\u2500\u2500 tool_router.py            # \u81ea\u7136\u8a9e\u8a00\u8def\u7531\n\u2502   \u251c\u2500\u2500 tool_profiles.py          # Profile \u7ba1\u7406\n\u2502   \u251c\u2500\u2500 prompts.py                # Prompt \u5b9a\u7fa9\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 tools/                    # \u2728 V10.26 \u6a21\u7d44\u5316\u5de5\u5177\n\u2502   \u2502   \u251c\u2500\u2500 plugins.py            # Plugin \u7ba1\u7406 (3 \u5de5\u5177)\n\u2502   \u2502   \u251c\u2500\u2500 workspace.py          # Workspace \u7ba1\u7406 (4 \u5de5\u5177)\n\u2502   \u2502   \u251c\u2500\u2500 assistant.py          # AI \u52a9\u624b (3 \u5de5\u5177)\n\u2502   \u2502   \u251c\u2500\u2500 vibe.py               # Vibe Coder Pro (10 \u5de5\u5177)\n\u2502   \u2502   \u251c\u2500\u2500 session.py            # Vibe Session (6 \u5de5\u5177)\n\u2502   \u2502   \u251c\u2500\u2500 rag.py                # RAG \u641c\u7d22\n\u2502   \u2502   \u251c\u2500\u2500 shadow.py             # Shadow Mode\n\u2502   \u2502   \u251c\u2500\u2500 agents.py             # Multi-Agent\n\u2502   \u2502   \u251c\u2500\u2500 git.py                # Git \u64cd\u4f5c\n\u2502   \u2502   \u251c\u2500\u2500 quality.py            # \u54c1\u8cea\u6aa2\u67e5\n\u2502   \u2502   \u251c\u2500\u2500 verification.py       # \u9a57\u8b49\u5de5\u5177\n\u2502   \u2502   \u2514\u2500\u2500 ...                   # \u66f4\u591a\u5de5\u5177\u6a21\u7d44\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 tools/assistant.py               # \u26a0\ufe0f \u5df2\u68c4\u7528 (re-export \u5305\u88dd)\n\u2502   \u251c\u2500\u2500 v10_tools.py              # Registry hub\n\u2502   \u2514\u2500\u2500 vibe_tools.py             # \u26a0\ufe0f \u5df2\u68c4\u7528 (re-export \u5305\u88dd)\n\u2502\n\u251c\u2500\u2500 agents/                       # Multi-Agent \u7cfb\u7d71\n\u251c\u2500\u2500 brain_manager.py              # \u8a18\u61b6\u5b78\u7fd2\n\u251c\u2500\u2500 intelligence/                 # \u9810\u6e2c\u5206\u6790\n\u251c\u2500\u2500 judge/                        # \u54c1\u8cea\u8a55\u4f30\n\u251c\u2500\u2500 rag/                          # RAG \u641c\u7d22\n\u251c\u2500\u2500 security.py                   # \u5b89\u5168\u6383\u63cf\n\u251c\u2500\u2500 shadow_mode.py                # Shadow Mode\n\u251c\u2500\u2500 verification/                 # \u9a57\u8b49\u7cfb\u7d71\n\u251c\u2500\u2500 vibe/                         # Vibe Engine\n\u2514\u2500\u2500 workspace.py                  # Workspace \u7ba1\u7406\n</code></pre>"},{"location":"ARCHITECTURE_zh/#60","title":"\ud83d\udd27 \u5de5\u5177\u7e3d\u89bd (60+ \u5de5\u5177)","text":""},{"location":"ARCHITECTURE_zh/#_3","title":"\u6309\u985e\u5225\u7d71\u8a08","text":"\u985e\u5225 \u5de5\u5177\u6578 \u4ee3\u8868\u5de5\u5177 \u4ee3\u78bc\u667a\u80fd ~25 <code>boring_rag_search</code>, <code>boring_learn</code>, <code>boring_predict_errors</code> \u54c1\u8cea\u4fdd\u8b49 ~20 <code>boring_verify</code>, <code>boring_vibe_check</code>, <code>boring_security_scan</code> \u5de5\u4f5c\u6d41\u81ea\u52d5\u5316 ~25 <code>boring_session_start</code>, <code>boring_commit</code>, <code>boring_shadow_mode</code> \u57fa\u790e\u8a2d\u65bd ~28 <code>boring</code>, <code>boring_workspace_switch</code>, <code>boring_speckit_plan</code>"},{"location":"ARCHITECTURE_zh/#_4","title":"\u5feb\u901f\u5165\u9580","text":"<pre><code># \ud83c\udfaf \u842c\u7528\u5165\u53e3 (\u63a8\u85a6\u4f7f\u7528)\nboring(\"\u5e6b\u6211\u5be9\u67e5\u9019\u6bb5\u7a0b\u5f0f\u78bc\")  \u2192 \u81ea\u52d5\u8def\u7531\u5230\u5408\u9069\u5de5\u5177\n\n# \ud83d\udccb \u5e38\u7528\u5de5\u5177\nboring_rag_search     # \u8a9e\u7fa9\u641c\u5c0b\u7a0b\u5f0f\u78bc\nboring_vibe_check     # \u5065\u5eb7\u5ea6\u8a55\u5206 (0-100)\nboring_session_start  # \u555f\u52d5 Vibe Session\nboring_commit         # \u667a\u80fd\u63d0\u4ea4\n</code></pre>"},{"location":"ARCHITECTURE_zh/#vibe-session","title":"\ud83d\ude80 Vibe Session \u5de5\u4f5c\u6d41","text":"<p>V10.25 \u7684\u6838\u5fc3\u529f\u80fd\uff1a\u5b8c\u6574\u7684\u4eba\u6a5f\u5c0d\u9f4a\u5de5\u4f5c\u6d41\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          \ud83c\udfaf Vibe Session \u6d41\u7a0b                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502   Phase 1          Phase 2          Phase 3          Phase 4               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502 \ud83d\udccb       \u2502      \u2502 \ud83d\udcd0       \u2502      \u2502 \ud83d\udd28       \u2502      \u2502 \u2705       \u2502           \u2502\n\u2502  \u2502 \u9700\u6c42\u5c0d\u9f4a  \u2502 \u2500\u2500\u25b6 \u2502 \u8a08\u5283\u5236\u5b9a  \u2502 \u2500\u2500\u25b6 \u2502 \u589e\u91cf\u5be6\u4f5c  \u2502 \u2500\u2500\u25b6 \u2502 \u9a57\u8b49\u4ea4\u4ed8  \u2502 \u2500\u2500\u25b6 \ud83c\udf89    \u2502\n\u2502  \u2502 Alignment\u2502      \u2502 Planning \u2502      \u2502  Impl    \u2502      \u2502 Verify  \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502       \u2502                \u2502                \u2502                \u2502                 \u2502\n\u2502       \u25bc                \u25bc                \u25bc                \u25bc                 \u2502\n\u2502  \u2022 \u78ba\u8a8d\u76ee\u6a19        \u2022 \u5206\u6790\u67b6\u69cb        \u2022 \u9010\u6b65\u5be6\u4f5c        \u2022 \u5b8c\u6574\u9a57\u8b49          \u2502\n\u2502  \u2022 \u91d0\u6e05\u9700\u6c42        \u2022 \u751f\u6210\u8a08\u5283        \u2022 \u81ea\u52d5\u8a55\u5206        \u2022 \u5b89\u5168\u6383\u63cf          \u2502\n\u2502  \u2022 \u6280\u8853\u9078\u578b        \u2022 \u7522\u751f\u6e05\u55ae        \u2022 \u54c1\u8cea\u9598\u9580        \u2022 \u5b78\u7fd2\u8a18\u9304          \u2502\n\u2502                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE_zh/#session","title":"Session \u5de5\u5177","text":"\u5de5\u5177 \u8aaa\u660e <code>boring_session_start</code> \ud83c\udfaf \u555f\u52d5\u65b0 Session <code>boring_session_confirm</code> \u2705 \u78ba\u8a8d\u7576\u524d\u968e\u6bb5 <code>boring_session_status</code> \ud83d\udcca \u67e5\u770b\u9032\u5ea6 <code>boring_session_pause</code> \u23f8\ufe0f \u66ab\u505c Session <code>boring_session_load</code> \ud83d\udcc2 \u8f09\u5165\u820a Session <code>boring_session_auto</code> \ud83e\udd16 \u5207\u63db\u81ea\u52d5\u6a21\u5f0f"},{"location":"ARCHITECTURE_zh/#_5","title":"\ud83d\udcc8 \u7248\u672c\u6f14\u9032","text":"\u7248\u672c \u4e3b\u8981\u529f\u80fd \u65e5\u671f V10.26 \u6a21\u7d44\u5316\u91cd\u69cb (~1900 \u884c\u7cbe\u7c21) 2026-01-09 V10.25 Vibe Session (\u4eba\u6a5f\u5c0d\u9f4a\u5de5\u4f5c\u6d41) 2026-01-08 V10.24 Tool Router (\u81ea\u7136\u8a9e\u8a00\u8def\u7531) 2026-01-07 V10.23 Intelligence (\u9810\u6e2c\u5206\u6790) 2026-01-06 V10.22 SpecKit (\u898f\u683c\u9a45\u52d5\u958b\u767c) 2026-01-05 V10.21 Vibe Coder Pro (\u904a\u6232\u5316) 2026-01-04"},{"location":"ARCHITECTURE_zh/#_6","title":"\ud83d\udd17 \u76f8\u95dc\u6587\u6a94","text":"<ul> <li>\u5feb\u901f\u5165\u9580</li> <li>MCP \u914d\u7f6e\u6307\u5357</li> <li>Vibe Coder \u6307\u5357</li> <li>\u5de5\u5177\u624b\u518a</li> <li>\u91cd\u69cb\u8a08\u5283</li> </ul>   **Boring for Gemini** - \u8b93 AI \u6210\u70ba\u4f60\u771f\u6b63\u7684\u7a0b\u5f0f\u8a2d\u8a08\u5925\u4f34  `pip install boring-aicoding` | [GitHub](https://github.com/Boring206/boring-gemini) | [PyPI](https://pypi.org/project/boring-aicoding/)"},{"location":"ARCHITECTURE_zh/#security-architecture","title":"\ud83d\udee1\ufe0f \u5b89\u5168\u67b6\u69cb (Security Architecture)","text":"<p>Boring V11.2 \u5be6\u4f5c\u4e86\u5168\u9762\u7684\u300c\u6df1\u5ea6\u9632\u79a6\u300d\u7b56\u7565\uff1a</p>"},{"location":"ARCHITECTURE_zh/#1-shadow-mode-","title":"1. \u5f71\u5b50\u6a21\u5f0f (Shadow Mode - \u57f7\u884c\u671f\u5b88\u885b)","text":"<ul> <li>\u89d2\u8272\uff1a\u5c01\u9396\u4e3b\u52d5\u7834\u58de\u6027\u64cd\u4f5c\uff08\u6a94\u6848/\u7a0b\u5e8f/\u7db2\u7d61\uff09\u3002</li> <li>\u63a7\u5236\uff1a\u4f7f\u7528\u8005\u53ef\u914d\u7f6e\u7b49\u7d1a (<code>DISABLED</code>, <code>ENABLED</code> (\u9810\u8a2d), <code>STRICT</code>)\u3002</li> <li>\u6a5f\u5236\uff1a\u6514\u622a <code>boring_</code> \u5de5\u5177\u547c\u53eb\uff0c\u4e26\u6aa2\u67e5\u662f\u5426\u5305\u542b\u654f\u611f\u6a21\u5f0f\uff08\u91d1\u9470\u3001\u7cfb\u7d71\u914d\u7f6e\uff09\u3002</li> </ul>"},{"location":"ARCHITECTURE_zh/#2-synthesized-tool-sandbox-","title":"2. \u5373\u6642\u5de5\u5177\u6c99\u7bb1 (Synthesized Tool Sandbox - \u9a57\u8b49\u5668)","text":"<ul> <li>\u89d2\u8272\uff1a\u9632\u6b62\u5728\u5408\u6210\u5de5\u5177 (<code>boring_synth_tool</code>) \u4e2d\u6ce8\u5165\u60e1\u610f\u4ee3\u78bc\u3002</li> <li>\u6a5f\u5236\uff1a\u57fa\u65bc AST \u7684\u975c\u614b\u5206\u6790 (<code>SynthesizedToolValidator</code>)\u3002</li> <li>\u7b56\u7565\uff1a<ul> <li>\u7981\u6b62\u5c0e\u5165\uff1a<code>os</code>, <code>sys</code>, <code>subprocess</code>, <code>shutil</code>, <code>socket</code></li> <li>\u7981\u6b62\u51fd\u6578\uff1a<code>exec()</code>, <code>eval()</code>, <code>open()</code>, <code>compile()</code></li> </ul> </li> </ul>"},{"location":"ARCHITECTURE_zh/#3-checkpoints-","title":"3. \u5b89\u5168\u6aa2\u67e5\u9ede (Checkpoints - \u72c0\u614b\u5b89\u5168)","text":"<ul> <li>\u89d2\u8272\uff1a\u5728\u57f7\u884c\u9ad8\u98a8\u96aa\u64cd\u4f5c\u524d\u81ea\u52d5\u9032\u884c Git \u63d0\u4ea4 (<code>boring_checkpoint</code>)\u3002</li> <li>\u6062\u5fa9\uff1a\u900f\u904e <code>git reset</code> \u5be6\u73fe\u4e00\u9375\u56de\u6efe\u3002</li> </ul>"},{"location":"CHEATSHEET/","title":"\u26a1 Boring-Gemini Cheatsheet","text":"<p>\"Great Power, Simple Control.\"</p>"},{"location":"CHEATSHEET/#the-5-commandments-core-commands","title":"\ud83d\udd90\ufe0f The 5 Commandments (Core Commands)","text":"Command Command Alias Description Start Flow <code>boring go</code> \ud83d\ude80 One Dragon ModeFull auto: Setup -&gt; Plan -&gt; Build -&gt; Verify. Auto Fix <code>boring fix</code> \ud83d\udd27 The HealerAutomatically repairs linting &amp; code errors. Health Check <code>boring check</code> \u2705 Vibe CheckScans project health, security, and quality. Smart Save <code>boring save</code> \ud83d\udcbe The ScribeGenerates semantic commit message &amp; saves changes. Guide <code>boring guide</code> \u2753 The OracleInteractive tool discovery &amp; help."},{"location":"CHEATSHEET/#cognitive-tools-deep-thinking","title":"\ud83e\udde0 Cognitive Tools (Deep Thinking)","text":"<p>Use these when simple tools aren't enough.</p> <ul> <li>Deep Reasoning: <code>boring fix --think</code> (Enable System 2 Thinking - NEW!)</li> <li>Plan Feature: <code>boring go \"Add user auth\"</code></li> </ul>"},{"location":"CHEATSHEET/#god-mode-autonomous","title":"\ud83e\uddec God Mode (Autonomous)","text":"<ul> <li>The Sentinel: <code>boring watch</code> (Real-time active assistance)</li> <li>The Evolver: <code>boring evolve \"Fix all tests\"</code> (Goal-seeking autonomous loop)</li> </ul>"},{"location":"CHEATSHEET/#natural-language-the-universal-interface","title":"\ud83d\udd0d Natural Language (The Universal Interface)","text":"<p>You can always just say what you want (English or Chinese):</p> <pre><code>boring \"Refactor the user service to use dependency injection\"\nboring \"Find where the JWT token is validated\"\nboring \"\u5e6b\u6211\u6aa2\u67e5\u9019\u500b\u6a94\u6848\u7684\u6f5b\u5728 bug\"\n</code></pre>"},{"location":"CHEATSHEET/#shortcuts","title":"\u2328\ufe0f Shortcuts","text":"<ul> <li><code>boring</code> (No args) \u2192 Contextual Onboarding (Smart Menu)</li> <li><code>boring status</code> \u2192 View project state</li> <li><code>boring reset-circuit</code> \u2192 Fix \"stuck\" agent</li> </ul>"},{"location":"CHEATSHEET_zh/","title":"\u26a1 Boring-Gemini \u5feb\u901f\u53c3\u8003\u6307\u5357 (Cheatsheet)","text":"<p>\u300c\u6975\u81f4\u5f37\u5927\uff0c\u6975\u81f4\u7c21\u55ae\u3002\u300d</p>"},{"location":"CHEATSHEET_zh/#the-5-commandments","title":"\ud83d\udd90\ufe0f \u4e94\u5927\u6838\u5fc3\u6307\u4ee4 (The 5 Commandments)","text":"\u6307\u4ee4 \u82f1\u6587\u5225\u540d \u8aaa\u660e \u555f\u52d5\u958b\u767c <code>boring go</code> \ud83d\ude80 \u4e00\u689d\u9f8d\u6a21\u5f0f (One Dragon)\u5168\u81ea\u52d5\u6d41\u7a0b\uff1a\u8a2d\u5b9a -&gt; \u898f\u5283 -&gt; \u958b\u767c -&gt; \u9a57\u8b49\u3002 \u81ea\u52d5\u4fee\u5fa9 <code>boring fix</code> \ud83d\udd27 \u6cbb\u7642\u8005 (The Healer)\u81ea\u52d5\u4fee\u5fa9\u7a0b\u5f0f\u78bc\u98a8\u683c\u932f\u8aa4\u8207 Linting \u554f\u984c\u3002 \u5065\u5eb7\u6aa2\u67e5 <code>boring check</code> \u2705 Vibe Check\u5168\u9762\u6383\u63cf\u5c08\u6848\u5065\u5eb7\u5ea6\u3001\u5b89\u5168\u6027\u8207\u54c1\u8cea\u3002 \u667a\u80fd\u5b58\u6a94 <code>boring save</code> \ud83d\udcbe \u7d00\u9304\u8005 (The Scribe)\u81ea\u52d5\u751f\u6210\u8a9e\u610f\u5316 Commit \u8a0a\u606f\u4e26\u63d0\u4ea4\u8b8a\u66f4\u3002 \u4e92\u52d5\u5c0e\u822a <code>boring guide</code> \u2753 \u5148\u77e5 (The Oracle)\u4e92\u52d5\u5f0f\u5de5\u5177\u63a2\u7d22\u8207\u4f7f\u7528\u8aaa\u660e\u3002"},{"location":"CHEATSHEET_zh/#deep-thinking","title":"\ud83e\udde0 \u8a8d\u77e5\u5de5\u5177 (Deep Thinking)","text":"<p>\u7576\u7c21\u55ae\u5de5\u5177\u7121\u6cd5\u89e3\u6c7a\u554f\u984c\u6642\uff0c\u4f7f\u7528\u6df1\u5ea6\u601d\u8003\u529f\u80fd\u3002</p> <ul> <li>\u6df1\u5ea6\u63a8\u7406: <code>boring fix --think</code> (\u555f\u7528 System 2 \u6df1\u5ea6\u601d\u8003 - NEW!)</li> <li>\u529f\u80fd\u898f\u5283: <code>boring go \"\u65b0\u589e\u4f7f\u7528\u8005\u8a8d\u8b49\u529f\u80fd\"</code></li> </ul>"},{"location":"CHEATSHEET_zh/#god-mode","title":"\ud83e\uddec God Mode (\u81ea\u4e3b\u6a21\u5f0f)","text":"<ul> <li>The Sentinel (\u5373\u6642\u526f\u99d5\u99db): <code>boring watch</code> (\u76e3\u63a7\u6a94\u6848\u8b8a\u66f4\u4e26\u4e3b\u52d5\u5354\u52a9)</li> <li>The Evolver (\u81ea\u4e3b\u9032\u5316): <code>boring evolve \"\u4fee\u5fa9\u6240\u6709\u6e2c\u8a66\u932f\u8aa4\"</code> (\u76ee\u6a19\u5c0e\u5411\u81ea\u4e3b\u5faa\u74b0)</li> </ul>"},{"location":"CHEATSHEET_zh/#_1","title":"\ud83d\udd0d \u81ea\u7136\u8a9e\u8a00 (\u901a\u7528\u4ecb\u9762)","text":"<p>\u4f60\u96a8\u6642\u53ef\u4ee5\u76f4\u63a5\u7528\u4e2d\u6587\u8aaa\u51fa\u4f60\u7684\u9700\u6c42\uff1a</p> <pre><code>boring \"\u5e6b\u6211\u91cd\u69cb\u4f7f\u7528\u8005\u670d\u52d9\uff0c\u6539\u7528\u4f9d\u8cf4\u6ce8\u5165\u6a21\u5f0f\"\nboring \"\u627e\u51fa\u54ea\u88e1\u9a57\u8b49\u4e86 JWT token\"\nboring \"\u89e3\u91cb\u70ba\u4ec0\u9ebc\u9019\u500b\u6e2c\u8a66\u6703\u5931\u6557\"\n</code></pre>"},{"location":"CHEATSHEET_zh/#_2","title":"\u2328\ufe0f \u5feb\u6377\u9375\u8207\u6280\u5de7","text":"<ul> <li><code>boring</code> (\u4e0d\u5e36\u53c3\u6578) \u2192 \u60c5\u5883\u5f0f\u5c0e\u822a (Smart Menu)</li> <li><code>boring status</code> \u2192 \u67e5\u770b\u5c08\u6848\u7576\u524d\u72c0\u614b</li> <li><code>boring reset-circuit</code> \u2192 \u4fee\u5fa9\u300c\u5361\u4f4f\u300d\u7684 Agent (\u91cd\u7f6e\u65b7\u8def\u5668)</li> </ul>"},{"location":"PERFECTION_ROADMAP/","title":"Boring Perfection: 7-Stage Validation Roadmap","text":"<p>This document outlines the rigorous validation process required to certify a project as 100/100 Production Ready using Boring-Gemini V14.0.0.</p>"},{"location":"PERFECTION_ROADMAP/#the-7-stages-of-perfection","title":"\ud83c\udfc1 The 7 Stages of Perfection","text":"Stage Focus Objective Verification Method 1. Beginner UX Frictionless Onboarding Zero-config setup for new joins. New developer can complete a feature flow using only README. 2. Power User Stress &amp; Fault Tolerance Resilience under high-pressure scenarios. Agent survives 50+ consecutive tool calls and complex error recovery. 3. Team Reality Shadow Adoption Integration into existing team workflows. Audit of <code>.boring/logs</code> and adaptive memory to ensure team alignment. 4. Ops Readiness Observability &amp; Stability Production-grade logging and monitoring. Dashboards show clear intent, reasoning, and execution traces. 5. Governance Fit Policy &amp; Security Compliance with enterprise safety standards. <code>boring policy</code> enforces restricted tool access and auditable trails. 6. Vendor Risk Portability &amp; Non-Lockin Technical debt minimization and exit strategy. Verification that code remains maintainable if Boring is removed. 7. Exec Readiness Business Value &amp; ROI Alignment with strategic corporate goals. Generation of Executive One-Pagers and KPI impact reports."},{"location":"PERFECTION_ROADMAP/#the-sovereign-edition-audit","title":"\ud83c\udfc6 The \"Sovereign Edition\" Audit","text":"<p>To achieve the final 100/100 score, the following commands must be executed and verified:</p> <ol> <li><code>boring doctor --fix</code>: Enforces a perfect environment state.</li> <li><code>boring bio</code>: Ensures tribal knowledge is captured for longevity.</li> <li><code>boring policy</code>: Locks down the environment with safety guardrails.</li> <li><code>boring perfection</code>: Runs the automated suite across all 7 stages.</li> <li><code>boring migrate</code>: Validates the project structure against the V14.x standard.</li> </ol> <p>Status: Verified &amp; Production Ready.</p>"},{"location":"PERFECTION_ROADMAP_zh/","title":"Boring \u5b8c\u7f8e\u5316\uff1a7 \u968e\u6bb5\u9a57\u8b49\u8def\u7dda\u5716","text":"<p>\u672c\u6587\u4ef6\u8a73\u7d30\u8aaa\u660e\u4e86\u4f7f\u7528 Boring-Gemini V14.0.0 \u5c07\u5c08\u6848\u8a8d\u8b49\u70ba 100/100 \u751f\u7522\u74b0\u5883\u5c31\u7dd2 \u7684\u56b4\u683c\u9a57\u8b49\u6d41\u7a0b\u3002</p>"},{"location":"PERFECTION_ROADMAP_zh/#7","title":"\ud83c\udfc1 \u5b8c\u7f8e\u5316\u7684 7 \u500b\u968e\u6bb5","text":"\u968e\u6bb5 \u7126\u9ede \u76ee\u6a19 \u9a57\u8b49\u65b9\u6cd5 1. \u521d\u5b78\u8005 UX \u7121\u6469\u64e6\u4e0a\u624b \u78ba\u4fdd\u65b0\u6210\u54e1\u80fd\u96f6\u914d\u7f6e\u555f\u52d5\u3002 \u65b0\u958b\u767c\u8005\u50c5\u9760 README \u5373\u53ef\u5b8c\u6210\u5b8c\u6574\u7684\u529f\u80fd\u958b\u767c\u6d41\u7a0b\u3002 2. \u9032\u968e\u58d3\u529b\u6e2c\u8a66 \u58d3\u529b\u8207\u5bb9\u932f\u6027 \u9a57\u8b49\u7cfb\u7d71\u5728\u9ad8\u58d3\u60c5\u5883\u4e0b\u7684\u5f48\u6027\u3002 Agent \u6210\u529f\u901a\u904e 50+ \u6b21\u9023\u7e8c\u5de5\u5177\u8abf\u7528\u8207\u8907\u96dc\u7684\u932f\u8aa4\u6062\u5fa9\u3002 3. \u5718\u968a\u5be6\u6e2c \u5f71\u5b50\u63a1\u7528 (Shadow) \u6574\u5408\u9032\u65e2\u6709\u7684\u5718\u968a\u5de5\u4f5c\u6d41\u3002 \u5be9\u8a08 <code>.boring/logs</code> \u8207\u9069\u61c9\u6027\u8a18\u61b6\uff0c\u78ba\u4fdd\u8207\u5718\u968a\u7fd2\u6163\u4e00\u81f4\u3002 4. \u71df\u904b\u6e96\u5099 \u53ef\u89c0\u6e2c\u6027\u8207\u7a69\u5b9a\u6027 \u751f\u7522\u7d1a\u7684\u65e5\u8a8c\u7d00\u9304\u8207\u76e3\u63a7\u3002 \u5100\u8868\u677f\u80fd\u6e05\u6670\u5c55\u793a\u610f\u5716\u3001\u63a8\u7406\u904e\u7a0b\u8207\u57f7\u884c\u8ecc\u8de1\u3002 5. \u7d44\u7e54\u6cbb\u7406 \u7b56\u7565\u8207\u5b89\u5168\u6027 \u7b26\u5408\u4f01\u696d\u7d1a\u5b89\u5168\u6a19\u6e96\u3002 <code>boring policy</code> \u5f37\u5236\u57f7\u884c\u5de5\u5177\u6b0a\u9650\u9650\u5236\u8207\u53ef\u5be9\u8a08\u7684\u8ecc\u8de1\u3002 6. \u96f6\u9396\u5b9a\u9a57\u8b49 \u53ef\u79fb\u690d\u6027\u8207\u6f14\u9032 \u6700\u5c0f\u5316\u6280\u8853\u50b5\u8207\u9000\u5834\u7b56\u7565\u3002 \u9a57\u8b49\u5373\u4f7f\u79fb\u9664 Boring\uff0c\u5c08\u6848\u4ee3\u78bc\u4f9d\u7136\u5177\u5099\u9ad8\u5ea6\u53ef\u7dad\u8b77\u6027\u3002 7. \u6c7a\u7b56\u8005\u9a57\u8b49 \u5546\u696d\u50f9\u503c\u8207 ROI \u8207\u4f01\u696d\u6230\u7565\u76ee\u6a19\u9054\u6210\u4e00\u81f4\u3002 \u751f\u6210\u6c7a\u7b56\u8005\u6458\u8981 (One-Pager) \u8207\u5546\u696d KPI \u5f71\u97ff\u5831\u544a\u3002"},{"location":"PERFECTION_ROADMAP_zh/#_1","title":"\ud83c\udfc6 \u300c\u4e3b\u6b0a\u7248\u300d\u5be9\u8a08\u6e05\u55ae","text":"<p>\u82e5\u8981\u9054\u6210\u6700\u7d42\u7684 100/100 \u6eff\u5206\u8a8d\u8b49\uff0c\u5fc5\u9808\u57f7\u884c\u4e26\u9a57\u8b49\u4ee5\u4e0b\u6307\u4ee4\uff1a</p> <ol> <li><code>boring doctor --fix</code>\uff1a\u5f37\u5236\u57f7\u884c\u5b8c\u7f8e\u7684\u958b\u767c\u74b0\u5883\u72c0\u614b\u3002</li> <li><code>boring bio</code>\uff1a\u78ba\u4fdd\u5718\u968a\u9ed8\u5951\u8207\u77e5\u8b58\u88ab\u9577\u671f\u6355\u6349\u5099\u4efd\u3002</li> <li><code>boring policy</code>\uff1a\u900f\u904e\u5b89\u5168\u8b77\u6b04\u9396\u5b9a\u64cd\u4f5c\u74b0\u5883\u3002</li> <li><code>boring perfection</code>\uff1a\u81ea\u52d5\u5316\u57f7\u884c\u5168 7 \u968e\u6bb5\u7684\u5b8c\u6574\u5be9\u8a08\u3002</li> <li><code>boring migrate</code>\uff1a\u9a57\u8b49\u5c08\u6848\u7d50\u69cb\u662f\u5426\u7b26\u5408 V14.x \u6700\u65b0\u6a19\u6e96\u3002</li> </ol> <p>\u72c0\u614b\uff1a\u5df2\u9a57\u8b49\uff0c\u751f\u7522\u74b0\u5883\u5c31\u7dd2\u3002</p>"},{"location":"environment_variables/","title":"Environment Variables","text":"<p>This document lists the most common environment variables used by Boring-Gemini. Unless noted, variables use the <code>BORING_</code> prefix and are loaded from <code>.env</code>.</p>"},{"location":"environment_variables/#core","title":"Core","text":"Variable Description Default Example <code>GOOGLE_API_KEY</code> Gemini API key (legacy key lookup). (empty) <code>GOOGLE_API_KEY=...</code> <code>BORING_GOOGLE_API_KEY</code> Gemini API key (preferred). (empty) <code>BORING_GOOGLE_API_KEY=...</code> <code>BORING_DEFAULT_MODEL</code> Default Gemini model name. <code>default</code> <code>BORING_DEFAULT_MODEL=gemini-2.5-flash</code> <code>BORING_TIMEOUT_MINUTES</code> Request timeout (minutes). <code>15</code> <code>BORING_TIMEOUT_MINUTES=20</code> <code>BORING_MCP_PROFILE</code> MCP tool profile (<code>lite</code>, <code>standard</code>, <code>full</code>). <code>lite</code> <code>BORING_MCP_PROFILE=standard</code> <code>BORING_LANGUAGE</code> UI language (<code>zh</code>, <code>en</code>). <code>zh</code> <code>BORING_LANGUAGE=en</code> <code>BORING_LANG</code> UI language (legacy alias). (empty) <code>BORING_LANG=zh</code>"},{"location":"environment_variables/#llm-providers","title":"LLM Providers","text":"Variable Description Default Example <code>BORING_LLM_PROVIDER</code> LLM provider (<code>gemini-cli</code>, <code>sdk</code>, <code>ollama</code>, <code>openai_compat</code>). <code>gemini-cli</code> <code>BORING_LLM_PROVIDER=ollama</code> <code>BORING_LLM_BASE_URL</code> Base URL for local/OpenAI-compatible providers. (empty) <code>BORING_LLM_BASE_URL=http://localhost:11434</code> <code>BORING_LLM_MODEL</code> Override model name for local providers. (empty) <code>BORING_LLM_MODEL=qwen2.5-coder-1.5b</code> <code>BORING_CLAUDE_CLI_PATH</code> Path to Claude CLI binary. (auto) <code>BORING_CLAUDE_CLI_PATH=/usr/local/bin/claude</code> <code>BORING_GEMINI_CLI_PATH</code> Path to Gemini CLI binary. (auto) <code>BORING_GEMINI_CLI_PATH=C:\\Program Files\\Gemini\\gemini.exe</code>"},{"location":"environment_variables/#offline-mode","title":"Offline Mode","text":"Variable Description Default Example <code>BORING_OFFLINE_MODE</code> Force offline mode (<code>true</code>/<code>false</code>). <code>false</code> <code>BORING_OFFLINE_MODE=true</code> <code>BORING_LOCAL_LLM_MODEL</code> Local GGUF model path. (empty) <code>BORING_LOCAL_LLM_MODEL=~/.boring/models/model.gguf</code> <code>BORING_LOCAL_LLM_CONTEXT_SIZE</code> Context window size for local LLM. <code>4096</code> <code>BORING_LOCAL_LLM_CONTEXT_SIZE=8192</code> <code>BORING_MODEL_DIR</code> Directory for local model downloads. (auto) <code>BORING_MODEL_DIR=~/.boring/models</code>"},{"location":"environment_variables/#verification-loop","title":"Verification &amp; Loop","text":"Variable Description Default Example <code>BORING_MAX_LOOPS</code> Max loops for agent runs. <code>100</code> <code>BORING_MAX_LOOPS=10</code> <code>BORING_MAX_HOURLY_CALLS</code> Hourly API call limit. <code>50</code> <code>BORING_MAX_HOURLY_CALLS=100</code> <code>BORING_USE_FUNCTION_CALLING</code> Enable tool/function calling. <code>true</code> <code>BORING_USE_FUNCTION_CALLING=false</code> <code>BORING_USE_INTERACTIONS_API</code> Enable Interactions API (experimental). <code>false</code> <code>BORING_USE_INTERACTIONS_API=true</code> <code>BORING_USE_DIFF_PATCHING</code> Prefer search/replace over full rewrites. <code>true</code> <code>BORING_USE_DIFF_PATCHING=false</code>"},{"location":"environment_variables/#performance","title":"Performance","text":"Variable Description Default Example <code>BORING_SEMANTIC_CACHE_ENABLED</code> Enable semantic cache. <code>true</code> <code>BORING_SEMANTIC_CACHE_ENABLED=false</code> <code>BORING_SEMANTIC_CACHE_THRESHOLD</code> Similarity threshold for cache hits. <code>0.95</code> <code>BORING_SEMANTIC_CACHE_THRESHOLD=0.9</code> <code>BORING_STARTUP_PROFILE</code> Enable startup profiling. <code>false</code> <code>BORING_STARTUP_PROFILE=true</code>"},{"location":"environment_variables/#notifications","title":"Notifications","text":"Variable Description Default Example <code>BORING_NOTIFICATIONS_ENABLED</code> Enable notifications. <code>true</code> <code>BORING_NOTIFICATIONS_ENABLED=false</code> <code>BORING_SLACK_WEBHOOK</code> Slack webhook URL. (empty) <code>BORING_SLACK_WEBHOOK=https://hooks.slack.com/...</code> <code>BORING_DISCORD_WEBHOOK</code> Discord webhook URL. (empty) <code>BORING_DISCORD_WEBHOOK=https://discord.com/api/...</code> <code>BORING_EMAIL_NOTIFY</code> Notification email address. (empty) <code>BORING_EMAIL_NOTIFY=dev@company.com</code> <code>BORING_GMAIL_USER</code> Gmail sender account. (empty) <code>BORING_GMAIL_USER=dev@gmail.com</code> <code>BORING_GMAIL_PASSWORD</code> Gmail App Password. (empty) <code>BORING_GMAIL_PASSWORD=...</code> <code>BORING_LINE_NOTIFY_TOKEN</code> LINE Notify token. (empty) <code>BORING_LINE_NOTIFY_TOKEN=...</code> <code>BORING_MESSENGER_ACCESS_TOKEN</code> Facebook Messenger access token. (empty) <code>BORING_MESSENGER_ACCESS_TOKEN=...</code> <code>BORING_MESSENGER_RECIPIENT_ID</code> Facebook Messenger recipient ID. (empty) <code>BORING_MESSENGER_RECIPIENT_ID=...</code>"},{"location":"offline_mode_guide/","title":"Offline Mode Guide","text":"<p>Offline mode lets Boring-Gemini run without cloud API calls by using local GGUF models.</p>"},{"location":"offline_mode_guide/#quick-start-recommended","title":"Quick Start (Recommended)","text":"<pre><code>boring offline setup\n</code></pre> <p>This will: - Download a recommended local model - Save the model path to <code>.boring.toml</code> or <code>.env</code> - Enable Offline Mode</p>"},{"location":"offline_mode_guide/#manual-setup","title":"Manual Setup","text":"<ol> <li>Download a model</li> <li>Recommended: <code>qwen2.5-coder-1.5b</code></li> <li> <p>Use the CLI:      <pre><code>boring model download qwen2.5-coder-1.5b\n</code></pre></p> </li> <li> <p>Point Boring to the model    Add to <code>.env</code>:    <pre><code>BORING_LOCAL_LLM_MODEL=/absolute/path/to/model.gguf\nBORING_LOCAL_LLM_CONTEXT_SIZE=4096\n</code></pre></p> </li> <li> <p>Enable Offline Mode <pre><code>boring offline enable\n</code></pre></p> </li> </ol>"},{"location":"offline_mode_guide/#recommended-models","title":"Recommended Models","text":"ID Size (MB) Context Notes <code>qwen2.5-coder-1.5b</code> 1100 32768 Code-optimized, recommended <code>qwen2.5-1.5b</code> 1000 32768 Small and fast <code>llama-3.2-1b</code> 800 8192 Smallest Llama <code>phi-3-mini</code> 2200 4096 Good for general tasks"},{"location":"offline_mode_guide/#useful-commands","title":"Useful Commands","text":"<pre><code>boring model list\nboring model download qwen2.5-coder-1.5b\nboring offline status\nboring offline disable\n</code></pre>"},{"location":"offline_mode_guide/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Model download failed</li> <li>Verify internet access and disk space.</li> <li> <p>Try <code>--force</code> to re-download.</p> </li> <li> <p>Model not detected</p> </li> <li>Check <code>BORING_LOCAL_LLM_MODEL</code> path.</li> <li> <p>Ensure the file ends with <code>.gguf</code>.</p> </li> <li> <p>Performance too slow</p> </li> <li>Use a smaller model (e.g., <code>llama-3.2-1b</code>).</li> <li>Reduce <code>BORING_LOCAL_LLM_CONTEXT_SIZE</code>.</li> </ul>"},{"location":"adr/","title":"Architecture Decision Records (ADR)","text":""},{"location":"adr/#what-is-an-adr","title":"What is an ADR?","text":"<p>Architecture Decision Records (ADRs) are documents that capture important architectural decisions made during the project, along with their context and consequences.</p>"},{"location":"adr/#why-adrs","title":"Why ADRs?","text":"<ul> <li>Transparency: Everyone can understand why decisions were made</li> <li>Onboarding: New team members can understand the project's evolution</li> <li>Historical Context: Track rationale behind changes</li> <li>Prevent Repeated Discussions: Document decisions to avoid rehashing old debates</li> </ul>"},{"location":"adr/#format","title":"Format","text":"<p>Each ADR follows this structure:</p> <pre><code># ADR-XXXX: [Title]\n\n## Status\n[Proposed | Accepted | Deprecated | Superseded]\n\n## Context\nWhat is the issue we're facing?\n\n## Decision\nWhat is the change we're proposing/making?\n\n## Consequences\nWhat becomes easier or more difficult as a result?\n\n## Alternatives Considered\nWhat other options did we evaluate?\n</code></pre>"},{"location":"adr/#creating-a-new-adr","title":"Creating a New ADR","text":"<ol> <li> <p>Copy the template:    <pre><code>cp docs/adr/template.md docs/adr/ADR-XXXX-short-title.md\n</code></pre></p> </li> <li> <p>Use sequential numbering (check existing ADRs)</p> </li> <li> <p>Fill in all sections</p> </li> <li> <p>Submit PR for review</p> </li> <li> <p>Update status when accepted</p> </li> </ol>"},{"location":"adr/#existing-adrs","title":"Existing ADRs","text":"Number Title Status Date 0001 Use MCP Protocol for Tool Integration Accepted 2025-12 0002 Hybrid RAG Architecture Accepted 2026-01 0003 Shadow Mode for Security Accepted 2026-01 Template ADR Template - -"},{"location":"adr/#when-to-create-an-adr","title":"When to Create an ADR","text":"<p>Create an ADR when you:</p> <ul> <li>Change the architecture significantly</li> <li>Choose between competing technologies</li> <li>Make decisions affecting multiple modules</li> <li>Introduce new design patterns</li> <li>Deprecate major features</li> <li>Change build/deployment processes</li> </ul>"},{"location":"adr/#when-not-to-create-an-adr","title":"When NOT to Create an ADR","text":"<p>Don't create ADRs for:</p> <ul> <li>Bug fixes</li> <li>Small refactorings</li> <li>Documentation updates</li> <li>Routine maintenance</li> <li>Implementation details</li> </ul>"},{"location":"adr/#review-process","title":"Review Process","text":"<ol> <li>Create ADR with \"Proposed\" status</li> <li>Submit PR with ADR</li> <li>Discuss in PR comments</li> <li>Update based on feedback</li> <li>Merge when consensus reached</li> <li>Update status to \"Accepted\"</li> </ol>"},{"location":"adr/#updating-adrs","title":"Updating ADRs","text":"<p>ADRs are mostly immutable. To change a decision:</p> <ol> <li>Create new ADR superseding the old one</li> <li>Update old ADR status to \"Superseded by ADR-XXXX\"</li> <li>Link between ADRs</li> </ol>"},{"location":"adr/#references","title":"References","text":"<ul> <li>ADR GitHub Organization</li> <li>Documenting Architecture Decisions</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/","title":"ADR-0001: Use MCP Protocol for Tool Integration","text":"<p>Date: 2025-12-15</p> <p>Status: Accepted</p> <p>Deciders: @Boring206</p> <p>Tags: architecture, integration, mcp</p>"},{"location":"adr/ADR-0001-mcp-protocol/#context","title":"Context","text":""},{"location":"adr/ADR-0001-mcp-protocol/#problem-statement","title":"Problem Statement","text":"<p>Boring-Gemini needs a standardized way to integrate with various AI coding assistants (Cursor, Claude Desktop, VS Code Copilot) and provide consistent tool interfaces across different platforms.</p>"},{"location":"adr/ADR-0001-mcp-protocol/#goals","title":"Goals","text":"<ul> <li>Provide consistent tool interface across multiple clients</li> <li>Enable easy discovery and invocation of capabilities</li> <li>Support both local and remote deployment</li> <li>Maintain backward compatibility with existing workflows</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#non-goals","title":"Non-Goals","text":"<ul> <li>Creating a custom protocol from scratch</li> <li>Supporting non-AI coding assistant integrations</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#decision","title":"Decision","text":"<p>We will adopt the Model Context Protocol (MCP) as the primary integration method for Boring-Gemini.</p>"},{"location":"adr/ADR-0001-mcp-protocol/#approach","title":"Approach","text":"<ol> <li>Implement MCP server in <code>src/boring/mcp/</code></li> <li>Expose all 60+ tools via MCP interfaces</li> <li>Support both FastMCP (lite) and full MCP with vector capabilities</li> <li>Maintain CLI compatibility for legacy workflows</li> </ol>"},{"location":"adr/ADR-0001-mcp-protocol/#implementation-plan","title":"Implementation Plan","text":"<ol> <li>\u2705 Create MCP server architecture</li> <li>\u2705 Implement tool router with natural language routing</li> <li>\u2705 Add Smithery deployment support</li> <li>\u2705 Document MCP configuration for all clients</li> <li>\u2705 Maintain backward compatibility with CLI mode</li> </ol>"},{"location":"adr/ADR-0001-mcp-protocol/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[x] MCP server runs successfully</li> <li>[x] All major tools accessible via MCP</li> <li>[x] Integration with Cursor/Claude Desktop works</li> <li>[x] Smithery deployment functional</li> <li>[x] Documentation complete</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#consequences","title":"Consequences","text":""},{"location":"adr/ADR-0001-mcp-protocol/#positive-consequences","title":"Positive Consequences","text":"<ul> <li>Standardization: Single protocol for all AI assistant integrations</li> <li>Discoverability: Tools automatically discoverable by clients</li> <li>Community: Benefit from growing MCP ecosystem</li> <li>Deployment: Easy deployment via Smithery</li> <li>Maintenance: Centralized tool management</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#negative-consequences","title":"Negative Consequences","text":"<ul> <li>Dependency: Relies on MCP protocol stability</li> <li>Learning Curve: Team must learn MCP protocol</li> <li>Complexity: Additional layer vs direct API integration</li> <li>CLI Deprecation: CLI mode becomes secondary</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#risks","title":"Risks","text":"<ul> <li>MCP protocol changes (Mitigation: Version pinning, adaptation layer)</li> <li>Client compatibility issues (Mitigation: Multi-client testing)</li> <li>Performance overhead (Mitigation: Caching, optimization)</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#alternatives-considered","title":"Alternatives Considered","text":""},{"location":"adr/ADR-0001-mcp-protocol/#alternative-1-direct-api-integration","title":"Alternative 1: Direct API Integration","text":"<p>Pros: - Full control over protocol - No external dependencies - Maximum performance</p> <p>Cons: - Reimplementing standard protocols - Multiple integrations to maintain - No ecosystem benefits</p> <p>Why not chosen: MCP provides standardization benefits that outweigh custom implementation control.</p>"},{"location":"adr/ADR-0001-mcp-protocol/#alternative-2-lsp-language-server-protocol","title":"Alternative 2: LSP (Language Server Protocol)","text":"<p>Pros: - Well-established protocol - Excellent IDE integration - Rich tooling ecosystem</p> <p>Cons: - Designed for language features, not AI tools - Doesn't fit AI assistant use case well - Overkill for our needs</p> <p>Why not chosen: LSP is optimized for different use cases; MCP is purpose-built for AI integrations.</p>"},{"location":"adr/ADR-0001-mcp-protocol/#alternative-3-rest-api","title":"Alternative 3: REST API","text":"<p>Pros: - Simple and well-understood - Language-agnostic - Easy to test</p> <p>Cons: - No standardized discovery mechanism - Manual integration for each client - No built-in streaming support</p> <p>Why not chosen: Lack of standardization and discovery makes it less suitable than MCP.</p>"},{"location":"adr/ADR-0001-mcp-protocol/#references","title":"References","text":"<ul> <li>MCP Specification</li> <li>FastMCP Documentation</li> <li>Smithery Platform</li> <li>Issue #45: MCP Integration</li> </ul>"},{"location":"adr/ADR-0001-mcp-protocol/#notes","title":"Notes","text":"<p>This decision enabled the \"Vibe Coder\" experience by providing a consistent interface across all platforms. The natural language router (built on top of MCP) further enhanced usability.</p>"},{"location":"adr/ADR-0001-mcp-protocol/#changelog","title":"Changelog","text":"Date Status Change Notes 2025-12-15 Proposed Initial draft 2025-12-20 Accepted Implemented and validated 2026-01-01 Updated Added Smithery deployment"},{"location":"adr/ADR-0002-hybrid-rag/","title":"ADR-0002: Hybrid RAG Architecture","text":"<p>Date: 2026-01-05</p> <p>Status: Accepted</p> <p>Deciders: @Boring206</p> <p>Tags: architecture, rag, performance, search</p>"},{"location":"adr/ADR-0002-hybrid-rag/#context","title":"Context","text":""},{"location":"adr/ADR-0002-hybrid-rag/#problem-statement","title":"Problem Statement","text":"<p>Traditional code search struggles with semantic understanding, while pure vector search misses exact matches. We need a search system that combines the best of both approaches for maximum code retrieval accuracy.</p>"},{"location":"adr/ADR-0002-hybrid-rag/#goals","title":"Goals","text":"<ul> <li>Achieve high precision and recall in code search</li> <li>Support both semantic and syntactic queries</li> <li>Maintain reasonable performance (&lt; 2s for search)</li> <li>Enable context-aware code retrieval</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#non-goals","title":"Non-Goals","text":"<ul> <li>Building a general-purpose search engine</li> <li>Real-time indexing of external repositories</li> <li>Natural language to SQL translation</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#decision","title":"Decision","text":"<p>We will implement a Hybrid RAG (Retrieval-Augmented Generation) architecture combining: 1. Keyword Search: Fast exact matching with tree-sitter 2. Vector Search: Semantic similarity with embeddings 3. Dependency Graph: Code relationship understanding 4. Cross-Encoder Reranking: Final relevance scoring</p>"},{"location":"adr/ADR-0002-hybrid-rag/#approach","title":"Approach","text":"<pre><code>Query \u2192 [Keyword Search] \u2192 Results\u2081\n      \u2198 [Vector Search]  \u2192 Results\u2082\n                         \u2198 [Merge &amp; Deduplicate]\n                          \u2192 [Dependency Graph Filter]\n                           \u2192 [Cross-Encoder Rerank]\n                            \u2192 Final Results\n</code></pre>"},{"location":"adr/ADR-0002-hybrid-rag/#implementation-plan","title":"Implementation Plan","text":"<ol> <li>\u2705 Implement keyword search with tree-sitter</li> <li>\u2705 Add vector embeddings with sentence-transformers</li> <li>\u2705 Build dependency graph analyzer</li> <li>\u2705 Integrate cross-encoder reranking</li> <li>\u2705 Add HyDE (Hypothetical Document Embeddings) enhancement</li> <li>\u2705 Cache intermediate results</li> </ol>"},{"location":"adr/ADR-0002-hybrid-rag/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[x] Search accuracy &gt; 85% on benchmark queries</li> <li>[x] Average search time &lt; 2 seconds</li> <li>[x] Support for multi-language codebases</li> <li>[x] Graceful degradation when vector DB unavailable</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#consequences","title":"Consequences","text":""},{"location":"adr/ADR-0002-hybrid-rag/#positive-consequences","title":"Positive Consequences","text":"<ul> <li>High Accuracy: Combines strengths of multiple approaches</li> <li>Flexibility: Falls back gracefully when components unavailable</li> <li>Performance: Caching and parallel execution keep searches fast</li> <li>Scalability: Vector DB handles large codebases efficiently</li> <li>Context: Dependency graph provides relationship context</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#negative-consequences","title":"Negative Consequences","text":"<ul> <li>Complexity: Multiple components to maintain</li> <li>Dependencies: Requires ChromaDB and sentence-transformers</li> <li>Storage: Vector embeddings require disk space</li> <li>Initial Indexing: First-time indexing can be slow</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#risks","title":"Risks","text":"<ul> <li>Vector DB corruption (Mitigation: Rebuild mechanism, backup)</li> <li>Embedding model updates (Mitigation: Version pinning)</li> <li>Memory usage with large codebases (Mitigation: Chunking, streaming)</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#alternatives-considered","title":"Alternatives Considered","text":""},{"location":"adr/ADR-0002-hybrid-rag/#alternative-1-pure-vector-search","title":"Alternative 1: Pure Vector Search","text":"<p>Pros: - Excellent semantic understanding - Good with natural language queries - Handles synonyms well</p> <p>Cons: - Misses exact matches - Requires heavy computation - Cold start problem</p> <p>Why not chosen: Missing exact matches is unacceptable for code search.</p>"},{"location":"adr/ADR-0002-hybrid-rag/#alternative-2-pure-keyword-search","title":"Alternative 2: Pure Keyword Search","text":"<p>Pros: - Fast and simple - Exact matching guaranteed - Low resource usage</p> <p>Cons: - No semantic understanding - Brittle to query phrasing - Poor handling of synonyms</p> <p>Why not chosen: Lack of semantic understanding limits usefulness for developers.</p>"},{"location":"adr/ADR-0002-hybrid-rag/#alternative-3-elasticsearchlucene","title":"Alternative 3: Elasticsearch/Lucene","text":"<p>Pros: - Mature and battle-tested - Built-in hybrid search - Rich query language</p> <p>Cons: - Heavy external dependency - Overkill for local use case - Complex deployment</p> <p>Why not chosen: Too heavy for a local development tool; MCP integration better served by lightweight solution.</p>"},{"location":"adr/ADR-0002-hybrid-rag/#references","title":"References","text":"<ul> <li>HyDE Paper</li> <li>Cross-Encoder Reranking</li> <li>ChromaDB Documentation</li> <li>Tree-sitter</li> </ul>"},{"location":"adr/ADR-0002-hybrid-rag/#notes","title":"Notes","text":"<p>The hybrid approach delivers the \"30% faster\" claim by: 1. Caching frequent queries 2. Parallel execution of search methods 3. Early termination when high-confidence results found 4. Optimized vector indexing</p> <p>Performance benchmarks in <code>tests/performance/</code> validate these claims.</p>"},{"location":"adr/ADR-0002-hybrid-rag/#changelog","title":"Changelog","text":"Date Status Change Notes 2026-01-05 Proposed Initial hybrid design 2026-01-08 Accepted Validated with benchmarks 2026-01-09 Updated Added HyDE enhancement"},{"location":"adr/ADR-0003-shadow-mode/","title":"ADR-0003: Shadow Mode for Security","text":"<p>Date: 2026-01-06</p> <p>Status: Accepted</p> <p>Deciders: @Boring206</p> <p>Tags: security, safety, ux</p>"},{"location":"adr/ADR-0003-shadow-mode/#context","title":"Context","text":""},{"location":"adr/ADR-0003-shadow-mode/#problem-statement","title":"Problem Statement","text":"<p>AI agents can potentially execute dangerous operations (file deletion, system commands, network requests) without user awareness. We need a mechanism to provide safety without completely blocking automation.</p>"},{"location":"adr/ADR-0003-shadow-mode/#goals","title":"Goals","text":"<ul> <li>Prevent unintended destructive operations</li> <li>Maintain user control over AI actions</li> <li>Allow trusted operations to proceed automatically</li> <li>Provide clear audit trail</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#non-goals","title":"Non-Goals","text":"<ul> <li>Complete sandboxing (OS-level isolation)</li> <li>Preventing all possible security issues</li> <li>Replacing proper code review</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#decision","title":"Decision","text":"<p>We will implement Shadow Mode: a security layer that requires explicit user approval for high-risk operations while allowing safe operations to proceed automatically.</p>"},{"location":"adr/ADR-0003-shadow-mode/#approach","title":"Approach","text":"<ol> <li>Operation Classification</li> <li>Safe: Read operations, analysis, logging</li> <li>Moderate: File writes, configuration changes</li> <li> <p>Dangerous: File deletion, system commands, network requests</p> </li> <li> <p>Approval Mechanism</p> </li> <li>Shadow mode prompts user for dangerous operations</li> <li>User can approve/deny individual operations</li> <li>Option to trust operation patterns persistently</li> <li> <p>All decisions logged in audit trail</p> </li> <li> <p>Configuration</p> </li> <li>User-configurable risk levels</li> <li>Persistent trust rules</li> <li>Shadow mode can be disabled (not recommended)</li> </ol>"},{"location":"adr/ADR-0003-shadow-mode/#implementation-plan","title":"Implementation Plan","text":"<ol> <li>\u2705 Define operation risk classifications</li> <li>\u2705 Implement approval prompt system</li> <li>\u2705 Add persistent configuration storage</li> <li>\u2705 Create audit logging mechanism</li> <li>\u2705 Document security best practices</li> </ol>"},{"location":"adr/ADR-0003-shadow-mode/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[x] All dangerous operations require approval by default</li> <li>[x] Approval decisions persist across sessions</li> <li>[x] Audit log captures all operations</li> <li>[x] Clear UI for approval prompts</li> <li>[x] Documentation of security model</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#consequences","title":"Consequences","text":""},{"location":"adr/ADR-0003-shadow-mode/#positive-consequences","title":"Positive Consequences","text":"<ul> <li>Safety: Prevents accidental destructive operations</li> <li>Transparency: Users see what AI is doing</li> <li>Control: Users maintain ultimate control</li> <li>Audit: Complete trail of all operations</li> <li>Trust Building: Gradual trust through patterns</li> <li>Education: Users learn what AI is capable of</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#negative-consequences","title":"Negative Consequences","text":"<ul> <li>Friction: Additional prompts slow down automation</li> <li>Interruption: User must be present for certain operations</li> <li>Complexity: More configuration to manage</li> <li>False Security: Not a complete security solution</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#risks","title":"Risks","text":"<ul> <li>Users disable shadow mode entirely (Mitigation: Strong warnings, default enabled)</li> <li>Prompt fatigue leads to blind approval (Mitigation: Pattern recognition, batch approval)</li> <li>Audit log grows too large (Mitigation: Log rotation, size limits)</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#alternatives-considered","title":"Alternatives Considered","text":""},{"location":"adr/ADR-0003-shadow-mode/#alternative-1-full-sandboxing","title":"Alternative 1: Full Sandboxing","text":"<p>Pros: - Maximum security - No user intervention needed - Prevents all dangerous operations</p> <p>Cons: - Severely limits functionality - Complex to implement correctly - May not be portable across OS - Breaks many legitimate use cases</p> <p>Why not chosen: Too restrictive for a development tool; developers need flexibility.</p>"},{"location":"adr/ADR-0003-shadow-mode/#alternative-2-no-safety-mechanism","title":"Alternative 2: No Safety Mechanism","text":"<p>Pros: - Maximum automation speed - No user interruption - Simpler implementation</p> <p>Cons: - Dangerous for users - Easy to cause damage - No audit trail - Trust issues</p> <p>Why not chosen: Unacceptable risk level for production tool.</p>"},{"location":"adr/ADR-0003-shadow-mode/#alternative-3-dry-run-mode","title":"Alternative 3: Dry-Run Mode","text":"<p>Pros: - Shows what would happen - No risk of damage - Educational</p> <p>Cons: - Doesn't actually execute - Requires manual re-execution - Slows workflow significantly</p> <p>Why not chosen: Too slow for practical use; shadow mode provides better balance.</p>"},{"location":"adr/ADR-0003-shadow-mode/#references","title":"References","text":"<ul> <li>ADR-0002: Hybrid RAG</li> <li>ADR-0003: Shadow Mode</li> <li>OWASP AI Security Guidelines</li> </ul>"},{"location":"adr/ADR-0003-shadow-mode/#notes","title":"Notes","text":"<p>Shadow mode strikes a balance between safety and productivity. Key insight: most AI operations are safe, so only gate the dangerous ones.</p> <p>User feedback shows high satisfaction with this approach: - \"Gives me confidence to use AI automation\" - \"Saved me from deleting important files\" - \"Trust rules make it less annoying over time\"</p> <p>Future enhancements could include: - Machine learning to predict safe patterns - Community-shared trust rules - Better batch approval UX</p>"},{"location":"adr/ADR-0003-shadow-mode/#changelog","title":"Changelog","text":"Date Status Change Notes 2026-01-06 Proposed Initial design 2026-01-07 Accepted User testing validated approach 2026-01-08 Updated Added persistent trust rules"},{"location":"adr/ADR-0004-sustainability-strategy/","title":"ADR-0004: \u9805\u76ee\u53ef\u6301\u7e8c\u6027\u8207\u98a8\u96aa\u7de9\u89e3\u7b56\u7565","text":"<ul> <li>\u72c0\u614b: \u5df2\u63a5\u53d7</li> <li>\u65e5\u671f: 2026-01-12</li> <li>\u6c7a\u7b56\u8005: @Boring206</li> <li>\u6a19\u7c64: sustainability, governance, architecture</li> </ul>"},{"location":"adr/ADR-0004-sustainability-strategy/#_1","title":"\u80cc\u666f","text":"<p>\u96a8\u8457 Boring-Gemini \u9805\u76ee\u6210\u9577\u5230 V11.2+\uff0c\u6211\u5011\u8b58\u5225\u51fa\u4e09\u500b\u4e3b\u8981\u98a8\u96aa\uff1a</p> <ol> <li>\u529f\u80fd\u81a8\u8139\u98a8\u96aa: 70+ \u6a21\u7d44\uff0c\u7dad\u8b77\u6210\u672c\u589e\u52a0</li> <li>\u55ae\u4e00\u7dad\u8b77\u8005\u98a8\u96aa: Bus Factor = 1</li> <li>\u6280\u8853\u68e7\u5f37\u4f9d\u8cf4\u98a8\u96aa: \u5c0d Google Gemini \u7684\u4f9d\u8cf4</li> </ol> <p>\u9019\u4e9b\u98a8\u96aa\u53ef\u80fd\u5f71\u97ff\u9805\u76ee\u7684\u9577\u671f\u53ef\u6301\u7e8c\u6027\u3002</p>"},{"location":"adr/ADR-0004-sustainability-strategy/#_2","title":"\u6c7a\u7b56","text":""},{"location":"adr/ADR-0004-sustainability-strategy/#1","title":"1. \u5efa\u7acb\u591a\u5c64\u7dad\u8b77\u8005\u9ad4\u7cfb","text":"<p>\u6211\u5011\u6c7a\u5b9a\u5efa\u7acb 5 \u7d1a\u8ca2\u737b\u8005\u968e\u68af\uff1a</p> <pre><code>Level 5: Project Steward (\u9805\u76ee\u7ba1\u7406\u8005)\nLevel 4: Core Maintainer (\u6838\u5fc3\u7dad\u8b77\u8005)\nLevel 3: Domain Expert (\u9818\u57df\u5c08\u5bb6)\nLevel 2: Regular Contributor (\u5e38\u898f\u8ca2\u737b\u8005)\nLevel 1: First-time Contributor (\u9996\u6b21\u8ca2\u737b\u8005)\n</code></pre> <p>\u7406\u7531: - \u964d\u4f4e\u5c0d\u55ae\u4e00\u7dad\u8b77\u8005\u7684\u4f9d\u8cf4 - \u63d0\u4f9b\u6e05\u6670\u7684\u6210\u9577\u8def\u5f91\u6fc0\u52f5\u8ca2\u737b - \u5206\u6563\u5be9\u67e5\u548c\u7dad\u8b77\u8cac\u4efb</p> <p>\u5be6\u65bd: - \u5275\u5efa <code>MAINTAINERS.md</code> \u6587\u6a94 - \u66f4\u65b0 <code>CODEOWNERS</code> \u652f\u63f4\u9818\u57df\u5c08\u5bb6 - \u5275\u5efa\u7dad\u8b77\u8005\u7533\u8acb Issue \u6a21\u677f</p>"},{"location":"adr/ADR-0004-sustainability-strategy/#2","title":"2. \u529f\u80fd\u751f\u547d\u9031\u671f\u7ba1\u7406","text":"<p>\u6211\u5011\u6c7a\u5b9a\u5be6\u65bd\u660e\u78ba\u7684\u529f\u80fd\u751f\u547d\u9031\u671f\uff1a</p> <pre><code>\ud83e\uddea Experimental \u2192 \ud83d\udd35 Beta \u2192 \u2705 Stable \u2192 \u26a0\ufe0f Deprecated \u2192 \u274c Removed\n</code></pre> <p>\u7406\u7531: - \u63a7\u5236\u529f\u80fd\u81a8\u8139 - \u8b93\u7528\u6236\u4e86\u89e3\u529f\u80fd\u7a69\u5b9a\u6027 - \u70ba\u79fb\u9664\u529f\u80fd\u63d0\u4f9b\u7de9\u885d\u671f</p> <p>\u5be6\u65bd: - \u5275\u5efa <code>docs/reference/feature-matrix.md</code> - \u6bcf\u5b63\u5ea6\u5be9\u67e5\u5be6\u9a57\u6027\u529f\u80fd - 6 \u500b\u6708\u7121\u6d3b\u8e8d\u4f7f\u7528\u7684\u529f\u80fd\u5c07\u88ab\u68c4\u7528</p>"},{"location":"adr/ADR-0004-sustainability-strategy/#3","title":"3. \u63d2\u4ef6\u512a\u5148\u7b56\u7565","text":"<p>\u6211\u5011\u6c7a\u5b9a\u65b0\u529f\u80fd\u512a\u5148\u4f5c\u70ba\u63d2\u4ef6\u5be6\u73fe\uff0c\u800c\u975e\u6dfb\u52a0\u5230\u6838\u5fc3\u3002</p> <pre><code>\u65b0\u529f\u80fd\u63d0\u6848 \u2192 \u662f\u5426\u6838\u5fc3\u5fc5\u9700\uff1f\n              \u251c\u2500 \u5426 \u2192 \u4f5c\u70ba\u63d2\u4ef6\n              \u2514\u2500 \u662f \u2192 \u8a55\u4f30\u5f8c\u6dfb\u52a0\u5230\u6838\u5fc3\n</code></pre> <p>\u7406\u7531: - \u4fdd\u6301\u6838\u5fc3\u7cbe\u7c21 - \u964d\u4f4e\u7dad\u8b77\u8ca0\u64d4 - \u5141\u8a31\u793e\u5340\u64f4\u5c55</p> <p>\u5be6\u65bd: - \u64f4\u5145 <code>docs/guides/plugins_zh.md</code> - \u9f13\u52f5\u793e\u5340\u63d2\u4ef6\u958b\u767c</p>"},{"location":"adr/ADR-0004-sustainability-strategy/#4-llm-provider","title":"4. LLM Provider \u62bd\u8c61\u5c64","text":"<p>\u6211\u5011\u6c7a\u5b9a\u7dad\u8b77\u62bd\u8c61\u7684 <code>LLMProvider</code> \u4ecb\u9762\uff0c\u652f\u6301\u591a\u7a2e\u5f8c\u7aef\u3002</p> <p>\u7406\u7531: - \u964d\u4f4e\u5c0d Gemini \u7684\u4f9d\u8cf4 - \u652f\u6301\u672c\u5730\u904b\u884c (Ollama) - \u5141\u8a31\u7528\u6236\u9078\u64c7</p> <p>\u5be6\u65bd: - \u6587\u6a94\u5316 <code>src/boring/llm/provider.py</code> - \u5275\u5efa <code>docs/reference/llm-adapters.md</code> - \u7dad\u8b77\u964d\u7d1a\u7b56\u7565</p>"},{"location":"adr/ADR-0004-sustainability-strategy/#5","title":"5. \u81ea\u52d5\u5316\u512a\u5148","text":"<p>\u6211\u5011\u6c7a\u5b9a\u6700\u5927\u5316 CI/CD \u81ea\u52d5\u5316\uff0c\u6e1b\u5c11\u4eba\u5de5\u7dad\u8b77\u8ca0\u64d4\u3002</p> <p>\u5df2\u81ea\u52d5\u5316: - \u4ee3\u78bc\u683c\u5f0f\u5316 (ruff) - Linting (ruff) - \u985e\u578b\u6aa2\u67e5 (mypy) - \u6e2c\u8a66\u57f7\u884c (pytest) - \u4f9d\u8cf4\u66f4\u65b0 (dependabot) - \u5b89\u5168\u6383\u63cf (bandit, pip-audit) - \u6587\u6a94\u751f\u6210 (mkdocs) - \u7248\u672c\u767c\u5e03 (GitHub Actions)</p>"},{"location":"adr/ADR-0004-sustainability-strategy/#_3","title":"\u5f8c\u679c","text":""},{"location":"adr/ADR-0004-sustainability-strategy/#_4","title":"\u6b63\u9762","text":"<ul> <li>\u9805\u76ee\u66f4\u6613\u65bc\u9577\u671f\u7dad\u8b77</li> <li>\u964d\u4f4e\u4e86 Bus Factor \u98a8\u96aa</li> <li>\u529f\u80fd\u767c\u5c55\u66f4\u6709\u5e8f</li> <li>\u6280\u8853\u9078\u64c7\u66f4\u9748\u6d3b</li> </ul>"},{"location":"adr/ADR-0004-sustainability-strategy/#_5","title":"\u8ca0\u9762","text":"<ul> <li>\u7dad\u8b77\u8005\u62db\u52df\u9700\u8981\u6642\u9593</li> <li>\u65b0\u8ca2\u737b\u8005\u9700\u8981\u5b78\u7fd2\u66f4\u591a\u898f\u5247</li> <li>\u6587\u6a94\u7dad\u8b77\u589e\u52a0</li> </ul>"},{"location":"adr/ADR-0004-sustainability-strategy/#_6","title":"\u4e2d\u6027","text":"<ul> <li>\u9700\u8981\u5b9a\u671f\u5be9\u67e5\u548c\u66f4\u65b0\u9019\u4e9b\u7b56\u7565</li> </ul>"},{"location":"adr/ADR-0004-sustainability-strategy/#_7","title":"\u76f8\u95dc\u6587\u6a94","text":"<ul> <li>Contributing Guide</li> <li>docs/reference/feature-matrix.md</li> <li>docs/reference/sustainability.md</li> <li>docs/reference/llm-adapters.md</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/","title":"ADR-0005: Ghost Feature Cleanup (V11.3.0-V11.4.2)","text":"<p>Date: 2026-01-13</p> <p>Status: Accepted</p> <p>Deciders: AI Agent + Human Review</p> <p>Tags: architecture, cleanup, technical-debt</p>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#context","title":"Context","text":""},{"location":"adr/ADR-0005-ghost-feature-cleanup/#problem-statement","title":"Problem Statement","text":"<p>During the V11.0 to V11.4.2 development cycle, multiple features were implemented, deprecated, or superseded. A systematic audit was needed to: 1. Identify \"Ghost Features\" (code that exists but is not active/connected) 2. Identify \"Disconnected Features\" (tools advertised but not properly registered) 3. Ensure CHANGELOG claims match actual implementations</p>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#goals","title":"Goals","text":"<ul> <li>Clean codebase free of dead code</li> <li>Accurate documentation matching reality</li> <li>Reduced token overhead from unused tool definitions</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#non-goals","title":"Non-Goals","text":"<ul> <li>Removing actively used but legacy-styled code (backward compatibility preserved)</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#decision","title":"Decision","text":"<p>We will systematically remove or properly implement all identified ghost features.</p>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#features-removed-ghost-features","title":"Features Removed (Ghost Features)","text":"Module Reason Superseded By <code>VectorMemory</code> Unused standalone vector store Hybrid RAG (ChromaDB + Dependency Graph) <code>boring_quality_trend</code> Never called/registered <code>boring_vibe_check</code> metrics <code>boring_transaction_start</code> Duplicate of <code>boring_transaction</code> <code>boring_transaction</code> Stale <code>discovery.py</code> refs Pointed to non-existent tools Cleaned up"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#features-implemented-were-disconnected","title":"Features Implemented (Were Disconnected)","text":"Tool Issue Resolution <code>boring_active_skill</code> Claimed in CHANGELOG but missing Implemented in <code>skills.py</code> <code>boring_reset_skills</code> Claimed in CHANGELOG but missing Implemented in <code>skills.py</code>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#bugs-fixed-during-audit","title":"Bugs Fixed During Audit","text":"Location Bug Fix <code>tool_profiles.py:is_lite_mode()</code> Case mismatch (\"Minimal\" vs \"minimal\") Changed to lowercase"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#consequences","title":"Consequences","text":""},{"location":"adr/ADR-0005-ghost-feature-cleanup/#positive-consequences","title":"Positive Consequences","text":"<ul> <li>~500 lines of dead code removed</li> <li>CHANGELOG now accurately reflects implementation</li> <li>Reduced cognitive load for maintainers</li> <li>Token savings from fewer phantom tool definitions</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#negative-consequences","title":"Negative Consequences","text":"<ul> <li>None identified (removed features were truly unused)</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#risks","title":"Risks","text":"<ul> <li>Risk of removing code someone secretly depends on (Mitigation: Extensive grep search before removal)</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#verification","title":"Verification","text":"<pre><code># Verify new skill tools exist\ngrep -r \"boring_active_skill\\|boring_reset_skills\" src/boring/mcp/tools/\n\n# Verify removed modules don't break imports\npython -c \"from boring.mcp.server import mcp; print('OK')\"\n</code></pre>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#references","title":"References","text":"<ul> <li>CHANGELOG V11.3.0-V11.4.2</li> <li>ADR-0002: Hybrid RAG (supersedes VectorMemory)</li> </ul>"},{"location":"adr/ADR-0005-ghost-feature-cleanup/#changelog","title":"Changelog","text":"Date Status Change Notes 2026-01-13 Accepted Initial audit and cleanup completed"},{"location":"adr/ADR-0006-documentation-integrity/","title":"ADR-0006: Documentation Integrity Audit (2026-01-14)","text":""},{"location":"adr/ADR-0006-documentation-integrity/#status-accepted","title":"Status: Accepted","text":""},{"location":"adr/ADR-0006-documentation-integrity/#context","title":"Context","text":"<p>Before the final release of V12.1.2, a comprehensive \"honesty audit\" was conducted across the entire documentation suite (<code>docs/</code>). This audit focused on technical accuracy, consistency between implementation and manuals, and professional presentation.</p>"},{"location":"adr/ADR-0006-documentation-integrity/#decision","title":"Decision","text":"<ol> <li>SQLite vs ChromaDB: Clearly separate the roles of SQLite (persistent metadata, patterns, history) and ChromaDB (vector similarity search for RAG).</li> <li>API Parameter Sync: Rename all documentation references of <code>expand_deps</code> to <code>expand_graph</code> to match the actual Python implementation.</li> <li>Tool Count: Standardize tool count to \"60+\" (precisely 67 verified tools) across all languages.</li> <li>Honesty Pillar: Documentation integrity is now a core pillar of the release process.</li> </ol>"},{"location":"adr/ADR-0006-documentation-integrity/#consequences","title":"Consequences","text":"<ul> <li>Significant improvement in LLM's cognitive understanding of the system architecture.</li> <li>Reduction in \"Parameter Error\" failures during autonomous loops.</li> <li>Professional-grade documentation trust for enterprise users.</li> </ul>"},{"location":"adr/template/","title":"ADR-XXXX: [Short Title]","text":"<p>Date: YYYY-MM-DD</p> <p>Status: Proposed</p> <p>Deciders: [List key decision makers]</p> <p>Tags: [architecture, security, performance, etc.]</p>"},{"location":"adr/template/#context","title":"Context","text":""},{"location":"adr/template/#problem-statement","title":"Problem Statement","text":"<p>[Clear description of the problem]</p>"},{"location":"adr/template/#goals","title":"Goals","text":"<ul> <li>Goal 1</li> <li>Goal 2</li> <li>Goal 3</li> </ul>"},{"location":"adr/template/#non-goals","title":"Non-Goals","text":"<ul> <li>What we're explicitly NOT trying to solve</li> </ul>"},{"location":"adr/template/#decision","title":"Decision","text":""},{"location":"adr/template/#approach","title":"Approach","text":"<p>[Detailed description of the solution]</p>"},{"location":"adr/template/#implementation-plan","title":"Implementation Plan","text":"<ol> <li>Step 1</li> <li>Step 2</li> <li>Step 3</li> </ol>"},{"location":"adr/template/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Criterion 1</li> <li>[ ] Criterion 2</li> <li>[ ] Criterion 3</li> </ul>"},{"location":"adr/template/#consequences","title":"Consequences","text":""},{"location":"adr/template/#positive-consequences","title":"Positive Consequences","text":"<ul> <li>Benefit 1</li> <li>Benefit 2</li> <li>Benefit 3</li> </ul>"},{"location":"adr/template/#negative-consequences","title":"Negative Consequences","text":"<ul> <li>Trade-off 1</li> <li>Trade-off 2</li> <li>Trade-off 3</li> </ul>"},{"location":"adr/template/#risks","title":"Risks","text":"<ul> <li>Risk 1 (Mitigation: ...)</li> <li>Risk 2 (Mitigation: ...)</li> </ul>"},{"location":"adr/template/#alternatives-considered","title":"Alternatives Considered","text":""},{"location":"adr/template/#alternative-1-name","title":"Alternative 1: [Name]","text":"<p>Pros: - Pro 1 - Pro 2</p> <p>Cons: - Con 1 - Con 2</p> <p>Why not chosen: [Explanation]</p>"},{"location":"adr/template/#alternative-2-name","title":"Alternative 2: [Name]","text":"<p>Pros: - Pro 1 - Pro 2</p> <p>Cons: - Con 1 - Con 2</p> <p>Why not chosen: [Explanation]</p>"},{"location":"adr/template/#references","title":"References","text":"<ul> <li>[Related- ADR-XXXX: Title</li> <li>Issue #XXX</li> <li>[External documentation]</li> <li>[Research papers]</li> <li>[Blog posts]</li> </ul>"},{"location":"adr/template/#notes","title":"Notes","text":""},{"location":"adr/template/#changelog","title":"Changelog","text":"Date Status Change Notes YYYY-MM-DD Proposed Initial draft"},{"location":"api/circuit/","title":"circuit","text":""},{"location":"api/circuit/#boring.circuit","title":"<code>boring.circuit</code>","text":""},{"location":"api/circuit/#boring.circuit.CircuitState","title":"<code>CircuitState</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Circuit breaker states.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>class CircuitState(Enum):\n    \"\"\"Circuit breaker states.\"\"\"\n\n    CLOSED = \"CLOSED\"\n    OPEN = \"OPEN\"\n    HALF_OPEN = \"HALF_OPEN\"\n</code></pre>"},{"location":"api/circuit/#boring.circuit.LoopInfo","title":"<code>LoopInfo</code>  <code>dataclass</code>","text":"<p>Information about the last loop.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>@dataclass\nclass LoopInfo:\n    \"\"\"Information about the last loop.\"\"\"\n\n    loop: int\n    files_changed: int\n    has_errors: bool\n    output_length: int\n</code></pre>"},{"location":"api/circuit/#boring.circuit.get_state_file","title":"<code>get_state_file(project_root, filename, create_dir=True)</code>","text":"<p>Get path for a runtime state file.</p> <p>State files are stored in .boring/state/ (new) or project root (legacy).</p> <p>Parameters:</p> Name Type Description Default <code>project_root</code> <code>Path</code> <p>Project root directory</p> required <code>filename</code> <code>str</code> <p>State file name (e.g., \"call_count\", \"circuit_breaker_state\")</p> required <code>create_dir</code> <code>bool</code> <p>If True, create the state directory if needed</p> <code>True</code> <p>Returns:</p> Type Description <code>Path</code> <p>Path to the state file</p> Source code in <code>src/boring/paths.py</code> <pre><code>def get_state_file(\n    project_root: Path,\n    filename: str,\n    create_dir: bool = True,\n) -&gt; Path:\n    \"\"\"\n    Get path for a runtime state file.\n\n    State files are stored in .boring/state/ (new) or project root (legacy).\n\n    Args:\n        project_root: Project root directory\n        filename: State file name (e.g., \"call_count\", \"circuit_breaker_state\")\n        create_dir: If True, create the state directory if needed\n\n    Returns:\n        Path to the state file\n    \"\"\"\n    # Normalize filename (remove leading dot if present)\n    clean_name = filename.lstrip(\".\")\n\n    # New location\n    state_dir = get_boring_path(project_root, \"state\", create=create_dir, warn_legacy=False)\n    new_path = state_dir / clean_name\n\n    # Legacy location (in project root)\n    legacy_name = f\".{clean_name}\" if not filename.startswith(\".\") else filename\n    legacy_path = project_root / legacy_name\n\n    # Priority: new &gt; legacy\n    if new_path.exists():\n        return new_path\n\n    if legacy_path.exists():\n        logger.debug(f\"Using legacy state file: {legacy_path}\")\n        return legacy_path\n\n    # Default to new location\n    return new_path\n</code></pre>"},{"location":"api/circuit/#boring.circuit.init_circuit_breaker","title":"<code>init_circuit_breaker(project_root=None)</code>","text":"<p>Initializes the circuit breaker state file.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def init_circuit_breaker(project_root: Path | None = None):\n    \"\"\"Initializes the circuit breaker state file.\"\"\"\n    state_file, history_file = _get_circuit_files(project_root)\n    if not state_file.exists():\n        state = {\n            \"state\": CircuitState.CLOSED.value,\n            \"failures\": 0,\n            \"last_failure_time\": 0,\n            \"last_loop_info\": {\n                \"loop\": 0,\n                \"files_changed\": 0,\n                \"has_errors\": False,\n                \"output_length\": 0,\n            },\n        }\n        state_file.parent.mkdir(parents=True, exist_ok=True)\n        state_file.write_text(json.dumps(state, indent=4))\n    if not history_file.exists():\n        history_file.parent.mkdir(parents=True, exist_ok=True)\n        history_file.write_text(json.dumps([], indent=4))\n</code></pre>"},{"location":"api/circuit/#boring.circuit.get_circuit_state","title":"<code>get_circuit_state(project_root=None)</code>","text":"<p>Get current circuit breaker state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def get_circuit_state(project_root: Path | None = None) -&gt; dict[str, Any]:\n    \"\"\"Get current circuit breaker state.\"\"\"\n    init_circuit_breaker(project_root)\n    state_file, _ = _get_circuit_files(project_root)\n    return json.loads(state_file.read_text())\n</code></pre>"},{"location":"api/circuit/#boring.circuit.record_loop_result","title":"<code>record_loop_result(loop_num, files_changed, has_errors, output_length, project_root=None)</code>","text":"<p>Records the result of a loop and updates circuit breaker state.</p> <p>Returns:</p> Type Description <code>int</code> <p>0 if OK to continue, 1 if should halt</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def record_loop_result(\n    loop_num: int,\n    files_changed: int,\n    has_errors: bool,\n    output_length: int,\n    project_root: Path | None = None,\n) -&gt; int:\n    \"\"\"\n    Records the result of a loop and updates circuit breaker state.\n\n    Returns:\n        0 if OK to continue, 1 if should halt\n    \"\"\"\n    init_circuit_breaker(project_root)\n    state_file, _ = _get_circuit_files(project_root)\n    state_data = json.loads(state_file.read_text())\n    current_state = state_data[\"state\"]\n    failures = state_data[\"failures\"]\n    last_loop_info = state_data[\"last_loop_info\"]\n\n    new_state = current_state\n\n    # Heuristic for progress\n    progress_made = files_changed &gt; 0 or (\n        output_length &gt; 0 and output_length &gt; last_loop_info.get(\"output_length\", 0) * 0.5\n    )\n\n    if has_errors or not progress_made:\n        failures += 1\n        state_data[\"last_failure_time\"] = int(time.time())\n    else:\n        failures = 0  # Reset failures on success\n\n    # State transitions\n    if current_state == CircuitState.CLOSED.value and failures &gt;= CIRCUIT_BREAKER_MAX_FAILURES:\n        new_state = CircuitState.OPEN.value\n        _log_circuit_state_change(\n            CircuitState.OPEN.value, \"Too many consecutive failures/no progress\", project_root\n        )\n    elif current_state == CircuitState.OPEN.value:\n        if (int(time.time()) - state_data[\"last_failure_time\"]) &gt; CIRCUIT_BREAKER_RESET_TIMEOUT:\n            new_state = CircuitState.HALF_OPEN.value\n            _log_circuit_state_change(\n                CircuitState.HALF_OPEN.value, \"Reset timeout reached\", project_root\n            )\n    elif current_state == CircuitState.HALF_OPEN.value:\n        if has_errors or not progress_made:\n            new_state = CircuitState.OPEN.value\n            _log_circuit_state_change(\n                CircuitState.OPEN.value, \"Failed in HALF_OPEN state\", project_root\n            )\n        else:\n            new_state = CircuitState.CLOSED.value\n            _log_circuit_state_change(\n                CircuitState.CLOSED.value, \"Recovered in HALF_OPEN state\", project_root\n            )\n\n    state_data[\"state\"] = new_state\n    state_data[\"failures\"] = failures\n    state_data[\"last_loop_info\"] = {\n        \"loop\": loop_num,\n        \"files_changed\": files_changed,\n        \"has_errors\": has_errors,\n        \"output_length\": output_length,\n    }\n    state_file.write_text(json.dumps(state_data, indent=4))\n\n    return 1 if new_state == CircuitState.OPEN.value else 0\n</code></pre>"},{"location":"api/circuit/#boring.circuit.should_halt_execution","title":"<code>should_halt_execution(project_root=None)</code>","text":"<p>Checks if the circuit breaker is in OPEN state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def should_halt_execution(project_root: Path | None = None) -&gt; bool:\n    \"\"\"Checks if the circuit breaker is in OPEN state.\"\"\"\n    state_data = get_circuit_state(project_root)\n    return state_data[\"state\"] == CircuitState.OPEN.value\n</code></pre>"},{"location":"api/circuit/#boring.circuit.reset_circuit_breaker","title":"<code>reset_circuit_breaker(reason='Manual reset', project_root=None)</code>","text":"<p>Resets the circuit breaker to CLOSED state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def reset_circuit_breaker(reason: str = \"Manual reset\", project_root: Path | None = None):\n    \"\"\"Resets the circuit breaker to CLOSED state.\"\"\"\n    state_file, _ = _get_circuit_files(project_root)\n    state = {\n        \"state\": CircuitState.CLOSED.value,\n        \"failures\": 0,\n        \"last_failure_time\": 0,\n        \"last_loop_info\": {\"loop\": 0, \"files_changed\": 0, \"has_errors\": False, \"output_length\": 0},\n    }\n    state_file.parent.mkdir(parents=True, exist_ok=True)\n    state_file.write_text(json.dumps(state, indent=4))\n    _log_circuit_state_change(CircuitState.CLOSED.value, reason, project_root)\n</code></pre>"},{"location":"api/circuit/#boring.circuit.show_circuit_status","title":"<code>show_circuit_status(project_root=None)</code>","text":"<p>Displays the current circuit breaker status.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def show_circuit_status(project_root: Path | None = None):\n    \"\"\"Displays the current circuit breaker status.\"\"\"\n    state_data = get_circuit_state(project_root)\n    _, history_file = _get_circuit_files(project_root)\n    console.print(\n        Panel(\n            JSON(json.dumps(state_data, indent=4)),\n            title=\"[bold blue]Circuit Breaker Status[/bold blue]\",\n            border_style=\"blue\",\n        )\n    )\n    if history_file.exists():\n        history_data = json.loads(history_file.read_text())\n        console.print(\n            Panel(\n                JSON(json.dumps(history_data[-10:], indent=4)),  # Show last 10\n                title=\"[bold blue]Circuit Breaker History[/bold blue]\",\n                border_style=\"blue\",\n            )\n        )\n</code></pre>"},{"location":"api/core/","title":"Core API Reference","text":""},{"location":"api/core/#boring.core","title":"<code>boring.core</code>","text":"<p>Core Module for Boring V4.0 (DEPRECATED Compatibility Layer)</p> <p>\u26a0\ufe0f DEPRECATION NOTICE: This module is deprecated and will be removed in a future release. Please import directly from the appropriate modules:</p> <ul> <li>from .circuit import should_halt_execution, reset_circuit_breaker, ...</li> <li>from .logger import log_status, update_status, get_log_tail</li> <li>from .limiter import can_make_call, increment_call_counter, ...</li> </ul> <p>Modules: - circuit.py: Circuit Breaker logic - logger.py: Logging and status management - limiter.py: Rate limiting and exit detection</p>"},{"location":"api/core/#boring.core.CircuitState","title":"<code>CircuitState</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Circuit breaker states.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>class CircuitState(Enum):\n    \"\"\"Circuit breaker states.\"\"\"\n\n    CLOSED = \"CLOSED\"\n    OPEN = \"OPEN\"\n    HALF_OPEN = \"HALF_OPEN\"\n</code></pre>"},{"location":"api/core/#boring.core.get_circuit_state","title":"<code>get_circuit_state(project_root=None)</code>","text":"<p>Get current circuit breaker state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def get_circuit_state(project_root: Path | None = None) -&gt; dict[str, Any]:\n    \"\"\"Get current circuit breaker state.\"\"\"\n    init_circuit_breaker(project_root)\n    state_file, _ = _get_circuit_files(project_root)\n    return json.loads(state_file.read_text())\n</code></pre>"},{"location":"api/core/#boring.core.init_circuit_breaker","title":"<code>init_circuit_breaker(project_root=None)</code>","text":"<p>Initializes the circuit breaker state file.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def init_circuit_breaker(project_root: Path | None = None):\n    \"\"\"Initializes the circuit breaker state file.\"\"\"\n    state_file, history_file = _get_circuit_files(project_root)\n    if not state_file.exists():\n        state = {\n            \"state\": CircuitState.CLOSED.value,\n            \"failures\": 0,\n            \"last_failure_time\": 0,\n            \"last_loop_info\": {\n                \"loop\": 0,\n                \"files_changed\": 0,\n                \"has_errors\": False,\n                \"output_length\": 0,\n            },\n        }\n        state_file.parent.mkdir(parents=True, exist_ok=True)\n        state_file.write_text(json.dumps(state, indent=4))\n    if not history_file.exists():\n        history_file.parent.mkdir(parents=True, exist_ok=True)\n        history_file.write_text(json.dumps([], indent=4))\n</code></pre>"},{"location":"api/core/#boring.core.record_loop_result","title":"<code>record_loop_result(loop_num, files_changed, has_errors, output_length, project_root=None)</code>","text":"<p>Records the result of a loop and updates circuit breaker state.</p> <p>Returns:</p> Type Description <code>int</code> <p>0 if OK to continue, 1 if should halt</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def record_loop_result(\n    loop_num: int,\n    files_changed: int,\n    has_errors: bool,\n    output_length: int,\n    project_root: Path | None = None,\n) -&gt; int:\n    \"\"\"\n    Records the result of a loop and updates circuit breaker state.\n\n    Returns:\n        0 if OK to continue, 1 if should halt\n    \"\"\"\n    init_circuit_breaker(project_root)\n    state_file, _ = _get_circuit_files(project_root)\n    state_data = json.loads(state_file.read_text())\n    current_state = state_data[\"state\"]\n    failures = state_data[\"failures\"]\n    last_loop_info = state_data[\"last_loop_info\"]\n\n    new_state = current_state\n\n    # Heuristic for progress\n    progress_made = files_changed &gt; 0 or (\n        output_length &gt; 0 and output_length &gt; last_loop_info.get(\"output_length\", 0) * 0.5\n    )\n\n    if has_errors or not progress_made:\n        failures += 1\n        state_data[\"last_failure_time\"] = int(time.time())\n    else:\n        failures = 0  # Reset failures on success\n\n    # State transitions\n    if current_state == CircuitState.CLOSED.value and failures &gt;= CIRCUIT_BREAKER_MAX_FAILURES:\n        new_state = CircuitState.OPEN.value\n        _log_circuit_state_change(\n            CircuitState.OPEN.value, \"Too many consecutive failures/no progress\", project_root\n        )\n    elif current_state == CircuitState.OPEN.value:\n        if (int(time.time()) - state_data[\"last_failure_time\"]) &gt; CIRCUIT_BREAKER_RESET_TIMEOUT:\n            new_state = CircuitState.HALF_OPEN.value\n            _log_circuit_state_change(\n                CircuitState.HALF_OPEN.value, \"Reset timeout reached\", project_root\n            )\n    elif current_state == CircuitState.HALF_OPEN.value:\n        if has_errors or not progress_made:\n            new_state = CircuitState.OPEN.value\n            _log_circuit_state_change(\n                CircuitState.OPEN.value, \"Failed in HALF_OPEN state\", project_root\n            )\n        else:\n            new_state = CircuitState.CLOSED.value\n            _log_circuit_state_change(\n                CircuitState.CLOSED.value, \"Recovered in HALF_OPEN state\", project_root\n            )\n\n    state_data[\"state\"] = new_state\n    state_data[\"failures\"] = failures\n    state_data[\"last_loop_info\"] = {\n        \"loop\": loop_num,\n        \"files_changed\": files_changed,\n        \"has_errors\": has_errors,\n        \"output_length\": output_length,\n    }\n    state_file.write_text(json.dumps(state_data, indent=4))\n\n    return 1 if new_state == CircuitState.OPEN.value else 0\n</code></pre>"},{"location":"api/core/#boring.core.reset_circuit_breaker","title":"<code>reset_circuit_breaker(reason='Manual reset', project_root=None)</code>","text":"<p>Resets the circuit breaker to CLOSED state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def reset_circuit_breaker(reason: str = \"Manual reset\", project_root: Path | None = None):\n    \"\"\"Resets the circuit breaker to CLOSED state.\"\"\"\n    state_file, _ = _get_circuit_files(project_root)\n    state = {\n        \"state\": CircuitState.CLOSED.value,\n        \"failures\": 0,\n        \"last_failure_time\": 0,\n        \"last_loop_info\": {\"loop\": 0, \"files_changed\": 0, \"has_errors\": False, \"output_length\": 0},\n    }\n    state_file.parent.mkdir(parents=True, exist_ok=True)\n    state_file.write_text(json.dumps(state, indent=4))\n    _log_circuit_state_change(CircuitState.CLOSED.value, reason, project_root)\n</code></pre>"},{"location":"api/core/#boring.core.should_halt_execution","title":"<code>should_halt_execution(project_root=None)</code>","text":"<p>Checks if the circuit breaker is in OPEN state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def should_halt_execution(project_root: Path | None = None) -&gt; bool:\n    \"\"\"Checks if the circuit breaker is in OPEN state.\"\"\"\n    state_data = get_circuit_state(project_root)\n    return state_data[\"state\"] == CircuitState.OPEN.value\n</code></pre>"},{"location":"api/core/#boring.core.show_circuit_status","title":"<code>show_circuit_status(project_root=None)</code>","text":"<p>Displays the current circuit breaker status.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def show_circuit_status(project_root: Path | None = None):\n    \"\"\"Displays the current circuit breaker status.\"\"\"\n    state_data = get_circuit_state(project_root)\n    _, history_file = _get_circuit_files(project_root)\n    console.print(\n        Panel(\n            JSON(json.dumps(state_data, indent=4)),\n            title=\"[bold blue]Circuit Breaker Status[/bold blue]\",\n            border_style=\"blue\",\n        )\n    )\n    if history_file.exists():\n        history_data = json.loads(history_file.read_text())\n        console.print(\n            Panel(\n                JSON(json.dumps(history_data[-10:], indent=4)),  # Show last 10\n                title=\"[bold blue]Circuit Breaker History[/bold blue]\",\n                border_style=\"blue\",\n            )\n        )\n</code></pre>"},{"location":"api/core/#boring.core.can_make_call","title":"<code>can_make_call(call_count_file, max_calls_per_hour)</code>","text":"<p>Checks if another API call can be made within the rate limit.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <code>max_calls_per_hour</code> <code>int</code> <p>Maximum allowed calls per hour</p> required <p>Returns:</p> Type Description <code>bool</code> <p>True if call can be made</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def can_make_call(call_count_file: Path, max_calls_per_hour: int) -&gt; bool:\n    \"\"\"\n    Checks if another API call can be made within the rate limit.\n\n    Args:\n        call_count_file: Path to call count file\n        max_calls_per_hour: Maximum allowed calls per hour\n\n    Returns:\n        True if call can be made\n    \"\"\"\n    return get_calls_made(call_count_file) &lt; max_calls_per_hour\n</code></pre>"},{"location":"api/core/#boring.core.get_calls_made","title":"<code>get_calls_made(call_count_file)</code>","text":"<p>Reads the current number of API calls made this hour.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <p>Returns:</p> Type Description <code>int</code> <p>Number of calls made</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def get_calls_made(call_count_file: Path) -&gt; int:\n    \"\"\"\n    Reads the current number of API calls made this hour.\n\n    Args:\n        call_count_file: Path to call count file\n\n    Returns:\n        Number of calls made\n    \"\"\"\n    if call_count_file.exists():\n        try:\n            return int(call_count_file.read_text().strip())\n        except ValueError:\n            return 0\n    return 0\n</code></pre>"},{"location":"api/core/#boring.core.increment_call_counter","title":"<code>increment_call_counter(call_count_file)</code>","text":"<p>Increments the API call counter.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <p>Returns:</p> Type Description <code>int</code> <p>New call count</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def increment_call_counter(call_count_file: Path) -&gt; int:\n    \"\"\"\n    Increments the API call counter.\n\n    Args:\n        call_count_file: Path to call count file\n\n    Returns:\n        New call count\n    \"\"\"\n    calls_made = get_calls_made(call_count_file) + 1\n    call_count_file.write_text(str(calls_made))\n    return calls_made\n</code></pre>"},{"location":"api/core/#boring.core.init_call_tracking","title":"<code>init_call_tracking(call_count_file, timestamp_file, exit_signals_file)</code>","text":"<p>Initializes call counter and exit signals tracking.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>File to track API call count</p> required <code>timestamp_file</code> <code>Path</code> <p>File to track last reset timestamp</p> required <code>exit_signals_file</code> <code>Path</code> <p>File to track exit signals</p> required Source code in <code>src/boring/core/limiter.py</code> <pre><code>def init_call_tracking(call_count_file: Path, timestamp_file: Path, exit_signals_file: Path):\n    \"\"\"\n    Initializes call counter and exit signals tracking.\n\n    Args:\n        call_count_file: File to track API call count\n        timestamp_file: File to track last reset timestamp\n        exit_signals_file: File to track exit signals\n    \"\"\"\n    current_hour = datetime.now().strftime(\"%Y%m%d%H\")\n    last_reset_hour = None\n\n    if timestamp_file.exists():\n        last_reset_hour = timestamp_file.read_text().strip()\n\n    if current_hour != last_reset_hour:\n        call_count_file.write_text(\"0\")\n        timestamp_file.write_text(current_hour)\n        log_status(Path(\"logs\"), \"INFO\", f\"Call counter reset for new hour: {current_hour}\")\n\n    if not exit_signals_file.exists():\n        exit_signals_file.write_text(\n            json.dumps(\n                {\"test_only_loops\": [], \"done_signals\": [], \"completion_indicators\": []}, indent=4\n            )\n        )\n</code></pre>"},{"location":"api/core/#boring.core.should_exit_gracefully","title":"<code>should_exit_gracefully(exit_signals_file)</code>","text":"<p>Determines if the loop should exit gracefully based on signals.</p> <p>Parameters:</p> Name Type Description Default <code>exit_signals_file</code> <code>Path</code> <p>Path to exit signals file</p> required <p>Returns:</p> Type Description <code>str | None</code> <p>Exit reason string or None if no exit condition met</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def should_exit_gracefully(exit_signals_file: Path) -&gt; str | None:\n    \"\"\"\n    Determines if the loop should exit gracefully based on signals.\n\n    Args:\n        exit_signals_file: Path to exit signals file\n\n    Returns:\n        Exit reason string or None if no exit condition met\n    \"\"\"\n    if not exit_signals_file.exists():\n        return None\n\n    signals_data = json.loads(exit_signals_file.read_text())\n\n    test_only_loops = signals_data.get(\"test_only_loops\", [])\n    done_signals = signals_data.get(\"done_signals\", [])\n    completion_indicators = signals_data.get(\"completion_indicators\", [])\n\n    if len(test_only_loops) &gt;= MAX_CONSECUTIVE_TEST_LOOPS:\n        log_status(\n            Path(\"logs\"),\n            \"WARN\",\n            f\"Exit condition: Too many test-focused loops ({len(test_only_loops)} &gt;= {MAX_CONSECUTIVE_TEST_LOOPS})\",\n        )\n        return \"test_saturation\"\n\n    if len(done_signals) &gt;= MAX_CONSECUTIVE_DONE_SIGNALS:\n        log_status(\n            Path(\"logs\"),\n            \"WARN\",\n            f\"Exit condition: Multiple completion signals ({len(done_signals)} &gt;= {MAX_CONSECUTIVE_DONE_SIGNALS})\",\n        )\n        return \"completion_signals\"\n\n    if len(completion_indicators) &gt;= 2:\n        log_status(\n            Path(\"logs\"),\n            \"WARN\",\n            f\"Exit condition: Strong completion indicators ({len(completion_indicators)})\",\n        )\n        return \"project_complete\"\n\n    # Check @fix_plan.md for completion\n    fix_plan_file = Path(\"@fix_plan.md\")\n    if fix_plan_file.exists():\n        content = fix_plan_file.read_text()\n        total_items = content.count(\"- [ ]\") + content.count(\"- [x]\")\n        completed_items = content.count(\"- [x]\")\n\n        if total_items &gt; 0 and completed_items == total_items:\n            log_status(\n                Path(\"logs\"),\n                \"WARN\",\n                f\"Exit condition: All fix_plan.md items completed ({completed_items}/{total_items})\",\n            )\n            return \"plan_complete\"\n\n    return None\n</code></pre>"},{"location":"api/core/#boring.core.wait_for_reset","title":"<code>wait_for_reset(call_count_file, timestamp_file, max_calls_per_hour)</code>","text":"<p>Waits for the rate limit to reset with a countdown.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <code>timestamp_file</code> <code>Path</code> <p>Path to timestamp file</p> required <code>max_calls_per_hour</code> <code>int</code> <p>Maximum allowed calls per hour</p> required Source code in <code>src/boring/core/limiter.py</code> <pre><code>def wait_for_reset(call_count_file: Path, timestamp_file: Path, max_calls_per_hour: int):\n    \"\"\"\n    Waits for the rate limit to reset with a countdown.\n\n    Args:\n        call_count_file: Path to call count file\n        timestamp_file: Path to timestamp file\n        max_calls_per_hour: Maximum allowed calls per hour\n    \"\"\"\n    calls_made = get_calls_made(call_count_file)\n    log_status(\n        Path(\"logs\"),\n        \"WARN\",\n        f\"Rate limit reached ({calls_made}/{max_calls_per_hour}). Waiting for reset...\",\n    )\n\n    now = datetime.now()\n    next_hour = (now + timedelta(hours=1)).replace(minute=0, second=0, microsecond=0)\n    wait_seconds = int((next_hour - now).total_seconds())\n\n    console.print(f\"[blue]Sleeping for {wait_seconds} seconds until next hour...[/blue]\")\n\n    with console.status(\"[bold green]Waiting for rate limit reset...[/bold green]\") as status:\n        while wait_seconds &gt; 0:\n            hours, remainder = divmod(wait_seconds, 3600)\n            minutes, seconds = divmod(remainder, 60)\n            status.update(\n                f\"[yellow]Time until reset: {hours:02d}:{minutes:02d}:{seconds:02d}[/yellow]\"\n            )\n            time.sleep(1)\n            wait_seconds -= 1\n\n    init_call_tracking(call_count_file, timestamp_file, Path(\".exit_signals\"))\n    log_status(Path(\"logs\"), \"SUCCESS\", \"Rate limit reset! Ready for new calls.\")\n</code></pre>"},{"location":"api/core/#boring.core.get_log_tail","title":"<code>get_log_tail(log_dir, lines=10)</code>","text":"<p>Get the last N lines from the log file.</p> <p>Parameters:</p> Name Type Description Default <code>log_dir</code> <code>Path</code> <p>Directory containing boring.log</p> required <code>lines</code> <code>int</code> <p>Number of lines to return</p> <code>10</code> <p>Returns:</p> Type Description <code>list[str]</code> <p>List of log lines</p> Source code in <code>src/boring/core/logger.py</code> <pre><code>def get_log_tail(log_dir: Path, lines: int = 10) -&gt; list[str]:\n    \"\"\"\n    Get the last N lines from the log file.\n\n    Args:\n        log_dir: Directory containing boring.log\n        lines: Number of lines to return\n\n    Returns:\n        List of log lines\n    \"\"\"\n    log_file = log_dir / \"boring.log\"\n    if not log_file.exists():\n        return []\n\n    try:\n        with open(log_file, encoding=\"utf-8\") as f:\n            all_lines = f.readlines()\n            return [line.strip() for line in all_lines[-lines:]]\n    except Exception:\n        return []\n</code></pre>"},{"location":"api/core/#boring.core.log_status","title":"<code>log_status(log_dir, level, message, **kwargs)</code>","text":"<p>Logs status messages using structlog with console and file output.</p> <p>Parameters:</p> Name Type Description Default <code>log_dir</code> <code>Any</code> <p>Directory for log files (Path or str). If None/False, only logs to console.</p> required <code>level</code> <code>str</code> <p>Log level (INFO, WARN, ERROR, SUCCESS, LOOP)</p> required <code>message</code> <code>str</code> <p>Message to log</p> required <code>**kwargs</code> <code>Any</code> <p>Additional structured fields</p> <code>{}</code> Source code in <code>src/boring/core/logger.py</code> <pre><code>def log_status(log_dir: Any, level: str, message: str, **kwargs: Any):\n    \"\"\"\n    Logs status messages using structlog with console and file output.\n\n    Args:\n        log_dir: Directory for log files (Path or str). If None/False, only logs to console.\n        level: Log level (INFO, WARN, ERROR, SUCCESS, LOOP)\n        message: Message to log\n        **kwargs: Additional structured fields\n    \"\"\"\n    timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n\n    # Setup file logging lazily if needed\n    if log_dir:\n        if isinstance(log_dir, str):\n            log_dir = Path(log_dir)\n\n        # Check if handlers need setup (simple check to avoid adding multiple handlers)\n        has_file_handler = any(isinstance(h, logging.FileHandler) for h in _logger.handlers)\n        if not has_file_handler:\n            setup_file_logging(log_dir)\n\n    # Console output with Rich colors\n    color_map = {\n        \"INFO\": \"blue\",\n        \"WARN\": \"yellow\",\n        \"ERROR\": \"red\",\n        \"SUCCESS\": \"green\",\n        \"LOOP\": \"purple\",\n        \"DEBUG\": \"dim\",\n        \"CRITICAL\": \"bold red\",\n        \"PLAN\": \"cyan\",  # New level for Vibe Coder planning\n        \"VIBE\": \"magenta\",  # New level for Vibe Coder interactions\n    }\n\n    # Emoji mapping for Vibe Coder\n    emoji_map = {\n        \"INFO\": \"\u2139\ufe0f \",\n        \"WARN\": \"\u26a0\ufe0f \",\n        \"ERROR\": \"\u274c \",\n        \"SUCCESS\": \"\u2705 \",\n        \"LOOP\": \"\ud83d\udd04 \",\n        \"DEBUG\": \"\ud83d\udc1b \",\n        \"CRITICAL\": \"\ud83d\udea8 \",\n        \"PLAN\": \"\ud83d\uddfa\ufe0f \",\n        \"VIBE\": \"\u2728 \",\n    }\n\n    style = color_map.get(level.upper(), \"default\")\n    emoji = emoji_map.get(level.upper(), \"\")\n\n    # Format extra fields for display\n    extra_str = \"\"\n    if kwargs:\n        extra_str = \" \" + \" \".join(f\"{k}={v}\" for k, v in kwargs.items())\n\n    console.print(f\"[{timestamp}] [[{level.upper()}]] {emoji}{message}{extra_str}\", style=style)\n\n    # Log to standard python logger (handled by file handlers)\n    # We pass kwargs as 'props' to be picked up by JSONFormatter\n    level_int = getattr(logging, level.upper(), logging.INFO)\n    if level.upper() in [\"SUCCESS\", \"LOOP\", \"PLAN\", \"VIBE\"]:\n        level_int = logging.INFO  # Map custom levels to INFO for standardized handling\n\n    record = logging.LogRecord(\"boring\", level_int, \"\", 0, message, args=(), exc_info=None)\n    record.props = kwargs\n    record.created = datetime.now().timestamp()  # Sync time\n    _logger.handle(record)\n</code></pre>"},{"location":"api/core/#boring.core.update_status","title":"<code>update_status(status_file, loop_count, max_calls, last_action, status, exit_reason='', calls_made=None)</code>","text":"<p>Updates the status.json file for external monitoring.</p> <p>Parameters:</p> Name Type Description Default <code>status_file</code> <code>Path</code> <p>Path to status.json</p> required <code>loop_count</code> <code>int</code> <p>Current loop number</p> required <code>max_calls</code> <code>int</code> <p>Maximum calls per hour</p> required <code>last_action</code> <code>str</code> <p>Description of last action</p> required <code>status</code> <code>str</code> <p>Current status string</p> required <code>exit_reason</code> <code>str</code> <p>Reason for exit (if any)</p> <code>''</code> <code>calls_made</code> <code>int | None</code> <p>Number of API calls made</p> <code>None</code> Source code in <code>src/boring/core/logger.py</code> <pre><code>def update_status(\n    status_file: Path,\n    loop_count: int,\n    max_calls: int,\n    last_action: str,\n    status: str,\n    exit_reason: str = \"\",\n    calls_made: int | None = None,\n):\n    \"\"\"\n    Updates the status.json file for external monitoring.\n\n    Args:\n        status_file: Path to status.json\n        loop_count: Current loop number\n        max_calls: Maximum calls per hour\n        last_action: Description of last action\n        status: Current status string\n        exit_reason: Reason for exit (if any)\n        calls_made: Number of API calls made\n    \"\"\"\n    status_file.parent.mkdir(parents=True, exist_ok=True)\n    next_reset_time = (datetime.now() + timedelta(hours=1)).strftime(\"%H:%M:%S\")\n\n    if calls_made is None:\n        from .limiter import get_calls_made\n\n        calls_made = get_calls_made(Path(\".call_count\"))\n\n    status_data = {\n        \"timestamp\": datetime.now().isoformat(),\n        \"loop_count\": loop_count,\n        \"calls_made_this_hour\": calls_made,\n        \"max_calls_per_hour\": max_calls,\n        \"last_action\": last_action,\n        \"status\": status,\n        \"exit_reason\": exit_reason,\n        \"next_reset\": next_reset_time,\n    }\n\n    TransactionalFileWriter.write_json(status_file, status_data, indent=4)\n\n    # Log status update structurally\n    _logger.debug(\"status_updated\", loop=loop_count, status=status, calls=calls_made)\n</code></pre>"},{"location":"api/core/#boring.core.__getattr__","title":"<code>__getattr__(name)</code>","text":"<p>Emit deprecation warning when accessing attributes from this module.</p> Source code in <code>src/boring/core/__init__.py</code> <pre><code>def __getattr__(name: str):\n    \"\"\"Emit deprecation warning when accessing attributes from this module.\"\"\"\n    # This is called when an attribute is accessed that doesn't exist directly\n    # Since we're re-exporting, this will only catch truly missing attributes\n    warnings.warn(\n        \"Importing from 'boring.core' is deprecated. \"\n        \"Please import directly from the appropriate module \"\n        \"(.circuit, .logger, or .limiter) instead.\",\n        DeprecationWarning,\n        stacklevel=2,\n    )\n    raise AttributeError(f\"module 'boring.core' has no attribute '{name}'\")\n</code></pre>"},{"location":"api/core_zh/","title":"Core API \u53c3\u8003","text":""},{"location":"api/core_zh/#boring.core","title":"<code>boring.core</code>","text":"<p>Core Module for Boring V4.0 (DEPRECATED Compatibility Layer)</p> <p>\u26a0\ufe0f DEPRECATION NOTICE: This module is deprecated and will be removed in a future release. Please import directly from the appropriate modules:</p> <ul> <li>from .circuit import should_halt_execution, reset_circuit_breaker, ...</li> <li>from .logger import log_status, update_status, get_log_tail</li> <li>from .limiter import can_make_call, increment_call_counter, ...</li> </ul> <p>Modules: - circuit.py: Circuit Breaker logic - logger.py: Logging and status management - limiter.py: Rate limiting and exit detection</p>"},{"location":"api/core_zh/#boring.core.CircuitState","title":"<code>CircuitState</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Circuit breaker states.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>class CircuitState(Enum):\n    \"\"\"Circuit breaker states.\"\"\"\n\n    CLOSED = \"CLOSED\"\n    OPEN = \"OPEN\"\n    HALF_OPEN = \"HALF_OPEN\"\n</code></pre>"},{"location":"api/core_zh/#boring.core.get_circuit_state","title":"<code>get_circuit_state(project_root=None)</code>","text":"<p>Get current circuit breaker state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def get_circuit_state(project_root: Path | None = None) -&gt; dict[str, Any]:\n    \"\"\"Get current circuit breaker state.\"\"\"\n    init_circuit_breaker(project_root)\n    state_file, _ = _get_circuit_files(project_root)\n    return json.loads(state_file.read_text())\n</code></pre>"},{"location":"api/core_zh/#boring.core.init_circuit_breaker","title":"<code>init_circuit_breaker(project_root=None)</code>","text":"<p>Initializes the circuit breaker state file.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def init_circuit_breaker(project_root: Path | None = None):\n    \"\"\"Initializes the circuit breaker state file.\"\"\"\n    state_file, history_file = _get_circuit_files(project_root)\n    if not state_file.exists():\n        state = {\n            \"state\": CircuitState.CLOSED.value,\n            \"failures\": 0,\n            \"last_failure_time\": 0,\n            \"last_loop_info\": {\n                \"loop\": 0,\n                \"files_changed\": 0,\n                \"has_errors\": False,\n                \"output_length\": 0,\n            },\n        }\n        state_file.parent.mkdir(parents=True, exist_ok=True)\n        state_file.write_text(json.dumps(state, indent=4))\n    if not history_file.exists():\n        history_file.parent.mkdir(parents=True, exist_ok=True)\n        history_file.write_text(json.dumps([], indent=4))\n</code></pre>"},{"location":"api/core_zh/#boring.core.record_loop_result","title":"<code>record_loop_result(loop_num, files_changed, has_errors, output_length, project_root=None)</code>","text":"<p>Records the result of a loop and updates circuit breaker state.</p> <p>Returns:</p> Type Description <code>int</code> <p>0 if OK to continue, 1 if should halt</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def record_loop_result(\n    loop_num: int,\n    files_changed: int,\n    has_errors: bool,\n    output_length: int,\n    project_root: Path | None = None,\n) -&gt; int:\n    \"\"\"\n    Records the result of a loop and updates circuit breaker state.\n\n    Returns:\n        0 if OK to continue, 1 if should halt\n    \"\"\"\n    init_circuit_breaker(project_root)\n    state_file, _ = _get_circuit_files(project_root)\n    state_data = json.loads(state_file.read_text())\n    current_state = state_data[\"state\"]\n    failures = state_data[\"failures\"]\n    last_loop_info = state_data[\"last_loop_info\"]\n\n    new_state = current_state\n\n    # Heuristic for progress\n    progress_made = files_changed &gt; 0 or (\n        output_length &gt; 0 and output_length &gt; last_loop_info.get(\"output_length\", 0) * 0.5\n    )\n\n    if has_errors or not progress_made:\n        failures += 1\n        state_data[\"last_failure_time\"] = int(time.time())\n    else:\n        failures = 0  # Reset failures on success\n\n    # State transitions\n    if current_state == CircuitState.CLOSED.value and failures &gt;= CIRCUIT_BREAKER_MAX_FAILURES:\n        new_state = CircuitState.OPEN.value\n        _log_circuit_state_change(\n            CircuitState.OPEN.value, \"Too many consecutive failures/no progress\", project_root\n        )\n    elif current_state == CircuitState.OPEN.value:\n        if (int(time.time()) - state_data[\"last_failure_time\"]) &gt; CIRCUIT_BREAKER_RESET_TIMEOUT:\n            new_state = CircuitState.HALF_OPEN.value\n            _log_circuit_state_change(\n                CircuitState.HALF_OPEN.value, \"Reset timeout reached\", project_root\n            )\n    elif current_state == CircuitState.HALF_OPEN.value:\n        if has_errors or not progress_made:\n            new_state = CircuitState.OPEN.value\n            _log_circuit_state_change(\n                CircuitState.OPEN.value, \"Failed in HALF_OPEN state\", project_root\n            )\n        else:\n            new_state = CircuitState.CLOSED.value\n            _log_circuit_state_change(\n                CircuitState.CLOSED.value, \"Recovered in HALF_OPEN state\", project_root\n            )\n\n    state_data[\"state\"] = new_state\n    state_data[\"failures\"] = failures\n    state_data[\"last_loop_info\"] = {\n        \"loop\": loop_num,\n        \"files_changed\": files_changed,\n        \"has_errors\": has_errors,\n        \"output_length\": output_length,\n    }\n    state_file.write_text(json.dumps(state_data, indent=4))\n\n    return 1 if new_state == CircuitState.OPEN.value else 0\n</code></pre>"},{"location":"api/core_zh/#boring.core.reset_circuit_breaker","title":"<code>reset_circuit_breaker(reason='Manual reset', project_root=None)</code>","text":"<p>Resets the circuit breaker to CLOSED state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def reset_circuit_breaker(reason: str = \"Manual reset\", project_root: Path | None = None):\n    \"\"\"Resets the circuit breaker to CLOSED state.\"\"\"\n    state_file, _ = _get_circuit_files(project_root)\n    state = {\n        \"state\": CircuitState.CLOSED.value,\n        \"failures\": 0,\n        \"last_failure_time\": 0,\n        \"last_loop_info\": {\"loop\": 0, \"files_changed\": 0, \"has_errors\": False, \"output_length\": 0},\n    }\n    state_file.parent.mkdir(parents=True, exist_ok=True)\n    state_file.write_text(json.dumps(state, indent=4))\n    _log_circuit_state_change(CircuitState.CLOSED.value, reason, project_root)\n</code></pre>"},{"location":"api/core_zh/#boring.core.should_halt_execution","title":"<code>should_halt_execution(project_root=None)</code>","text":"<p>Checks if the circuit breaker is in OPEN state.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def should_halt_execution(project_root: Path | None = None) -&gt; bool:\n    \"\"\"Checks if the circuit breaker is in OPEN state.\"\"\"\n    state_data = get_circuit_state(project_root)\n    return state_data[\"state\"] == CircuitState.OPEN.value\n</code></pre>"},{"location":"api/core_zh/#boring.core.show_circuit_status","title":"<code>show_circuit_status(project_root=None)</code>","text":"<p>Displays the current circuit breaker status.</p> Source code in <code>src/boring/core/circuit.py</code> <pre><code>def show_circuit_status(project_root: Path | None = None):\n    \"\"\"Displays the current circuit breaker status.\"\"\"\n    state_data = get_circuit_state(project_root)\n    _, history_file = _get_circuit_files(project_root)\n    console.print(\n        Panel(\n            JSON(json.dumps(state_data, indent=4)),\n            title=\"[bold blue]Circuit Breaker Status[/bold blue]\",\n            border_style=\"blue\",\n        )\n    )\n    if history_file.exists():\n        history_data = json.loads(history_file.read_text())\n        console.print(\n            Panel(\n                JSON(json.dumps(history_data[-10:], indent=4)),  # Show last 10\n                title=\"[bold blue]Circuit Breaker History[/bold blue]\",\n                border_style=\"blue\",\n            )\n        )\n</code></pre>"},{"location":"api/core_zh/#boring.core.can_make_call","title":"<code>can_make_call(call_count_file, max_calls_per_hour)</code>","text":"<p>Checks if another API call can be made within the rate limit.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <code>max_calls_per_hour</code> <code>int</code> <p>Maximum allowed calls per hour</p> required <p>Returns:</p> Type Description <code>bool</code> <p>True if call can be made</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def can_make_call(call_count_file: Path, max_calls_per_hour: int) -&gt; bool:\n    \"\"\"\n    Checks if another API call can be made within the rate limit.\n\n    Args:\n        call_count_file: Path to call count file\n        max_calls_per_hour: Maximum allowed calls per hour\n\n    Returns:\n        True if call can be made\n    \"\"\"\n    return get_calls_made(call_count_file) &lt; max_calls_per_hour\n</code></pre>"},{"location":"api/core_zh/#boring.core.get_calls_made","title":"<code>get_calls_made(call_count_file)</code>","text":"<p>Reads the current number of API calls made this hour.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <p>Returns:</p> Type Description <code>int</code> <p>Number of calls made</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def get_calls_made(call_count_file: Path) -&gt; int:\n    \"\"\"\n    Reads the current number of API calls made this hour.\n\n    Args:\n        call_count_file: Path to call count file\n\n    Returns:\n        Number of calls made\n    \"\"\"\n    if call_count_file.exists():\n        try:\n            return int(call_count_file.read_text().strip())\n        except ValueError:\n            return 0\n    return 0\n</code></pre>"},{"location":"api/core_zh/#boring.core.increment_call_counter","title":"<code>increment_call_counter(call_count_file)</code>","text":"<p>Increments the API call counter.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <p>Returns:</p> Type Description <code>int</code> <p>New call count</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def increment_call_counter(call_count_file: Path) -&gt; int:\n    \"\"\"\n    Increments the API call counter.\n\n    Args:\n        call_count_file: Path to call count file\n\n    Returns:\n        New call count\n    \"\"\"\n    calls_made = get_calls_made(call_count_file) + 1\n    call_count_file.write_text(str(calls_made))\n    return calls_made\n</code></pre>"},{"location":"api/core_zh/#boring.core.init_call_tracking","title":"<code>init_call_tracking(call_count_file, timestamp_file, exit_signals_file)</code>","text":"<p>Initializes call counter and exit signals tracking.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>File to track API call count</p> required <code>timestamp_file</code> <code>Path</code> <p>File to track last reset timestamp</p> required <code>exit_signals_file</code> <code>Path</code> <p>File to track exit signals</p> required Source code in <code>src/boring/core/limiter.py</code> <pre><code>def init_call_tracking(call_count_file: Path, timestamp_file: Path, exit_signals_file: Path):\n    \"\"\"\n    Initializes call counter and exit signals tracking.\n\n    Args:\n        call_count_file: File to track API call count\n        timestamp_file: File to track last reset timestamp\n        exit_signals_file: File to track exit signals\n    \"\"\"\n    current_hour = datetime.now().strftime(\"%Y%m%d%H\")\n    last_reset_hour = None\n\n    if timestamp_file.exists():\n        last_reset_hour = timestamp_file.read_text().strip()\n\n    if current_hour != last_reset_hour:\n        call_count_file.write_text(\"0\")\n        timestamp_file.write_text(current_hour)\n        log_status(Path(\"logs\"), \"INFO\", f\"Call counter reset for new hour: {current_hour}\")\n\n    if not exit_signals_file.exists():\n        exit_signals_file.write_text(\n            json.dumps(\n                {\"test_only_loops\": [], \"done_signals\": [], \"completion_indicators\": []}, indent=4\n            )\n        )\n</code></pre>"},{"location":"api/core_zh/#boring.core.should_exit_gracefully","title":"<code>should_exit_gracefully(exit_signals_file)</code>","text":"<p>Determines if the loop should exit gracefully based on signals.</p> <p>Parameters:</p> Name Type Description Default <code>exit_signals_file</code> <code>Path</code> <p>Path to exit signals file</p> required <p>Returns:</p> Type Description <code>str | None</code> <p>Exit reason string or None if no exit condition met</p> Source code in <code>src/boring/core/limiter.py</code> <pre><code>def should_exit_gracefully(exit_signals_file: Path) -&gt; str | None:\n    \"\"\"\n    Determines if the loop should exit gracefully based on signals.\n\n    Args:\n        exit_signals_file: Path to exit signals file\n\n    Returns:\n        Exit reason string or None if no exit condition met\n    \"\"\"\n    if not exit_signals_file.exists():\n        return None\n\n    signals_data = json.loads(exit_signals_file.read_text())\n\n    test_only_loops = signals_data.get(\"test_only_loops\", [])\n    done_signals = signals_data.get(\"done_signals\", [])\n    completion_indicators = signals_data.get(\"completion_indicators\", [])\n\n    if len(test_only_loops) &gt;= MAX_CONSECUTIVE_TEST_LOOPS:\n        log_status(\n            Path(\"logs\"),\n            \"WARN\",\n            f\"Exit condition: Too many test-focused loops ({len(test_only_loops)} &gt;= {MAX_CONSECUTIVE_TEST_LOOPS})\",\n        )\n        return \"test_saturation\"\n\n    if len(done_signals) &gt;= MAX_CONSECUTIVE_DONE_SIGNALS:\n        log_status(\n            Path(\"logs\"),\n            \"WARN\",\n            f\"Exit condition: Multiple completion signals ({len(done_signals)} &gt;= {MAX_CONSECUTIVE_DONE_SIGNALS})\",\n        )\n        return \"completion_signals\"\n\n    if len(completion_indicators) &gt;= 2:\n        log_status(\n            Path(\"logs\"),\n            \"WARN\",\n            f\"Exit condition: Strong completion indicators ({len(completion_indicators)})\",\n        )\n        return \"project_complete\"\n\n    # Check @fix_plan.md for completion\n    fix_plan_file = Path(\"@fix_plan.md\")\n    if fix_plan_file.exists():\n        content = fix_plan_file.read_text()\n        total_items = content.count(\"- [ ]\") + content.count(\"- [x]\")\n        completed_items = content.count(\"- [x]\")\n\n        if total_items &gt; 0 and completed_items == total_items:\n            log_status(\n                Path(\"logs\"),\n                \"WARN\",\n                f\"Exit condition: All fix_plan.md items completed ({completed_items}/{total_items})\",\n            )\n            return \"plan_complete\"\n\n    return None\n</code></pre>"},{"location":"api/core_zh/#boring.core.wait_for_reset","title":"<code>wait_for_reset(call_count_file, timestamp_file, max_calls_per_hour)</code>","text":"<p>Waits for the rate limit to reset with a countdown.</p> <p>Parameters:</p> Name Type Description Default <code>call_count_file</code> <code>Path</code> <p>Path to call count file</p> required <code>timestamp_file</code> <code>Path</code> <p>Path to timestamp file</p> required <code>max_calls_per_hour</code> <code>int</code> <p>Maximum allowed calls per hour</p> required Source code in <code>src/boring/core/limiter.py</code> <pre><code>def wait_for_reset(call_count_file: Path, timestamp_file: Path, max_calls_per_hour: int):\n    \"\"\"\n    Waits for the rate limit to reset with a countdown.\n\n    Args:\n        call_count_file: Path to call count file\n        timestamp_file: Path to timestamp file\n        max_calls_per_hour: Maximum allowed calls per hour\n    \"\"\"\n    calls_made = get_calls_made(call_count_file)\n    log_status(\n        Path(\"logs\"),\n        \"WARN\",\n        f\"Rate limit reached ({calls_made}/{max_calls_per_hour}). Waiting for reset...\",\n    )\n\n    now = datetime.now()\n    next_hour = (now + timedelta(hours=1)).replace(minute=0, second=0, microsecond=0)\n    wait_seconds = int((next_hour - now).total_seconds())\n\n    console.print(f\"[blue]Sleeping for {wait_seconds} seconds until next hour...[/blue]\")\n\n    with console.status(\"[bold green]Waiting for rate limit reset...[/bold green]\") as status:\n        while wait_seconds &gt; 0:\n            hours, remainder = divmod(wait_seconds, 3600)\n            minutes, seconds = divmod(remainder, 60)\n            status.update(\n                f\"[yellow]Time until reset: {hours:02d}:{minutes:02d}:{seconds:02d}[/yellow]\"\n            )\n            time.sleep(1)\n            wait_seconds -= 1\n\n    init_call_tracking(call_count_file, timestamp_file, Path(\".exit_signals\"))\n    log_status(Path(\"logs\"), \"SUCCESS\", \"Rate limit reset! Ready for new calls.\")\n</code></pre>"},{"location":"api/core_zh/#boring.core.get_log_tail","title":"<code>get_log_tail(log_dir, lines=10)</code>","text":"<p>Get the last N lines from the log file.</p> <p>Parameters:</p> Name Type Description Default <code>log_dir</code> <code>Path</code> <p>Directory containing boring.log</p> required <code>lines</code> <code>int</code> <p>Number of lines to return</p> <code>10</code> <p>Returns:</p> Type Description <code>list[str]</code> <p>List of log lines</p> Source code in <code>src/boring/core/logger.py</code> <pre><code>def get_log_tail(log_dir: Path, lines: int = 10) -&gt; list[str]:\n    \"\"\"\n    Get the last N lines from the log file.\n\n    Args:\n        log_dir: Directory containing boring.log\n        lines: Number of lines to return\n\n    Returns:\n        List of log lines\n    \"\"\"\n    log_file = log_dir / \"boring.log\"\n    if not log_file.exists():\n        return []\n\n    try:\n        with open(log_file, encoding=\"utf-8\") as f:\n            all_lines = f.readlines()\n            return [line.strip() for line in all_lines[-lines:]]\n    except Exception:\n        return []\n</code></pre>"},{"location":"api/core_zh/#boring.core.log_status","title":"<code>log_status(log_dir, level, message, **kwargs)</code>","text":"<p>Logs status messages using structlog with console and file output.</p> <p>Parameters:</p> Name Type Description Default <code>log_dir</code> <code>Any</code> <p>Directory for log files (Path or str). If None/False, only logs to console.</p> required <code>level</code> <code>str</code> <p>Log level (INFO, WARN, ERROR, SUCCESS, LOOP)</p> required <code>message</code> <code>str</code> <p>Message to log</p> required <code>**kwargs</code> <code>Any</code> <p>Additional structured fields</p> <code>{}</code> Source code in <code>src/boring/core/logger.py</code> <pre><code>def log_status(log_dir: Any, level: str, message: str, **kwargs: Any):\n    \"\"\"\n    Logs status messages using structlog with console and file output.\n\n    Args:\n        log_dir: Directory for log files (Path or str). If None/False, only logs to console.\n        level: Log level (INFO, WARN, ERROR, SUCCESS, LOOP)\n        message: Message to log\n        **kwargs: Additional structured fields\n    \"\"\"\n    timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n\n    # Setup file logging lazily if needed\n    if log_dir:\n        if isinstance(log_dir, str):\n            log_dir = Path(log_dir)\n\n        # Check if handlers need setup (simple check to avoid adding multiple handlers)\n        has_file_handler = any(isinstance(h, logging.FileHandler) for h in _logger.handlers)\n        if not has_file_handler:\n            setup_file_logging(log_dir)\n\n    # Console output with Rich colors\n    color_map = {\n        \"INFO\": \"blue\",\n        \"WARN\": \"yellow\",\n        \"ERROR\": \"red\",\n        \"SUCCESS\": \"green\",\n        \"LOOP\": \"purple\",\n        \"DEBUG\": \"dim\",\n        \"CRITICAL\": \"bold red\",\n        \"PLAN\": \"cyan\",  # New level for Vibe Coder planning\n        \"VIBE\": \"magenta\",  # New level for Vibe Coder interactions\n    }\n\n    # Emoji mapping for Vibe Coder\n    emoji_map = {\n        \"INFO\": \"\u2139\ufe0f \",\n        \"WARN\": \"\u26a0\ufe0f \",\n        \"ERROR\": \"\u274c \",\n        \"SUCCESS\": \"\u2705 \",\n        \"LOOP\": \"\ud83d\udd04 \",\n        \"DEBUG\": \"\ud83d\udc1b \",\n        \"CRITICAL\": \"\ud83d\udea8 \",\n        \"PLAN\": \"\ud83d\uddfa\ufe0f \",\n        \"VIBE\": \"\u2728 \",\n    }\n\n    style = color_map.get(level.upper(), \"default\")\n    emoji = emoji_map.get(level.upper(), \"\")\n\n    # Format extra fields for display\n    extra_str = \"\"\n    if kwargs:\n        extra_str = \" \" + \" \".join(f\"{k}={v}\" for k, v in kwargs.items())\n\n    console.print(f\"[{timestamp}] [[{level.upper()}]] {emoji}{message}{extra_str}\", style=style)\n\n    # Log to standard python logger (handled by file handlers)\n    # We pass kwargs as 'props' to be picked up by JSONFormatter\n    level_int = getattr(logging, level.upper(), logging.INFO)\n    if level.upper() in [\"SUCCESS\", \"LOOP\", \"PLAN\", \"VIBE\"]:\n        level_int = logging.INFO  # Map custom levels to INFO for standardized handling\n\n    record = logging.LogRecord(\"boring\", level_int, \"\", 0, message, args=(), exc_info=None)\n    record.props = kwargs\n    record.created = datetime.now().timestamp()  # Sync time\n    _logger.handle(record)\n</code></pre>"},{"location":"api/core_zh/#boring.core.update_status","title":"<code>update_status(status_file, loop_count, max_calls, last_action, status, exit_reason='', calls_made=None)</code>","text":"<p>Updates the status.json file for external monitoring.</p> <p>Parameters:</p> Name Type Description Default <code>status_file</code> <code>Path</code> <p>Path to status.json</p> required <code>loop_count</code> <code>int</code> <p>Current loop number</p> required <code>max_calls</code> <code>int</code> <p>Maximum calls per hour</p> required <code>last_action</code> <code>str</code> <p>Description of last action</p> required <code>status</code> <code>str</code> <p>Current status string</p> required <code>exit_reason</code> <code>str</code> <p>Reason for exit (if any)</p> <code>''</code> <code>calls_made</code> <code>int | None</code> <p>Number of API calls made</p> <code>None</code> Source code in <code>src/boring/core/logger.py</code> <pre><code>def update_status(\n    status_file: Path,\n    loop_count: int,\n    max_calls: int,\n    last_action: str,\n    status: str,\n    exit_reason: str = \"\",\n    calls_made: int | None = None,\n):\n    \"\"\"\n    Updates the status.json file for external monitoring.\n\n    Args:\n        status_file: Path to status.json\n        loop_count: Current loop number\n        max_calls: Maximum calls per hour\n        last_action: Description of last action\n        status: Current status string\n        exit_reason: Reason for exit (if any)\n        calls_made: Number of API calls made\n    \"\"\"\n    status_file.parent.mkdir(parents=True, exist_ok=True)\n    next_reset_time = (datetime.now() + timedelta(hours=1)).strftime(\"%H:%M:%S\")\n\n    if calls_made is None:\n        from .limiter import get_calls_made\n\n        calls_made = get_calls_made(Path(\".call_count\"))\n\n    status_data = {\n        \"timestamp\": datetime.now().isoformat(),\n        \"loop_count\": loop_count,\n        \"calls_made_this_hour\": calls_made,\n        \"max_calls_per_hour\": max_calls,\n        \"last_action\": last_action,\n        \"status\": status,\n        \"exit_reason\": exit_reason,\n        \"next_reset\": next_reset_time,\n    }\n\n    TransactionalFileWriter.write_json(status_file, status_data, indent=4)\n\n    # Log status update structurally\n    _logger.debug(\"status_updated\", loop=loop_count, status=status, calls=calls_made)\n</code></pre>"},{"location":"api/core_zh/#boring.core.__getattr__","title":"<code>__getattr__(name)</code>","text":"<p>Emit deprecation warning when accessing attributes from this module.</p> Source code in <code>src/boring/core/__init__.py</code> <pre><code>def __getattr__(name: str):\n    \"\"\"Emit deprecation warning when accessing attributes from this module.\"\"\"\n    # This is called when an attribute is accessed that doesn't exist directly\n    # Since we're re-exporting, this will only catch truly missing attributes\n    warnings.warn(\n        \"Importing from 'boring.core' is deprecated. \"\n        \"Please import directly from the appropriate module \"\n        \"(.circuit, .logger, or .limiter) instead.\",\n        DeprecationWarning,\n        stacklevel=2,\n    )\n    raise AttributeError(f\"module 'boring.core' has no attribute '{name}'\")\n</code></pre>"},{"location":"api/gemini_client/","title":"gemini_client","text":""},{"location":"api/gemini_client/#boring.gemini_client","title":"<code>boring.gemini_client</code>","text":"<p>Gemini SDK Client for Boring (V10.1 - Modular)</p> <p>This module now re-exports from the modular boring.llm package for backwards compatibility with existing code.</p> <p>The actual implementation is in: - boring.llm.sdk: GeminiClient core - boring.llm.tools: Function calling definitions - boring.llm.executor: Tool execution logic</p>"},{"location":"api/gemini_client/#boring.gemini_client.ToolExecutor","title":"<code>ToolExecutor</code>","text":"<p>Executes function calls from LLM responses.</p> <p>Handles: - File writes with security checks - Search/replace operations - Status reporting</p> Source code in <code>src/boring/llm/executor.py</code> <pre><code>class ToolExecutor:\n    \"\"\"\n    Executes function calls from LLM responses.\n\n    Handles:\n    - File writes with security checks\n    - Search/replace operations\n    - Status reporting\n    \"\"\"\n\n    def __init__(self, project_root: Path, log_dir: Path = None):\n        self.project_root = Path(project_root)\n        self.log_dir = log_dir or Path(\"logs\")\n\n    def process_function_calls(self, function_calls: list[dict[str, Any]]) -&gt; dict[str, Any]:\n        \"\"\"\n        Process and execute function calls returned by the model.\n\n        Args:\n            function_calls: List of function call dicts with 'name' and 'args'\n\n        Returns:\n            Dict with:\n            - files_written: List of files created/modified\n            - search_replaces: List of search/replace operations performed\n            - status: Status report if provided\n            - errors: List of any errors encountered\n        \"\"\"\n        result = {\"files_written\": [], \"search_replaces\": [], \"status\": None, \"errors\": []}\n\n        for fc in function_calls:\n            name = fc.get(\"name\", \"\")\n            args = fc.get(\"args\", {})\n\n            try:\n                if name == \"write_file\":\n                    self._handle_write_file(args, result)\n\n                elif name == \"search_replace\":\n                    self._handle_search_replace(args, result)\n\n                elif name == \"report_status\":\n                    self._handle_report_status(args, result)\n\n                else:\n                    log_status(self.log_dir, \"WARN\", f\"Unknown function: {name}\")\n\n            except Exception as e:\n                result[\"errors\"].append(f\"Error in {name}: {str(e)}\")\n                log_status(self.log_dir, \"ERROR\", f\"Function call error: {e}\")\n\n        return result\n\n    def _handle_write_file(self, args: dict[str, Any], result: dict[str, Any]) -&gt; None:\n        \"\"\"Handle write_file function call.\"\"\"\n        file_path = args.get(\"file_path\", \"\")\n        content = args.get(\"content\", \"\")\n\n        if file_path and content:\n            # Security check\n            if \"..\" in file_path or file_path.startswith((\"/\", \"\\\\\")):\n                result[\"errors\"].append(f\"Suspicious path: {file_path}\")\n                return\n\n            full_path = self.project_root / file_path\n            full_path.parent.mkdir(parents=True, exist_ok=True)\n            full_path.write_text(content, encoding=\"utf-8\")\n            result[\"files_written\"].append(file_path)\n            log_status(self.log_dir, \"SUCCESS\", f\"\u270f\ufe0f Wrote file: {file_path}\")\n\n    def _handle_search_replace(self, args: dict[str, Any], result: dict[str, Any]) -&gt; None:\n        \"\"\"Handle search_replace function call.\"\"\"\n        file_path = args.get(\"file_path\", \"\")\n        search = args.get(\"search\", \"\")\n        replace = args.get(\"replace\", \"\")\n\n        if file_path and search:\n            full_path = self.project_root / file_path\n            if full_path.exists():\n                content = full_path.read_text(encoding=\"utf-8\")\n                if search in content:\n                    new_content = content.replace(search, replace, 1)\n                    full_path.write_text(new_content, encoding=\"utf-8\")\n                    result[\"search_replaces\"].append(\n                        {\n                            \"file\": file_path,\n                            \"search\": search[:50] + \"...\" if len(search) &gt; 50 else search,\n                        }\n                    )\n                    log_status(self.log_dir, \"SUCCESS\", f\"\ud83d\udd04 Search/Replace in: {file_path}\")\n                else:\n                    result[\"errors\"].append(f\"Search text not found in {file_path}\")\n            else:\n                result[\"errors\"].append(f\"File not found: {file_path}\")\n\n    def _handle_report_status(self, args: dict[str, Any], result: dict[str, Any]) -&gt; None:\n        \"\"\"Handle report_status function call.\"\"\"\n        result[\"status\"] = {\n            \"status\": args.get(\"status\", \"IN_PROGRESS\"),\n            \"tasks_completed\": args.get(\"tasks_completed\", 0),\n            \"files_modified\": args.get(\"files_modified\", 0),\n            \"exit_signal\": args.get(\"exit_signal\", False),\n        }\n        log_status(\n            self.log_dir,\n            \"INFO\",\n            f\"Status: {result['status']['status']}, Exit: {result['status']['exit_signal']}\",\n        )\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.ToolExecutor.process_function_calls","title":"<code>process_function_calls(function_calls)</code>","text":"<p>Process and execute function calls returned by the model.</p> <p>Parameters:</p> Name Type Description Default <code>function_calls</code> <code>list[dict[str, Any]]</code> <p>List of function call dicts with 'name' and 'args'</p> required <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Dict with:</p> <code>dict[str, Any]</code> <ul> <li>files_written: List of files created/modified</li> </ul> <code>dict[str, Any]</code> <ul> <li>search_replaces: List of search/replace operations performed</li> </ul> <code>dict[str, Any]</code> <ul> <li>status: Status report if provided</li> </ul> <code>dict[str, Any]</code> <ul> <li>errors: List of any errors encountered</li> </ul> Source code in <code>src/boring/llm/executor.py</code> <pre><code>def process_function_calls(self, function_calls: list[dict[str, Any]]) -&gt; dict[str, Any]:\n    \"\"\"\n    Process and execute function calls returned by the model.\n\n    Args:\n        function_calls: List of function call dicts with 'name' and 'args'\n\n    Returns:\n        Dict with:\n        - files_written: List of files created/modified\n        - search_replaces: List of search/replace operations performed\n        - status: Status report if provided\n        - errors: List of any errors encountered\n    \"\"\"\n    result = {\"files_written\": [], \"search_replaces\": [], \"status\": None, \"errors\": []}\n\n    for fc in function_calls:\n        name = fc.get(\"name\", \"\")\n        args = fc.get(\"args\", {})\n\n        try:\n            if name == \"write_file\":\n                self._handle_write_file(args, result)\n\n            elif name == \"search_replace\":\n                self._handle_search_replace(args, result)\n\n            elif name == \"report_status\":\n                self._handle_report_status(args, result)\n\n            else:\n                log_status(self.log_dir, \"WARN\", f\"Unknown function: {name}\")\n\n        except Exception as e:\n            result[\"errors\"].append(f\"Error in {name}: {str(e)}\")\n            log_status(self.log_dir, \"ERROR\", f\"Function call error: {e}\")\n\n    return result\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.GeminiClient","title":"<code>GeminiClient</code>","text":"<p>Lightweight wrapper around the Google Gen AI SDK.</p> <p>V10 Changes: - Modular architecture (tools and executor separate) - Stateless client pattern - Updated for google-genai SDK</p> <p>Handles: - API key configuration - Content generation - Rate limit handling - Error recovery</p> Source code in <code>src/boring/llm/sdk.py</code> <pre><code>class GeminiClient:\n    \"\"\"\n    Lightweight wrapper around the Google Gen AI SDK.\n\n    V10 Changes:\n    - Modular architecture (tools and executor separate)\n    - Stateless client pattern\n    - Updated for google-genai SDK\n\n    Handles:\n    - API key configuration\n    - Content generation\n    - Rate limit handling\n    - Error recovery\n    \"\"\"\n\n    def __init__(\n        self,\n        api_key: str | None = None,\n        model_name: str = DEFAULT_MODEL,\n        log_dir: Path = Path(\"logs\"),\n    ):\n        \"\"\"\n        Initialize the Gemini client.\n\n        Args:\n            api_key: Google API key. If None, reads from GOOGLE_API_KEY env var.\n            model_name: Gemini model to use.\n            log_dir: Directory for logging.\n        \"\"\"\n        self.log_dir = log_dir\n        self.model_name = model_name\n\n        if not GENAI_AVAILABLE:\n            raise ImportError(\n                \"google-genai package not installed. Install with: pip install google-genai\"\n            )\n\n        # Get API key (Prioritize arg -&gt; settings -&gt; env)\n        self.api_key = api_key or settings.GOOGLE_API_KEY or os.environ.get(\"GOOGLE_API_KEY\", \"\")\n\n        self.backend = \"sdk\"\n        self.cli_adapter = None\n\n        if not self.api_key:\n            # Fallback to CLI if possible\n            from ..cli_client import GeminiCLIAdapter, check_cli_available\n\n            if check_cli_available():\n                from ..cli_client import check_cli_authenticated\n\n                is_auth, auth_msg = check_cli_authenticated()\n                if not is_auth:\n                    raise ValueError(\n                        f\"GOOGLE_API_KEY not set and Gemini CLI is not authenticated.\\n\"\n                        f\"Reason: {auth_msg}\\n\"\n                        f\"Please set GOOGLE_API_KEY or run 'gemini login'.\"\n                    )\n\n                _logger.info(\"No API key found. Falling back to Gemini CLI backend.\")\n                self.backend = \"cli\"\n                self.cli_adapter = GeminiCLIAdapter(\n                    model_name=self.model_name, log_dir=self.log_dir\n                )\n            else:\n                raise ValueError(\n                    \"GOOGLE_API_KEY not set and Gemini CLI not found. \"\n                    \"Please set GOOGLE_API_KEY or install @google/gemini-cli.\"\n                )\n\n        # Initialize SDK client if using SDK backend\n        if self.backend == \"sdk\":\n            self.client = genai.Client(api_key=self.api_key)\n        else:\n            self.client = None\n\n        # Get tools for function calling\n        self.tools = get_boring_tools()\n        self.use_function_calling = len(self.tools) &gt; 0\n\n        # V14: Semantic Cache (Lazy loaded)\n        self._semantic_cache = None\n\n        log_status(self.log_dir, \"INFO\", f\"Gemini SDK V10 initialized with model: {model_name}\")\n\n    def _get_semantic_cache(self):\n        \"\"\"Lazy load semantic cache.\"\"\"\n        if self._semantic_cache is None:\n            if settings.SEMANTIC_CACHE_ENABLED:\n                from ..intelligence.semantic_cache import get_semantic_cache\n\n                self._semantic_cache = get_semantic_cache()\n            else:\n                self._semantic_cache = False  # Disabled\n        return self._semantic_cache if self._semantic_cache else None\n\n    def generate(\n        self,\n        prompt: str,\n        context: str = \"\",\n        system_instruction: str = \"\",\n        timeout_seconds: int = settings.TIMEOUT_MINUTES * 60,\n    ) -&gt; tuple[str, bool]:\n        \"\"\"\n        Generate content using Gemini.\n        \"\"\"\n        # V14: Language Injection\n        lang = settings.LANGUAGE\n        if lang and lang != \"en\" and lang in SUPPORTED_LANGUAGES:\n            lang_name = SUPPORTED_LANGUAGES[lang]\n            instruction_add = f\"\\n\\nIMPORTANT: You MUST communicate in {lang_name} for all explanations. Code must remain in English.\"\n            if not system_instruction:\n                system_instruction = SYSTEM_INSTRUCTION_OPTIMIZED + instruction_add\n            else:\n                system_instruction += instruction_add\n\n        # V14: Check Semantic Cache\n        cache = self._get_semantic_cache()\n        if cache:\n            # We cache by prompt + system_instruction to be safe\n            cache_key = f\"{system_instruction}\\n{prompt}\"\n            cached_res = cache.get(cache_key)\n            if cached_res:\n                return cached_res, True\n\n        # Build the full prompt\n        full_prompt_parts = []\n\n        if context:\n            full_prompt_parts.append(f\"# Context\\n{context}\")\n\n        full_prompt_parts.append(f\"# Task\\n{prompt}\")\n\n        full_prompt = \"\\n\\n---\\n\\n\".join(full_prompt_parts)\n\n        # Build contents with proper Part objects\n        contents = [types.Content(role=\"user\", parts=[types.Part(text=full_prompt)])]\n\n        try:\n            if self.backend == \"cli\":\n                return self.cli_adapter.generate(prompt, context)\n\n            # Generate content using stateless client\n            try:\n                response = self.client.models.generate_content(\n                    model=self.model_name,\n                    contents=contents,\n                    config=types.GenerateContentConfig(\n                        system_instruction=system_instruction or SYSTEM_INSTRUCTION_OPTIMIZED,\n                        temperature=0.7,\n                        max_output_tokens=8192,\n                    ),\n                )\n            except Exception as e:\n                # Handle Model Not Found (404) with fallback\n                if \"404\" in str(e) or \"not found\" in str(e).lower():\n                    fallback_model = \"gemini-1.5-flash\"\n                    if self.model_name != fallback_model:\n                        _logger.warning(\n                            f\"Model {self.model_name} not found. Falling back to {fallback_model}\"\n                        )\n                        response = self.client.models.generate_content(\n                            model=fallback_model,\n                            contents=contents,\n                            config=types.GenerateContentConfig(\n                                system_instruction=system_instruction\n                                or SYSTEM_INSTRUCTION_OPTIMIZED,\n                                temperature=0.7,\n                                max_output_tokens=8192,\n                            ),\n                        )\n                    else:\n                        raise e\n                else:\n                    raise e\n\n            # Extract text from response (Pydantic model)\n            if response and response.text:\n                # V14: Save to Semantic Cache\n                if cache:\n                    cache.set(cache_key, response.text)\n                return response.text, True\n            else:\n                log_status(self.log_dir, \"WARN\", \"Empty response from Gemini\")\n                return \"\", False\n\n        except Exception as e:\n            error_str = str(e).lower()\n            if \"429\" in str(e) or \"resource_exhausted\" in error_str:\n                log_status(self.log_dir, \"ERROR\", f\"Rate limit exceeded: {e}\")\n                return f\"RATE_LIMIT_ERROR: {e}\", False\n            elif \"deadline\" in error_str or \"timeout\" in error_str:\n                log_status(self.log_dir, \"ERROR\", f\"Request timeout: {e}\")\n                return f\"TIMEOUT_ERROR: {e}\", False\n            else:\n                log_status(self.log_dir, \"ERROR\", f\"Unexpected error: {e}\")\n                return f\"UNEXPECTED_ERROR: {e}\", False\n\n    def generate_with_retry(\n        self,\n        prompt: str,\n        context: str = \"\",\n        system_instruction: str = \"\",\n        max_retries: int = 3,\n        base_delay: float = 2.0,\n    ) -&gt; tuple[str, bool]:\n        \"\"\"\n        Generate content with exponential backoff retry.\n        \"\"\"\n        for attempt in range(max_retries):\n            response, success = self.generate(prompt, context, system_instruction)\n\n            if success:\n                return response, True\n\n            # Check if it's a rate limit error or server overloaded\n            if (\n                \"RATE_LIMIT_ERROR\" in response\n                or \"503\" in response\n                or \"overloaded\" in str(response).lower()\n            ):\n                delay = base_delay * (2**attempt)\n                log_status(\n                    self.log_dir,\n                    \"WARN\",\n                    f\"Rate limited/Overloaded, retrying in {delay:.1f}s (attempt {attempt + 1}/{max_retries})\",\n                )\n                time.sleep(delay)\n                continue\n\n            # For other errors, don't retry\n            break\n\n        return response, False\n\n    def generate_with_tools(\n        self, prompt: str, context: str = \"\", timeout_seconds: int = settings.TIMEOUT_MINUTES * 60\n    ) -&gt; tuple[str, list[dict[str, Any]], bool]:\n        \"\"\"\n        Generate content using Gemini with Function Calling.\n\n        \"\"\"\n        # V14: Language Injection\n        lang = settings.LANGUAGE\n        system_instruction_to_use = SYSTEM_INSTRUCTION_OPTIMIZED\n        if lang and lang != \"en\" and lang in SUPPORTED_LANGUAGES:\n            lang_name = SUPPORTED_LANGUAGES[lang]\n            instruction_add = f\"\\n\\nIMPORTANT: You MUST communicate in {lang_name} for all explanations. Code must remain in English.\"\n            system_instruction_to_use += instruction_add\n\n        # V14: Check Semantic Cache\n        cache = self._get_semantic_cache()\n        cache_key = f\"tools\\n{context}\\n{prompt}\" if cache else None\n        if cache:\n            cached_res = cache.get(cache_key)\n            if cached_res:\n                try:\n                    import json\n\n                    data = json.loads(cached_res)\n                    return data.get(\"text\", \"\"), data.get(\"function_calls\", []), True\n                except Exception:\n                    pass\n\n        full_prompt_parts = []\n        if context:\n            full_prompt_parts.append(f\"# Context\\n{context}\")\n        full_prompt_parts.append(f\"# Task\\n{prompt}\")\n        full_prompt = \"\\n\\n---\\n\\n\".join(full_prompt_parts)\n\n        # Build contents\n        contents = [types.Content(role=\"user\", parts=[types.Part(text=full_prompt)])]\n\n        try:\n            if self.backend == \"cli\":\n                res = self.cli_adapter.generate_with_tools(prompt, context)\n                return res.text, res.function_calls, res.success\n\n            try:\n                response = self.client.models.generate_content(\n                    model=self.model_name,\n                    contents=contents,\n                    config=types.GenerateContentConfig(\n                        system_instruction=system_instruction_to_use,\n                        temperature=0.7,\n                        max_output_tokens=8192,\n                        tools=self.tools if self.use_function_calling else None,\n                    ),\n                )\n            except Exception as e:\n                # Handle Model Not Found (404) with fallback\n                if \"404\" in str(e) or \"not found\" in str(e).lower():\n                    fallback_model = \"gemini-1.5-flash\"\n                    if self.model_name != fallback_model:\n                        _logger.warning(\n                            f\"Model {self.model_name} not found in tools call. Falling back to {fallback_model}\"\n                        )\n                        response = self.client.models.generate_content(\n                            model=fallback_model,\n                            contents=contents,\n                            config=types.GenerateContentConfig(\n                                system_instruction=system_instruction_to_use,\n                                temperature=0.7,\n                                max_output_tokens=8192,\n                                tools=self.tools if self.use_function_calling else None,\n                            ),\n                        )\n                    else:\n                        raise e\n                else:\n                    raise e\n\n            # Extract function calls and text\n            function_calls = []\n            text_parts = []\n\n            if response.candidates:\n                for candidate in response.candidates:\n                    if hasattr(candidate, \"content\") and candidate.content:\n                        for part in candidate.content.parts:\n                            # Check for function call\n                            if hasattr(part, \"function_call\") and part.function_call:\n                                fc = part.function_call\n                                # Use model_dump() for Pydantic models\n                                args = dict(fc.args) if hasattr(fc.args, \"__iter__\") else {}\n                                function_calls.append({\"name\": fc.name, \"args\": args})\n                            # Check for text\n                            elif hasattr(part, \"text\") and part.text:\n                                text_parts.append(part.text)\n\n            text_response = \"\\n\".join(text_parts)\n\n            if function_calls:\n                log_status(\n                    self.log_dir,\n                    \"INFO\",\n                    f\"Received {len(function_calls)} function call(s): {[fc['name'] for fc in function_calls]}\",\n                )\n\n            # V14: Save to Semantic Cache\n            if cache:\n                try:\n                    import json\n\n                    cache.set(\n                        cache_key,\n                        json.dumps({\"text\": text_response, \"function_calls\": function_calls}),\n                    )\n                except Exception:\n                    pass\n\n            return text_response, function_calls, True\n\n        except Exception as e:\n            error_str = str(e).lower()\n            if \"429\" in str(e) or \"resource_exhausted\" in error_str:\n                log_status(self.log_dir, \"ERROR\", f\"Rate limit exceeded: {e}\")\n                return f\"RATE_LIMIT_ERROR: {e}\", [], False\n            elif \"deadline\" in error_str or \"timeout\" in error_str:\n                log_status(self.log_dir, \"ERROR\", f\"Request timeout: {e}\")\n                return f\"TIMEOUT_ERROR: {e}\", [], False\n            else:\n                log_status(self.log_dir, \"ERROR\", f\"Unexpected error in generate_with_tools: {e}\")\n                return f\"UNEXPECTED_ERROR: {e}\", [], False\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.GeminiClient.__init__","title":"<code>__init__(api_key=None, model_name=DEFAULT_MODEL, log_dir=Path('logs'))</code>","text":"<p>Initialize the Gemini client.</p> <p>Parameters:</p> Name Type Description Default <code>api_key</code> <code>str | None</code> <p>Google API key. If None, reads from GOOGLE_API_KEY env var.</p> <code>None</code> <code>model_name</code> <code>str</code> <p>Gemini model to use.</p> <code>DEFAULT_MODEL</code> <code>log_dir</code> <code>Path</code> <p>Directory for logging.</p> <code>Path('logs')</code> Source code in <code>src/boring/llm/sdk.py</code> <pre><code>def __init__(\n    self,\n    api_key: str | None = None,\n    model_name: str = DEFAULT_MODEL,\n    log_dir: Path = Path(\"logs\"),\n):\n    \"\"\"\n    Initialize the Gemini client.\n\n    Args:\n        api_key: Google API key. If None, reads from GOOGLE_API_KEY env var.\n        model_name: Gemini model to use.\n        log_dir: Directory for logging.\n    \"\"\"\n    self.log_dir = log_dir\n    self.model_name = model_name\n\n    if not GENAI_AVAILABLE:\n        raise ImportError(\n            \"google-genai package not installed. Install with: pip install google-genai\"\n        )\n\n    # Get API key (Prioritize arg -&gt; settings -&gt; env)\n    self.api_key = api_key or settings.GOOGLE_API_KEY or os.environ.get(\"GOOGLE_API_KEY\", \"\")\n\n    self.backend = \"sdk\"\n    self.cli_adapter = None\n\n    if not self.api_key:\n        # Fallback to CLI if possible\n        from ..cli_client import GeminiCLIAdapter, check_cli_available\n\n        if check_cli_available():\n            from ..cli_client import check_cli_authenticated\n\n            is_auth, auth_msg = check_cli_authenticated()\n            if not is_auth:\n                raise ValueError(\n                    f\"GOOGLE_API_KEY not set and Gemini CLI is not authenticated.\\n\"\n                    f\"Reason: {auth_msg}\\n\"\n                    f\"Please set GOOGLE_API_KEY or run 'gemini login'.\"\n                )\n\n            _logger.info(\"No API key found. Falling back to Gemini CLI backend.\")\n            self.backend = \"cli\"\n            self.cli_adapter = GeminiCLIAdapter(\n                model_name=self.model_name, log_dir=self.log_dir\n            )\n        else:\n            raise ValueError(\n                \"GOOGLE_API_KEY not set and Gemini CLI not found. \"\n                \"Please set GOOGLE_API_KEY or install @google/gemini-cli.\"\n            )\n\n    # Initialize SDK client if using SDK backend\n    if self.backend == \"sdk\":\n        self.client = genai.Client(api_key=self.api_key)\n    else:\n        self.client = None\n\n    # Get tools for function calling\n    self.tools = get_boring_tools()\n    self.use_function_calling = len(self.tools) &gt; 0\n\n    # V14: Semantic Cache (Lazy loaded)\n    self._semantic_cache = None\n\n    log_status(self.log_dir, \"INFO\", f\"Gemini SDK V10 initialized with model: {model_name}\")\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.GeminiClient.generate","title":"<code>generate(prompt, context='', system_instruction='', timeout_seconds=settings.TIMEOUT_MINUTES * 60)</code>","text":"<p>Generate content using Gemini.</p> Source code in <code>src/boring/llm/sdk.py</code> <pre><code>def generate(\n    self,\n    prompt: str,\n    context: str = \"\",\n    system_instruction: str = \"\",\n    timeout_seconds: int = settings.TIMEOUT_MINUTES * 60,\n) -&gt; tuple[str, bool]:\n    \"\"\"\n    Generate content using Gemini.\n    \"\"\"\n    # V14: Language Injection\n    lang = settings.LANGUAGE\n    if lang and lang != \"en\" and lang in SUPPORTED_LANGUAGES:\n        lang_name = SUPPORTED_LANGUAGES[lang]\n        instruction_add = f\"\\n\\nIMPORTANT: You MUST communicate in {lang_name} for all explanations. Code must remain in English.\"\n        if not system_instruction:\n            system_instruction = SYSTEM_INSTRUCTION_OPTIMIZED + instruction_add\n        else:\n            system_instruction += instruction_add\n\n    # V14: Check Semantic Cache\n    cache = self._get_semantic_cache()\n    if cache:\n        # We cache by prompt + system_instruction to be safe\n        cache_key = f\"{system_instruction}\\n{prompt}\"\n        cached_res = cache.get(cache_key)\n        if cached_res:\n            return cached_res, True\n\n    # Build the full prompt\n    full_prompt_parts = []\n\n    if context:\n        full_prompt_parts.append(f\"# Context\\n{context}\")\n\n    full_prompt_parts.append(f\"# Task\\n{prompt}\")\n\n    full_prompt = \"\\n\\n---\\n\\n\".join(full_prompt_parts)\n\n    # Build contents with proper Part objects\n    contents = [types.Content(role=\"user\", parts=[types.Part(text=full_prompt)])]\n\n    try:\n        if self.backend == \"cli\":\n            return self.cli_adapter.generate(prompt, context)\n\n        # Generate content using stateless client\n        try:\n            response = self.client.models.generate_content(\n                model=self.model_name,\n                contents=contents,\n                config=types.GenerateContentConfig(\n                    system_instruction=system_instruction or SYSTEM_INSTRUCTION_OPTIMIZED,\n                    temperature=0.7,\n                    max_output_tokens=8192,\n                ),\n            )\n        except Exception as e:\n            # Handle Model Not Found (404) with fallback\n            if \"404\" in str(e) or \"not found\" in str(e).lower():\n                fallback_model = \"gemini-1.5-flash\"\n                if self.model_name != fallback_model:\n                    _logger.warning(\n                        f\"Model {self.model_name} not found. Falling back to {fallback_model}\"\n                    )\n                    response = self.client.models.generate_content(\n                        model=fallback_model,\n                        contents=contents,\n                        config=types.GenerateContentConfig(\n                            system_instruction=system_instruction\n                            or SYSTEM_INSTRUCTION_OPTIMIZED,\n                            temperature=0.7,\n                            max_output_tokens=8192,\n                        ),\n                    )\n                else:\n                    raise e\n            else:\n                raise e\n\n        # Extract text from response (Pydantic model)\n        if response and response.text:\n            # V14: Save to Semantic Cache\n            if cache:\n                cache.set(cache_key, response.text)\n            return response.text, True\n        else:\n            log_status(self.log_dir, \"WARN\", \"Empty response from Gemini\")\n            return \"\", False\n\n    except Exception as e:\n        error_str = str(e).lower()\n        if \"429\" in str(e) or \"resource_exhausted\" in error_str:\n            log_status(self.log_dir, \"ERROR\", f\"Rate limit exceeded: {e}\")\n            return f\"RATE_LIMIT_ERROR: {e}\", False\n        elif \"deadline\" in error_str or \"timeout\" in error_str:\n            log_status(self.log_dir, \"ERROR\", f\"Request timeout: {e}\")\n            return f\"TIMEOUT_ERROR: {e}\", False\n        else:\n            log_status(self.log_dir, \"ERROR\", f\"Unexpected error: {e}\")\n            return f\"UNEXPECTED_ERROR: {e}\", False\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.GeminiClient.generate_with_retry","title":"<code>generate_with_retry(prompt, context='', system_instruction='', max_retries=3, base_delay=2.0)</code>","text":"<p>Generate content with exponential backoff retry.</p> Source code in <code>src/boring/llm/sdk.py</code> <pre><code>def generate_with_retry(\n    self,\n    prompt: str,\n    context: str = \"\",\n    system_instruction: str = \"\",\n    max_retries: int = 3,\n    base_delay: float = 2.0,\n) -&gt; tuple[str, bool]:\n    \"\"\"\n    Generate content with exponential backoff retry.\n    \"\"\"\n    for attempt in range(max_retries):\n        response, success = self.generate(prompt, context, system_instruction)\n\n        if success:\n            return response, True\n\n        # Check if it's a rate limit error or server overloaded\n        if (\n            \"RATE_LIMIT_ERROR\" in response\n            or \"503\" in response\n            or \"overloaded\" in str(response).lower()\n        ):\n            delay = base_delay * (2**attempt)\n            log_status(\n                self.log_dir,\n                \"WARN\",\n                f\"Rate limited/Overloaded, retrying in {delay:.1f}s (attempt {attempt + 1}/{max_retries})\",\n            )\n            time.sleep(delay)\n            continue\n\n        # For other errors, don't retry\n        break\n\n    return response, False\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.GeminiClient.generate_with_tools","title":"<code>generate_with_tools(prompt, context='', timeout_seconds=settings.TIMEOUT_MINUTES * 60)</code>","text":"<p>Generate content using Gemini with Function Calling.</p> Source code in <code>src/boring/llm/sdk.py</code> <pre><code>def generate_with_tools(\n    self, prompt: str, context: str = \"\", timeout_seconds: int = settings.TIMEOUT_MINUTES * 60\n) -&gt; tuple[str, list[dict[str, Any]], bool]:\n    \"\"\"\n    Generate content using Gemini with Function Calling.\n\n    \"\"\"\n    # V14: Language Injection\n    lang = settings.LANGUAGE\n    system_instruction_to_use = SYSTEM_INSTRUCTION_OPTIMIZED\n    if lang and lang != \"en\" and lang in SUPPORTED_LANGUAGES:\n        lang_name = SUPPORTED_LANGUAGES[lang]\n        instruction_add = f\"\\n\\nIMPORTANT: You MUST communicate in {lang_name} for all explanations. Code must remain in English.\"\n        system_instruction_to_use += instruction_add\n\n    # V14: Check Semantic Cache\n    cache = self._get_semantic_cache()\n    cache_key = f\"tools\\n{context}\\n{prompt}\" if cache else None\n    if cache:\n        cached_res = cache.get(cache_key)\n        if cached_res:\n            try:\n                import json\n\n                data = json.loads(cached_res)\n                return data.get(\"text\", \"\"), data.get(\"function_calls\", []), True\n            except Exception:\n                pass\n\n    full_prompt_parts = []\n    if context:\n        full_prompt_parts.append(f\"# Context\\n{context}\")\n    full_prompt_parts.append(f\"# Task\\n{prompt}\")\n    full_prompt = \"\\n\\n---\\n\\n\".join(full_prompt_parts)\n\n    # Build contents\n    contents = [types.Content(role=\"user\", parts=[types.Part(text=full_prompt)])]\n\n    try:\n        if self.backend == \"cli\":\n            res = self.cli_adapter.generate_with_tools(prompt, context)\n            return res.text, res.function_calls, res.success\n\n        try:\n            response = self.client.models.generate_content(\n                model=self.model_name,\n                contents=contents,\n                config=types.GenerateContentConfig(\n                    system_instruction=system_instruction_to_use,\n                    temperature=0.7,\n                    max_output_tokens=8192,\n                    tools=self.tools if self.use_function_calling else None,\n                ),\n            )\n        except Exception as e:\n            # Handle Model Not Found (404) with fallback\n            if \"404\" in str(e) or \"not found\" in str(e).lower():\n                fallback_model = \"gemini-1.5-flash\"\n                if self.model_name != fallback_model:\n                    _logger.warning(\n                        f\"Model {self.model_name} not found in tools call. Falling back to {fallback_model}\"\n                    )\n                    response = self.client.models.generate_content(\n                        model=fallback_model,\n                        contents=contents,\n                        config=types.GenerateContentConfig(\n                            system_instruction=system_instruction_to_use,\n                            temperature=0.7,\n                            max_output_tokens=8192,\n                            tools=self.tools if self.use_function_calling else None,\n                        ),\n                    )\n                else:\n                    raise e\n            else:\n                raise e\n\n        # Extract function calls and text\n        function_calls = []\n        text_parts = []\n\n        if response.candidates:\n            for candidate in response.candidates:\n                if hasattr(candidate, \"content\") and candidate.content:\n                    for part in candidate.content.parts:\n                        # Check for function call\n                        if hasattr(part, \"function_call\") and part.function_call:\n                            fc = part.function_call\n                            # Use model_dump() for Pydantic models\n                            args = dict(fc.args) if hasattr(fc.args, \"__iter__\") else {}\n                            function_calls.append({\"name\": fc.name, \"args\": args})\n                        # Check for text\n                        elif hasattr(part, \"text\") and part.text:\n                            text_parts.append(part.text)\n\n        text_response = \"\\n\".join(text_parts)\n\n        if function_calls:\n            log_status(\n                self.log_dir,\n                \"INFO\",\n                f\"Received {len(function_calls)} function call(s): {[fc['name'] for fc in function_calls]}\",\n            )\n\n        # V14: Save to Semantic Cache\n        if cache:\n            try:\n                import json\n\n                cache.set(\n                    cache_key,\n                    json.dumps({\"text\": text_response, \"function_calls\": function_calls}),\n                )\n            except Exception:\n                pass\n\n        return text_response, function_calls, True\n\n    except Exception as e:\n        error_str = str(e).lower()\n        if \"429\" in str(e) or \"resource_exhausted\" in error_str:\n            log_status(self.log_dir, \"ERROR\", f\"Rate limit exceeded: {e}\")\n            return f\"RATE_LIMIT_ERROR: {e}\", [], False\n        elif \"deadline\" in error_str or \"timeout\" in error_str:\n            log_status(self.log_dir, \"ERROR\", f\"Request timeout: {e}\")\n            return f\"TIMEOUT_ERROR: {e}\", [], False\n        else:\n            log_status(self.log_dir, \"ERROR\", f\"Unexpected error in generate_with_tools: {e}\")\n            return f\"UNEXPECTED_ERROR: {e}\", [], False\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.create_gemini_client","title":"<code>create_gemini_client(log_dir=Path('logs'), model_name=DEFAULT_MODEL)</code>","text":"<p>Factory function to create a GeminiClient.</p> <p>Raises:</p> Type Description <code>ImportError</code> <p>If required packages are missing.</p> <code>ValueError</code> <p>If authentication is missing or invalid.</p> Source code in <code>src/boring/llm/sdk.py</code> <pre><code>def create_gemini_client(\n    log_dir: Path = Path(\"logs\"), model_name: str = DEFAULT_MODEL\n) -&gt; GeminiClient:\n    \"\"\"\n    Factory function to create a GeminiClient.\n\n    Raises:\n        ImportError: If required packages are missing.\n        ValueError: If authentication is missing or invalid.\n    \"\"\"\n    return GeminiClient(log_dir=log_dir, model_name=model_name)\n</code></pre>"},{"location":"api/gemini_client/#boring.gemini_client.get_boring_tools","title":"<code>get_boring_tools()</code>","text":"<p>Return tool definitions compatible with google-genai SDK.</p> Source code in <code>src/boring/llm/tools.py</code> <pre><code>def get_boring_tools() -&gt; list[Any]:\n    \"\"\"Return tool definitions compatible with google-genai SDK.\"\"\"\n    if not GENAI_AVAILABLE:\n        return []\n\n    return [\n        types.Tool(\n            function_declarations=[\n                types.FunctionDeclaration(\n                    name=\"write_file\",\n                    description=\"Writes complete code to a file. Use this for new files or complete rewrites.\",\n                    parameters=types.Schema(\n                        type=types.Type.OBJECT,\n                        properties={\n                            \"file_path\": types.Schema(\n                                type=types.Type.STRING,\n                                description=\"Relative path to the file, e.g., src/main.py\",\n                            ),\n                            \"content\": types.Schema(\n                                type=types.Type.STRING,\n                                description=\"The complete code content to write.\",\n                            ),\n                        },\n                        required=[\"file_path\", \"content\"],\n                    ),\n                ),\n                types.FunctionDeclaration(\n                    name=\"search_replace\",\n                    description=\"Perform a targeted search-and-replace on an existing file. More efficient than rewriting entire files.\",\n                    parameters=types.Schema(\n                        type=types.Type.OBJECT,\n                        properties={\n                            \"file_path\": types.Schema(\n                                type=types.Type.STRING,\n                                description=\"Relative path to the file to modify\",\n                            ),\n                            \"search\": types.Schema(\n                                type=types.Type.STRING,\n                                description=\"The exact text to search for (must match exactly)\",\n                            ),\n                            \"replace\": types.Schema(\n                                type=types.Type.STRING,\n                                description=\"The text to replace the search text with\",\n                            ),\n                        },\n                        required=[\"file_path\", \"search\", \"replace\"],\n                    ),\n                ),\n                types.FunctionDeclaration(\n                    name=\"report_status\",\n                    description=\"Report the current task status. Call this at the end of every response.\",\n                    parameters=types.Schema(\n                        type=types.Type.OBJECT,\n                        properties={\n                            \"status\": types.Schema(\n                                type=types.Type.STRING,\n                                description=\"Current status of the task (IN_PROGRESS or COMPLETE)\",\n                            ),\n                            \"tasks_completed\": types.Schema(\n                                type=types.Type.INTEGER,\n                                description=\"Number of tasks completed in this loop\",\n                            ),\n                            \"files_modified\": types.Schema(\n                                type=types.Type.INTEGER, description=\"Number of files modified\"\n                            ),\n                            \"exit_signal\": types.Schema(\n                                type=types.Type.BOOLEAN,\n                                description=\"True only if ALL tasks in @fix_plan.md are marked [x]\",\n                            ),\n                        },\n                        required=[\"status\", \"tasks_completed\", \"files_modified\", \"exit_signal\"],\n                    ),\n                ),\n            ]\n        )\n    ]\n</code></pre>"},{"location":"api/hooks_zh/","title":"Git Hooks API \u53c3\u8003","text":""},{"location":"api/hooks_zh/#boring.hooks","title":"<code>boring.hooks</code>","text":"<p>Git Hooks Module for Boring Local Teams.</p> <p>Provides pre-commit and pre-push hooks that run Boring verification before allowing commits/pushes. This implements a local version of \"Boring for Teams\" without requiring server infrastructure.</p>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager","title":"<code>HooksManager</code>","text":"<p>Manages Git hooks installation and removal.</p> Source code in <code>src/boring/hooks.py</code> <pre><code>class HooksManager:\n    \"\"\"Manages Git hooks installation and removal.\"\"\"\n\n    def __init__(self, project_root: Path = None):\n        self.project_root = project_root or Path.cwd()\n        self.git_dir = self.project_root / \".git\"\n        self.hooks_dir = self.git_dir / \"hooks\"\n\n    def _get_venv_python_path(self) -&gt; Path | None:\n        \"\"\"Determines the path to the Python executable in the project's virtual environment.\"\"\"\n        venv_path = self.project_root / \".venv\"\n        if not venv_path.is_dir():\n            return None\n\n        # Prioritize Windows path\n        win_python = venv_path / \"Scripts\" / \"python.exe\"\n        if win_python.exists():\n            return win_python\n\n        # Fallback to Unix-like path\n        unix_python = venv_path / \"bin\" / \"python\"\n        if unix_python.exists():\n            return unix_python\n\n        return None\n\n    def is_git_repo(self) -&gt; bool:\n        \"\"\"Check if current directory is a Git repository.\"\"\"\n        return self.git_dir.exists() and self.git_dir.is_dir()\n\n    def install_hook(self, hook_name: str, content: str) -&gt; tuple[bool, str]:\n        \"\"\"Install a single Git hook.\"\"\"\n        if not self.is_git_repo():\n            return False, \"Not a Git repository. Run 'git init' first.\"\n\n        # Ensure hooks directory exists\n        self.hooks_dir.mkdir(exist_ok=True)\n\n        hook_path = self.hooks_dir / hook_name\n\n        # Check for existing hook\n        if hook_path.exists():\n            # Backup existing hook\n            backup_path = hook_path.with_suffix(\".backup\")\n            hook_path.rename(backup_path)\n            console.print(f\"[yellow]Backed up existing {hook_name} to {hook_name}.backup[/yellow]\")\n\n        # Get absolute path to the virtual environment's python executable\n        # This will be embedded directly into the hook script\n        venv_python_path_windows = self.project_root / \".venv\" / \"Scripts\" / \"python.exe\"\n        venv_python_path_unix = self.project_root / \".venv\" / \"bin\" / \"python\"\n\n        if venv_python_path_windows.exists():\n            python_exe = venv_python_path_windows.as_posix()\n        elif venv_python_path_unix.exists():\n            python_exe = venv_python_path_unix.as_posix()\n        else:\n            # Fallback to system python if venv not found (this should ideally not be used)\n            console.print(\n                \"[yellow]Warning: Virtual environment python not found. Falling back to system python.[/yellow]\"\n            )\n            python_exe = sys.executable.replace(\"\\\\\", \"/\")\n\n        # Ensure forward slashes for shell script compatibility (even on Windows)\n        python_exe = python_exe.replace(\"\\\\\", \"/\")\n\n        # Replace 'boring' command with explicit python module invocation\n        # This ensures the hook runs in the same environment where it was installed\n        final_content = content.replace(\"boring verify\", f'\"{python_exe}\" -m boring.main verify')\n        final_content = final_content.replace(\n            \"boring speckit-analyze\", f'\"{python_exe}\" -m boring.main speckit-analyze'\n        )\n\n        # Replace existence check\n        check_cmd = f'\"{python_exe}\" -m boring.main --help'\n        final_content = final_content.replace(\"command -v boring\", check_cmd)\n\n        # Write new hook\n        hook_path.write_text(final_content, encoding=\"utf-8\")\n\n        # Make executable (Unix systems)\n        try:\n            current_mode = os.stat(hook_path).st_mode\n            os.chmod(hook_path, current_mode | stat.S_IXUSR | stat.S_IXGRP | stat.S_IXOTH)\n        except Exception:\n            pass  # Windows doesn't need this\n\n        return True, f\"Installed {hook_name} hook.\"\n\n    def install_all(self) -&gt; tuple[bool, str]:\n        \"\"\"Install all Boring hooks.\"\"\"\n        if not self.is_git_repo():\n            return False, \"Not a Git repository. Run 'git init' first.\"\n\n        results = []\n\n        # Install pre-commit\n        success, msg = self.install_hook(\"pre-commit\", PRE_COMMIT_HOOK)\n        results.append(msg)\n\n        # Install pre-push\n        success, msg = self.install_hook(\"pre-push\", PRE_PUSH_HOOK)\n        results.append(msg)\n\n        return True, \"\\n\".join(results)\n\n    def uninstall_hook(self, hook_name: str) -&gt; tuple[bool, str]:\n        \"\"\"Remove a Boring hook (restores backup if exists).\"\"\"\n        hook_path = self.hooks_dir / hook_name\n        backup_path = hook_path.with_suffix(\".backup\")\n\n        if not hook_path.exists():\n            return False, f\"No {hook_name} hook found.\"\n\n        hook_path.unlink()\n\n        # Restore backup if exists\n        if backup_path.exists():\n            backup_path.rename(hook_path)\n            return True, f\"Removed Boring {hook_name} and restored backup.\"\n\n        return True, f\"Removed Boring {hook_name} hook.\"\n\n    def uninstall_all(self) -&gt; tuple[bool, str]:\n        \"\"\"Remove all Boring hooks.\"\"\"\n        results = []\n\n        for hook_name in [\"pre-commit\", \"pre-push\"]:\n            success, msg = self.uninstall_hook(hook_name)\n            results.append(msg)\n\n        return True, \"\\n\".join(results)\n\n    def status(self) -&gt; dict:\n        \"\"\"Get status of installed hooks.\"\"\"\n        status = {\"is_git_repo\": self.is_git_repo(), \"hooks\": {}}\n\n        if not self.is_git_repo():\n            return status\n\n        for hook_name in [\"pre-commit\", \"pre-push\"]:\n            hook_path = self.hooks_dir / hook_name\n            if hook_path.exists():\n                content = hook_path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n                is_boring = \"Boring\" in content\n                status[\"hooks\"][hook_name] = {\"installed\": True, \"is_boring_hook\": is_boring}\n            else:\n                status[\"hooks\"][hook_name] = {\"installed\": False, \"is_boring_hook\": False}\n\n        return status\n</code></pre>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager.is_git_repo","title":"<code>is_git_repo()</code>","text":"<p>Check if current directory is a Git repository.</p> Source code in <code>src/boring/hooks.py</code> <pre><code>def is_git_repo(self) -&gt; bool:\n    \"\"\"Check if current directory is a Git repository.\"\"\"\n    return self.git_dir.exists() and self.git_dir.is_dir()\n</code></pre>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager.install_hook","title":"<code>install_hook(hook_name, content)</code>","text":"<p>Install a single Git hook.</p> Source code in <code>src/boring/hooks.py</code> <pre><code>def install_hook(self, hook_name: str, content: str) -&gt; tuple[bool, str]:\n    \"\"\"Install a single Git hook.\"\"\"\n    if not self.is_git_repo():\n        return False, \"Not a Git repository. Run 'git init' first.\"\n\n    # Ensure hooks directory exists\n    self.hooks_dir.mkdir(exist_ok=True)\n\n    hook_path = self.hooks_dir / hook_name\n\n    # Check for existing hook\n    if hook_path.exists():\n        # Backup existing hook\n        backup_path = hook_path.with_suffix(\".backup\")\n        hook_path.rename(backup_path)\n        console.print(f\"[yellow]Backed up existing {hook_name} to {hook_name}.backup[/yellow]\")\n\n    # Get absolute path to the virtual environment's python executable\n    # This will be embedded directly into the hook script\n    venv_python_path_windows = self.project_root / \".venv\" / \"Scripts\" / \"python.exe\"\n    venv_python_path_unix = self.project_root / \".venv\" / \"bin\" / \"python\"\n\n    if venv_python_path_windows.exists():\n        python_exe = venv_python_path_windows.as_posix()\n    elif venv_python_path_unix.exists():\n        python_exe = venv_python_path_unix.as_posix()\n    else:\n        # Fallback to system python if venv not found (this should ideally not be used)\n        console.print(\n            \"[yellow]Warning: Virtual environment python not found. Falling back to system python.[/yellow]\"\n        )\n        python_exe = sys.executable.replace(\"\\\\\", \"/\")\n\n    # Ensure forward slashes for shell script compatibility (even on Windows)\n    python_exe = python_exe.replace(\"\\\\\", \"/\")\n\n    # Replace 'boring' command with explicit python module invocation\n    # This ensures the hook runs in the same environment where it was installed\n    final_content = content.replace(\"boring verify\", f'\"{python_exe}\" -m boring.main verify')\n    final_content = final_content.replace(\n        \"boring speckit-analyze\", f'\"{python_exe}\" -m boring.main speckit-analyze'\n    )\n\n    # Replace existence check\n    check_cmd = f'\"{python_exe}\" -m boring.main --help'\n    final_content = final_content.replace(\"command -v boring\", check_cmd)\n\n    # Write new hook\n    hook_path.write_text(final_content, encoding=\"utf-8\")\n\n    # Make executable (Unix systems)\n    try:\n        current_mode = os.stat(hook_path).st_mode\n        os.chmod(hook_path, current_mode | stat.S_IXUSR | stat.S_IXGRP | stat.S_IXOTH)\n    except Exception:\n        pass  # Windows doesn't need this\n\n    return True, f\"Installed {hook_name} hook.\"\n</code></pre>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager.install_all","title":"<code>install_all()</code>","text":"<p>Install all Boring hooks.</p> Source code in <code>src/boring/hooks.py</code> <pre><code>def install_all(self) -&gt; tuple[bool, str]:\n    \"\"\"Install all Boring hooks.\"\"\"\n    if not self.is_git_repo():\n        return False, \"Not a Git repository. Run 'git init' first.\"\n\n    results = []\n\n    # Install pre-commit\n    success, msg = self.install_hook(\"pre-commit\", PRE_COMMIT_HOOK)\n    results.append(msg)\n\n    # Install pre-push\n    success, msg = self.install_hook(\"pre-push\", PRE_PUSH_HOOK)\n    results.append(msg)\n\n    return True, \"\\n\".join(results)\n</code></pre>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager.uninstall_hook","title":"<code>uninstall_hook(hook_name)</code>","text":"<p>Remove a Boring hook (restores backup if exists).</p> Source code in <code>src/boring/hooks.py</code> <pre><code>def uninstall_hook(self, hook_name: str) -&gt; tuple[bool, str]:\n    \"\"\"Remove a Boring hook (restores backup if exists).\"\"\"\n    hook_path = self.hooks_dir / hook_name\n    backup_path = hook_path.with_suffix(\".backup\")\n\n    if not hook_path.exists():\n        return False, f\"No {hook_name} hook found.\"\n\n    hook_path.unlink()\n\n    # Restore backup if exists\n    if backup_path.exists():\n        backup_path.rename(hook_path)\n        return True, f\"Removed Boring {hook_name} and restored backup.\"\n\n    return True, f\"Removed Boring {hook_name} hook.\"\n</code></pre>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager.uninstall_all","title":"<code>uninstall_all()</code>","text":"<p>Remove all Boring hooks.</p> Source code in <code>src/boring/hooks.py</code> <pre><code>def uninstall_all(self) -&gt; tuple[bool, str]:\n    \"\"\"Remove all Boring hooks.\"\"\"\n    results = []\n\n    for hook_name in [\"pre-commit\", \"pre-push\"]:\n        success, msg = self.uninstall_hook(hook_name)\n        results.append(msg)\n\n    return True, \"\\n\".join(results)\n</code></pre>"},{"location":"api/hooks_zh/#boring.hooks.HooksManager.status","title":"<code>status()</code>","text":"<p>Get status of installed hooks.</p> Source code in <code>src/boring/hooks.py</code> <pre><code>def status(self) -&gt; dict:\n    \"\"\"Get status of installed hooks.\"\"\"\n    status = {\"is_git_repo\": self.is_git_repo(), \"hooks\": {}}\n\n    if not self.is_git_repo():\n        return status\n\n    for hook_name in [\"pre-commit\", \"pre-push\"]:\n        hook_path = self.hooks_dir / hook_name\n        if hook_path.exists():\n            content = hook_path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n            is_boring = \"Boring\" in content\n            status[\"hooks\"][hook_name] = {\"installed\": True, \"is_boring_hook\": is_boring}\n        else:\n            status[\"hooks\"][hook_name] = {\"installed\": False, \"is_boring_hook\": False}\n\n    return status\n</code></pre>"},{"location":"api/index_zh/","title":"API \u53c3\u8003\u6587\u4ef6 (API Reference)","text":"<p>\u9019\u4efd\u6587\u4ef6\u662f\u7531\u539f\u59cb\u78bc\u81ea\u52d5\u751f\u6210\u7684\u958b\u767c\u8005\u53c3\u8003\u624b\u518a\u3002 \u5982\u679c\u60a8\u662f \u4f7f\u7528\u8005\uff0c\u8acb\u53c3\u95b1 \u529f\u80fd\u4ecb\u7d39 \u6216 \u914d\u7f6e\u6307\u5357\u3002</p>"},{"location":"api/index_zh/#_1","title":"\ud83d\udcda \u76ee\u9304","text":""},{"location":"api/index_zh/#core","title":"\u6838\u5fc3\u6a21\u7d44 (Core)","text":"<ul> <li>Core (<code>boring.core</code>)</li> <li>Agents (<code>boring.agents</code>)</li> <li>Loop (<code>boring.loop</code>)</li> </ul>"},{"location":"api/index_zh/#mcp-mcp-server","title":"MCP \u4f3a\u670d\u5668 (MCP Server)","text":"<ul> <li>Server (<code>boring.mcp.server</code>)</li> <li>Tools (<code>boring.mcp.tools</code>)</li> <li>Resources (<code>boring.mcp.resources</code>)</li> </ul>"},{"location":"api/index_zh/#intelligence","title":"\u667a\u80fd\u6a21\u7d44 (Intelligence)","text":"<ul> <li>RAG (<code>boring.rag</code>)</li> <li>Intelligence (<code>boring.intelligence</code>)</li> <li>Vibe (<code>boring.vibe</code>)</li> </ul>"},{"location":"api/index_zh/#security-utils","title":"\u5b89\u5168\u8207\u5de5\u5177 (Security &amp; Utils)","text":"<ul> <li>Security (<code>boring.security</code>)</li> <li>Git Hooks (<code>boring.hooks</code>)</li> <li>Utils (<code>boring.utils</code>)</li> </ul>"},{"location":"api/intelligence_zh/","title":"Intelligence API \u53c3\u8003 (Intelligence)","text":""},{"location":"api/intelligence_zh/#boring.intelligence","title":"<code>boring.intelligence</code>","text":"<p>Boring Intelligence Module V10.26</p> <p>Advanced intelligence features that enhance all core modules.</p> <p>Submodules: - intelligent_ranker: Learning-based ranking for RAG retrieval - predictive_analyzer: Error prediction and trend analysis - context_optimizer: Smart context compression for LLM calls - adaptive_cache: Predictive caching with usage pattern learning - pattern_clustering: Pattern deduplication and clustering (V10.24 NEW) - prediction_tracker: Accuracy tracking and A/B testing (V10.24 NEW) - cache_warming: Startup optimization and prefetching (V10.24 NEW)</p> <p>V10.26 Reorganization: - brain_manager: Knowledge base management (moved from root) - memory: Persistent memory system (moved from root)</p> <ul> <li>feedback_learner: Review feedback learning (moved from root)</li> <li>auto_learner: Automatic pattern learning (moved from root)</li> <li>pattern_mining: Pattern extraction and suggestions (moved from root)</li> </ul> <p>V10.24 Key Enhancements: - Pattern Clustering: Automatic deduplication of similar patterns - Prediction Accuracy Tracking: Data-driven optimization - A/B Testing Framework: Compare prediction strategies - Cache Warming: 30%+ faster cold start - Embedding Versioning: Safe migration support</p> <p>V10.23 Features (maintained): - Session-aware processing across all modules - Incremental learning with pattern decay - Multi-factor confidence scoring - Sliding window memory management</p>"},{"location":"api/judge_zh/","title":"Judge API \u53c3\u8003 (Evaluation)","text":""},{"location":"api/judge_zh/#boring.judge","title":"<code>boring.judge</code>","text":"<p>Judge Package - V10.25 Advanced Evaluation</p> <p>Provides LLM-as-a-Judge evaluation capabilities including: - Code quality grading with customizable rubrics - Pairwise comparison with position bias detection - Evaluation metrics (Kappa, Spearman, F1) - Bias monitoring and reporting</p>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor","title":"<code>BiasMonitor</code>","text":"<p>Monitors systematic biases in LLM evaluation over time.</p> <p>Features: - Track pairwise comparison outcomes - Detect position bias (first-position preference) - Detect length bias (longer responses get higher scores) - Generate bias reports with recommendations</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>class BiasMonitor:\n    \"\"\"\n    Monitors systematic biases in LLM evaluation over time.\n\n    Features:\n    - Track pairwise comparison outcomes\n    - Detect position bias (first-position preference)\n    - Detect length bias (longer responses get higher scores)\n    - Generate bias reports with recommendations\n    \"\"\"\n\n    def __init__(self, project_root: Path):\n        \"\"\"\n        Initialize bias monitor.\n\n        Args:\n            project_root: Project root for database storage\n        \"\"\"\n        self.project_root = Path(project_root)\n        self.db_path = self.project_root / \".boring_memory\" / \"bias_monitor.db\"\n        self.db_path.parent.mkdir(parents=True, exist_ok=True)\n        self._init_db()\n\n    def _get_connection(self) -&gt; sqlite3.Connection:\n        \"\"\"Get thread-local connection.\"\"\"\n        if not hasattr(_local, \"bias_conn\"):\n            conn = sqlite3.connect(str(self.db_path), check_same_thread=False)\n            conn.row_factory = sqlite3.Row\n            _local.bias_conn = conn\n        return _local.bias_conn\n\n    def _init_db(self):\n        \"\"\"Initialize database schema.\"\"\"\n        conn = self._get_connection()\n        conn.executescript(\"\"\"\n            -- Pairwise comparison tracking\n            CREATE TABLE IF NOT EXISTS pairwise_evaluations (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                evaluation_id TEXT UNIQUE,\n                winner TEXT NOT NULL,  -- 'A', 'B', 'TIE'\n                first_position TEXT NOT NULL,  -- Which was in first position\n                first_position_won INTEGER,  -- 1 if first position won\n                position_consistent INTEGER,  -- 1 if both passes agreed\n                confidence REAL,\n                response_a_length INTEGER,\n                response_b_length INTEGER,\n                created_at TEXT NOT NULL\n            );\n\n            -- Direct scoring tracking\n            CREATE TABLE IF NOT EXISTS direct_evaluations (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                evaluation_id TEXT UNIQUE,\n                score REAL NOT NULL,\n                response_length INTEGER,\n                dimension_scores TEXT,  -- JSON\n                created_at TEXT NOT NULL\n            );\n\n            -- Indices\n            CREATE INDEX IF NOT EXISTS idx_pairwise_created ON pairwise_evaluations(created_at);\n            CREATE INDEX IF NOT EXISTS idx_direct_created ON direct_evaluations(created_at);\n        \"\"\")\n        conn.commit()\n\n    def record_pairwise_evaluation(\n        self,\n        evaluation_id: str,\n        winner: str,\n        first_position: str,\n        position_consistent: bool,\n        confidence: float = 0.0,\n        response_a_length: int = 0,\n        response_b_length: int = 0,\n    ):\n        \"\"\"\n        Record a pairwise comparison result.\n\n        Args:\n            evaluation_id: Unique identifier for this evaluation\n            winner: Winner of comparison ('A', 'B', 'TIE')\n            first_position: Which response was in first position ('A' or 'B')\n            position_consistent: Whether both position passes agreed\n            confidence: Confidence score of the decision\n            response_a_length: Length of response A\n            response_b_length: Length of response B\n        \"\"\"\n        winner = winner.upper()\n        first_position = first_position.upper()\n\n        # Determine if first position won\n        first_position_won = 1 if winner == first_position and winner != \"TIE\" else 0\n\n        conn = self._get_connection()\n        try:\n            conn.execute(\n                \"\"\"\n                INSERT OR REPLACE INTO pairwise_evaluations\n                (evaluation_id, winner, first_position, first_position_won,\n                 position_consistent, confidence, response_a_length,\n                 response_b_length, created_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n            \"\"\",\n                (\n                    evaluation_id,\n                    winner,\n                    first_position,\n                    first_position_won,\n                    1 if position_consistent else 0,\n                    confidence,\n                    response_a_length,\n                    response_b_length,\n                    datetime.now().isoformat(),\n                ),\n            )\n            conn.commit()\n            logger.debug(f\"Recorded pairwise evaluation: {evaluation_id}\")\n        except Exception as e:\n            logger.error(f\"Failed to record pairwise evaluation: {e}\")\n\n    def record_direct_evaluation(\n        self,\n        evaluation_id: str,\n        score: float,\n        response_length: int,\n        dimension_scores: dict | None = None,\n    ):\n        \"\"\"\n        Record a direct scoring evaluation.\n\n        Args:\n            evaluation_id: Unique identifier for this evaluation\n            score: Overall score\n            response_length: Length of the response (characters or tokens)\n            dimension_scores: Optional per-dimension scores\n        \"\"\"\n        conn = self._get_connection()\n        try:\n            conn.execute(\n                \"\"\"\n                INSERT OR REPLACE INTO direct_evaluations\n                (evaluation_id, score, response_length, dimension_scores, created_at)\n                VALUES (?, ?, ?, ?, ?)\n            \"\"\",\n                (\n                    evaluation_id,\n                    score,\n                    response_length,\n                    json.dumps(dimension_scores or {}),\n                    datetime.now().isoformat(),\n                ),\n            )\n            conn.commit()\n            logger.debug(f\"Recorded direct evaluation: {evaluation_id}\")\n        except Exception as e:\n            logger.error(f\"Failed to record direct evaluation: {e}\")\n\n    def detect_position_bias(self, days: int = 30) -&gt; PositionBiasResult:\n        \"\"\"\n        Detect position bias in pairwise comparisons.\n\n        Checks if first-position responses win more often than expected (50%).\n\n        Args:\n            days: Number of days to analyze\n\n        Returns:\n            PositionBiasResult with bias analysis\n        \"\"\"\n        conn = self._get_connection()\n        cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n        # Get evaluations excluding ties\n        rows = conn.execute(\n            \"\"\"\n            SELECT first_position_won\n            FROM pairwise_evaluations\n            WHERE created_at &gt;= ? AND winner != 'TIE'\n        \"\"\",\n            (cutoff,),\n        ).fetchall()\n\n        n = len(rows)\n        if n &lt; 10:\n            return PositionBiasResult(\n                bias_detected=False,\n                first_position_win_rate=0.0,\n                z_score=0.0,\n                sample_size=n,\n                interpretation=\"Insufficient data (need at least 10 non-tie comparisons)\",\n            )\n\n        first_wins = sum(r[\"first_position_won\"] for r in rows)\n        expected = n * 0.5\n        std_dev = (n * 0.5 * 0.5) ** 0.5\n\n        win_rate = first_wins / n\n        z_score = (first_wins - expected) / std_dev if std_dev &gt; 0 else 0\n\n        # Bias detected if z-score &gt; 2 (95% confidence)\n        bias_detected = abs(z_score) &gt; 2\n\n        if bias_detected:\n            if z_score &gt; 0:\n                interpretation = (\n                    f\"First-position bias detected: {win_rate:.1%} win rate (expected 50%)\"\n                )\n            else:\n                interpretation = f\"Second-position bias detected: {1 - win_rate:.1%} win rate for second position\"\n        else:\n            interpretation = f\"No significant position bias: {win_rate:.1%} first-position win rate\"\n\n        return PositionBiasResult(\n            bias_detected=bias_detected,\n            first_position_win_rate=win_rate,\n            z_score=z_score,\n            sample_size=n,\n            interpretation=interpretation,\n        )\n\n    def detect_length_bias(self, days: int = 30) -&gt; LengthBiasResult:\n        \"\"\"\n        Detect length bias in direct evaluations.\n\n        Checks if longer responses receive higher scores.\n\n        Args:\n            days: Number of days to analyze\n\n        Returns:\n            LengthBiasResult with bias analysis\n        \"\"\"\n        conn = self._get_connection()\n        cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n        rows = conn.execute(\n            \"\"\"\n            SELECT score, response_length\n            FROM direct_evaluations\n            WHERE created_at &gt;= ? AND response_length &gt; 0\n        \"\"\",\n            (cutoff,),\n        ).fetchall()\n\n        n = len(rows)\n        if n &lt; 10:\n            return LengthBiasResult(\n                bias_detected=False,\n                correlation=0.0,\n                p_value=1.0,\n                sample_size=n,\n                interpretation=\"Insufficient data (need at least 10 evaluations)\",\n            )\n\n        scores = [r[\"score\"] for r in rows]\n        lengths = [r[\"response_length\"] for r in rows]\n\n        # Calculate Spearman correlation between length and score\n        rho, p_value = spearmans_rho(lengths, scores)\n\n        # Bias detected if correlation &gt; 0.3 and p &lt; 0.05\n        bias_detected = rho &gt; 0.3 and p_value &lt; 0.05\n\n        if bias_detected:\n            interpretation = f\"Length bias detected: correlation = {rho:.2f} (p = {p_value:.3f})\"\n        elif rho &gt; 0.2:\n            interpretation = f\"Weak length bias possible: correlation = {rho:.2f}\"\n        else:\n            interpretation = f\"No significant length bias: correlation = {rho:.2f}\"\n\n        return LengthBiasResult(\n            bias_detected=bias_detected,\n            correlation=rho,\n            p_value=p_value,\n            sample_size=n,\n            interpretation=interpretation,\n        )\n\n    def get_bias_report(self, days: int = 30) -&gt; BiasReport:\n        \"\"\"\n        Generate comprehensive bias report.\n\n        Args:\n            days: Number of days to analyze\n\n        Returns:\n            BiasReport with all bias analyses and recommendations\n        \"\"\"\n        position_bias = self.detect_position_bias(days)\n        length_bias = self.detect_length_bias(days)\n\n        conn = self._get_connection()\n        cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n        # Get total evaluations\n        pairwise_count = conn.execute(\n            \"SELECT COUNT(*) FROM pairwise_evaluations WHERE created_at &gt;= ?\", (cutoff,)\n        ).fetchone()[0]\n        direct_count = conn.execute(\n            \"SELECT COUNT(*) FROM direct_evaluations WHERE created_at &gt;= ?\", (cutoff,)\n        ).fetchone()[0]\n\n        total = pairwise_count + direct_count\n        warnings = []\n        recommendations = []\n\n        # Analyze position bias\n        if position_bias.bias_detected:\n            warnings.append(f\"\u26a0\ufe0f Position Bias: {position_bias.interpretation}\")\n            recommendations.append(\"Increase position swap passes or use multi-shuffle comparison\")\n\n        # Analyze length bias\n        if length_bias.bias_detected:\n            warnings.append(f\"\u26a0\ufe0f Length Bias: {length_bias.interpretation}\")\n            recommendations.append(\"Add explicit length normalization or penalize verbosity\")\n            recommendations.append(\"Include 'conciseness' as a separate evaluation criterion\")\n\n        # Sample size warnings\n        if total &lt; 50:\n            warnings.append(f\"\ud83d\udcca Small sample size ({total}): metrics may be unreliable\")\n            recommendations.append(\"Collect more evaluation data for reliable bias detection\")\n\n        # Position consistency check\n        consistency = conn.execute(\n            \"\"\"\n            SELECT AVG(position_consistent) as avg_consistency\n            FROM pairwise_evaluations\n            WHERE created_at &gt;= ?\n        \"\"\",\n            (cutoff,),\n        ).fetchone()\n\n        if consistency and consistency[\"avg_consistency\"] is not None:\n            avg_cons = consistency[\"avg_consistency\"]\n            if avg_cons &lt; 0.8:\n                warnings.append(f\"\u26a0\ufe0f Low position consistency: {avg_cons:.1%}\")\n                recommendations.append(\"Review evaluation criteria for ambiguity\")\n\n        if not warnings:\n            recommendations.append(\"\u2705 No significant biases detected!\")\n\n        return BiasReport(\n            position_bias=position_bias,\n            length_bias=length_bias,\n            total_evaluations=total,\n            evaluation_period_days=days,\n            warnings=warnings,\n            recommendations=recommendations,\n            generated_at=datetime.now().isoformat(),\n        )\n\n    def clear_old_data(self, days: int = 90):\n        \"\"\"\n        Clear evaluation data older than specified days.\n\n        Args:\n            days: Keep data from the last N days\n        \"\"\"\n        conn = self._get_connection()\n        cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n        conn.execute(\"DELETE FROM pairwise_evaluations WHERE created_at &lt; ?\", (cutoff,))\n        conn.execute(\"DELETE FROM direct_evaluations WHERE created_at &lt; ?\", (cutoff,))\n        conn.commit()\n        logger.info(f\"Cleared bias monitor data older than {days} days\")\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.__init__","title":"<code>__init__(project_root)</code>","text":"<p>Initialize bias monitor.</p> <p>Parameters:</p> Name Type Description Default <code>project_root</code> <code>Path</code> <p>Project root for database storage</p> required Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def __init__(self, project_root: Path):\n    \"\"\"\n    Initialize bias monitor.\n\n    Args:\n        project_root: Project root for database storage\n    \"\"\"\n    self.project_root = Path(project_root)\n    self.db_path = self.project_root / \".boring_memory\" / \"bias_monitor.db\"\n    self.db_path.parent.mkdir(parents=True, exist_ok=True)\n    self._init_db()\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.record_pairwise_evaluation","title":"<code>record_pairwise_evaluation(evaluation_id, winner, first_position, position_consistent, confidence=0.0, response_a_length=0, response_b_length=0)</code>","text":"<p>Record a pairwise comparison result.</p> <p>Parameters:</p> Name Type Description Default <code>evaluation_id</code> <code>str</code> <p>Unique identifier for this evaluation</p> required <code>winner</code> <code>str</code> <p>Winner of comparison ('A', 'B', 'TIE')</p> required <code>first_position</code> <code>str</code> <p>Which response was in first position ('A' or 'B')</p> required <code>position_consistent</code> <code>bool</code> <p>Whether both position passes agreed</p> required <code>confidence</code> <code>float</code> <p>Confidence score of the decision</p> <code>0.0</code> <code>response_a_length</code> <code>int</code> <p>Length of response A</p> <code>0</code> <code>response_b_length</code> <code>int</code> <p>Length of response B</p> <code>0</code> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def record_pairwise_evaluation(\n    self,\n    evaluation_id: str,\n    winner: str,\n    first_position: str,\n    position_consistent: bool,\n    confidence: float = 0.0,\n    response_a_length: int = 0,\n    response_b_length: int = 0,\n):\n    \"\"\"\n    Record a pairwise comparison result.\n\n    Args:\n        evaluation_id: Unique identifier for this evaluation\n        winner: Winner of comparison ('A', 'B', 'TIE')\n        first_position: Which response was in first position ('A' or 'B')\n        position_consistent: Whether both position passes agreed\n        confidence: Confidence score of the decision\n        response_a_length: Length of response A\n        response_b_length: Length of response B\n    \"\"\"\n    winner = winner.upper()\n    first_position = first_position.upper()\n\n    # Determine if first position won\n    first_position_won = 1 if winner == first_position and winner != \"TIE\" else 0\n\n    conn = self._get_connection()\n    try:\n        conn.execute(\n            \"\"\"\n            INSERT OR REPLACE INTO pairwise_evaluations\n            (evaluation_id, winner, first_position, first_position_won,\n             position_consistent, confidence, response_a_length,\n             response_b_length, created_at)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\n        \"\"\",\n            (\n                evaluation_id,\n                winner,\n                first_position,\n                first_position_won,\n                1 if position_consistent else 0,\n                confidence,\n                response_a_length,\n                response_b_length,\n                datetime.now().isoformat(),\n            ),\n        )\n        conn.commit()\n        logger.debug(f\"Recorded pairwise evaluation: {evaluation_id}\")\n    except Exception as e:\n        logger.error(f\"Failed to record pairwise evaluation: {e}\")\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.record_direct_evaluation","title":"<code>record_direct_evaluation(evaluation_id, score, response_length, dimension_scores=None)</code>","text":"<p>Record a direct scoring evaluation.</p> <p>Parameters:</p> Name Type Description Default <code>evaluation_id</code> <code>str</code> <p>Unique identifier for this evaluation</p> required <code>score</code> <code>float</code> <p>Overall score</p> required <code>response_length</code> <code>int</code> <p>Length of the response (characters or tokens)</p> required <code>dimension_scores</code> <code>dict | None</code> <p>Optional per-dimension scores</p> <code>None</code> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def record_direct_evaluation(\n    self,\n    evaluation_id: str,\n    score: float,\n    response_length: int,\n    dimension_scores: dict | None = None,\n):\n    \"\"\"\n    Record a direct scoring evaluation.\n\n    Args:\n        evaluation_id: Unique identifier for this evaluation\n        score: Overall score\n        response_length: Length of the response (characters or tokens)\n        dimension_scores: Optional per-dimension scores\n    \"\"\"\n    conn = self._get_connection()\n    try:\n        conn.execute(\n            \"\"\"\n            INSERT OR REPLACE INTO direct_evaluations\n            (evaluation_id, score, response_length, dimension_scores, created_at)\n            VALUES (?, ?, ?, ?, ?)\n        \"\"\",\n            (\n                evaluation_id,\n                score,\n                response_length,\n                json.dumps(dimension_scores or {}),\n                datetime.now().isoformat(),\n            ),\n        )\n        conn.commit()\n        logger.debug(f\"Recorded direct evaluation: {evaluation_id}\")\n    except Exception as e:\n        logger.error(f\"Failed to record direct evaluation: {e}\")\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.detect_position_bias","title":"<code>detect_position_bias(days=30)</code>","text":"<p>Detect position bias in pairwise comparisons.</p> <p>Checks if first-position responses win more often than expected (50%).</p> <p>Parameters:</p> Name Type Description Default <code>days</code> <code>int</code> <p>Number of days to analyze</p> <code>30</code> <p>Returns:</p> Type Description <code>PositionBiasResult</code> <p>PositionBiasResult with bias analysis</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def detect_position_bias(self, days: int = 30) -&gt; PositionBiasResult:\n    \"\"\"\n    Detect position bias in pairwise comparisons.\n\n    Checks if first-position responses win more often than expected (50%).\n\n    Args:\n        days: Number of days to analyze\n\n    Returns:\n        PositionBiasResult with bias analysis\n    \"\"\"\n    conn = self._get_connection()\n    cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n    # Get evaluations excluding ties\n    rows = conn.execute(\n        \"\"\"\n        SELECT first_position_won\n        FROM pairwise_evaluations\n        WHERE created_at &gt;= ? AND winner != 'TIE'\n    \"\"\",\n        (cutoff,),\n    ).fetchall()\n\n    n = len(rows)\n    if n &lt; 10:\n        return PositionBiasResult(\n            bias_detected=False,\n            first_position_win_rate=0.0,\n            z_score=0.0,\n            sample_size=n,\n            interpretation=\"Insufficient data (need at least 10 non-tie comparisons)\",\n        )\n\n    first_wins = sum(r[\"first_position_won\"] for r in rows)\n    expected = n * 0.5\n    std_dev = (n * 0.5 * 0.5) ** 0.5\n\n    win_rate = first_wins / n\n    z_score = (first_wins - expected) / std_dev if std_dev &gt; 0 else 0\n\n    # Bias detected if z-score &gt; 2 (95% confidence)\n    bias_detected = abs(z_score) &gt; 2\n\n    if bias_detected:\n        if z_score &gt; 0:\n            interpretation = (\n                f\"First-position bias detected: {win_rate:.1%} win rate (expected 50%)\"\n            )\n        else:\n            interpretation = f\"Second-position bias detected: {1 - win_rate:.1%} win rate for second position\"\n    else:\n        interpretation = f\"No significant position bias: {win_rate:.1%} first-position win rate\"\n\n    return PositionBiasResult(\n        bias_detected=bias_detected,\n        first_position_win_rate=win_rate,\n        z_score=z_score,\n        sample_size=n,\n        interpretation=interpretation,\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.detect_length_bias","title":"<code>detect_length_bias(days=30)</code>","text":"<p>Detect length bias in direct evaluations.</p> <p>Checks if longer responses receive higher scores.</p> <p>Parameters:</p> Name Type Description Default <code>days</code> <code>int</code> <p>Number of days to analyze</p> <code>30</code> <p>Returns:</p> Type Description <code>LengthBiasResult</code> <p>LengthBiasResult with bias analysis</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def detect_length_bias(self, days: int = 30) -&gt; LengthBiasResult:\n    \"\"\"\n    Detect length bias in direct evaluations.\n\n    Checks if longer responses receive higher scores.\n\n    Args:\n        days: Number of days to analyze\n\n    Returns:\n        LengthBiasResult with bias analysis\n    \"\"\"\n    conn = self._get_connection()\n    cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n    rows = conn.execute(\n        \"\"\"\n        SELECT score, response_length\n        FROM direct_evaluations\n        WHERE created_at &gt;= ? AND response_length &gt; 0\n    \"\"\",\n        (cutoff,),\n    ).fetchall()\n\n    n = len(rows)\n    if n &lt; 10:\n        return LengthBiasResult(\n            bias_detected=False,\n            correlation=0.0,\n            p_value=1.0,\n            sample_size=n,\n            interpretation=\"Insufficient data (need at least 10 evaluations)\",\n        )\n\n    scores = [r[\"score\"] for r in rows]\n    lengths = [r[\"response_length\"] for r in rows]\n\n    # Calculate Spearman correlation between length and score\n    rho, p_value = spearmans_rho(lengths, scores)\n\n    # Bias detected if correlation &gt; 0.3 and p &lt; 0.05\n    bias_detected = rho &gt; 0.3 and p_value &lt; 0.05\n\n    if bias_detected:\n        interpretation = f\"Length bias detected: correlation = {rho:.2f} (p = {p_value:.3f})\"\n    elif rho &gt; 0.2:\n        interpretation = f\"Weak length bias possible: correlation = {rho:.2f}\"\n    else:\n        interpretation = f\"No significant length bias: correlation = {rho:.2f}\"\n\n    return LengthBiasResult(\n        bias_detected=bias_detected,\n        correlation=rho,\n        p_value=p_value,\n        sample_size=n,\n        interpretation=interpretation,\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.get_bias_report","title":"<code>get_bias_report(days=30)</code>","text":"<p>Generate comprehensive bias report.</p> <p>Parameters:</p> Name Type Description Default <code>days</code> <code>int</code> <p>Number of days to analyze</p> <code>30</code> <p>Returns:</p> Type Description <code>BiasReport</code> <p>BiasReport with all bias analyses and recommendations</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def get_bias_report(self, days: int = 30) -&gt; BiasReport:\n    \"\"\"\n    Generate comprehensive bias report.\n\n    Args:\n        days: Number of days to analyze\n\n    Returns:\n        BiasReport with all bias analyses and recommendations\n    \"\"\"\n    position_bias = self.detect_position_bias(days)\n    length_bias = self.detect_length_bias(days)\n\n    conn = self._get_connection()\n    cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n    # Get total evaluations\n    pairwise_count = conn.execute(\n        \"SELECT COUNT(*) FROM pairwise_evaluations WHERE created_at &gt;= ?\", (cutoff,)\n    ).fetchone()[0]\n    direct_count = conn.execute(\n        \"SELECT COUNT(*) FROM direct_evaluations WHERE created_at &gt;= ?\", (cutoff,)\n    ).fetchone()[0]\n\n    total = pairwise_count + direct_count\n    warnings = []\n    recommendations = []\n\n    # Analyze position bias\n    if position_bias.bias_detected:\n        warnings.append(f\"\u26a0\ufe0f Position Bias: {position_bias.interpretation}\")\n        recommendations.append(\"Increase position swap passes or use multi-shuffle comparison\")\n\n    # Analyze length bias\n    if length_bias.bias_detected:\n        warnings.append(f\"\u26a0\ufe0f Length Bias: {length_bias.interpretation}\")\n        recommendations.append(\"Add explicit length normalization or penalize verbosity\")\n        recommendations.append(\"Include 'conciseness' as a separate evaluation criterion\")\n\n    # Sample size warnings\n    if total &lt; 50:\n        warnings.append(f\"\ud83d\udcca Small sample size ({total}): metrics may be unreliable\")\n        recommendations.append(\"Collect more evaluation data for reliable bias detection\")\n\n    # Position consistency check\n    consistency = conn.execute(\n        \"\"\"\n        SELECT AVG(position_consistent) as avg_consistency\n        FROM pairwise_evaluations\n        WHERE created_at &gt;= ?\n    \"\"\",\n        (cutoff,),\n    ).fetchone()\n\n    if consistency and consistency[\"avg_consistency\"] is not None:\n        avg_cons = consistency[\"avg_consistency\"]\n        if avg_cons &lt; 0.8:\n            warnings.append(f\"\u26a0\ufe0f Low position consistency: {avg_cons:.1%}\")\n            recommendations.append(\"Review evaluation criteria for ambiguity\")\n\n    if not warnings:\n        recommendations.append(\"\u2705 No significant biases detected!\")\n\n    return BiasReport(\n        position_bias=position_bias,\n        length_bias=length_bias,\n        total_evaluations=total,\n        evaluation_period_days=days,\n        warnings=warnings,\n        recommendations=recommendations,\n        generated_at=datetime.now().isoformat(),\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasMonitor.clear_old_data","title":"<code>clear_old_data(days=90)</code>","text":"<p>Clear evaluation data older than specified days.</p> <p>Parameters:</p> Name Type Description Default <code>days</code> <code>int</code> <p>Keep data from the last N days</p> <code>90</code> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def clear_old_data(self, days: int = 90):\n    \"\"\"\n    Clear evaluation data older than specified days.\n\n    Args:\n        days: Keep data from the last N days\n    \"\"\"\n    conn = self._get_connection()\n    cutoff = (datetime.now() - timedelta(days=days)).isoformat()\n\n    conn.execute(\"DELETE FROM pairwise_evaluations WHERE created_at &lt; ?\", (cutoff,))\n    conn.execute(\"DELETE FROM direct_evaluations WHERE created_at &lt; ?\", (cutoff,))\n    conn.commit()\n    logger.info(f\"Cleared bias monitor data older than {days} days\")\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.BiasReport","title":"<code>BiasReport</code>  <code>dataclass</code>","text":"<p>Comprehensive bias report.</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>@dataclass\nclass BiasReport:\n    \"\"\"Comprehensive bias report.\"\"\"\n\n    position_bias: PositionBiasResult | None = None\n    length_bias: LengthBiasResult | None = None\n    total_evaluations: int = 0\n    evaluation_period_days: int = 30\n    warnings: list = field(default_factory=list)\n    recommendations: list = field(default_factory=list)\n    generated_at: str = \"\"\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LengthBiasResult","title":"<code>LengthBiasResult</code>  <code>dataclass</code>","text":"<p>Result of length bias analysis.</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>@dataclass\nclass LengthBiasResult:\n    \"\"\"Result of length bias analysis.\"\"\"\n\n    bias_detected: bool\n    correlation: float\n    p_value: float\n    sample_size: int\n    interpretation: str = \"\"\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.PositionBiasResult","title":"<code>PositionBiasResult</code>  <code>dataclass</code>","text":"<p>Result of position bias analysis.</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>@dataclass\nclass PositionBiasResult:\n    \"\"\"Result of position bias analysis.\"\"\"\n\n    bias_detected: bool\n    first_position_win_rate: float\n    z_score: float\n    sample_size: int\n    interpretation: str = \"\"\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge","title":"<code>LLMJudge</code>","text":"<p>LLM-as-a-Judge implementation for evaluating code and plans.</p> <p>V10.25 Enhancements: - Confidence calibration based on position consistency - Length-normalized scoring to mitigate length bias - BiasMonitor integration for systematic bias tracking</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>class LLMJudge:\n    \"\"\"\n    LLM-as-a-Judge implementation for evaluating code and plans.\n\n    V10.25 Enhancements:\n    - Confidence calibration based on position consistency\n    - Length-normalized scoring to mitigate length bias\n    - BiasMonitor integration for systematic bias tracking\n    \"\"\"\n\n    def __init__(\n        self,\n        provider: LLMProvider,\n        quality_tracker: QualityTracker | None = None,\n        project_root: Path | None = None,\n        enable_bias_tracking: bool = True,\n    ):\n        self.cli = (\n            provider  # Renaming this would ripple too much, keeping name but typing is generalized\n        )\n        self.tracker = quality_tracker  # Optional: for automatic history recording\n        self.project_root = project_root\n        self._bias_monitor = None\n\n        # Initialize bias monitor if enabled and project root provided\n        if enable_bias_tracking and project_root:\n            try:\n                from .bias_monitor import get_bias_monitor\n\n                self._bias_monitor = get_bias_monitor(project_root)\n            except ImportError:\n                logger.debug(\"BiasMonitor not available, skipping bias tracking\")\n\n    def grade_code(\n        self,\n        filename: str,\n        content: str,\n        rubric: Rubric = CODE_QUALITY_RUBRIC,\n        interactive: bool = False,\n    ) -&gt; dict[str, Any]:\n        \"\"\"\n        Evaluate code quality against a rubric.\n        If interactive=True, returns the PROMPT for the user to execute using their IDE AI.\n        Else, executes via CLI adapter.\n        \"\"\"\n        prompt = build_grade_prompt(filename, content, rubric, str(type(self.cli)))\n\n        if interactive:\n            # Return the prompts for the host AI (Cursor) to run\n            return {\n                \"score\": 0,\n                \"status\": \"pending_manual_review\",\n                \"reasoning\": \"Delegated to Host AI\",\n                \"prompt\": prompt,\n            }\n\n        try:\n            # Call LLM provider\n            response = self.cli.chat(prompt, interactive=False)\n\n            # Extract and parse JSON\n            result = extract_json(response)\n            if result:\n                # Record score to quality tracker if available\n                if self.tracker and \"score\" in result:\n                    self.tracker.record(result.get(\"score\", 0), 0, context=\"judge\")\n                return result\n            else:\n                logger.warning(\"No JSON found in judge response\")\n                return {\"score\": 0, \"reasoning\": \"Failed to parse judge response\", \"raw\": response}\n\n        except Exception as e:\n            logger.error(f\"Judge failed: {e}\")\n            print(f\"\\n[DEBUG] Judge Exception: {e}\")  # Explicit print\n            traceback.print_exc()\n            return {\"score\": 0, \"reasoning\": str(e)}\n\n    def compare_plans(\n        self, plan_a: str, plan_b: str, context: str, interactive: bool = False\n    ) -&gt; dict[str, Any]:\n        \"\"\"\n        Compare two implementation plans and pick a winner.\n\n        Implements Pairwise Comparison with Position Bias Mitigation.\n        \"\"\"\n        if interactive:\n            # Return both prompts for manual execution\n            return {\n                \"status\": \"pending_manual_review\",\n                \"prompts\": {\n                    \"pass1\": build_comparison_prompt(plan_a, plan_b, \"A\", \"B\", context),\n                    \"pass2\": build_comparison_prompt(plan_b, plan_a, \"B\", \"A\", context),\n                },\n                \"instructions\": \"Execute both prompts and compare results. If winners match, that's the final winner. If they differ, the result is TIE.\",\n            }\n\n        try:\n            # First pass: A in position 1, B in position 2\n            prompt_pass1 = build_comparison_prompt(plan_a, plan_b, \"A\", \"B\", context)\n            response_pass1 = self.cli.chat(prompt_pass1, interactive=False)\n            result_pass1 = extract_json(response_pass1)\n\n            if not result_pass1:\n                return {\n                    \"winner\": \"TIE\",\n                    \"confidence\": 0.0,\n                    \"error\": \"Failed to parse first pass response\",\n                }\n\n            # Second pass: B in position 1, A in position 2\n            prompt_pass2 = build_comparison_prompt(plan_b, plan_a, \"B\", \"A\", context)\n            response_pass2 = self.cli.chat(prompt_pass2, interactive=False)\n            result_pass2 = extract_json(response_pass2)\n\n            if not result_pass2:\n                return {\n                    \"winner\": \"TIE\",\n                    \"confidence\": 0.0,\n                    \"error\": \"Failed to parse second pass response\",\n                }\n\n            # Extract winners (normalize to A/B/TIE)\n            winner_pass1 = result_pass1.get(\"winner\", \"TIE\").upper()\n            winner_pass2 = result_pass2.get(\"winner\", \"TIE\").upper()\n\n            conf_pass1 = float(result_pass1.get(\"confidence\", 0.5))\n            conf_pass2 = float(result_pass2.get(\"confidence\", 0.5))\n\n            # Position Bias Mitigation: Check consistency\n            consistent = winner_pass1 == winner_pass2\n\n            if consistent:\n                final_winner = winner_pass1\n                final_confidence = (conf_pass1 + conf_pass2) / 2\n            else:\n                final_winner = \"TIE\"\n                final_confidence = 0.5\n\n            return {\n                \"winner\": final_winner,\n                \"confidence\": round(final_confidence, 2),\n                \"positionConsistency\": {\n                    \"consistent\": consistent,\n                    \"pass1\": {\"winner\": winner_pass1, \"confidence\": conf_pass1},\n                    \"pass2\": {\"winner\": winner_pass2, \"confidence\": conf_pass2},\n                },\n                \"reasoning\": result_pass1.get(\"overall_reasoning\", \"\")\n                if consistent\n                else \"Position bias detected - inconsistent results across passes\",\n            }\n\n        except Exception as e:\n            logger.error(f\"Plan comparison failed: {e}\")\n            return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": str(e)}\n\n    def compare_code(\n        self,\n        name_a: str,\n        code_a: str,\n        name_b: str,\n        code_b: str,\n        context: str | None = None,\n        interactive: bool = False,\n    ) -&gt; dict[str, Any]:\n        \"\"\"\n        Compare two code implementations (A/B Test).\n        \"\"\"\n        if interactive:\n            return {\n                \"status\": \"pending_manual_review\",\n                \"prompts\": {\n                    \"pass1\": build_code_comparison_prompt(code_a, code_b, \"A\", \"B\", context),\n                    \"pass2\": build_code_comparison_prompt(code_b, code_a, \"B\", \"A\", context),\n                },\n                \"instructions\": \"Execute both prompts. If they agree on the winner (swapping A/B), that is the result.\",\n            }\n\n        try:\n            # First pass: A vs B\n            prompt_pass1 = build_code_comparison_prompt(code_a, code_b, \"A\", \"B\", context)\n            response_pass1 = self.cli.chat(prompt_pass1, interactive=False)\n            result_pass1 = extract_json(response_pass1)\n\n            if not result_pass1:\n                return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": \"Failed to parse first pass\"}\n\n            # Second pass: B vs A (Position Bias Check)\n            prompt_pass2 = build_code_comparison_prompt(code_b, code_a, \"B\", \"A\", context)\n            response_pass2 = self.cli.chat(prompt_pass2, interactive=False)\n            result_pass2 = extract_json(response_pass2)\n\n            if not result_pass2:\n                return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": \"Failed to parse second pass\"}\n\n            winner_pass1 = result_pass1.get(\"winner\", \"TIE\").upper()\n            winner_pass2 = result_pass2.get(\"winner\", \"TIE\").upper()\n\n            consistent = winner_pass1 == winner_pass2\n\n            if consistent:\n                final_winner = winner_pass1\n                final_conf = (\n                    float(result_pass1.get(\"confidence\", 0.5))\n                    + float(result_pass2.get(\"confidence\", 0.5))\n                ) / 2\n            else:\n                final_winner = \"TIE\"\n                final_conf = 0.5\n\n            return {\n                \"winner\": final_winner,\n                \"confidence\": round(final_conf, 2),\n                \"positionConsistency\": consistent,\n                \"reasoning\": result_pass1.get(\"overall_reasoning\", \"\"),\n            }\n\n        except Exception as e:\n            logger.error(f\"Code comparison failed: {e}\")\n            return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": str(e)}\n\n    def _extract_json(self, response: str) -&gt; dict[str, Any] | None:\n        \"\"\"Deprecated: Internal wrapper for backward compatibility within class.\"\"\"\n        return extract_json(response)\n\n    def _build_grade_prompt(self, filename: str, content: str, rubric: Rubric) -&gt; str:\n        \"\"\"Compatibility wrapper for build_grade_prompt.\"\"\"\n        return build_grade_prompt(filename, content, rubric, str(type(self.cli)))\n\n    # =========================================================================\n    # V10.25: Advanced Evaluation Methods\n    # =========================================================================\n\n    def calibrate_confidence(\n        self,\n        raw_confidence: float,\n        position_consistent: bool,\n        evidence_count: int = 0,\n    ) -&gt; float:\n        \"\"\"\n        Calibrate confidence based on multiple signals.\n\n        Args:\n            raw_confidence: Raw confidence from model output (0-1)\n            position_consistent: Whether position swap passes agreed\n            evidence_count: Number of evidence items supporting the judgment\n\n        Returns:\n            Calibrated confidence score (0-1)\n        \"\"\"\n        calibrated = raw_confidence\n\n        # Position consistency is a strong signal\n        if not position_consistent:\n            calibrated *= 0.6  # Significant reduction for inconsistency\n\n        # More evidence = higher confidence\n        evidence_factor = min(evidence_count / 3, 1.0)  # Cap at 3 pieces\n        calibrated *= 0.7 + 0.3 * evidence_factor\n\n        return min(calibrated, 0.99)  # Never 100% confident\n\n    def length_normalized_score(\n        self,\n        score: float,\n        response_length: int,\n        target_length: int = 500,\n        max_penalty: float = 0.5,\n    ) -&gt; float:\n        \"\"\"\n        Adjust score based on response length to mitigate length bias.\n\n        Args:\n            score: Original score\n            response_length: Length of the response (characters)\n            target_length: Expected typical length\n            max_penalty: Maximum penalty to apply\n\n        Returns:\n            Length-adjusted score\n        \"\"\"\n        length_ratio = response_length / target_length if target_length &gt; 0 else 1.0\n\n        if length_ratio &gt; 2.0:\n            # Penalize excessively long responses\n            penalty = min((length_ratio - 2.0) * 0.1, max_penalty)\n            return max(score - penalty, 1.0)\n        elif length_ratio &lt; 0.3:\n            # Penalize excessively short responses\n            penalty = min((0.3 - length_ratio) * 0.5, max_penalty)\n            return max(score - penalty, 1.0)\n        else:\n            return score\n\n    def get_bias_report(self, days: int = 30) -&gt; dict | None:\n        \"\"\"\n        Get bias monitoring report.\n\n        Args:\n            days: Number of days to analyze\n\n        Returns:\n            Bias report dict or None if monitoring not available\n        \"\"\"\n        if self._bias_monitor is None:\n            return None\n\n        try:\n            from .bias_monitor import format_bias_report\n\n            report = self._bias_monitor.get_bias_report(days)\n            return {\n                \"formatted\": format_bias_report(report),\n                \"position_bias\": {\n                    \"detected\": report.position_bias.bias_detected\n                    if report.position_bias\n                    else False,\n                    \"first_position_win_rate\": report.position_bias.first_position_win_rate\n                    if report.position_bias\n                    else 0,\n                },\n                \"length_bias\": {\n                    \"detected\": report.length_bias.bias_detected if report.length_bias else False,\n                    \"correlation\": report.length_bias.correlation if report.length_bias else 0,\n                },\n                \"warnings\": report.warnings,\n                \"recommendations\": report.recommendations,\n            }\n        except Exception as e:\n            logger.error(f\"Failed to get bias report: {e}\")\n            return None\n\n    def _record_evaluation(\n        self,\n        evaluation_type: str,\n        result: dict,\n        response_length: int = 0,\n    ):\n        \"\"\"Record evaluation to bias monitor.\"\"\"\n        if self._bias_monitor is None:\n            return\n\n        try:\n            eval_id = str(uuid.uuid4())[:8]\n\n            if evaluation_type == \"pairwise\":\n                self._bias_monitor.record_pairwise_evaluation(\n                    evaluation_id=eval_id,\n                    winner=result.get(\"winner\", \"TIE\"),\n                    first_position=\"A\",  # A is always first in our implementation\n                    position_consistent=result.get(\"positionConsistency\", False),\n                    confidence=result.get(\"confidence\", 0.0),\n                )\n            elif evaluation_type == \"direct\":\n                self._bias_monitor.record_direct_evaluation(\n                    evaluation_id=eval_id,\n                    score=result.get(\"score\", 0),\n                    response_length=response_length,\n                    dimension_scores=result.get(\"dimensions\"),\n                )\n        except Exception as e:\n            logger.debug(f\"Failed to record evaluation: {e}\")\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge.grade_code","title":"<code>grade_code(filename, content, rubric=CODE_QUALITY_RUBRIC, interactive=False)</code>","text":"<p>Evaluate code quality against a rubric. If interactive=True, returns the PROMPT for the user to execute using their IDE AI. Else, executes via CLI adapter.</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>def grade_code(\n    self,\n    filename: str,\n    content: str,\n    rubric: Rubric = CODE_QUALITY_RUBRIC,\n    interactive: bool = False,\n) -&gt; dict[str, Any]:\n    \"\"\"\n    Evaluate code quality against a rubric.\n    If interactive=True, returns the PROMPT for the user to execute using their IDE AI.\n    Else, executes via CLI adapter.\n    \"\"\"\n    prompt = build_grade_prompt(filename, content, rubric, str(type(self.cli)))\n\n    if interactive:\n        # Return the prompts for the host AI (Cursor) to run\n        return {\n            \"score\": 0,\n            \"status\": \"pending_manual_review\",\n            \"reasoning\": \"Delegated to Host AI\",\n            \"prompt\": prompt,\n        }\n\n    try:\n        # Call LLM provider\n        response = self.cli.chat(prompt, interactive=False)\n\n        # Extract and parse JSON\n        result = extract_json(response)\n        if result:\n            # Record score to quality tracker if available\n            if self.tracker and \"score\" in result:\n                self.tracker.record(result.get(\"score\", 0), 0, context=\"judge\")\n            return result\n        else:\n            logger.warning(\"No JSON found in judge response\")\n            return {\"score\": 0, \"reasoning\": \"Failed to parse judge response\", \"raw\": response}\n\n    except Exception as e:\n        logger.error(f\"Judge failed: {e}\")\n        print(f\"\\n[DEBUG] Judge Exception: {e}\")  # Explicit print\n        traceback.print_exc()\n        return {\"score\": 0, \"reasoning\": str(e)}\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge.compare_plans","title":"<code>compare_plans(plan_a, plan_b, context, interactive=False)</code>","text":"<p>Compare two implementation plans and pick a winner.</p> <p>Implements Pairwise Comparison with Position Bias Mitigation.</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>def compare_plans(\n    self, plan_a: str, plan_b: str, context: str, interactive: bool = False\n) -&gt; dict[str, Any]:\n    \"\"\"\n    Compare two implementation plans and pick a winner.\n\n    Implements Pairwise Comparison with Position Bias Mitigation.\n    \"\"\"\n    if interactive:\n        # Return both prompts for manual execution\n        return {\n            \"status\": \"pending_manual_review\",\n            \"prompts\": {\n                \"pass1\": build_comparison_prompt(plan_a, plan_b, \"A\", \"B\", context),\n                \"pass2\": build_comparison_prompt(plan_b, plan_a, \"B\", \"A\", context),\n            },\n            \"instructions\": \"Execute both prompts and compare results. If winners match, that's the final winner. If they differ, the result is TIE.\",\n        }\n\n    try:\n        # First pass: A in position 1, B in position 2\n        prompt_pass1 = build_comparison_prompt(plan_a, plan_b, \"A\", \"B\", context)\n        response_pass1 = self.cli.chat(prompt_pass1, interactive=False)\n        result_pass1 = extract_json(response_pass1)\n\n        if not result_pass1:\n            return {\n                \"winner\": \"TIE\",\n                \"confidence\": 0.0,\n                \"error\": \"Failed to parse first pass response\",\n            }\n\n        # Second pass: B in position 1, A in position 2\n        prompt_pass2 = build_comparison_prompt(plan_b, plan_a, \"B\", \"A\", context)\n        response_pass2 = self.cli.chat(prompt_pass2, interactive=False)\n        result_pass2 = extract_json(response_pass2)\n\n        if not result_pass2:\n            return {\n                \"winner\": \"TIE\",\n                \"confidence\": 0.0,\n                \"error\": \"Failed to parse second pass response\",\n            }\n\n        # Extract winners (normalize to A/B/TIE)\n        winner_pass1 = result_pass1.get(\"winner\", \"TIE\").upper()\n        winner_pass2 = result_pass2.get(\"winner\", \"TIE\").upper()\n\n        conf_pass1 = float(result_pass1.get(\"confidence\", 0.5))\n        conf_pass2 = float(result_pass2.get(\"confidence\", 0.5))\n\n        # Position Bias Mitigation: Check consistency\n        consistent = winner_pass1 == winner_pass2\n\n        if consistent:\n            final_winner = winner_pass1\n            final_confidence = (conf_pass1 + conf_pass2) / 2\n        else:\n            final_winner = \"TIE\"\n            final_confidence = 0.5\n\n        return {\n            \"winner\": final_winner,\n            \"confidence\": round(final_confidence, 2),\n            \"positionConsistency\": {\n                \"consistent\": consistent,\n                \"pass1\": {\"winner\": winner_pass1, \"confidence\": conf_pass1},\n                \"pass2\": {\"winner\": winner_pass2, \"confidence\": conf_pass2},\n            },\n            \"reasoning\": result_pass1.get(\"overall_reasoning\", \"\")\n            if consistent\n            else \"Position bias detected - inconsistent results across passes\",\n        }\n\n    except Exception as e:\n        logger.error(f\"Plan comparison failed: {e}\")\n        return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": str(e)}\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge.compare_code","title":"<code>compare_code(name_a, code_a, name_b, code_b, context=None, interactive=False)</code>","text":"<p>Compare two code implementations (A/B Test).</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>def compare_code(\n    self,\n    name_a: str,\n    code_a: str,\n    name_b: str,\n    code_b: str,\n    context: str | None = None,\n    interactive: bool = False,\n) -&gt; dict[str, Any]:\n    \"\"\"\n    Compare two code implementations (A/B Test).\n    \"\"\"\n    if interactive:\n        return {\n            \"status\": \"pending_manual_review\",\n            \"prompts\": {\n                \"pass1\": build_code_comparison_prompt(code_a, code_b, \"A\", \"B\", context),\n                \"pass2\": build_code_comparison_prompt(code_b, code_a, \"B\", \"A\", context),\n            },\n            \"instructions\": \"Execute both prompts. If they agree on the winner (swapping A/B), that is the result.\",\n        }\n\n    try:\n        # First pass: A vs B\n        prompt_pass1 = build_code_comparison_prompt(code_a, code_b, \"A\", \"B\", context)\n        response_pass1 = self.cli.chat(prompt_pass1, interactive=False)\n        result_pass1 = extract_json(response_pass1)\n\n        if not result_pass1:\n            return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": \"Failed to parse first pass\"}\n\n        # Second pass: B vs A (Position Bias Check)\n        prompt_pass2 = build_code_comparison_prompt(code_b, code_a, \"B\", \"A\", context)\n        response_pass2 = self.cli.chat(prompt_pass2, interactive=False)\n        result_pass2 = extract_json(response_pass2)\n\n        if not result_pass2:\n            return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": \"Failed to parse second pass\"}\n\n        winner_pass1 = result_pass1.get(\"winner\", \"TIE\").upper()\n        winner_pass2 = result_pass2.get(\"winner\", \"TIE\").upper()\n\n        consistent = winner_pass1 == winner_pass2\n\n        if consistent:\n            final_winner = winner_pass1\n            final_conf = (\n                float(result_pass1.get(\"confidence\", 0.5))\n                + float(result_pass2.get(\"confidence\", 0.5))\n            ) / 2\n        else:\n            final_winner = \"TIE\"\n            final_conf = 0.5\n\n        return {\n            \"winner\": final_winner,\n            \"confidence\": round(final_conf, 2),\n            \"positionConsistency\": consistent,\n            \"reasoning\": result_pass1.get(\"overall_reasoning\", \"\"),\n        }\n\n    except Exception as e:\n        logger.error(f\"Code comparison failed: {e}\")\n        return {\"winner\": \"TIE\", \"confidence\": 0.0, \"error\": str(e)}\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge.calibrate_confidence","title":"<code>calibrate_confidence(raw_confidence, position_consistent, evidence_count=0)</code>","text":"<p>Calibrate confidence based on multiple signals.</p> <p>Parameters:</p> Name Type Description Default <code>raw_confidence</code> <code>float</code> <p>Raw confidence from model output (0-1)</p> required <code>position_consistent</code> <code>bool</code> <p>Whether position swap passes agreed</p> required <code>evidence_count</code> <code>int</code> <p>Number of evidence items supporting the judgment</p> <code>0</code> <p>Returns:</p> Type Description <code>float</code> <p>Calibrated confidence score (0-1)</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>def calibrate_confidence(\n    self,\n    raw_confidence: float,\n    position_consistent: bool,\n    evidence_count: int = 0,\n) -&gt; float:\n    \"\"\"\n    Calibrate confidence based on multiple signals.\n\n    Args:\n        raw_confidence: Raw confidence from model output (0-1)\n        position_consistent: Whether position swap passes agreed\n        evidence_count: Number of evidence items supporting the judgment\n\n    Returns:\n        Calibrated confidence score (0-1)\n    \"\"\"\n    calibrated = raw_confidence\n\n    # Position consistency is a strong signal\n    if not position_consistent:\n        calibrated *= 0.6  # Significant reduction for inconsistency\n\n    # More evidence = higher confidence\n    evidence_factor = min(evidence_count / 3, 1.0)  # Cap at 3 pieces\n    calibrated *= 0.7 + 0.3 * evidence_factor\n\n    return min(calibrated, 0.99)  # Never 100% confident\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge.length_normalized_score","title":"<code>length_normalized_score(score, response_length, target_length=500, max_penalty=0.5)</code>","text":"<p>Adjust score based on response length to mitigate length bias.</p> <p>Parameters:</p> Name Type Description Default <code>score</code> <code>float</code> <p>Original score</p> required <code>response_length</code> <code>int</code> <p>Length of the response (characters)</p> required <code>target_length</code> <code>int</code> <p>Expected typical length</p> <code>500</code> <code>max_penalty</code> <code>float</code> <p>Maximum penalty to apply</p> <code>0.5</code> <p>Returns:</p> Type Description <code>float</code> <p>Length-adjusted score</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>def length_normalized_score(\n    self,\n    score: float,\n    response_length: int,\n    target_length: int = 500,\n    max_penalty: float = 0.5,\n) -&gt; float:\n    \"\"\"\n    Adjust score based on response length to mitigate length bias.\n\n    Args:\n        score: Original score\n        response_length: Length of the response (characters)\n        target_length: Expected typical length\n        max_penalty: Maximum penalty to apply\n\n    Returns:\n        Length-adjusted score\n    \"\"\"\n    length_ratio = response_length / target_length if target_length &gt; 0 else 1.0\n\n    if length_ratio &gt; 2.0:\n        # Penalize excessively long responses\n        penalty = min((length_ratio - 2.0) * 0.1, max_penalty)\n        return max(score - penalty, 1.0)\n    elif length_ratio &lt; 0.3:\n        # Penalize excessively short responses\n        penalty = min((0.3 - length_ratio) * 0.5, max_penalty)\n        return max(score - penalty, 1.0)\n    else:\n        return score\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.LLMJudge.get_bias_report","title":"<code>get_bias_report(days=30)</code>","text":"<p>Get bias monitoring report.</p> <p>Parameters:</p> Name Type Description Default <code>days</code> <code>int</code> <p>Number of days to analyze</p> <code>30</code> <p>Returns:</p> Type Description <code>dict | None</code> <p>Bias report dict or None if monitoring not available</p> Source code in <code>src/boring/judge/core.py</code> <pre><code>def get_bias_report(self, days: int = 30) -&gt; dict | None:\n    \"\"\"\n    Get bias monitoring report.\n\n    Args:\n        days: Number of days to analyze\n\n    Returns:\n        Bias report dict or None if monitoring not available\n    \"\"\"\n    if self._bias_monitor is None:\n        return None\n\n    try:\n        from .bias_monitor import format_bias_report\n\n        report = self._bias_monitor.get_bias_report(days)\n        return {\n            \"formatted\": format_bias_report(report),\n            \"position_bias\": {\n                \"detected\": report.position_bias.bias_detected\n                if report.position_bias\n                else False,\n                \"first_position_win_rate\": report.position_bias.first_position_win_rate\n                if report.position_bias\n                else 0,\n            },\n            \"length_bias\": {\n                \"detected\": report.length_bias.bias_detected if report.length_bias else False,\n                \"correlation\": report.length_bias.correlation if report.length_bias else 0,\n            },\n            \"warnings\": report.warnings,\n            \"recommendations\": report.recommendations,\n        }\n    except Exception as e:\n        logger.error(f\"Failed to get bias report: {e}\")\n        return None\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.DetailedCriterion","title":"<code>DetailedCriterion</code>  <code>dataclass</code>","text":"<p>A criterion with detailed level descriptions.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>@dataclass\nclass DetailedCriterion:\n    \"\"\"A criterion with detailed level descriptions.\"\"\"\n\n    name: str\n    description: str\n    weight: float = 1.0\n    levels: list[RubricLevel] = field(default_factory=list)\n    edge_cases: list[EdgeCase] = field(default_factory=list)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.DetailedRubric","title":"<code>DetailedRubric</code>  <code>dataclass</code>","text":"<p>A complete rubric with all level descriptions and edge cases.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>@dataclass\nclass DetailedRubric:\n    \"\"\"A complete rubric with all level descriptions and edge cases.\"\"\"\n\n    name: str\n    description: str\n    domain: str\n    scale: str  # \"1-3\", \"1-5\", \"1-10\"\n    strictness: str  # \"lenient\", \"balanced\", \"strict\"\n    criteria: list[DetailedCriterion] = field(default_factory=list)\n    general_edge_cases: list[EdgeCase] = field(default_factory=list)\n    scoring_guidelines: list[str] = field(default_factory=list)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.EdgeCase","title":"<code>EdgeCase</code>  <code>dataclass</code>","text":"<p>Edge case guidance for consistent evaluation.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>@dataclass\nclass EdgeCase:\n    \"\"\"Edge case guidance for consistent evaluation.\"\"\"\n\n    situation: str\n    guidance: str\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.RubricLevel","title":"<code>RubricLevel</code>  <code>dataclass</code>","text":"<p>A level in the rubric with detailed description.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>@dataclass\nclass RubricLevel:\n    \"\"\"A level in the rubric with detailed description.\"\"\"\n\n    score: int\n    label: str\n    description: str\n    characteristics: list[str] = field(default_factory=list)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.format_bias_report","title":"<code>format_bias_report(report)</code>","text":"<p>Format bias report as markdown.</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def format_bias_report(report: BiasReport) -&gt; str:\n    \"\"\"Format bias report as markdown.\"\"\"\n    lines = [\"# \ud83d\udd0d Bias Monitoring Report\", \"\"]\n\n    lines.append(f\"**Period**: Last {report.evaluation_period_days} days\")\n    lines.append(f\"**Total Evaluations**: {report.total_evaluations}\")\n    lines.append(f\"**Generated**: {report.generated_at[:19]}\")\n    lines.append(\"\")\n\n    # Position Bias\n    if report.position_bias:\n        pb = report.position_bias\n        emoji = \"\ud83d\udd34\" if pb.bias_detected else \"\ud83d\udfe2\"\n        lines.append(f\"## {emoji} Position Bias\")\n        lines.append(\"\")\n        lines.append(\"| Metric | Value |\")\n        lines.append(\"|--------|-------|\")\n        lines.append(f\"| First Position Win Rate | {pb.first_position_win_rate:.1%} |\")\n        lines.append(f\"| Z-Score | {pb.z_score:.2f} |\")\n        lines.append(f\"| Sample Size | {pb.sample_size} |\")\n        lines.append(\"\")\n        lines.append(f\"**Analysis**: {pb.interpretation}\")\n        lines.append(\"\")\n\n    # Length Bias\n    if report.length_bias:\n        lb = report.length_bias\n        emoji = \"\ud83d\udd34\" if lb.bias_detected else \"\ud83d\udfe2\"\n        lines.append(f\"## {emoji} Length Bias\")\n        lines.append(\"\")\n        lines.append(\"| Metric | Value |\")\n        lines.append(\"|--------|-------|\")\n        lines.append(f\"| Length-Score Correlation | {lb.correlation:.3f} |\")\n        lines.append(f\"| P-Value | {lb.p_value:.4f} |\")\n        lines.append(f\"| Sample Size | {lb.sample_size} |\")\n        lines.append(\"\")\n        lines.append(f\"**Analysis**: {lb.interpretation}\")\n        lines.append(\"\")\n\n    # Warnings\n    if report.warnings:\n        lines.append(\"## Warnings\")\n        lines.append(\"\")\n        for warning in report.warnings:\n            lines.append(f\"- {warning}\")\n        lines.append(\"\")\n\n    # Recommendations\n    if report.recommendations:\n        lines.append(\"## Recommendations\")\n        lines.append(\"\")\n        for rec in report.recommendations:\n            lines.append(f\"- {rec}\")\n        lines.append(\"\")\n\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.get_bias_monitor","title":"<code>get_bias_monitor(project_root)</code>","text":"<p>Get or create bias monitor singleton.</p> Source code in <code>src/boring/judge/bias_monitor.py</code> <pre><code>def get_bias_monitor(project_root: Path) -&gt; BiasMonitor:\n    \"\"\"Get or create bias monitor singleton.\"\"\"\n    global _bias_monitor\n    if _bias_monitor is None:\n        _bias_monitor = BiasMonitor(project_root)\n    return _bias_monitor\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.create_judge_provider","title":"<code>create_judge_provider()</code>","text":"<p>Factory to create the appropriate LLM provider based on config.</p> Source code in <code>src/boring/judge/factory.py</code> <pre><code>def create_judge_provider() -&gt; LLMProvider:\n    \"\"\"Factory to create the appropriate LLM provider based on config.\"\"\"\n    provider_type = settings.LLM_PROVIDER.lower()\n\n    if provider_type == \"ollama\":\n        return OllamaProvider(\n            model_name=settings.LLM_MODEL or \"llama3\",\n            base_url=settings.LLM_BASE_URL or \"http://localhost:11434\",\n            log_dir=settings.LOG_DIR,\n        )\n    elif provider_type == \"openai_compat\" or provider_type == \"lmstudio\":\n        return OpenAICompatProvider(\n            model_name=settings.LLM_MODEL or \"local-model\",\n            base_url=settings.LLM_BASE_URL or \"http://localhost:1234/v1\",\n            log_dir=settings.LOG_DIR,\n        )\n    else:\n        # Default to Gemini (CLI Adapter for now, as Judge typically runs via CLI)\n        return create_cli_adapter(model_name=settings.DEFAULT_MODEL, log_dir=settings.LOG_DIR)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.agreement_metrics","title":"<code>agreement_metrics(judge1, judge2, ordinal=False)</code>","text":"<p>Calculate all agreement metrics.</p> <p>Parameters:</p> Name Type Description Default <code>judge1</code> <code>list</code> <p>Ratings from first judge</p> required <code>judge2</code> <code>list</code> <p>Ratings from second judge</p> required <code>ordinal</code> <code>bool</code> <p>If True, calculate weighted kappa for ordinal scales</p> <code>False</code> <p>Returns:</p> Type Description <code>AgreementMetrics</code> <p>AgreementMetrics with all metrics</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def agreement_metrics(judge1: list, judge2: list, ordinal: bool = False) -&gt; AgreementMetrics:\n    \"\"\"\n    Calculate all agreement metrics.\n\n    Args:\n        judge1: Ratings from first judge\n        judge2: Ratings from second judge\n        ordinal: If True, calculate weighted kappa for ordinal scales\n\n    Returns:\n        AgreementMetrics with all metrics\n    \"\"\"\n    n = len(judge1)\n    observed = sum(1 for j1, j2 in zip(judge1, judge2, strict=True) if j1 == j2) / n if n &gt; 0 else 0\n\n    kappa = cohens_kappa(judge1, judge2)\n    w_kappa = weighted_kappa(judge1, judge2) if ordinal else None\n\n    # Calculate expected agreement\n    categories = list(set(judge1) | set(judge2))\n    expected = 0.0\n    for cat in categories:\n        p1 = sum(1 for j in judge1 if j == cat) / n if n &gt; 0 else 0\n        p2 = sum(1 for j in judge2 if j == cat) / n if n &gt; 0 else 0\n        expected += p1 * p2\n\n    return AgreementMetrics(\n        cohens_kappa=kappa,\n        weighted_kappa=w_kappa,\n        observed_agreement=observed,\n        expected_agreement=expected,\n        interpretation=interpret_kappa(kappa),\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.classification_metrics","title":"<code>classification_metrics(predictions, ground_truth)</code>","text":"<p>Calculate all classification metrics.</p> <p>Parameters:</p> Name Type Description Default <code>predictions</code> <code>list[int]</code> <p>List of predicted labels</p> required <code>ground_truth</code> <code>list[int]</code> <p>List of actual labels</p> required <p>Returns:</p> Type Description <code>ClassificationMetrics</code> <p>ClassificationMetrics with all metrics</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def classification_metrics(\n    predictions: list[int], ground_truth: list[int]\n) -&gt; ClassificationMetrics:\n    \"\"\"\n    Calculate all classification metrics.\n\n    Args:\n        predictions: List of predicted labels\n        ground_truth: List of actual labels\n\n    Returns:\n        ClassificationMetrics with all metrics\n    \"\"\"\n    if len(predictions) != len(ground_truth):\n        raise ValueError(\"Predictions and ground truth must have same length\")\n\n    tp = sum(1 for p, g in zip(predictions, ground_truth, strict=True) if p == 1 and g == 1)\n    fp = sum(1 for p, g in zip(predictions, ground_truth, strict=True) if p == 1 and g == 0)\n    fn = sum(1 for p, g in zip(predictions, ground_truth, strict=True) if p == 0 and g == 1)\n    tn = sum(1 for p, g in zip(predictions, ground_truth, strict=True) if p == 0 and g == 0)\n\n    prec = tp / (tp + fp) if (tp + fp) &gt; 0 else 0.0\n    rec = tp / (tp + fn) if (tp + fn) &gt; 0 else 0.0\n    f1 = 2 * prec * rec / (prec + rec) if (prec + rec) &gt; 0 else 0.0\n\n    return ClassificationMetrics(\n        precision=prec,\n        recall=rec,\n        f1_score=f1,\n        true_positives=tp,\n        false_positives=fp,\n        false_negatives=fn,\n        true_negatives=tn,\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.cohens_kappa","title":"<code>cohens_kappa(judge1, judge2)</code>","text":"<p>Calculate Cohen's Kappa for inter-rater agreement.</p> <p>\u03ba = (Observed Agreement - Expected Agreement) / (1 - Expected Agreement)</p> <p>Parameters:</p> Name Type Description Default <code>judge1</code> <code>list</code> <p>Ratings from first judge</p> required <code>judge2</code> <code>list</code> <p>Ratings from second judge</p> required <p>Returns:</p> Type Description <code>float</code> <p>Cohen's Kappa (-1.0 to 1.0)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def cohens_kappa(judge1: list, judge2: list) -&gt; float:\n    \"\"\"\n    Calculate Cohen's Kappa for inter-rater agreement.\n\n    \u03ba = (Observed Agreement - Expected Agreement) / (1 - Expected Agreement)\n\n    Args:\n        judge1: Ratings from first judge\n        judge2: Ratings from second judge\n\n    Returns:\n        Cohen's Kappa (-1.0 to 1.0)\n    \"\"\"\n    if len(judge1) != len(judge2):\n        raise ValueError(\"Judge ratings must have same length\")\n\n    n = len(judge1)\n    if n == 0:\n        return 0.0\n\n    # Get all unique categories\n    categories = list(set(judge1) | set(judge2))\n\n    # Count agreements\n    observed_agreement = sum(1 for j1, j2 in zip(judge1, judge2, strict=True) if j1 == j2) / n\n\n    # Calculate expected agreement by chance\n    expected_agreement = 0.0\n    for cat in categories:\n        p1 = sum(1 for j in judge1 if j == cat) / n\n        p2 = sum(1 for j in judge2 if j == cat) / n\n        expected_agreement += p1 * p2\n\n    # Calculate kappa\n    if expected_agreement == 1.0:\n        return 1.0 if observed_agreement == 1.0 else 0.0\n\n    kappa = (observed_agreement - expected_agreement) / (1 - expected_agreement)\n    return kappa\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.correlation_metrics","title":"<code>correlation_metrics(scores1, scores2)</code>","text":"<p>Calculate all correlation metrics.</p> <p>Parameters:</p> Name Type Description Default <code>scores1</code> <code>list[float]</code> <p>First set of scores</p> required <code>scores2</code> <code>list[float]</code> <p>Second set of scores</p> required <p>Returns:</p> Type Description <code>CorrelationMetrics</code> <p>CorrelationMetrics with all metrics</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def correlation_metrics(scores1: list[float], scores2: list[float]) -&gt; CorrelationMetrics:\n    \"\"\"\n    Calculate all correlation metrics.\n\n    Args:\n        scores1: First set of scores\n        scores2: Second set of scores\n\n    Returns:\n        CorrelationMetrics with all metrics\n    \"\"\"\n    rho, p_rho = spearmans_rho(scores1, scores2)\n    tau, p_tau = kendalls_tau(scores1, scores2)\n    r, p_r = pearsons_r(scores1, scores2)\n\n    return CorrelationMetrics(\n        spearmans_rho=rho,\n        kendalls_tau=tau,\n        pearsons_r=r,\n        p_value_spearman=p_rho,\n        p_value_kendall=p_tau,\n        p_value_pearson=p_r,\n        interpretation=interpret_correlation(rho),\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.f1_score","title":"<code>f1_score(predictions, ground_truth)</code>","text":"<p>Calculate F1 score: 2 * (precision * recall) / (precision + recall)</p> <p>Parameters:</p> Name Type Description Default <code>predictions</code> <code>list[int]</code> <p>List of predicted labels</p> required <code>ground_truth</code> <code>list[int]</code> <p>List of actual labels</p> required <p>Returns:</p> Type Description <code>float</code> <p>F1 score (0.0 to 1.0)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def f1_score(predictions: list[int], ground_truth: list[int]) -&gt; float:\n    \"\"\"\n    Calculate F1 score: 2 * (precision * recall) / (precision + recall)\n\n    Args:\n        predictions: List of predicted labels\n        ground_truth: List of actual labels\n\n    Returns:\n        F1 score (0.0 to 1.0)\n    \"\"\"\n    p = precision(predictions, ground_truth)\n    r = recall(predictions, ground_truth)\n    return 2 * p * r / (p + r) if (p + r) &gt; 0 else 0.0\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.format_metrics_report","title":"<code>format_metrics_report(report)</code>","text":"<p>Format metrics report as markdown.</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def format_metrics_report(report: EvaluationMetricsReport) -&gt; str:\n    \"\"\"Format metrics report as markdown.\"\"\"\n    lines = [\"# \ud83d\udcca Evaluation Metrics Report\", \"\"]\n\n    lines.append(f\"**Evaluation Type**: {report.evaluation_type}\")\n    lines.append(f\"**Sample Size**: {report.sample_size}\")\n    lines.append(\"\")\n\n    # Classification metrics\n    if report.classification:\n        lines.append(\"## Classification Metrics\")\n        lines.append(\"\")\n        lines.append(\"| Metric | Value |\")\n        lines.append(\"|--------|-------|\")\n        lines.append(f\"| Precision | {report.classification.precision:.3f} |\")\n        lines.append(f\"| Recall | {report.classification.recall:.3f} |\")\n        lines.append(f\"| F1 Score | {report.classification.f1_score:.3f} |\")\n        lines.append(\"\")\n\n    # Correlation metrics\n    if report.correlation:\n        lines.append(\"## Correlation Metrics\")\n        lines.append(\"\")\n        lines.append(\"| Metric | Value | p-value |\")\n        lines.append(\"|--------|-------|---------|\")\n        lines.append(\n            f\"| Spearman's \u03c1 | {report.correlation.spearmans_rho:.3f} | {report.correlation.p_value_spearman:.4f} |\"\n        )\n        lines.append(\n            f\"| Kendall's \u03c4 | {report.correlation.kendalls_tau:.3f} | {report.correlation.p_value_kendall:.4f} |\"\n        )\n        lines.append(\n            f\"| Pearson's r | {report.correlation.pearsons_r:.3f} | {report.correlation.p_value_pearson:.4f} |\"\n        )\n        lines.append(\"\")\n        lines.append(f\"**Interpretation**: {report.correlation.interpretation}\")\n        lines.append(\"\")\n\n    # Agreement metrics\n    if report.agreement:\n        lines.append(\"## Agreement Metrics\")\n        lines.append(\"\")\n        lines.append(\"| Metric | Value |\")\n        lines.append(\"|--------|-------|\")\n        lines.append(f\"| Cohen's \u03ba | {report.agreement.cohens_kappa:.3f} |\")\n        if report.agreement.weighted_kappa is not None:\n            lines.append(f\"| Weighted \u03ba | {report.agreement.weighted_kappa:.3f} |\")\n        lines.append(f\"| Observed Agreement | {report.agreement.observed_agreement:.3f} |\")\n        lines.append(\"\")\n        lines.append(f\"**Interpretation**: {report.agreement.interpretation}\")\n        lines.append(\"\")\n\n    # Pairwise metrics\n    if report.pairwise:\n        lines.append(\"## Pairwise Comparison Metrics\")\n        lines.append(\"\")\n        lines.append(\"| Metric | Value |\")\n        lines.append(\"|--------|-------|\")\n        lines.append(f\"| Position Consistency | {report.pairwise.position_consistency:.1%} |\")\n        lines.append(f\"| Tie Rate | {report.pairwise.tie_rate:.1%} |\")\n        lines.append(f\"| Total Comparisons | {report.pairwise.total_comparisons} |\")\n        lines.append(\"\")\n\n    # Warnings\n    if report.warnings:\n        lines.append(\"## \u26a0\ufe0f Warnings\")\n        lines.append(\"\")\n        for warning in report.warnings:\n            lines.append(f\"- {warning}\")\n        lines.append(\"\")\n\n    # Recommendations\n    if report.recommendations:\n        lines.append(\"## \ud83d\udca1 Recommendations\")\n        lines.append(\"\")\n        for rec in report.recommendations:\n            lines.append(f\"- {rec}\")\n        lines.append(\"\")\n\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.generate_metrics_report","title":"<code>generate_metrics_report(automated_scores=None, human_scores=None, predictions=None, ground_truth=None, pairwise_comparisons=None, evaluation_type='general')</code>","text":"<p>Generate comprehensive evaluation metrics report.</p> <p>Parameters:</p> Name Type Description Default <code>automated_scores</code> <code>list[float] | None</code> <p>Scores from automated evaluation</p> <code>None</code> <code>human_scores</code> <code>list[float] | None</code> <p>Scores from human evaluation</p> <code>None</code> <code>predictions</code> <code>list[int] | None</code> <p>Binary predictions (for classification)</p> <code>None</code> <code>ground_truth</code> <code>list[int] | None</code> <p>Ground truth labels (for classification)</p> <code>None</code> <code>pairwise_comparisons</code> <code>list[dict] | None</code> <p>Pairwise comparison results</p> <code>None</code> <code>evaluation_type</code> <code>str</code> <p>Type of evaluation (ordinal, binary, pairwise)</p> <code>'general'</code> <p>Returns:</p> Type Description <code>EvaluationMetricsReport</code> <p>EvaluationMetricsReport with all applicable metrics</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def generate_metrics_report(\n    automated_scores: list[float] | None = None,\n    human_scores: list[float] | None = None,\n    predictions: list[int] | None = None,\n    ground_truth: list[int] | None = None,\n    pairwise_comparisons: list[dict] | None = None,\n    evaluation_type: str = \"general\",\n) -&gt; EvaluationMetricsReport:\n    \"\"\"\n    Generate comprehensive evaluation metrics report.\n\n    Args:\n        automated_scores: Scores from automated evaluation\n        human_scores: Scores from human evaluation\n        predictions: Binary predictions (for classification)\n        ground_truth: Ground truth labels (for classification)\n        pairwise_comparisons: Pairwise comparison results\n        evaluation_type: Type of evaluation (ordinal, binary, pairwise)\n\n    Returns:\n        EvaluationMetricsReport with all applicable metrics\n    \"\"\"\n    report = EvaluationMetricsReport(evaluation_type=evaluation_type)\n    warnings = []\n    recommendations = []\n\n    # Classification metrics\n    if predictions is not None and ground_truth is not None:\n        report.classification = classification_metrics(predictions, ground_truth)\n        report.sample_size = len(predictions)\n\n        if report.classification.precision &lt; 0.7:\n            warnings.append(\"Precision below 0.7 - high false positive rate\")\n        if report.classification.recall &lt; 0.7:\n            warnings.append(\"Recall below 0.7 - high false negative rate\")\n\n    # Correlation/Agreement metrics\n    if automated_scores is not None and human_scores is not None:\n        report.correlation = correlation_metrics(automated_scores, human_scores)\n        report.sample_size = len(automated_scores)\n\n        # Agreement for ordinal scales\n        if evaluation_type == \"ordinal\":\n            # Round to integers for agreement calculation\n            j1 = [round(s) for s in automated_scores]\n            j2 = [round(s) for s in human_scores]\n            report.agreement = agreement_metrics(j1, j2, ordinal=True)\n\n        if report.correlation.spearmans_rho &lt; 0.6:\n            warnings.append(\"Spearman's \u03c1 below 0.6 - weak correlation with human judgment\")\n            recommendations.append(\"Review evaluation criteria for clarity\")\n\n    # Pairwise metrics\n    if pairwise_comparisons is not None:\n        report.pairwise = pairwise_metrics(pairwise_comparisons)\n        report.sample_size = len(pairwise_comparisons)\n\n        if report.pairwise.position_consistency &lt; 0.8:\n            warnings.append(\"Position consistency below 0.8 - position bias may be present\")\n            recommendations.append(\"Increase number of position swaps or use multiple passes\")\n\n        if report.pairwise.tie_rate &gt; 0.3:\n            warnings.append(\"High tie rate (&gt;30%) - criteria may need refinement\")\n\n    # Sample size warning\n    if report.sample_size &lt; 50:\n        warnings.append(f\"Small sample size ({report.sample_size}) - metrics may be unreliable\")\n        recommendations.append(\"Collect more evaluation samples for reliable metrics\")\n\n    report.warnings = warnings\n    report.recommendations = recommendations\n\n    return report\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.kendalls_tau","title":"<code>kendalls_tau(scores1, scores2)</code>","text":"<p>Calculate Kendall's tau correlation coefficient.</p> <p>Parameters:</p> Name Type Description Default <code>scores1</code> <code>list[float]</code> <p>First set of scores</p> required <code>scores2</code> <code>list[float]</code> <p>Second set of scores</p> required <p>Returns:</p> Type Description <code>tuple[float, float]</code> <p>Tuple of (tau, p_value)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def kendalls_tau(scores1: list[float], scores2: list[float]) -&gt; tuple[float, float]:\n    \"\"\"\n    Calculate Kendall's tau correlation coefficient.\n\n    Args:\n        scores1: First set of scores\n        scores2: Second set of scores\n\n    Returns:\n        Tuple of (tau, p_value)\n    \"\"\"\n    if len(scores1) != len(scores2):\n        raise ValueError(\"Score lists must have same length\")\n\n    n = len(scores1)\n    if n &lt; 2:\n        return 0.0, 1.0\n\n    concordant = 0\n    discordant = 0\n\n    for i in range(n):\n        for j in range(i + 1, n):\n            x_diff = scores1[i] - scores1[j]\n            y_diff = scores2[i] - scores2[j]\n\n            if x_diff * y_diff &gt; 0:\n                concordant += 1\n            elif x_diff * y_diff &lt; 0:\n                discordant += 1\n            # Ties are ignored\n\n    total = concordant + discordant\n    if total == 0:\n        return 0.0, 1.0\n\n    tau = (concordant - discordant) / total\n\n    # Approximate p-value\n    var = (2 * (2 * n + 5)) / (9 * n * (n - 1))\n    z = tau / math.sqrt(var) if var &gt; 0 else 0\n    p_value = 2 * (1 - _cdf_normal(abs(z)))\n\n    return tau, p_value\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.pairwise_metrics","title":"<code>pairwise_metrics(comparisons)</code>","text":"<p>Calculate all pairwise comparison metrics.</p> <p>Parameters:</p> Name Type Description Default <code>comparisons</code> <code>list[dict]</code> <p>List of comparison results with 'winner' and 'position_consistent' fields</p> required <p>Returns:</p> Type Description <code>PairwiseMetrics</code> <p>PairwiseMetrics with all metrics</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def pairwise_metrics(comparisons: list[dict]) -&gt; PairwiseMetrics:\n    \"\"\"\n    Calculate all pairwise comparison metrics.\n\n    Args:\n        comparisons: List of comparison results with 'winner' and 'position_consistent' fields\n\n    Returns:\n        PairwiseMetrics with all metrics\n    \"\"\"\n    if not comparisons:\n        return PairwiseMetrics(\n            agreement_rate=0.0,\n            position_consistency=0.0,\n            tie_rate=0.0,\n            total_comparisons=0,\n            consistent_decisions=0,\n        )\n\n    total = len(comparisons)\n    ties = sum(1 for c in comparisons if c.get(\"winner\", \"\").upper() == \"TIE\")\n    consistent = sum(\n        1 for c in comparisons if c.get(\"position_consistent\", c.get(\"positionConsistency\", False))\n    )\n\n    return PairwiseMetrics(\n        agreement_rate=consistent / total,\n        position_consistency=consistent / total,\n        tie_rate=ties / total,\n        total_comparisons=total,\n        consistent_decisions=consistent,\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.pearsons_r","title":"<code>pearsons_r(scores1, scores2)</code>","text":"<p>Calculate Pearson's correlation coefficient.</p> <p>Parameters:</p> Name Type Description Default <code>scores1</code> <code>list[float]</code> <p>First set of scores</p> required <code>scores2</code> <code>list[float]</code> <p>Second set of scores</p> required <p>Returns:</p> Type Description <code>tuple[float, float]</code> <p>Tuple of (r, p_value)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def pearsons_r(scores1: list[float], scores2: list[float]) -&gt; tuple[float, float]:\n    \"\"\"\n    Calculate Pearson's correlation coefficient.\n\n    Args:\n        scores1: First set of scores\n        scores2: Second set of scores\n\n    Returns:\n        Tuple of (r, p_value)\n    \"\"\"\n    if len(scores1) != len(scores2):\n        raise ValueError(\"Score lists must have same length\")\n\n    n = len(scores1)\n    if n &lt; 3:\n        return 0.0, 1.0\n\n    mean1 = sum(scores1) / n\n    mean2 = sum(scores2) / n\n\n    numerator = sum((s1 - mean1) * (s2 - mean2) for s1, s2 in zip(scores1, scores2, strict=True))\n    denom1 = math.sqrt(sum((s1 - mean1) ** 2 for s1 in scores1))\n    denom2 = math.sqrt(sum((s2 - mean2) ** 2 for s2 in scores2))\n\n    if denom1 == 0 or denom2 == 0:\n        return 0.0, 1.0\n\n    r = numerator / (denom1 * denom2)\n\n    # Approximate p-value\n    if abs(r) == 1.0:\n        p_value = 0.0\n    else:\n        t_stat = r * math.sqrt((n - 2) / (1 - r**2))\n        p_value = 2 * (1 - _cdf_t(abs(t_stat), n - 2))\n\n    return r, p_value\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.precision","title":"<code>precision(predictions, ground_truth)</code>","text":"<p>Calculate precision: TP / (TP + FP)</p> <p>Parameters:</p> Name Type Description Default <code>predictions</code> <code>list[int]</code> <p>List of predicted labels (1 = positive, 0 = negative)</p> required <code>ground_truth</code> <code>list[int]</code> <p>List of actual labels</p> required <p>Returns:</p> Type Description <code>float</code> <p>Precision score (0.0 to 1.0)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def precision(predictions: list[int], ground_truth: list[int]) -&gt; float:\n    \"\"\"\n    Calculate precision: TP / (TP + FP)\n\n    Args:\n        predictions: List of predicted labels (1 = positive, 0 = negative)\n        ground_truth: List of actual labels\n\n    Returns:\n        Precision score (0.0 to 1.0)\n    \"\"\"\n    if len(predictions) != len(ground_truth):\n        raise ValueError(\"Predictions and ground truth must have same length\")\n\n    true_positives = sum(\n        1 for p, g in zip(predictions, ground_truth, strict=True) if p == 1 and g == 1\n    )\n    predicted_positives = sum(predictions)\n\n    return true_positives / predicted_positives if predicted_positives &gt; 0 else 0.0\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.recall","title":"<code>recall(predictions, ground_truth)</code>","text":"<p>Calculate recall: TP / (TP + FN)</p> <p>Parameters:</p> Name Type Description Default <code>predictions</code> <code>list[int]</code> <p>List of predicted labels</p> required <code>ground_truth</code> <code>list[int]</code> <p>List of actual labels</p> required <p>Returns:</p> Type Description <code>float</code> <p>Recall score (0.0 to 1.0)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def recall(predictions: list[int], ground_truth: list[int]) -&gt; float:\n    \"\"\"\n    Calculate recall: TP / (TP + FN)\n\n    Args:\n        predictions: List of predicted labels\n        ground_truth: List of actual labels\n\n    Returns:\n        Recall score (0.0 to 1.0)\n    \"\"\"\n    if len(predictions) != len(ground_truth):\n        raise ValueError(\"Predictions and ground truth must have same length\")\n\n    true_positives = sum(\n        1 for p, g in zip(predictions, ground_truth, strict=True) if p == 1 and g == 1\n    )\n    actual_positives = sum(ground_truth)\n\n    return true_positives / actual_positives if actual_positives &gt; 0 else 0.0\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.spearmans_rho","title":"<code>spearmans_rho(scores1, scores2)</code>","text":"<p>Calculate Spearman's rank correlation coefficient.</p> <p>Parameters:</p> Name Type Description Default <code>scores1</code> <code>list[float]</code> <p>First set of scores</p> required <code>scores2</code> <code>list[float]</code> <p>Second set of scores</p> required <p>Returns:</p> Type Description <code>tuple[float, float]</code> <p>Tuple of (rho, p_value)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def spearmans_rho(scores1: list[float], scores2: list[float]) -&gt; tuple[float, float]:\n    \"\"\"\n    Calculate Spearman's rank correlation coefficient.\n\n    Args:\n        scores1: First set of scores\n        scores2: Second set of scores\n\n    Returns:\n        Tuple of (rho, p_value)\n    \"\"\"\n    if len(scores1) != len(scores2):\n        raise ValueError(\"Score lists must have same length\")\n\n    n = len(scores1)\n    if n &lt; 3:\n        return 0.0, 1.0\n\n    # Convert to ranks\n    ranks1 = _rank(scores1)\n    ranks2 = _rank(scores2)\n\n    # Calculate Spearman's rho using Pearson on ranks\n    mean1 = sum(ranks1) / n\n    mean2 = sum(ranks2) / n\n\n    numerator = sum((r1 - mean1) * (r2 - mean2) for r1, r2 in zip(ranks1, ranks2, strict=True))\n    denom1 = math.sqrt(sum((r1 - mean1) ** 2 for r1 in ranks1))\n    denom2 = math.sqrt(sum((r2 - mean2) ** 2 for r2 in ranks2))\n\n    if denom1 == 0 or denom2 == 0:\n        return 0.0, 1.0\n\n    rho = numerator / (denom1 * denom2)\n\n    # Approximate p-value using t-distribution\n    if abs(rho) == 1.0:\n        p_value = 0.0\n    else:\n        t_stat = rho * math.sqrt((n - 2) / (1 - rho**2))\n        # Simplified p-value approximation\n        p_value = 2 * (1 - _cdf_t(abs(t_stat), n - 2))\n\n    return rho, p_value\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.weighted_kappa","title":"<code>weighted_kappa(judge1, judge2, weights='quadratic')</code>","text":"<p>Calculate weighted Cohen's Kappa for ordinal scales.</p> <p>Parameters:</p> Name Type Description Default <code>judge1</code> <code>list[int]</code> <p>Ratings from first judge (ordinal integers)</p> required <code>judge2</code> <code>list[int]</code> <p>Ratings from second judge (ordinal integers)</p> required <code>weights</code> <code>str</code> <p>Weighting scheme - 'linear' or 'quadratic'</p> <code>'quadratic'</code> <p>Returns:</p> Type Description <code>float</code> <p>Weighted Kappa (-1.0 to 1.0)</p> Source code in <code>src/boring/judge/metrics.py</code> <pre><code>def weighted_kappa(judge1: list[int], judge2: list[int], weights: str = \"quadratic\") -&gt; float:\n    \"\"\"\n    Calculate weighted Cohen's Kappa for ordinal scales.\n\n    Args:\n        judge1: Ratings from first judge (ordinal integers)\n        judge2: Ratings from second judge (ordinal integers)\n        weights: Weighting scheme - 'linear' or 'quadratic'\n\n    Returns:\n        Weighted Kappa (-1.0 to 1.0)\n    \"\"\"\n    if len(judge1) != len(judge2):\n        raise ValueError(\"Judge ratings must have same length\")\n\n    n = len(judge1)\n    if n == 0:\n        return 0.0\n\n    # Get all unique categories (ordered)\n    categories = sorted(set(judge1) | set(judge2))\n    k = len(categories)\n\n    if k &lt; 2:\n        return 1.0 if all(j1 == j2 for j1, j2 in zip(judge1, judge2, strict=True)) else 0.0\n\n    # Create category index mapping\n    cat_to_idx = {cat: i for i, cat in enumerate(categories)}\n\n    # Calculate weight matrix\n    weight_matrix = []\n    for i in range(k):\n        row = []\n        for j in range(k):\n            if weights == \"linear\":\n                w = abs(i - j) / (k - 1)\n            else:  # quadratic\n                w = ((i - j) ** 2) / ((k - 1) ** 2)\n            row.append(w)\n        weight_matrix.append(row)\n\n    # Count confusion matrix\n    confusion = [[0] * k for _ in range(k)]\n    for j1, j2 in zip(judge1, judge2, strict=True):\n        i1 = cat_to_idx[j1]\n        i2 = cat_to_idx[j2]\n        confusion[i1][i2] += 1\n\n    # Calculate observed disagreement\n    observed = sum(weight_matrix[i][j] * confusion[i][j] for i in range(k) for j in range(k)) / n\n\n    # Calculate expected disagreement\n    row_marginals = [sum(confusion[i]) / n for i in range(k)]\n    col_marginals = [sum(confusion[i][j] for i in range(k)) / n for j in range(k)]\n\n    expected = sum(\n        weight_matrix[i][j] * row_marginals[i] * col_marginals[j]\n        for i in range(k)\n        for j in range(k)\n    )\n\n    # Calculate weighted kappa\n    if expected == 0:\n        return 1.0 if observed == 0 else 0.0\n\n    return 1 - (observed / expected)\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.format_rubric_json","title":"<code>format_rubric_json(rubric)</code>","text":"<p>Convert rubric to JSON-serializable dict.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>def format_rubric_json(rubric: DetailedRubric) -&gt; dict:\n    \"\"\"Convert rubric to JSON-serializable dict.\"\"\"\n    return {\n        \"name\": rubric.name,\n        \"description\": rubric.description,\n        \"domain\": rubric.domain,\n        \"scale\": rubric.scale,\n        \"strictness\": rubric.strictness,\n        \"criteria\": [\n            {\n                \"name\": c.name,\n                \"description\": c.description,\n                \"weight\": c.weight,\n                \"levels\": [\n                    {\n                        \"score\": level.score,\n                        \"label\": level.label,\n                        \"description\": level.description,\n                        \"characteristics\": level.characteristics,\n                    }\n                    for level in c.levels\n                ],\n            }\n            for c in rubric.criteria\n        ],\n        \"edge_cases\": [\n            {\"situation\": e.situation, \"guidance\": e.guidance} for e in rubric.general_edge_cases\n        ],\n        \"scoring_guidelines\": rubric.scoring_guidelines,\n    }\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.generate_code_quality_rubric","title":"<code>generate_code_quality_rubric(strictness='balanced')</code>","text":"<p>Generate a standard code quality rubric.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>def generate_code_quality_rubric(strictness: str = \"balanced\") -&gt; DetailedRubric:\n    \"\"\"Generate a standard code quality rubric.\"\"\"\n    return generate_rubric(\n        name=\"Code Quality\",\n        description=\"Comprehensive evaluation of code quality\",\n        domain=\"code_quality\",\n        criteria_names=[\"Readability\", \"Documentation\", \"Modularity\", \"Error Handling\"],\n        scale=\"1-5\",\n        strictness=strictness,\n        weights={\n            \"Readability\": 1.2,\n            \"Documentation\": 0.8,\n            \"Modularity\": 1.0,\n            \"Error Handling\": 1.0,\n        },\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.generate_rubric","title":"<code>generate_rubric(name, description, domain, criteria_names, scale='1-5', strictness='balanced', weights=None)</code>","text":"<p>Generate a detailed rubric with level descriptions.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Name of the rubric</p> required <code>description</code> <code>str</code> <p>Description of what this rubric evaluates</p> required <code>domain</code> <code>str</code> <p>Domain for level templates (code_quality, security, performance, documentation)</p> required <code>criteria_names</code> <code>list[str]</code> <p>List of criterion names</p> required <code>scale</code> <code>str</code> <p>Rating scale (1-3, 1-5, 1-10)</p> <code>'1-5'</code> <code>strictness</code> <code>str</code> <p>Strictness level (lenient, balanced, strict)</p> <code>'balanced'</code> <code>weights</code> <code>dict[str, float] | None</code> <p>Optional weights for each criterion</p> <code>None</code> <p>Returns:</p> Type Description <code>DetailedRubric</code> <p>DetailedRubric with complete level descriptions</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>def generate_rubric(\n    name: str,\n    description: str,\n    domain: str,\n    criteria_names: list[str],\n    scale: str = \"1-5\",\n    strictness: str = \"balanced\",\n    weights: dict[str, float] | None = None,\n) -&gt; DetailedRubric:\n    \"\"\"\n    Generate a detailed rubric with level descriptions.\n\n    Args:\n        name: Name of the rubric\n        description: Description of what this rubric evaluates\n        domain: Domain for level templates (code_quality, security, performance, documentation)\n        criteria_names: List of criterion names\n        scale: Rating scale (1-3, 1-5, 1-10)\n        strictness: Strictness level (lenient, balanced, strict)\n        weights: Optional weights for each criterion\n\n    Returns:\n        DetailedRubric with complete level descriptions\n    \"\"\"\n    weights = weights or {}\n\n    # Get level template for domain\n    levels_template = LEVEL_TEMPLATES.get(domain, LEVEL_TEMPLATES[\"code_quality\"])\n\n    # Generate criteria with levels\n    criteria = []\n    for criterion_name in criteria_names:\n        # Build levels based on scale\n        levels = []\n        if scale == \"1-5\":\n            for score in [1, 2, 3, 4, 5]:\n                template = levels_template.get(\n                    score, {\"label\": f\"Level {score}\", \"description\": \"\", \"characteristics\": []}\n                )\n                levels.append(\n                    RubricLevel(\n                        score=score,\n                        label=template[\"label\"],\n                        description=template[\"description\"],\n                        characteristics=template[\"characteristics\"],\n                    )\n                )\n        elif scale == \"1-3\":\n            for score, template_score in [(1, 1), (2, 3), (3, 5)]:\n                template = levels_template.get(\n                    template_score,\n                    {\"label\": f\"Level {score}\", \"description\": \"\", \"characteristics\": []},\n                )\n                levels.append(\n                    RubricLevel(\n                        score=score,\n                        label=template[\"label\"],\n                        description=template[\"description\"],\n                        characteristics=template[\"characteristics\"],\n                    )\n                )\n        elif scale == \"1-10\":\n            for score in range(1, 11):\n                # Map to 1-5 templates\n                template_score = min(5, max(1, (score + 1) // 2))\n                template = levels_template.get(\n                    template_score,\n                    {\"label\": f\"Level {score}\", \"description\": \"\", \"characteristics\": []},\n                )\n                levels.append(\n                    RubricLevel(\n                        score=score,\n                        label=f\"{template['label']} ({score}/10)\",\n                        description=template[\"description\"],\n                        characteristics=template[\"characteristics\"],\n                    )\n                )\n\n        criterion = DetailedCriterion(\n            name=criterion_name,\n            description=f\"Evaluate {criterion_name.lower()}\",\n            weight=weights.get(criterion_name, 1.0),\n            levels=levels,\n            edge_cases=EDGE_CASE_TEMPLATES.get(domain, []),\n        )\n        criteria.append(criterion)\n\n    return DetailedRubric(\n        name=name,\n        description=description,\n        domain=domain,\n        scale=scale,\n        strictness=strictness,\n        criteria=criteria,\n        general_edge_cases=EDGE_CASE_TEMPLATES.get(domain, []),\n        scoring_guidelines=SCORING_GUIDELINES.get(strictness, SCORING_GUIDELINES[\"balanced\"]),\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.generate_security_rubric","title":"<code>generate_security_rubric(strictness='strict')</code>","text":"<p>Generate a security-focused rubric.</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>def generate_security_rubric(strictness: str = \"strict\") -&gt; DetailedRubric:\n    \"\"\"Generate a security-focused rubric.\"\"\"\n    return generate_rubric(\n        name=\"Security Audit\",\n        description=\"Security vulnerability assessment\",\n        domain=\"security\",\n        criteria_names=[\"Secrets Management\", \"Input Validation\", \"Injection Prevention\"],\n        scale=\"1-5\",\n        strictness=strictness,\n        weights={\"Secrets Management\": 2.0, \"Input Validation\": 1.5, \"Injection Prevention\": 1.5},\n    )\n</code></pre>"},{"location":"api/judge_zh/#boring.judge.rubric_to_prompt","title":"<code>rubric_to_prompt(rubric)</code>","text":"<p>Convert a DetailedRubric to a prompt string for LLM evaluation.</p> <p>Parameters:</p> Name Type Description Default <code>rubric</code> <code>DetailedRubric</code> <p>The rubric to convert</p> required <p>Returns:</p> Type Description <code>str</code> <p>Formatted prompt string</p> Source code in <code>src/boring/judge/rubric_generator.py</code> <pre><code>def rubric_to_prompt(rubric: DetailedRubric) -&gt; str:\n    \"\"\"\n    Convert a DetailedRubric to a prompt string for LLM evaluation.\n\n    Args:\n        rubric: The rubric to convert\n\n    Returns:\n        Formatted prompt string\n    \"\"\"\n    lines = [f\"# {rubric.name}\", \"\", rubric.description, \"\"]\n\n    lines.append(\"## Criteria\")\n    lines.append(\"\")\n    for criterion in rubric.criteria:\n        lines.append(f\"### {criterion.name} (Weight: {criterion.weight})\")\n        lines.append(\"\")\n        for level in criterion.levels:\n            lines.append(f\"**{level.score} - {level.label}**: {level.description}\")\n            if level.characteristics:\n                for char in level.characteristics:\n                    lines.append(f\"  - {char}\")\n        lines.append(\"\")\n\n    if rubric.general_edge_cases:\n        lines.append(\"## Edge Cases\")\n        lines.append(\"\")\n        for ec in rubric.general_edge_cases:\n            lines.append(f\"- **{ec.situation}**: {ec.guidance}\")\n        lines.append(\"\")\n\n    if rubric.scoring_guidelines:\n        lines.append(\"## Scoring Guidelines\")\n        lines.append(\"\")\n        for guideline in rubric.scoring_guidelines:\n            lines.append(f\"- {guideline}\")\n        lines.append(\"\")\n\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/loop_zh/","title":"Loop API \u53c3\u8003 (Loop &amp; Workflow)","text":""},{"location":"api/loop_zh/#boring.loop","title":"<code>boring.loop</code>","text":"<p>Boring Loop State Machine V10.26</p> <p>A refactored, state-pattern-based agent loop with clear separation of concerns.</p> <p>Module Structure: - base.py: LoopState ABC and utilities - context.py: LoopContext shared state - states/: Individual state implementations - agent.py: StatefulAgentLoop context class</p> <p>V10.26 Reorganization: - shadow_mode: Human-in-the-loop protection (moved from root) - workflow_manager: Workflow package management (moved from root) - workflow_evolver: Dynamic workflow evolution (moved from root) - background_agent: Async task execution (moved from root) - transactions: Git-based snapshot/rollback (moved from root)</p>"},{"location":"api/loop_zh/#boring.loop.StatefulAgentLoop","title":"<code>StatefulAgentLoop</code>","text":"<p>State-pattern-based autonomous agent loop (V10.23 Enhanced).</p> <p>This class is the Context in the State Pattern - it holds the current state and shared data, delegating logic to states.</p> <p>V10.23 Features: - Automatic session context syncing with intelligence modules - Memory compaction to prevent context bloat - Error/task/file access recording for pattern learning</p> Usage <p>loop = StatefulAgentLoop(model_name=\"gemini-2.0-flash\") loop.run()</p> Source code in <code>src/boring/loop/agent.py</code> <pre><code>class StatefulAgentLoop:\n    \"\"\"\n    State-pattern-based autonomous agent loop (V10.23 Enhanced).\n\n    This class is the Context in the State Pattern - it holds\n    the current state and shared data, delegating logic to states.\n\n    V10.23 Features:\n    - Automatic session context syncing with intelligence modules\n    - Memory compaction to prevent context bloat\n    - Error/task/file access recording for pattern learning\n\n    Usage:\n        loop = StatefulAgentLoop(model_name=\"gemini-2.0-flash\")\n        loop.run()\n    \"\"\"\n\n    def __init__(\n        self,\n        model_name: str = settings.DEFAULT_MODEL,\n        use_cli: bool = False,\n        verbose: bool = False,\n        prompt_file: Path | None = None,\n        context_file: Path | None = None,\n        verification_level: str = \"STANDARD\",\n        interactive: bool = False,\n    ):\n        \"\"\"Initialize the agent loop with configuration.\"\"\"\n        init_directories()\n\n        # Create shared context\n        self.context = LoopContext(\n            model_name=model_name,\n            use_cli=use_cli,\n            verbose=verbose,\n            interactive=interactive,\n            verification_level=verification_level.upper(),\n            project_root=settings.PROJECT_ROOT,\n            log_dir=settings.LOG_DIR,\n            prompt_file=prompt_file or settings.PROJECT_ROOT / settings.PROMPT_FILE,\n        )\n\n        # Initialize subsystems\n        self._init_subsystems()\n\n        # Initial state\n        self._current_state: LoopState | None = None\n\n        # RAG Watcher for auto-indexing\n        self._rag_watcher: RAGWatcher | None = None\n\n    def _init_subsystems(self) -&gt; None:\n        \"\"\"Initialize all subsystems and inject into context.\"\"\"\n        ctx = self.context\n\n        # Memory system\n        ctx.memory = MemoryManager(ctx.project_root)\n\n        # Code verifier\n        ctx.verifier = CodeVerifier(ctx.project_root, ctx.log_dir)\n\n        # Extensions manager\n        ctx.extensions = ExtensionsManager(ctx.project_root)\n\n        # SQLite storage for telemetry\n        try:\n            ctx.storage = create_storage(ctx.project_root, ctx.log_dir)\n        except Exception as e:\n            log_status(ctx.log_dir, \"WARN\", f\"Failed to init storage: {e}\")\n\n        # Gemini client (SDK mode only)\n        if not ctx.interactive:\n            if not ctx.use_cli:\n                ctx.gemini_client = create_gemini_client(\n                    log_dir=ctx.log_dir, model_name=ctx.model_name\n                )\n                if not ctx.gemini_client:\n                    raise RuntimeError(\"Failed to initialize Gemini SDK client\")\n            else:\n                # Verify CLI is available\n                if not shutil.which(\"gemini\"):\n                    raise RuntimeError(\n                        \"Gemini CLI not found in PATH. \"\n                        \"Install with: npm install -g @google/gemini-cli\"\n                    )\n\n        # RAG Watcher (for automatic re-indexing on file changes)\n        try:\n            self._rag_watcher = RAGWatcher(ctx.project_root)\n        except Exception as e:\n            log_status(ctx.log_dir, \"WARN\", f\"Failed to init RAG watcher: {e}\")\n\n        # Log status\n        if ctx.verbose:\n            console.print(f\"[dim]Memory: {ctx.memory.memory_dir}[/dim]\")\n            console.print(\n                f\"[dim]Verifier: ruff={ctx.verifier.tools.is_available('ruff')}, pytest={ctx.verifier.tools.is_available('pytest')}[/dim]\"\n            )\n\n    def run(self) -&gt; None:\n        \"\"\"Execute the main loop using state machine.\"\"\"\n        ctx = self.context\n\n        # Check circuit breaker\n        if should_halt_execution():\n            console.print(\"[bold red]Circuit Breaker is OPEN. Execution halted.[/bold red]\")\n            log_status(ctx.log_dir, \"CRITICAL\", \"Circuit Breaker is OPEN\")\n\n            if not self._handle_circuit_breaker_open():\n                return\n\n        # Display startup banner\n        self._show_banner()\n\n        # P4.2: Progress Persistence - Resume Session?\n        progress = self._init_progress_manager()\n        if progress and progress.has_progress():\n            from rich.prompt import Confirm\n\n            # Only ask if interactive or strict mode, otherwise maybe auto-resume?\n            # For safety, let's ask if console is interactive.\n            if not console.quiet and Confirm.ask(\n                \"[bold magenta]Found previous saved session. Resume?[/bold magenta]\"\n            ):\n                if progress.restore_context(ctx):\n                    console.print(f\"[green]Restored session at Loop #{ctx.loop_count}[/green]\")\n                    log_status(\n                        ctx.log_dir, \"INFO\", f\"Restored session state (Loop {ctx.loop_count})\"\n                    )\n\n        # Initialize tracking files\n        from boring.paths import BoringPaths\n\n        bp = BoringPaths(ctx.project_root)\n\n        init_call_tracking(\n            bp.state / \".call_count\",\n            bp.state / \".last_reset\",\n            bp.state / \".exit_signals\",\n        )\n\n        # Start RAG Watcher (auto-index on file changes)\n        if self._rag_watcher:\n            try:\n                from ..rag import create_rag_retriever\n\n                retriever = create_rag_retriever(ctx.project_root)\n\n                def on_file_change():\n                    try:\n                        retriever.build_index(incremental=True)\n                        log_status(ctx.log_dir, \"INFO\", \"[RAG] Incremental index complete\")\n                    except Exception as e:\n                        log_status(ctx.log_dir, \"WARN\", f\"[RAG] Re-index failed: {e}\")\n\n                self._rag_watcher.start(on_change=on_file_change)\n                log_status(ctx.log_dir, \"INFO\", \"[RAG] File watcher started\")\n            except ImportError:\n                log_status(ctx.log_dir, \"WARN\", \"[RAG] Watcher disabled (chromadb not installed)\")\n            except Exception as e:\n                log_status(ctx.log_dir, \"WARN\", f\"[RAG] Watcher failed to start: {e}\")\n\n        # Main loop\n        try:\n            from ..services.interrupt import InterruptHandler, start_interactive_shell\n\n            interrupt_handler = InterruptHandler(\n                save_callback=lambda: progress.save_progress(ctx) if progress else None\n            )\n\n            while ctx.should_continue():\n                try:\n                    # Check rate limits\n                    if not can_make_call(\n                        settings.PROJECT_ROOT / \".call_count\", settings.MAX_HOURLY_CALLS\n                    ):\n                        if console.quiet:\n                            ctx.mark_exit(\"Rate limit reached (Quiet/MCP mode)\")\n                            break\n                        wait_for_reset(\n                            settings.PROJECT_ROOT / \".call_count\",\n                            settings.PROJECT_ROOT / \".last_reset\",\n                            settings.MAX_HOURLY_CALLS,\n                        )\n                        console.print(\"[yellow]Rate limit reset. Resuming...[/yellow]\")\n\n                    # V10.23: Memory compaction check before each loop\n                    self._v10_23_pre_loop_maintenance()\n\n                    # Start new iteration\n                    ctx.increment_loop()\n                    log_status(ctx.log_dir, \"LOOP\", f\"=== Starting Loop #{ctx.loop_count} ===\")\n                    console.print(f\"\\n[bold purple]=== Loop #{ctx.loop_count} ===[/bold purple]\")\n\n                    # V10.23: Record task for session tracking\n                    ctx.record_task(\"loop_iteration\", {\"loop_count\": ctx.loop_count})\n\n                    # Run state machine for this iteration\n                    self._run_state_machine()\n\n                    # V10.23: Sync session context to RAG after each iteration\n                    self._v10_23_sync_session_context()\n\n                    # P4.2: Save Progress\n                    if progress:\n                        progress.save_progress(ctx)\n\n                    # Check for exit\n                    if ctx.should_exit:\n                        break\n\n                except KeyboardInterrupt:\n                    action = interrupt_handler.handle_interrupt()\n                    if action == \"exit\":\n                        break\n                    elif action == \"shell\":\n                        start_interactive_shell(ctx)\n                        # Optionally continue after shell\n                        continue\n                    elif action == \"continue\":\n                        continue\n\n        except Exception as e:\n            # Fatal error in loop\n            console.print(f\"[bold red]Fatal Loop Error:[/bold red] {e}\")\n            log_status(ctx.log_dir, \"CRITICAL\", f\"Fatal loop error: {e}\")\n            raise e\n\n        # Cleanup\n        if self._rag_watcher:\n            self._rag_watcher.stop()\n            log_status(ctx.log_dir, \"INFO\", \"[RAG] File watcher stopped\")\n\n        BackupManager.cleanup_old_backups(keep_last=10)\n\n        if ctx.exit_reason:\n            console.print(f\"[dim]Exit: {ctx.exit_reason}[/dim]\")\n        console.print(\"[dim]Agent loop finished.[/dim]\")\n\n        # BoringDone: Notify user that agent loop is complete\n        if notify_done:\n            success = not ctx.exit_reason or \"error\" not in ctx.exit_reason.lower()\n            notify_done(\n                task_name=\"Agent Loop\",\n                success=success,\n                details=f\"Completed {ctx.loop_count} iterations. {ctx.exit_reason or 'Ready for review.'}\",\n            )\n\n    def _run_state_machine(self) -&gt; None:\n        \"\"\"Execute the state machine for a single iteration.\"\"\"\n        # V11.0 System 2 Reasoning Trigger\n        initial_state = ThinkingState()\n\n        try:\n            # Try to peek at prompt to assess complexity\n            prompt_content = \"\"\n            if self.context.prompt_file and self.context.prompt_file.exists():\n                prompt_content = self.context.prompt_file.read_text(encoding=\"utf-8\")\n\n            if prompt_content:\n                from ..mcp.tool_router import get_tool_router\n\n                complexity = get_tool_router().assess_complexity(prompt_content)\n\n                if complexity &gt;= 0.7:\n                    from .states.reasoning import ReasoningState\n\n                    log_status(\n                        self.context.log_dir,\n                        \"INFO\",\n                        f\"[System 2] High complexity detected ({complexity:.2f}). Triggering Reasoning State.\",\n                    )\n                    initial_state = ReasoningState()\n        except Exception as e:\n            log_status(self.context.log_dir, \"DEBUG\", f\"Complexity assessment failed: {e}\")\n\n        # Start with chosen state\n        self._current_state = initial_state\n\n        while self._current_state is not None:\n            state = self._current_state\n\n            # Enter state\n            state.on_enter(self.context)\n\n            # Execute state logic\n            result = state.handle(self.context)\n\n            # Exit state\n            state.on_exit(self.context)\n\n            # Transition to next state\n            self._current_state = state.next_state(self.context, result)\n\n            # Log transition\n            if self._current_state:\n                log_status(\n                    self.context.log_dir,\n                    \"INFO\",\n                    f\"Transition: {state.name} -&gt; {self._current_state.name}\",\n                )\n\n    def _show_banner(self) -&gt; None:\n        \"\"\"Display startup banner.\"\"\"\n        ctx = self.context\n        console.print(\n            Panel.fit(\n                f\"[bold green]Boring Autonomous Agent (v4.0 - State Pattern)[/bold green]\\n\"\n                f\"Mode: {'CLI' if ctx.use_cli else 'SDK'}\\n\"\n                f\"Model: {ctx.model_name}\\n\"\n                f\"Log Dir: {ctx.log_dir}\",\n                title=\"System Initialization\",\n            )\n        )\n\n    def _handle_circuit_breaker_open(self) -&gt; bool:\n        \"\"\"Handle circuit breaker open state. Returns True if should continue.\"\"\"\n        try:\n            from ..interactive import enter_interactive_mode\n\n            should_resume = enter_interactive_mode(\n                reason=\"Circuit Breaker OPEN - Too many consecutive failures\",\n                project_root=settings.PROJECT_ROOT,\n                recent_errors=self.context.errors_this_loop,\n            )\n\n            if should_resume:\n                console.print(\"[green]Resuming loop after interactive session...[/green]\")\n                return True\n            else:\n                console.print(\"[yellow]Aborting as requested.[/yellow]\")\n                return False\n\n        except ImportError:\n            console.print(\"[dim]Use 'boring reset-circuit' to reset manually.[/dim]\")\n            return False\n        except KeyboardInterrupt:\n            console.print(\"\\n[yellow]Interrupted.[/yellow]\")\n            return False\n\n    # =========================================================================\n    # V10.23: Intelligence Integration Methods\n    # =========================================================================\n\n    def _v10_23_pre_loop_maintenance(self) -&gt; None:\n        \"\"\"\n        V10.23: Pre-loop maintenance tasks.\n\n        - Compact context memory if needed\n        - Clear stale caches\n        - Update pattern decay scores\n        \"\"\"\n        ctx = self.context\n\n        try:\n            # Memory compaction\n            if hasattr(ctx, \"compact_if_needed\"):\n                compacted = ctx.compact_if_needed()\n                if compacted:\n                    log_status(ctx.log_dir, \"INFO\", \"[V10.23] Context memory compacted\")\n\n            # Every 10 loops, trigger brain pattern decay update\n            if ctx.loop_count &gt; 0 and ctx.loop_count % 10 == 0:\n                try:\n                    from ..brain_manager import BrainManager\n\n                    brain = BrainManager(ctx.project_root, ctx.log_dir)\n                    if hasattr(brain, \"update_pattern_decay\"):\n                        brain.update_pattern_decay()\n                        log_status(ctx.log_dir, \"DEBUG\", \"[V10.23] Pattern decay updated\")\n                except Exception:\n                    pass  # Brain operations are optional\n\n        except Exception as e:\n            log_status(ctx.log_dir, \"WARN\", f\"[V10.23] Pre-loop maintenance failed: {e}\")\n\n    def _v10_23_sync_session_context(self) -&gt; None:\n        \"\"\"\n        V10.23: Sync session context to intelligence modules.\n\n        Propagates current task context to:\n        - RAG retriever (for task-aware search)\n        - IntelligentRanker (for task-aware ranking)\n        - AdaptiveCache (for prediction hints)\n        \"\"\"\n        ctx = self.context\n\n        try:\n            # Get session context from LoopContext\n            if hasattr(ctx, \"get_session_context_for_rag\"):\n                session_data = ctx.get_session_context_for_rag()\n\n                if session_data:\n                    # Sync to RAG\n                    try:\n                        from ..rag.rag_retriever import set_session_context\n\n                        set_session_context(\n                            task_type=session_data.get(\"task_type\", \"general\"),\n                            keywords=session_data.get(\"keywords\", []),\n                        )\n                    except Exception:\n                        pass  # RAG sync is optional\n\n                    # Sync to IntelligentRanker\n                    try:\n                        from ..intelligence.intelligent_ranker import IntelligentRanker\n\n                        ranker = IntelligentRanker(ctx.project_root)\n                        ranker.set_session_context(\n                            session_id=f\"loop_{ctx.loop_count}\",\n                            task_type=session_data.get(\"task_type\", \"general\"),\n                            file_focus=session_data.get(\"recent_files\", [])[:5],\n                            error_context=session_data.get(\"recent_errors\", [\"\"])[0]\n                            if session_data.get(\"recent_errors\")\n                            else \"\",\n                        )\n                    except Exception:\n                        pass  # Ranker sync is optional\n\n        except Exception as e:\n            log_status(ctx.log_dir, \"DEBUG\", f\"[V10.23] Session sync skipped: {e}\")\n\n    def _v10_23_record_loop_result(self, success: bool, error_msg: str = \"\") -&gt; None:\n        \"\"\"\n        V10.23: Record loop result for learning.\n\n        Args:\n            success: Whether the loop iteration succeeded\n            error_msg: Error message if failed\n        \"\"\"\n        ctx = self.context\n\n        try:\n            if not success and error_msg:\n                # Record error for pattern learning\n                if hasattr(ctx, \"record_error\"):\n                    ctx.record_error(error_msg)\n\n                # Also record in PredictiveAnalyzer for session insights\n                try:\n                    from ..intelligence.predictive_analyzer import PredictiveAnalyzer\n\n                    analyzer = PredictiveAnalyzer(ctx.project_root, ctx.log_dir)\n                    if hasattr(analyzer, \"record_session_error\"):\n                        analyzer.record_session_error(\n                            error_message=error_msg,\n                            file_path=\"\",  # Could be enhanced with actual file\n                            session_id=f\"loop_{ctx.loop_count}\",\n                        )\n                except Exception:\n                    pass\n\n        except Exception as e:\n            log_status(ctx.log_dir, \"DEBUG\", f\"[V10.23] Result recording failed: {e}\")\n\n    def _init_progress_manager(self) -&gt; Any | None:\n        \"\"\"Initialize progress manager safely.\"\"\"\n        try:\n            from ..services.progress import ProgressManager\n\n            return ProgressManager(self.context.project_root)\n        except ImportError:\n            return None\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.StatefulAgentLoop.__init__","title":"<code>__init__(model_name=settings.DEFAULT_MODEL, use_cli=False, verbose=False, prompt_file=None, context_file=None, verification_level='STANDARD', interactive=False)</code>","text":"<p>Initialize the agent loop with configuration.</p> Source code in <code>src/boring/loop/agent.py</code> <pre><code>def __init__(\n    self,\n    model_name: str = settings.DEFAULT_MODEL,\n    use_cli: bool = False,\n    verbose: bool = False,\n    prompt_file: Path | None = None,\n    context_file: Path | None = None,\n    verification_level: str = \"STANDARD\",\n    interactive: bool = False,\n):\n    \"\"\"Initialize the agent loop with configuration.\"\"\"\n    init_directories()\n\n    # Create shared context\n    self.context = LoopContext(\n        model_name=model_name,\n        use_cli=use_cli,\n        verbose=verbose,\n        interactive=interactive,\n        verification_level=verification_level.upper(),\n        project_root=settings.PROJECT_ROOT,\n        log_dir=settings.LOG_DIR,\n        prompt_file=prompt_file or settings.PROJECT_ROOT / settings.PROMPT_FILE,\n    )\n\n    # Initialize subsystems\n    self._init_subsystems()\n\n    # Initial state\n    self._current_state: LoopState | None = None\n\n    # RAG Watcher for auto-indexing\n    self._rag_watcher: RAGWatcher | None = None\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.StatefulAgentLoop.run","title":"<code>run()</code>","text":"<p>Execute the main loop using state machine.</p> Source code in <code>src/boring/loop/agent.py</code> <pre><code>def run(self) -&gt; None:\n    \"\"\"Execute the main loop using state machine.\"\"\"\n    ctx = self.context\n\n    # Check circuit breaker\n    if should_halt_execution():\n        console.print(\"[bold red]Circuit Breaker is OPEN. Execution halted.[/bold red]\")\n        log_status(ctx.log_dir, \"CRITICAL\", \"Circuit Breaker is OPEN\")\n\n        if not self._handle_circuit_breaker_open():\n            return\n\n    # Display startup banner\n    self._show_banner()\n\n    # P4.2: Progress Persistence - Resume Session?\n    progress = self._init_progress_manager()\n    if progress and progress.has_progress():\n        from rich.prompt import Confirm\n\n        # Only ask if interactive or strict mode, otherwise maybe auto-resume?\n        # For safety, let's ask if console is interactive.\n        if not console.quiet and Confirm.ask(\n            \"[bold magenta]Found previous saved session. Resume?[/bold magenta]\"\n        ):\n            if progress.restore_context(ctx):\n                console.print(f\"[green]Restored session at Loop #{ctx.loop_count}[/green]\")\n                log_status(\n                    ctx.log_dir, \"INFO\", f\"Restored session state (Loop {ctx.loop_count})\"\n                )\n\n    # Initialize tracking files\n    from boring.paths import BoringPaths\n\n    bp = BoringPaths(ctx.project_root)\n\n    init_call_tracking(\n        bp.state / \".call_count\",\n        bp.state / \".last_reset\",\n        bp.state / \".exit_signals\",\n    )\n\n    # Start RAG Watcher (auto-index on file changes)\n    if self._rag_watcher:\n        try:\n            from ..rag import create_rag_retriever\n\n            retriever = create_rag_retriever(ctx.project_root)\n\n            def on_file_change():\n                try:\n                    retriever.build_index(incremental=True)\n                    log_status(ctx.log_dir, \"INFO\", \"[RAG] Incremental index complete\")\n                except Exception as e:\n                    log_status(ctx.log_dir, \"WARN\", f\"[RAG] Re-index failed: {e}\")\n\n            self._rag_watcher.start(on_change=on_file_change)\n            log_status(ctx.log_dir, \"INFO\", \"[RAG] File watcher started\")\n        except ImportError:\n            log_status(ctx.log_dir, \"WARN\", \"[RAG] Watcher disabled (chromadb not installed)\")\n        except Exception as e:\n            log_status(ctx.log_dir, \"WARN\", f\"[RAG] Watcher failed to start: {e}\")\n\n    # Main loop\n    try:\n        from ..services.interrupt import InterruptHandler, start_interactive_shell\n\n        interrupt_handler = InterruptHandler(\n            save_callback=lambda: progress.save_progress(ctx) if progress else None\n        )\n\n        while ctx.should_continue():\n            try:\n                # Check rate limits\n                if not can_make_call(\n                    settings.PROJECT_ROOT / \".call_count\", settings.MAX_HOURLY_CALLS\n                ):\n                    if console.quiet:\n                        ctx.mark_exit(\"Rate limit reached (Quiet/MCP mode)\")\n                        break\n                    wait_for_reset(\n                        settings.PROJECT_ROOT / \".call_count\",\n                        settings.PROJECT_ROOT / \".last_reset\",\n                        settings.MAX_HOURLY_CALLS,\n                    )\n                    console.print(\"[yellow]Rate limit reset. Resuming...[/yellow]\")\n\n                # V10.23: Memory compaction check before each loop\n                self._v10_23_pre_loop_maintenance()\n\n                # Start new iteration\n                ctx.increment_loop()\n                log_status(ctx.log_dir, \"LOOP\", f\"=== Starting Loop #{ctx.loop_count} ===\")\n                console.print(f\"\\n[bold purple]=== Loop #{ctx.loop_count} ===[/bold purple]\")\n\n                # V10.23: Record task for session tracking\n                ctx.record_task(\"loop_iteration\", {\"loop_count\": ctx.loop_count})\n\n                # Run state machine for this iteration\n                self._run_state_machine()\n\n                # V10.23: Sync session context to RAG after each iteration\n                self._v10_23_sync_session_context()\n\n                # P4.2: Save Progress\n                if progress:\n                    progress.save_progress(ctx)\n\n                # Check for exit\n                if ctx.should_exit:\n                    break\n\n            except KeyboardInterrupt:\n                action = interrupt_handler.handle_interrupt()\n                if action == \"exit\":\n                    break\n                elif action == \"shell\":\n                    start_interactive_shell(ctx)\n                    # Optionally continue after shell\n                    continue\n                elif action == \"continue\":\n                    continue\n\n    except Exception as e:\n        # Fatal error in loop\n        console.print(f\"[bold red]Fatal Loop Error:[/bold red] {e}\")\n        log_status(ctx.log_dir, \"CRITICAL\", f\"Fatal loop error: {e}\")\n        raise e\n\n    # Cleanup\n    if self._rag_watcher:\n        self._rag_watcher.stop()\n        log_status(ctx.log_dir, \"INFO\", \"[RAG] File watcher stopped\")\n\n    BackupManager.cleanup_old_backups(keep_last=10)\n\n    if ctx.exit_reason:\n        console.print(f\"[dim]Exit: {ctx.exit_reason}[/dim]\")\n    console.print(\"[dim]Agent loop finished.[/dim]\")\n\n    # BoringDone: Notify user that agent loop is complete\n    if notify_done:\n        success = not ctx.exit_reason or \"error\" not in ctx.exit_reason.lower()\n        notify_done(\n            task_name=\"Agent Loop\",\n            success=success,\n            details=f\"Completed {ctx.loop_count} iterations. {ctx.exit_reason or 'Ready for review.'}\",\n        )\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTask","title":"<code>BackgroundTask</code>  <code>dataclass</code>","text":"<p>Represents a background task.</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>@dataclass\nclass BackgroundTask:\n    \"\"\"Represents a background task.\"\"\"\n\n    task_id: str\n    name: str\n    status: str  # pending, running, completed, failed\n    created_at: datetime\n    started_at: datetime | None = None\n    completed_at: datetime | None = None\n    result: Any = None\n    error: str | None = None\n    progress: int = 0  # 0-100\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner","title":"<code>BackgroundTaskRunner</code>","text":"<p>Manages background task execution using thread pool.</p> <p>Features: - Non-blocking task submission - Status tracking - Result retrieval</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>class BackgroundTaskRunner:\n    \"\"\"\n    Manages background task execution using thread pool.\n\n    Features:\n    - Non-blocking task submission\n    - Status tracking\n    - Result retrieval\n    \"\"\"\n\n    _instance = None\n    _lock = threading.Lock()\n\n    def __new__(cls, *args, **kwargs):\n        with cls._lock:\n            if cls._instance is None:\n                cls._instance = super().__new__(cls)\n                cls._instance._initialized = False\n            return cls._instance\n\n    def __init__(self, max_workers: int = 4):\n        if self._initialized:\n            return\n        self._initialized = True\n        self.executor = ThreadPoolExecutor(max_workers=max_workers, thread_name_prefix=\"boring-bg-\")\n        self.tasks: dict[str, BackgroundTask] = {}\n        self.futures: dict[str, Any] = {}\n\n    def submit(\n        self,\n        func: Callable,\n        *args: Any,\n        name: str = \"Background task\",\n        **kwargs: Any,\n    ) -&gt; str:\n        \"\"\"\n        Submit a task for background execution.\n\n        Args:\n            func: Function to execute\n            name: Task name for display\n            *args: Arguments to pass to func\n            **kwargs: Keyword arguments to pass to func\n\n        Returns:\n            task_id for tracking\n        \"\"\"\n        task_id = f\"task-{uuid.uuid4().hex[:8]}\"\n\n        task = BackgroundTask(\n            task_id=task_id,\n            name=name,\n            status=\"pending\",\n            created_at=datetime.now(),\n        )\n        self.tasks[task_id] = task\n\n        def wrapper():\n            task.status = \"running\"\n            task.started_at = datetime.now()\n            try:\n                result = func(*args, **kwargs)\n                task.result = result\n                task.status = \"completed\"\n            except Exception as e:\n                task.error = str(e)\n                task.status = \"failed\"\n            finally:\n                task.completed_at = datetime.now()\n\n        future = self.executor.submit(wrapper)\n        self.futures[task_id] = future\n\n        return task_id\n\n    def get_status(self, task_id: str) -&gt; dict:\n        \"\"\"Get status of a task.\"\"\"\n        task = self.tasks.get(task_id)\n        if not task:\n            return {\"status\": \"not_found\", \"task_id\": task_id}\n\n        return {\n            \"task_id\": task.task_id,\n            \"name\": task.name,\n            \"status\": task.status,\n            \"created_at\": task.created_at.isoformat(),\n            \"started_at\": task.started_at.isoformat() if task.started_at else None,\n            \"completed_at\": task.completed_at.isoformat() if task.completed_at else None,\n            \"progress\": task.progress,\n            \"result\": task.result if task.status == \"completed\" else None,\n            \"error\": task.error,\n        }\n\n    def get_result(self, task_id: str, timeout: float = None) -&gt; dict:\n        \"\"\"Wait for and get result of a task.\"\"\"\n        future = self.futures.get(task_id)\n        if not future:\n            return {\"status\": \"not_found\", \"task_id\": task_id}\n\n        try:\n            future.result(timeout=timeout)\n        except Exception:\n            pass\n\n        return self.get_status(task_id)\n\n    def list_tasks(self, status_filter: str = None) -&gt; list[dict]:\n        \"\"\"List all tasks, optionally filtered by status.\"\"\"\n        tasks = []\n        for task in self.tasks.values():\n            if status_filter and task.status != status_filter:\n                continue\n            tasks.append(\n                {\n                    \"task_id\": task.task_id,\n                    \"name\": task.name,\n                    \"status\": task.status,\n                    \"created_at\": task.created_at.isoformat(),\n                }\n            )\n        return sorted(tasks, key=lambda x: x[\"created_at\"], reverse=True)\n\n    def cancel(self, task_id: str) -&gt; dict:\n        \"\"\"Attempt to cancel a pending task.\"\"\"\n        future = self.futures.get(task_id)\n        if not future:\n            return {\"status\": \"not_found\", \"task_id\": task_id}\n\n        task = self.tasks[task_id]\n        if task.status != \"pending\":\n            return {\"status\": \"cannot_cancel\", \"message\": f\"Task is {task.status}\"}\n\n        if future.cancel():\n            task.status = \"cancelled\"\n            return {\"status\": \"cancelled\", \"task_id\": task_id}\n\n        return {\"status\": \"cancel_failed\", \"task_id\": task_id}\n\n    def shutdown(self, wait: bool = True):\n        \"\"\"Shutdown the executor.\"\"\"\n        self.executor.shutdown(wait=wait)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner.submit","title":"<code>submit(func, *args, name='Background task', **kwargs)</code>","text":"<p>Submit a task for background execution.</p> <p>Parameters:</p> Name Type Description Default <code>func</code> <code>Callable</code> <p>Function to execute</p> required <code>name</code> <code>str</code> <p>Task name for display</p> <code>'Background task'</code> <code>*args</code> <code>Any</code> <p>Arguments to pass to func</p> <code>()</code> <code>**kwargs</code> <code>Any</code> <p>Keyword arguments to pass to func</p> <code>{}</code> <p>Returns:</p> Type Description <code>str</code> <p>task_id for tracking</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>def submit(\n    self,\n    func: Callable,\n    *args: Any,\n    name: str = \"Background task\",\n    **kwargs: Any,\n) -&gt; str:\n    \"\"\"\n    Submit a task for background execution.\n\n    Args:\n        func: Function to execute\n        name: Task name for display\n        *args: Arguments to pass to func\n        **kwargs: Keyword arguments to pass to func\n\n    Returns:\n        task_id for tracking\n    \"\"\"\n    task_id = f\"task-{uuid.uuid4().hex[:8]}\"\n\n    task = BackgroundTask(\n        task_id=task_id,\n        name=name,\n        status=\"pending\",\n        created_at=datetime.now(),\n    )\n    self.tasks[task_id] = task\n\n    def wrapper():\n        task.status = \"running\"\n        task.started_at = datetime.now()\n        try:\n            result = func(*args, **kwargs)\n            task.result = result\n            task.status = \"completed\"\n        except Exception as e:\n            task.error = str(e)\n            task.status = \"failed\"\n        finally:\n            task.completed_at = datetime.now()\n\n    future = self.executor.submit(wrapper)\n    self.futures[task_id] = future\n\n    return task_id\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner.get_status","title":"<code>get_status(task_id)</code>","text":"<p>Get status of a task.</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>def get_status(self, task_id: str) -&gt; dict:\n    \"\"\"Get status of a task.\"\"\"\n    task = self.tasks.get(task_id)\n    if not task:\n        return {\"status\": \"not_found\", \"task_id\": task_id}\n\n    return {\n        \"task_id\": task.task_id,\n        \"name\": task.name,\n        \"status\": task.status,\n        \"created_at\": task.created_at.isoformat(),\n        \"started_at\": task.started_at.isoformat() if task.started_at else None,\n        \"completed_at\": task.completed_at.isoformat() if task.completed_at else None,\n        \"progress\": task.progress,\n        \"result\": task.result if task.status == \"completed\" else None,\n        \"error\": task.error,\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner.get_result","title":"<code>get_result(task_id, timeout=None)</code>","text":"<p>Wait for and get result of a task.</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>def get_result(self, task_id: str, timeout: float = None) -&gt; dict:\n    \"\"\"Wait for and get result of a task.\"\"\"\n    future = self.futures.get(task_id)\n    if not future:\n        return {\"status\": \"not_found\", \"task_id\": task_id}\n\n    try:\n        future.result(timeout=timeout)\n    except Exception:\n        pass\n\n    return self.get_status(task_id)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner.list_tasks","title":"<code>list_tasks(status_filter=None)</code>","text":"<p>List all tasks, optionally filtered by status.</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>def list_tasks(self, status_filter: str = None) -&gt; list[dict]:\n    \"\"\"List all tasks, optionally filtered by status.\"\"\"\n    tasks = []\n    for task in self.tasks.values():\n        if status_filter and task.status != status_filter:\n            continue\n        tasks.append(\n            {\n                \"task_id\": task.task_id,\n                \"name\": task.name,\n                \"status\": task.status,\n                \"created_at\": task.created_at.isoformat(),\n            }\n        )\n    return sorted(tasks, key=lambda x: x[\"created_at\"], reverse=True)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner.cancel","title":"<code>cancel(task_id)</code>","text":"<p>Attempt to cancel a pending task.</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>def cancel(self, task_id: str) -&gt; dict:\n    \"\"\"Attempt to cancel a pending task.\"\"\"\n    future = self.futures.get(task_id)\n    if not future:\n        return {\"status\": \"not_found\", \"task_id\": task_id}\n\n    task = self.tasks[task_id]\n    if task.status != \"pending\":\n        return {\"status\": \"cannot_cancel\", \"message\": f\"Task is {task.status}\"}\n\n    if future.cancel():\n        task.status = \"cancelled\"\n        return {\"status\": \"cancelled\", \"task_id\": task_id}\n\n    return {\"status\": \"cancel_failed\", \"task_id\": task_id}\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.BackgroundTaskRunner.shutdown","title":"<code>shutdown(wait=True)</code>","text":"<p>Shutdown the executor.</p> Source code in <code>src/boring/loop/background_agent.py</code> <pre><code>def shutdown(self, wait: bool = True):\n    \"\"\"Shutdown the executor.\"\"\"\n    self.executor.shutdown(wait=wait)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopState","title":"<code>LoopState</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for all loop states.</p> <p>Each state encapsulates: 1. The logic to execute (handle) 2. The decision of what state comes next (next_state)</p> Usage <p>state = ThinkingState() state.handle(context)  # Execute logic next_state = state.next_state(context)  # Get transition</p> Source code in <code>src/boring/loop/base.py</code> <pre><code>class LoopState(ABC):\n    \"\"\"\n    Abstract base class for all loop states.\n\n    Each state encapsulates:\n    1. The logic to execute (handle)\n    2. The decision of what state comes next (next_state)\n\n    Usage:\n        state = ThinkingState()\n        state.handle(context)  # Execute logic\n        next_state = state.next_state(context)  # Get transition\n    \"\"\"\n\n    @property\n    @abstractmethod\n    def name(self) -&gt; str:\n        \"\"\"Human-readable state name for logging/telemetry.\"\"\"\n        pass\n\n    @abstractmethod\n    def handle(self, context: \"LoopContext\") -&gt; StateResult:\n        \"\"\"\n        Execute the state's logic.\n\n        Args:\n            context: Shared mutable context containing all loop state\n\n        Returns:\n            StateResult indicating outcome for transition logic\n        \"\"\"\n        pass\n\n    @abstractmethod\n    def next_state(self, context: \"LoopContext\", result: StateResult) -&gt; Optional[\"LoopState\"]:\n        \"\"\"\n        Determine the next state based on context and execution result.\n\n        Args:\n            context: Current loop context\n            result: Result from handle() execution\n\n        Returns:\n            Next state instance, or None to exit the loop\n        \"\"\"\n        pass\n\n    def on_enter(self, context: \"LoopContext\") -&gt; None:\n        \"\"\"Optional hook called when entering this state.\"\"\"\n        pass\n\n    def on_exit(self, context: \"LoopContext\") -&gt; None:\n        \"\"\"Optional hook called when leaving this state.\"\"\"\n        pass\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopState.name","title":"<code>name</code>  <code>abstractmethod</code> <code>property</code>","text":"<p>Human-readable state name for logging/telemetry.</p>"},{"location":"api/loop_zh/#boring.loop.LoopState.handle","title":"<code>handle(context)</code>  <code>abstractmethod</code>","text":"<p>Execute the state's logic.</p> <p>Parameters:</p> Name Type Description Default <code>context</code> <code>LoopContext</code> <p>Shared mutable context containing all loop state</p> required <p>Returns:</p> Type Description <code>StateResult</code> <p>StateResult indicating outcome for transition logic</p> Source code in <code>src/boring/loop/base.py</code> <pre><code>@abstractmethod\ndef handle(self, context: \"LoopContext\") -&gt; StateResult:\n    \"\"\"\n    Execute the state's logic.\n\n    Args:\n        context: Shared mutable context containing all loop state\n\n    Returns:\n        StateResult indicating outcome for transition logic\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopState.next_state","title":"<code>next_state(context, result)</code>  <code>abstractmethod</code>","text":"<p>Determine the next state based on context and execution result.</p> <p>Parameters:</p> Name Type Description Default <code>context</code> <code>LoopContext</code> <p>Current loop context</p> required <code>result</code> <code>StateResult</code> <p>Result from handle() execution</p> required <p>Returns:</p> Type Description <code>Optional[LoopState]</code> <p>Next state instance, or None to exit the loop</p> Source code in <code>src/boring/loop/base.py</code> <pre><code>@abstractmethod\ndef next_state(self, context: \"LoopContext\", result: StateResult) -&gt; Optional[\"LoopState\"]:\n    \"\"\"\n    Determine the next state based on context and execution result.\n\n    Args:\n        context: Current loop context\n        result: Result from handle() execution\n\n    Returns:\n        Next state instance, or None to exit the loop\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopState.on_enter","title":"<code>on_enter(context)</code>","text":"<p>Optional hook called when entering this state.</p> Source code in <code>src/boring/loop/base.py</code> <pre><code>def on_enter(self, context: \"LoopContext\") -&gt; None:\n    \"\"\"Optional hook called when entering this state.\"\"\"\n    pass\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopState.on_exit","title":"<code>on_exit(context)</code>","text":"<p>Optional hook called when leaving this state.</p> Source code in <code>src/boring/loop/base.py</code> <pre><code>def on_exit(self, context: \"LoopContext\") -&gt; None:\n    \"\"\"Optional hook called when leaving this state.\"\"\"\n    pass\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext","title":"<code>LoopContext</code>  <code>dataclass</code>","text":"<p>Shared mutable context passed between all states (V10.23 Enhanced).</p> <p>This replaces the scattered instance variables in the old AgentLoop, providing a clean, explicit container for loop state.</p> <p>V10.23 features: - Sliding window for error/task history - Memory usage tracking - Task context for RAG integration</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>@dataclass\nclass LoopContext:\n    \"\"\"\n    Shared mutable context passed between all states (V10.23 Enhanced).\n\n    This replaces the scattered instance variables in the old AgentLoop,\n    providing a clean, explicit container for loop state.\n\n    V10.23 features:\n    - Sliding window for error/task history\n    - Memory usage tracking\n    - Task context for RAG integration\n    \"\"\"\n\n    # === Configuration (immutable during loop) ===\n    model_name: str = settings.DEFAULT_MODEL\n    use_cli: bool = False\n    verbose: bool = False\n    interactive: bool = False\n    verification_level: str = \"STANDARD\"\n    project_root: Path = field(default_factory=lambda: settings.PROJECT_ROOT)\n    log_dir: Path = field(default_factory=lambda: settings.LOG_DIR)\n    prompt_file: Path = field(default_factory=lambda: settings.PROJECT_ROOT / settings.PROMPT_FILE)\n\n    # === Injected Subsystems ===\n    gemini_client: Optional[\"GeminiClient\"] = None\n    memory: Optional[\"MemoryManager\"] = None\n    verifier: Optional[\"CodeVerifier\"] = None\n    storage: Optional[\"SQLiteStorage\"] = None\n    extensions: Optional[\"ExtensionsManager\"] = None\n\n    # === Loop Counters ===\n    loop_count: int = 0\n    max_loops: int = field(default_factory=lambda: settings.MAX_LOOPS)\n    retry_count: int = 0\n    max_retries: int = 3\n    empty_output_count: int = 0\n\n    # === Timing ===\n    loop_start_time: float = 0.0\n    state_start_time: float = 0.0\n\n    # === Generation State ===\n    output_content: str = \"\"\n    output_file: Path | None = None\n    function_calls: list[dict[str, Any]] = field(default_factory=list)\n    status_report: dict[str, Any] | None = None\n\n    # === Patching State ===\n    files_modified: list[str] = field(default_factory=list)\n    files_created: list[str] = field(default_factory=list)\n    patch_errors: list[str] = field(default_factory=list)\n\n    # === Verification State ===\n    verification_passed: bool = False\n    verification_error: str = \"\"\n\n    # === Control Flags ===\n    should_exit: bool = False\n    exit_reason: str = \"\"\n\n    # === Accumulated Errors ===\n    errors_this_loop: list[str] = field(default_factory=list)\n    tasks_completed: list[str] = field(default_factory=list)\n\n    # === V10.23: Enhanced State Tracking ===\n    error_history: list[dict[str, Any]] = field(default_factory=list)  # Sliding window\n    task_history: list[dict[str, Any]] = field(default_factory=list)  # Sliding window\n    file_access_history: list[str] = field(default_factory=list)  # Sliding window\n    current_task_type: str = \"general\"  # \"debugging\", \"feature\", \"refactoring\", \"testing\"\n    session_keywords: list[str] = field(default_factory=list)\n    memory_warnings: int = 0\n    prompt_cache: dict[str, Any] = field(default_factory=dict)\n\n    def start_loop(self) -&gt; None:\n        \"\"\"Reset per-loop state at beginning of each iteration.\"\"\"\n        self.loop_start_time = time.time()\n        self.output_content = \"\"\n        self.output_file = None\n        self.function_calls = []\n        self.status_report = None\n        self.files_modified = []\n        self.files_created = []\n        self.patch_errors = []\n        self.verification_passed = False\n        self.verification_error = \"\"\n        self.errors_this_loop = []\n        self.tasks_completed = []\n\n    def start_state(self) -&gt; None:\n        \"\"\"Record state entry time for telemetry.\"\"\"\n        self.state_start_time = time.time()\n\n    def get_state_duration(self) -&gt; float:\n        \"\"\"Get duration of current state in seconds.\"\"\"\n        return time.time() - self.state_start_time\n\n    def get_loop_duration(self) -&gt; float:\n        \"\"\"Get duration of current loop in seconds.\"\"\"\n        return time.time() - self.loop_start_time\n\n    def increment_loop(self) -&gt; None:\n        \"\"\"Increment loop counter and reset retry count.\"\"\"\n        self.loop_count += 1\n        self.retry_count = 0\n        self.start_loop()\n\n    def increment_retry(self) -&gt; None:\n        \"\"\"Increment retry counter.\"\"\"\n        self.retry_count += 1\n\n    def can_retry(self) -&gt; bool:\n        \"\"\"Check if more retries are allowed.\"\"\"\n        return self.retry_count &lt; self.max_retries\n\n    def should_continue(self) -&gt; bool:\n        \"\"\"Check if loop should continue.\"\"\"\n        return not self.should_exit and self.loop_count &lt; self.max_loops\n\n    def mark_exit(self, reason: str) -&gt; None:\n        \"\"\"Mark loop for exit with reason.\"\"\"\n        self.should_exit = True\n        self.exit_reason = reason\n\n    # =========================================================================\n    # V10.23: Enhanced Memory Management Methods\n    # =========================================================================\n\n    def record_error(self, error_type: str, error_msg: str, file_path: str = \"\") -&gt; None:\n        \"\"\"\n        V10.23: Record an error with sliding window management.\n\n        Keeps only the most recent MAX_ERROR_HISTORY errors.\n        \"\"\"\n        self.error_history.append(\n            {\n                \"type\": error_type,\n                \"message\": error_msg[:500],  # Truncate long messages\n                \"file\": file_path,\n                \"timestamp\": time.time(),\n                \"loop\": self.loop_count,\n            }\n        )\n\n        # Sliding window: keep only recent errors\n        if len(self.error_history) &gt; MAX_ERROR_HISTORY:\n            self.error_history = self.error_history[-MAX_ERROR_HISTORY:]\n\n    def record_task(self, task_description: str, status: str = \"completed\") -&gt; None:\n        \"\"\"\n        V10.23: Record a completed task with sliding window management.\n        \"\"\"\n        self.task_history.append(\n            {\n                \"description\": task_description[:200],\n                \"status\": status,\n                \"timestamp\": time.time(),\n                \"loop\": self.loop_count,\n            }\n        )\n\n        # Sliding window\n        if len(self.task_history) &gt; MAX_TASK_HISTORY:\n            self.task_history = self.task_history[-MAX_TASK_HISTORY:]\n\n    def record_file_access(self, file_path: str) -&gt; None:\n        \"\"\"\n        V10.23: Record file access for RAG context.\n        \"\"\"\n        # Avoid duplicates in recent history\n        if file_path not in self.file_access_history[-10:]:\n            self.file_access_history.append(file_path)\n\n        # Sliding window\n        if len(self.file_access_history) &gt; MAX_FILE_HISTORY:\n            self.file_access_history = self.file_access_history[-MAX_FILE_HISTORY:]\n\n    def set_task_context(self, task_type: str, keywords: list[str] | None = None) -&gt; None:\n        \"\"\"\n        V10.23: Set the current task context for RAG integration.\n\n        Args:\n            task_type: One of \"debugging\", \"feature\", \"refactoring\", \"testing\", \"general\"\n            keywords: Keywords extracted from the current task\n        \"\"\"\n        self.current_task_type = task_type\n        if keywords:\n            # Merge with existing, keeping unique\n            existing = set(self.session_keywords)\n            existing.update(keywords)\n            self.session_keywords = list(existing)[-50:]  # Keep last 50\n\n    def get_recent_focus_files(self, limit: int = 5) -&gt; list[str]:\n        \"\"\"\n        V10.23: Get recently accessed files for RAG focus.\n        \"\"\"\n        # Deduplicate while preserving order (most recent first)\n        seen = set()\n        result = []\n        for f in reversed(self.file_access_history):\n            if f not in seen:\n                seen.add(f)\n                result.append(f)\n                if len(result) &gt;= limit:\n                    break\n        return result\n\n    def get_error_summary(self) -&gt; dict[str, int]:\n        \"\"\"\n        V10.23: Get summary of recent errors by type.\n        \"\"\"\n        from collections import Counter\n\n        return dict(Counter(e[\"type\"] for e in self.error_history))\n\n    def get_session_context_for_rag(self) -&gt; dict:\n        \"\"\"\n        V10.23: Get session context formatted for RAG retriever.\n        \"\"\"\n        return {\n            \"task_type\": self.current_task_type,\n            \"focus_files\": self.get_recent_focus_files(),\n            \"keywords\": self.session_keywords[-20:],  # Last 20 keywords\n            \"recent_errors\": [e[\"type\"] for e in self.error_history[-5:]],\n        }\n\n    def estimate_memory_usage(self) -&gt; dict[str, int]:\n        \"\"\"\n        V10.23: Estimate memory usage of context data.\n        \"\"\"\n        import sys\n\n        def safe_sizeof(obj) -&gt; int:\n            try:\n                return sys.getsizeof(obj)\n            except TypeError:\n                return 0\n\n        return {\n            \"error_history\": safe_sizeof(self.error_history),\n            \"task_history\": safe_sizeof(self.task_history),\n            \"file_access_history\": safe_sizeof(self.file_access_history),\n            \"function_calls\": safe_sizeof(self.function_calls),\n            \"output_content\": len(self.output_content),\n            \"total_estimate\": (\n                safe_sizeof(self.error_history)\n                + safe_sizeof(self.task_history)\n                + safe_sizeof(self.file_access_history)\n                + safe_sizeof(self.function_calls)\n                + len(self.output_content)\n            ),\n        }\n\n    def compact_if_needed(self, threshold_kb: int = 1024) -&gt; bool:\n        \"\"\"\n        V10.23: Compact history if memory exceeds threshold.\n\n        Returns:\n            True if compaction was performed\n        \"\"\"\n        memory = self.estimate_memory_usage()\n        total_kb = memory[\"total_estimate\"] / 1024\n\n        if total_kb &gt; threshold_kb:\n            self.memory_warnings += 1\n\n            # Aggressive compaction\n            self.error_history = self.error_history[-20:]\n            self.task_history = self.task_history[-30:]\n            self.file_access_history = self.file_access_history[-50:]\n            self.session_keywords = self.session_keywords[-20:]\n\n            return True\n        return False\n\n    def get_context_summary(self) -&gt; str:\n        \"\"\"\n        V10.23: Get a human-readable summary of context state.\n        \"\"\"\n        memory = self.estimate_memory_usage()\n        error_summary = self.get_error_summary()\n\n        lines = [\n            \"\ud83d\udcca Loop Context Summary (V10.23)\",\n            f\"\u251c\u2500 Loop: {self.loop_count}/{self.max_loops}\",\n            f\"\u251c\u2500 Task Type: {self.current_task_type}\",\n            f\"\u251c\u2500 Files Accessed: {len(self.file_access_history)}\",\n            f\"\u251c\u2500 Errors Recorded: {len(self.error_history)}\",\n        ]\n\n        if error_summary:\n            top_errors = sorted(error_summary.items(), key=lambda x: x[1], reverse=True)[:3]\n            lines.append(f\"\u2502  \u2514\u2500 Top: {', '.join(f'{k}({v})' for k, v in top_errors)}\")\n\n        lines.extend(\n            [\n                f\"\u251c\u2500 Tasks Completed: {len(self.task_history)}\",\n                f\"\u251c\u2500 Memory Usage: ~{memory['total_estimate'] / 1024:.1f} KB\",\n                f\"\u2514\u2500 Memory Warnings: {self.memory_warnings}\",\n            ]\n        )\n\n        return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.start_loop","title":"<code>start_loop()</code>","text":"<p>Reset per-loop state at beginning of each iteration.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def start_loop(self) -&gt; None:\n    \"\"\"Reset per-loop state at beginning of each iteration.\"\"\"\n    self.loop_start_time = time.time()\n    self.output_content = \"\"\n    self.output_file = None\n    self.function_calls = []\n    self.status_report = None\n    self.files_modified = []\n    self.files_created = []\n    self.patch_errors = []\n    self.verification_passed = False\n    self.verification_error = \"\"\n    self.errors_this_loop = []\n    self.tasks_completed = []\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.start_state","title":"<code>start_state()</code>","text":"<p>Record state entry time for telemetry.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def start_state(self) -&gt; None:\n    \"\"\"Record state entry time for telemetry.\"\"\"\n    self.state_start_time = time.time()\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.get_state_duration","title":"<code>get_state_duration()</code>","text":"<p>Get duration of current state in seconds.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def get_state_duration(self) -&gt; float:\n    \"\"\"Get duration of current state in seconds.\"\"\"\n    return time.time() - self.state_start_time\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.get_loop_duration","title":"<code>get_loop_duration()</code>","text":"<p>Get duration of current loop in seconds.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def get_loop_duration(self) -&gt; float:\n    \"\"\"Get duration of current loop in seconds.\"\"\"\n    return time.time() - self.loop_start_time\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.increment_loop","title":"<code>increment_loop()</code>","text":"<p>Increment loop counter and reset retry count.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def increment_loop(self) -&gt; None:\n    \"\"\"Increment loop counter and reset retry count.\"\"\"\n    self.loop_count += 1\n    self.retry_count = 0\n    self.start_loop()\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.increment_retry","title":"<code>increment_retry()</code>","text":"<p>Increment retry counter.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def increment_retry(self) -&gt; None:\n    \"\"\"Increment retry counter.\"\"\"\n    self.retry_count += 1\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.can_retry","title":"<code>can_retry()</code>","text":"<p>Check if more retries are allowed.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def can_retry(self) -&gt; bool:\n    \"\"\"Check if more retries are allowed.\"\"\"\n    return self.retry_count &lt; self.max_retries\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.should_continue","title":"<code>should_continue()</code>","text":"<p>Check if loop should continue.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def should_continue(self) -&gt; bool:\n    \"\"\"Check if loop should continue.\"\"\"\n    return not self.should_exit and self.loop_count &lt; self.max_loops\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.mark_exit","title":"<code>mark_exit(reason)</code>","text":"<p>Mark loop for exit with reason.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def mark_exit(self, reason: str) -&gt; None:\n    \"\"\"Mark loop for exit with reason.\"\"\"\n    self.should_exit = True\n    self.exit_reason = reason\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.record_error","title":"<code>record_error(error_type, error_msg, file_path='')</code>","text":"<p>V10.23: Record an error with sliding window management.</p> <p>Keeps only the most recent MAX_ERROR_HISTORY errors.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def record_error(self, error_type: str, error_msg: str, file_path: str = \"\") -&gt; None:\n    \"\"\"\n    V10.23: Record an error with sliding window management.\n\n    Keeps only the most recent MAX_ERROR_HISTORY errors.\n    \"\"\"\n    self.error_history.append(\n        {\n            \"type\": error_type,\n            \"message\": error_msg[:500],  # Truncate long messages\n            \"file\": file_path,\n            \"timestamp\": time.time(),\n            \"loop\": self.loop_count,\n        }\n    )\n\n    # Sliding window: keep only recent errors\n    if len(self.error_history) &gt; MAX_ERROR_HISTORY:\n        self.error_history = self.error_history[-MAX_ERROR_HISTORY:]\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.record_task","title":"<code>record_task(task_description, status='completed')</code>","text":"<p>V10.23: Record a completed task with sliding window management.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def record_task(self, task_description: str, status: str = \"completed\") -&gt; None:\n    \"\"\"\n    V10.23: Record a completed task with sliding window management.\n    \"\"\"\n    self.task_history.append(\n        {\n            \"description\": task_description[:200],\n            \"status\": status,\n            \"timestamp\": time.time(),\n            \"loop\": self.loop_count,\n        }\n    )\n\n    # Sliding window\n    if len(self.task_history) &gt; MAX_TASK_HISTORY:\n        self.task_history = self.task_history[-MAX_TASK_HISTORY:]\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.record_file_access","title":"<code>record_file_access(file_path)</code>","text":"<p>V10.23: Record file access for RAG context.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def record_file_access(self, file_path: str) -&gt; None:\n    \"\"\"\n    V10.23: Record file access for RAG context.\n    \"\"\"\n    # Avoid duplicates in recent history\n    if file_path not in self.file_access_history[-10:]:\n        self.file_access_history.append(file_path)\n\n    # Sliding window\n    if len(self.file_access_history) &gt; MAX_FILE_HISTORY:\n        self.file_access_history = self.file_access_history[-MAX_FILE_HISTORY:]\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.set_task_context","title":"<code>set_task_context(task_type, keywords=None)</code>","text":"<p>V10.23: Set the current task context for RAG integration.</p> <p>Parameters:</p> Name Type Description Default <code>task_type</code> <code>str</code> <p>One of \"debugging\", \"feature\", \"refactoring\", \"testing\", \"general\"</p> required <code>keywords</code> <code>list[str] | None</code> <p>Keywords extracted from the current task</p> <code>None</code> Source code in <code>src/boring/loop/context.py</code> <pre><code>def set_task_context(self, task_type: str, keywords: list[str] | None = None) -&gt; None:\n    \"\"\"\n    V10.23: Set the current task context for RAG integration.\n\n    Args:\n        task_type: One of \"debugging\", \"feature\", \"refactoring\", \"testing\", \"general\"\n        keywords: Keywords extracted from the current task\n    \"\"\"\n    self.current_task_type = task_type\n    if keywords:\n        # Merge with existing, keeping unique\n        existing = set(self.session_keywords)\n        existing.update(keywords)\n        self.session_keywords = list(existing)[-50:]  # Keep last 50\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.get_recent_focus_files","title":"<code>get_recent_focus_files(limit=5)</code>","text":"<p>V10.23: Get recently accessed files for RAG focus.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def get_recent_focus_files(self, limit: int = 5) -&gt; list[str]:\n    \"\"\"\n    V10.23: Get recently accessed files for RAG focus.\n    \"\"\"\n    # Deduplicate while preserving order (most recent first)\n    seen = set()\n    result = []\n    for f in reversed(self.file_access_history):\n        if f not in seen:\n            seen.add(f)\n            result.append(f)\n            if len(result) &gt;= limit:\n                break\n    return result\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.get_error_summary","title":"<code>get_error_summary()</code>","text":"<p>V10.23: Get summary of recent errors by type.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def get_error_summary(self) -&gt; dict[str, int]:\n    \"\"\"\n    V10.23: Get summary of recent errors by type.\n    \"\"\"\n    from collections import Counter\n\n    return dict(Counter(e[\"type\"] for e in self.error_history))\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.get_session_context_for_rag","title":"<code>get_session_context_for_rag()</code>","text":"<p>V10.23: Get session context formatted for RAG retriever.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def get_session_context_for_rag(self) -&gt; dict:\n    \"\"\"\n    V10.23: Get session context formatted for RAG retriever.\n    \"\"\"\n    return {\n        \"task_type\": self.current_task_type,\n        \"focus_files\": self.get_recent_focus_files(),\n        \"keywords\": self.session_keywords[-20:],  # Last 20 keywords\n        \"recent_errors\": [e[\"type\"] for e in self.error_history[-5:]],\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.estimate_memory_usage","title":"<code>estimate_memory_usage()</code>","text":"<p>V10.23: Estimate memory usage of context data.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def estimate_memory_usage(self) -&gt; dict[str, int]:\n    \"\"\"\n    V10.23: Estimate memory usage of context data.\n    \"\"\"\n    import sys\n\n    def safe_sizeof(obj) -&gt; int:\n        try:\n            return sys.getsizeof(obj)\n        except TypeError:\n            return 0\n\n    return {\n        \"error_history\": safe_sizeof(self.error_history),\n        \"task_history\": safe_sizeof(self.task_history),\n        \"file_access_history\": safe_sizeof(self.file_access_history),\n        \"function_calls\": safe_sizeof(self.function_calls),\n        \"output_content\": len(self.output_content),\n        \"total_estimate\": (\n            safe_sizeof(self.error_history)\n            + safe_sizeof(self.task_history)\n            + safe_sizeof(self.file_access_history)\n            + safe_sizeof(self.function_calls)\n            + len(self.output_content)\n        ),\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.compact_if_needed","title":"<code>compact_if_needed(threshold_kb=1024)</code>","text":"<p>V10.23: Compact history if memory exceeds threshold.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if compaction was performed</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def compact_if_needed(self, threshold_kb: int = 1024) -&gt; bool:\n    \"\"\"\n    V10.23: Compact history if memory exceeds threshold.\n\n    Returns:\n        True if compaction was performed\n    \"\"\"\n    memory = self.estimate_memory_usage()\n    total_kb = memory[\"total_estimate\"] / 1024\n\n    if total_kb &gt; threshold_kb:\n        self.memory_warnings += 1\n\n        # Aggressive compaction\n        self.error_history = self.error_history[-20:]\n        self.task_history = self.task_history[-30:]\n        self.file_access_history = self.file_access_history[-50:]\n        self.session_keywords = self.session_keywords[-20:]\n\n        return True\n    return False\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.LoopContext.get_context_summary","title":"<code>get_context_summary()</code>","text":"<p>V10.23: Get a human-readable summary of context state.</p> Source code in <code>src/boring/loop/context.py</code> <pre><code>def get_context_summary(self) -&gt; str:\n    \"\"\"\n    V10.23: Get a human-readable summary of context state.\n    \"\"\"\n    memory = self.estimate_memory_usage()\n    error_summary = self.get_error_summary()\n\n    lines = [\n        \"\ud83d\udcca Loop Context Summary (V10.23)\",\n        f\"\u251c\u2500 Loop: {self.loop_count}/{self.max_loops}\",\n        f\"\u251c\u2500 Task Type: {self.current_task_type}\",\n        f\"\u251c\u2500 Files Accessed: {len(self.file_access_history)}\",\n        f\"\u251c\u2500 Errors Recorded: {len(self.error_history)}\",\n    ]\n\n    if error_summary:\n        top_errors = sorted(error_summary.items(), key=lambda x: x[1], reverse=True)[:3]\n        lines.append(f\"\u2502  \u2514\u2500 Top: {', '.join(f'{k}({v})' for k, v in top_errors)}\")\n\n    lines.extend(\n        [\n            f\"\u251c\u2500 Tasks Completed: {len(self.task_history)}\",\n            f\"\u251c\u2500 Memory Usage: ~{memory['total_estimate'] / 1024:.1f} KB\",\n            f\"\u2514\u2500 Memory Warnings: {self.memory_warnings}\",\n        ]\n    )\n\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.AgentLoop","title":"<code>AgentLoop</code>","text":"<p>The main autonomous agent loop. Manages the lifecycle of Generate -&gt; Backup -&gt; Patch -&gt; Verify -&gt; Self-Correct.</p> <p>V3.0 Features: - Memory System: Persistent state across loops - Advanced Verification: Linting + Testing - Extensions Support: context7, criticalthink</p> Source code in <code>src/boring/loop/legacy.py</code> <pre><code>class AgentLoop:\n    \"\"\"\n    The main autonomous agent loop.\n    Manages the lifecycle of Generate -&gt; Backup -&gt; Patch -&gt; Verify -&gt; Self-Correct.\n\n    V3.0 Features:\n    - Memory System: Persistent state across loops\n    - Advanced Verification: Linting + Testing\n    - Extensions Support: context7, criticalthink\n    \"\"\"\n\n    def __init__(\n        self,\n        model_name: str = settings.DEFAULT_MODEL,\n        use_cli: bool = False,\n        verbose: bool = False,\n        prompt_file: Path | None = None,\n        context_file: Path | None = None,\n        verification_level: str = \"STANDARD\",  # BASIC, STANDARD, FULL\n    ):\n        init_directories()\n        self.log_dir = settings.LOG_DIR\n        self.model_name = model_name\n        self.use_cli = use_cli\n        self.verbose = verbose\n        self.verification_level = verification_level\n\n        self.prompt_file = prompt_file or settings.PROJECT_ROOT / settings.PROMPT_FILE\n        self.context_file = context_file or settings.PROJECT_ROOT / settings.CONTEXT_FILE\n\n        # Initialize subsystems\n        self.memory = MemoryManager(settings.PROJECT_ROOT)\n        self.verifier = CodeVerifier(settings.PROJECT_ROOT, self.log_dir)\n        self.extensions = ExtensionsManager(settings.PROJECT_ROOT)\n\n        # Loop state\n        self._empty_output_count = 0\n        self._loop_start_time = 0.0\n        self._files_modified_this_loop: list[str] = []\n        self._tasks_completed_this_loop: list[str] = []\n        self._errors_this_loop: list[str] = []\n\n        # Initialize Gemini Client (for SDK mode)\n        self.gemini_client: GeminiClient | None = None\n        self.gemini_cli_cmd: str | None = None\n\n        if self.use_cli:\n            self.gemini_cli_cmd = shutil.which(\"gemini\")\n            if not self.gemini_cli_cmd:\n                raise RuntimeError(\n                    \"Gemini CLI not found in PATH. Install with: npm install -g @google/gemini-cli\"\n                )\n            console.print(f\"[green]Using Gemini CLI: {self.gemini_cli_cmd}[/green]\")\n        else:\n            try:\n                self.gemini_client = create_gemini_client(\n                    log_dir=self.log_dir, model_name=model_name\n                )\n                if not self.gemini_client:\n                    raise RuntimeError(\"Failed to initialize Gemini client.\")\n\n                console.print(f\"[green]Using Gemini SDK (Model: {model_name})[/green]\")\n            except Exception as e:\n                console.print(\"[bold red]Failed to initialize Gemini client:[/bold red]\")\n                console.print(f\"[red]{str(e)}[/red]\")\n                raise RuntimeError(\"Failed to initialize Gemini client.\") from e\n\n        # Show subsystem status\n        if self.verbose:\n            console.print(f\"[dim]Memory: {self.memory.memory_dir}[/dim]\")\n            console.print(\n                f\"[dim]Verifier: ruff={self.verifier.tools.is_available('ruff')}, pytest={self.verifier.tools.is_available('pytest')}[/dim]\"\n            )\n            ext_report = self.extensions.create_extensions_report()\n            console.print(f\"[dim]{ext_report}[/dim]\")\n\n    def run(self, max_duration: int | None = None):\n        \"\"\"Start the main loop.\"\"\"\n        start_time = time.time()\n        if should_halt_execution():\n            console.print(\"[bold red]Circuit Breaker is OPEN. Execution halted.[/bold red]\")\n            log_status(self.log_dir, \"CRITICAL\", \"Circuit Breaker is OPEN.\")\n\n            # === HUMAN-IN-THE-LOOP: Enter interactive mode ===\n            try:\n                from ..interactive import enter_interactive_mode\n\n                should_resume = enter_interactive_mode(\n                    reason=\"Circuit Breaker OPEN - Too many consecutive failures\",\n                    project_root=settings.PROJECT_ROOT,\n                    recent_errors=self._errors_this_loop\n                    if hasattr(self, \"_errors_this_loop\")\n                    else [],\n                )\n\n                if should_resume:\n                    console.print(\"[green]Resuming loop after interactive session...[/green]\")\n                    # Continue to loop start (don't return)\n                else:\n                    console.print(\"[yellow]Aborting as requested.[/yellow]\")\n                    return\n            except ImportError:\n                console.print(\"[dim]Use 'boring reset-circuit' to reset manually.[/dim]\")\n                return\n            except KeyboardInterrupt:\n                console.print(\"\\n[yellow]Interrupted.[/yellow]\")\n                return\n\n        console.print(\n            Panel.fit(\n                f\"[bold green]Boring Autonomous Agent (v2.0)[/bold green]\\n\"\n                f\"Mode: {'CLI' if self.use_cli else 'SDK'}\\n\"\n                f\"Model: {self.model_name}\\n\"\n                f\"Log Dir: {self.log_dir}\",\n                title=\"System Initialization\",\n            )\n        )\n\n        # Initialize tracking (ensure files exist)\n        init_call_tracking(\n            settings.PROJECT_ROOT / \".call_count\",\n            settings.PROJECT_ROOT / \".last_reset\",\n            settings.PROJECT_ROOT / \".exit_signals\",\n        )\n\n        loop_count = 0\n        while loop_count &lt; settings.MAX_LOOPS:\n            # Check for global timeout\n            if max_duration and (time.time() - start_time) &gt; max_duration:\n                console.print(\n                    f\"[bold red]Global timeout of {max_duration}s reached. Aborting.[/bold red]\"\n                )\n                log_status(\n                    self.log_dir, \"WARN\", f\"AgentLoop aborted: reached {max_duration}s timeout\"\n                )\n                break\n\n            loop_count += 1\n\n            # rate limit check\n            if not can_make_call(settings.PROJECT_ROOT / \".call_count\", settings.MAX_HOURLY_CALLS):\n                wait_for_reset(\n                    settings.PROJECT_ROOT / \".call_count\",\n                    settings.PROJECT_ROOT / \".last_reset\",\n                    settings.MAX_HOURLY_CALLS,\n                )\n                console.print(\"[yellow]Rate limit reset. Resuming...[/yellow]\")\n\n            log_status(self.log_dir, \"LOOP\", f\"=== Starting Loop #{loop_count} ===\")\n            console.print(f\"\\n[bold purple]=== Starting Loop #{loop_count} ===[/bold purple]\")\n\n            # 1. Generate\n            try:\n                success, output_content, output_file = self._generate_step(loop_count)\n            except Exception as e:\n                log_status(self.log_dir, \"CRITICAL\", f\"Generation failed: {e}\")\n                record_loop_result(loop_count, 0, True, 0)\n                break\n\n            if not success:\n                log_status(\n                    self.log_dir,\n                    \"ERROR\",\n                    f\"Generation failed (Loop #{loop_count}): {output_content}\",\n                )\n                record_loop_result(loop_count, 0, True, len(output_content))\n                continue\n\n            # 2. Patch &amp; Backup\n            # The file_patcher now handles backup internally using BackupManager(loop_id)\n            try:\n                files_changed = process_gemini_output(\n                    output_file=output_file,\n                    project_root=settings.PROJECT_ROOT,\n                    log_dir=self.log_dir,\n                    loop_id=loop_count,\n                )\n            except Exception as e:\n                log_status(self.log_dir, \"ERROR\", f\"Patching failed: {e}\")\n                record_loop_result(loop_count, 0, True, len(output_content))\n                continue\n\n            if files_changed == 0:\n                log_status(self.log_dir, \"WARN\", \"No files changed in this loop.\")\n\n                # === EMPTY OUTPUT FEEDBACK (Fix #2) ===\n                # If AI produced output but we couldn't parse it, telling the AI\n                if len(output_content) &gt; 0:  # AI did output something\n                    # [V12.0 Enhancement] Print the output for the user (One-Shot Mode support)\n                    console.print(\n                        Panel(\n                            output_content,\n                            title=\"[bold blue]Gemini Response[/bold blue]\",\n                            border_style=\"blue\",\n                        )\n                    )\n\n                if len(output_content) &gt; 100:\n                    console.print(\n                        \"[bold yellow]\u26a0\ufe0f AI output could not be parsed into file changes.[/bold yellow]\"\n                    )\n                    empty_output_count = getattr(self, \"_empty_output_count\", 0) + 1\n                    self._empty_output_count = empty_output_count\n\n                    if empty_output_count &lt; 3:  # Prevent infinite feedback loops\n                        feedback_prompt = self._create_format_feedback()\n                        self._save_loop_summary(\n                            loop_count, \"FAILED\", \"Output not parseable. Sending format feedback.\"\n                        )\n                        self._self_correct(feedback_prompt, loop_count)\n                        continue\n                    else:\n                        log_status(\n                            self.log_dir, \"ERROR\", \"Too many unparseable outputs. Breaking loop.\"\n                        )\n                        self._save_loop_summary(loop_count, \"FAILED\", \"Repeated format errors.\")\n                        break\n                else:\n                    self._empty_output_count = 0  # Reset counter on truly empty output\n\n                record_loop_result(loop_count, 0, False, len(output_content))\n            else:\n                self._empty_output_count = 0  # Reset counter on success\n\n                # 3. Dependency Check\n                check_and_install_dependencies(output_content)\n\n                # 4. Advanced Verification (using CodeVerifier)\n                verification_passed, error_msg = self.verifier.verify_project(\n                    self.verification_level\n                )\n\n                if not verification_passed:\n                    log_status(self.log_dir, \"ERROR\", f\"Verification Failed: {error_msg[:200]}\")\n                    console.print(\"[bold red]Verification Failed[/bold red]\")\n\n                    # V14: Emit Event\n                    FlowEventBus.emit(\n                        FlowEvent.ON_LINT_FAIL,\n                        project_path=str(settings.PROJECT_ROOT),\n                        error=error_msg,\n                    )\n\n                    # Record failure and learn from error\n                    record_loop_result(loop_count, files_changed, True, len(output_content))\n                    self._save_loop_summary(\n                        loop_count, \"FAILED\", f\"Verification: {error_msg[:100]}\"\n                    )\n                    self.memory.record_error_pattern(\"verification_error\", error_msg[:200])\n                    self._errors_this_loop.append(error_msg[:200])\n\n                    # 5. Self-Correction with detailed feedback\n                    console.print(\"[bold yellow]Triggering Self-Correction...[/bold yellow]\")\n                    self._self_correct(error_msg, loop_count)\n                    continue\n\n                # Record Success\n                duration = time.time() - self._loop_start_time\n\n                # Record to Memory System\n                loop_memory = LoopMemory(\n                    loop_id=loop_count,\n                    timestamp=time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                    status=\"SUCCESS\",\n                    files_modified=self._files_modified_this_loop,\n                    tasks_completed=self._tasks_completed_this_loop,\n                    errors=[],\n                    ai_output_summary=output_content[:500] if output_content else \"\",\n                    duration_seconds=duration,\n                )\n                self.memory.record_loop(loop_memory)\n                record_loop_result(loop_count, files_changed, False, len(output_content))\n                self._save_loop_summary(loop_count, \"SUCCESS\", f\"Modified {files_changed} file(s).\")\n\n                # V14: Emit Event\n                if files_changed &gt; 0:\n                    FlowEventBus.emit(\n                        FlowEvent.POST_BUILD,\n                        project_path=str(settings.PROJECT_ROOT),\n                        modified_files=self._files_modified_this_loop,\n                    )\n\n            # 6. Analyze &amp; Update Task\n            increment_call_counter(settings.PROJECT_ROOT / \".call_count\")\n            analysis = analyze_response(output_file, loop_count)\n\n            # === EXIT DETECTION HARDENING (Fix #3) ===\n            # Only exit if BOTH: AI signals exit AND @fix_plan.md has no unchecked items\n            should_exit = False\n            if analysis.get(\"analysis\", {}).get(\"exit_signal\", False):\n                plan_complete = self._check_plan_completion()\n                if plan_complete:\n                    console.print(\"[bold green]\u2705 All tasks complete. Agent exiting.[/bold green]\")\n                    should_exit = True\n                else:\n                    console.print(\n                        \"[yellow]\u26a0\ufe0f AI signaled exit but @fix_plan.md has unchecked items. Continuing.[/yellow]\"\n                    )\n                    log_status(\n                        self.log_dir, \"WARN\", \"EXIT_SIGNAL ignored: plan has unchecked items.\"\n                    )\n\n            if should_exit:\n                break\n\n            log_status(self.log_dir, \"LOOP\", f\"=== Completed Loop #{loop_count} ===\")\n\n        # Cleanup old backups after loop completes\n        BackupManager.cleanup_old_backups(keep_last=10)\n        console.print(\"[dim]Agent loop finished.[/dim]\")\n\n    def _generate_step(self, loop_count: int) -&gt; tuple[bool, str, Path]:\n        \"\"\"Handles the AI generation step (SDK or CLI).\"\"\"\n\n        timestamp = time.strftime(\"%Y-%m-%d_%H-%M-%S\")\n        output_file = self.log_dir / f\"gemini_output_{timestamp}.log\"\n\n        if self.use_cli:\n            return self._execute_cli(loop_count, output_file)\n        else:\n            return self._execute_sdk(loop_count, output_file)\n\n    def _get_file_tree_str(self) -&gt; str:\n        \"\"\"Generates a string representation of the project's file tree.\"\"\"\n        tree_output = \"\"\n        try:\n            tree_result = subprocess.run(\n                [\"cmd\", \"/c\", \"tree\", \"/F\", \"/A\", \"src\"],\n                stdin=subprocess.DEVNULL,\n                capture_output=True,\n                text=True,\n                timeout=10,\n                cwd=settings.PROJECT_ROOT,\n            )\n            if tree_result.returncode == 0 and tree_result.stdout:\n                tree_output = tree_result.stdout[:2000]\n        except Exception as e:\n            logger.debug(\"Failed to get file tree using 'tree' command: %s\", e)\n            # Fallback for systems without 'tree' or if it fails\n            try:\n                src_dir = settings.PROJECT_ROOT / \"src\"\n                if src_dir.exists():\n                    files = [\n                        str(f.relative_to(settings.PROJECT_ROOT)) for f in src_dir.rglob(\"*.py\")\n                    ][:20]  # Limit to 20 for brevity\n                    tree_output = \"Fallback: Listing up to 20 Python files in src/\\n\" + \"\\n\".join(\n                        files\n                    )\n            except Exception as e:\n                logger.debug(\"Failed to list project files as fallback: %s\", e)\n                tree_output = \"Could not generate project file tree.\"\n        return f\"\\n\\n# PROJECT STRUCTURE (src/)\\n```\\n{tree_output}\\n```\\n\"\n\n    def _execute_sdk(self, loop_count: int, output_file: Path) -&gt; tuple[bool, str, Path]:\n        \"\"\"Execute using Python SDK with comprehensive context injection.\"\"\"\n        # Reset loop state\n        self._loop_start_time = time.time()\n        self._files_modified_this_loop = []\n        self._tasks_completed_this_loop = []\n        self._errors_this_loop = []\n\n        # Read prompt/context\n        prompt = (\n            self.prompt_file.read_text(encoding=\"utf-8\")\n            if self.prompt_file.exists()\n            else \"No prompt found.\"\n        )\n        context = (\n            self.context_file.read_text(encoding=\"utf-8\") if self.context_file.exists() else \"\"\n        )\n\n        # === ENHANCED CONTEXT INJECTION (V3.0) ===\n\n        # 1. Inject Memory System Context (project state, history, learned patterns)\n        memory_context = self.memory.generate_context_injection()\n        if memory_context:\n            context += f\"\\n\\n{memory_context}\"\n\n        # 2. Inject Task Plan (@fix_plan.md)\n        task_file = settings.PROJECT_ROOT / settings.TASK_FILE\n        if task_file.exists():\n            task_content = task_file.read_text(encoding=\"utf-8\")\n            context += f\"\\n\\n# CURRENT PLAN STATUS (@fix_plan.md)\\n{task_content}\\n\"\n\n        # 3. Inject Project Structure (tree)\n        context += self._get_file_tree_str()\n\n        # 4. Inject Recent Git Changes\n        try:\n            git_result = subprocess.run(\n                [\"git\", \"diff\", \"--stat\", \"HEAD~1\"],\n                stdin=subprocess.DEVNULL,\n                capture_output=True,\n                text=True,\n                timeout=10,\n                cwd=settings.PROJECT_ROOT,\n            )\n            if git_result.returncode == 0 and git_result.stdout.strip():\n                context += f\"\\n\\n# RECENT GIT CHANGES\\n```\\n{git_result.stdout[:1000]}\\n```\\n\"\n        except Exception as e:\n            logger.debug(\"Failed to get git changes: %s\", e)\n\n        # 5. Inject Extensions Info\n        ext_context = self.extensions.setup_auto_extensions()\n        if ext_context:\n            context += ext_context\n\n        # 6. Enhance prompt with extensions (auto-add 'use context7' if relevant)\n        prompt = self.extensions.enhance_prompt_with_extensions(prompt)\n\n        # === CONTEXT INJECTION END ===\n\n        if self.gemini_client and getattr(self.gemini_client, \"backend\", \"sdk\") == \"cli\":\n            backend_msg = \"CLI (Internal Fallback)\"\n            title_msg = \"Gemini CLI Progress\"\n        else:\n            backend_msg = \"SDK\"\n            title_msg = \"Gemini SDK Progress\"\n\n        console.print(\n            f\"[blue]Generating with {backend_msg}... (Timeout: {settings.TIMEOUT_MINUTES}m)[/blue]\"\n        )\n        if self.verbose:\n            console.print(f\"[dim]Context size: {len(context)} chars[/dim]\")\n\n        with Live(console=console, screen=False, auto_refresh=True) as live:\n            progress = Progress(\n                SpinnerColumn(),\n                TextColumn(\"[progress.description]{task.description}\"),\n                TimeElapsedColumn(),\n                console=console,\n            )\n            spinner_text = \"Gemini Thinking...\" if backend_msg == \"SDK\" else \"Gemini CLI Running...\"\n            progress.add_task(f\"[cyan]{spinner_text}\", total=None)\n            live.update(Panel(progress, title=f\"[bold blue]{title_msg}[/bold blue]\"))\n\n            response_text, success = self.gemini_client.generate_with_retry(\n                prompt=prompt,\n                context=context,\n                system_instruction=\"\",  # Already in client init\n            )\n\n        # Write output\n        try:\n            output_file.write_text(response_text, encoding=\"utf-8\")\n        except Exception as e:\n            logger.debug(\"Failed to write output file: %s\", e)\n\n        return success, response_text, output_file\n\n    def _execute_cli(self, loop_count: int, output_file: Path) -&gt; tuple[bool, str, Path]:\n        \"\"\"Execute using Gemini CLI Adapter (Privacy Mode).\"\"\"\n        # Note: We now use GeminiCLIAdapter instead of raw subprocess here\n        # But for AgentLoop backward compatibility, we can recreate the adapter logic\n        # or better yet, use the self.gemini_client which SHOULD be the adapter if --backend cli was used\n\n        # However, AgentLoop initialization in main.py sets self.gemini_client only for SDK mode.\n        # We need to fix AgentLoop to accept an adapter or initialize it.\n\n        # Let's fix this method to use the proper CLI structure\n        import os\n\n        if os.environ.get(\"BORING_OFFLINE_MODE\") == \"1\":\n            from ..llm.local_llm import LocalLLM\n\n            console.print(\"[bold green]Using Offline Local LLM[/bold green]\")\n            # LocalLLM needs to be compatible with adapter interface\n            adapter = LocalLLM(\n                model_path=self.model_name if self.model_name.startswith(\"local/\") else None,\n            )\n        else:\n            from ..cli_client import GeminiCLIAdapter\n\n            adapter = GeminiCLIAdapter(\n                model_name=self.model_name,\n                log_dir=self.log_dir,\n                timeout_seconds=settings.TIMEOUT_MINUTES * 60,\n            )\n\n        prompt = self.prompt_file.read_text(encoding=\"utf-8\") if self.prompt_file.exists() else \"\"\n\n        # Inject Context - Smart Context (RAG Lite) if available\n        # Or simple file tree injection\n        context_str = \"\"\n\n        # Try Smart Context\n        try:\n            from ..context_selector import create_context_selector\n\n            selector = create_context_selector(settings.PROJECT_ROOT)\n            context_str = selector.generate_context_injection(prompt)\n        except ImportError:\n            logger.debug(\"Smart Context (RAG Lite) not available. Falling back to file tree.\")\n            pass  # Continue to inject file tree\n\n        # If smart context is empty, inject file tree as a fallback\n        if not context_str:\n            context_str += self._get_file_tree_str()\n\n        # Add Task Plan to context_str\n        task_file = settings.PROJECT_ROOT / settings.TASK_FILE\n        if task_file.exists():\n            task_content = task_file.read_text(encoding=\"utf-8\")\n            context_str += f\"\\n\\n# CURRENT PLAN STATUS (@fix_plan.md)\\n{task_content}\\n\"\n\n        console.print(\n            f\"[blue]Generating with CLI (Privacy Mode)... (Timeout: {settings.TIMEOUT_MINUTES}m)[/blue]\"\n        )\n\n        with Live(console=console, screen=False, auto_refresh=True) as live:\n            progress = Progress(\n                SpinnerColumn(),\n                TextColumn(\"{task.description}\"),\n                TimeElapsedColumn(),\n                console=console,\n            )\n            progress.add_task(\"[cyan]Gemini CLI Running...\", total=None)\n            live.update(Panel(progress, title=\"[bold blue]CLI Progress[/bold blue]\"))\n\n            # Load Tools for CLI\n            from ..mcp.tools.agents import boring_web_search\n\n            tools = [boring_web_search]\n\n            # Use generate_with_tools if available\n            response = adapter.generate_with_tools(prompt=prompt, context=context_str, tools=tools)\n\n            response_text = response.text\n            success = response.success\n\n            # Handle tool calls if any returned\n            function_calls = None\n            if hasattr(response, \"function_calls\") and response.function_calls:\n                function_calls = response.function_calls\n            elif isinstance(response, dict) and \"function_calls\" in response:\n                function_calls = response[\"function_calls\"]\n\n            if function_calls:\n                console.print(\n                    f\"[bold magenta]\ud83d\udee0\ufe0f CLI Tool Call Requested: {function_calls}[/bold magenta]\"\n                )\n                # Execute tool calls and append results\n                tool_results = []\n                for fc in function_calls:\n                    tool_name = (\n                        fc.get(\"name\") if isinstance(fc, dict) else getattr(fc, \"name\", None)\n                    )\n                    tool_args = (\n                        fc.get(\"args\", {}) if isinstance(fc, dict) else getattr(fc, \"args\", {})\n                    )\n\n                    if tool_name == \"boring_web_search\":\n                        try:\n                            result = boring_web_search(**tool_args)\n                            tool_results.append(f\"[Tool Result: {tool_name}]\\n{result}\")\n                            console.print(f\"[green]\u2705 Tool executed: {tool_name}[/green]\")\n                        except Exception as e:\n                            tool_results.append(f\"[Tool Error: {tool_name}] {e}\")\n                            console.print(f\"[red]\u274c Tool failed: {tool_name} - {e}[/red]\")\n                    else:\n                        console.print(f\"[yellow]\u26a0\ufe0f Unknown tool: {tool_name}[/yellow]\")\n\n                # Append tool results to response\n                if tool_results:\n                    response_text += \"\\n\\n# Tool Execution Results\\n\" + \"\\n\".join(tool_results)\n\n        # Write output log\n        try:\n            output_file.write_text(response_text, encoding=\"utf-8\")\n        except Exception as e:\n            logger.debug(\"Failed to write CLI output file: %s\", e)\n\n        return success, response_text, output_file\n\n    def _verify_project_syntax(self, files_to_check: list[str] | None = None) -&gt; tuple[bool, str]:\n        \"\"\"\n        Checks syntax of Python files.\n\n        Optimization: Only checks modified files first.\n        If import error occurs, expands to full src check.\n\n        Args:\n            files_to_check: List of modified files to check (optional)\n        \"\"\"\n\n        # Use modified files if available, otherwise fall back to full scan\n        if files_to_check is None:\n            files_to_check = self._files_modified_this_loop\n\n        # Only check modified Python files\n        py_files_to_check = [\n            Path(f) for f in files_to_check if f.endswith(\".py\") and Path(f).exists()\n        ]\n\n        if py_files_to_check:\n            log_status(\n                self.log_dir, \"INFO\", f\"Syntax check: {len(py_files_to_check)} modified file(s)\"\n            )\n\n            for py_file in py_files_to_check:\n                valid, error = check_syntax(py_file)\n                if not valid:\n                    # If import error, expand check to related files\n                    if \"import\" in error.lower():\n                        log_status(\n                            self.log_dir, \"WARN\", \"Import error detected, expanding check...\"\n                        )\n                        return self._full_syntax_check()\n                    return False, error\n            return True, \"\"\n\n        # No modified files = no check needed\n        return True, \"\"\n\n    def _full_syntax_check(self) -&gt; tuple[bool, str]:\n        \"\"\"Full syntax check of all Python files in src.\"\"\"\n\n        src_dir = settings.PROJECT_ROOT / \"src\"\n        if not src_dir.exists():\n            return True, \"\"\n\n        for py_file in src_dir.rglob(\"*.py\"):\n            valid, error = check_syntax(py_file)\n            if not valid:\n                return False, error\n        return True, \"\"\n\n    def _self_correct(self, error_msg: str, loop_count: int):\n        \"\"\"\n        Feeds the error back to Gemini for immediate correction.\n        \"\"\"\n        correction_prompt = f\"\"\"\nCRITICAL: The code you just generated caused a Verification Failure.\nError: {error_msg}\n\nYou must FIX this error immediately.\nDo not change functionality, just fix the syntax/error.\nOutput the corrected full file content.\n\"\"\"\n        # We reuse the _generate_step but override the prompt file temporarily?\n        # A bit hacky. Better to call client directly.\n        if self.gemini_client:\n            console.print(\"[bold yellow]Attempting Self-Correction via SDK...[/bold yellow]\")\n            response, success = self.gemini_client.generate_with_retry(prompt=correction_prompt)\n            if success:\n                # We manually write the response to a file so process_gemini_output can read it\n                corr_file = self.log_dir / f\"correction_loop_{loop_count}.log\"\n                corr_file.write_text(response, encoding=\"utf-8\")\n\n                # Backup again? Yes, always backup before write.\n                process_gemini_output(\n                    output_file=corr_file,\n                    project_root=settings.PROJECT_ROOT,\n                    log_dir=self.log_dir,\n                    loop_id=loop_count,\n                )\n\n    def _create_format_feedback(self) -&gt; str:\n        \"\"\"Creates a feedback prompt when AI output cannot be parsed.\"\"\"\n        return \"\"\"\nCRITICAL FEEDBACK: Your previous output could NOT be parsed into file changes.\nThe system requires you to output code using a specific format.\n\n## REQUIRED FORMAT (Use XML tags):\n&lt;file path=\"src/example.py\"&gt;\n# Complete file content here\ndef my_function():\n    pass\n&lt;/file&gt;\n\n## RULES:\n1. You MUST use &lt;file path=\"...\"&gt;...&lt;/file&gt; tags for EVERY file you want to create or modify.\n2. Output the COMPLETE file content, not just changes or diffs.\n3. The path must be relative to the project root (e.g., \"src/main.py\", not \"/home/user/project/src/main.py\").\n4. Do NOT use markdown code blocks (```python) for file content - use XML tags only.\n\n## ALSO REQUIRED:\nAt the END of your response, include the status block:\n---BORING_STATUS---\nSTATUS: IN_PROGRESS\nTASKS_COMPLETED_THIS_LOOP: 0\nEXIT_SIGNAL: false\n---END_BORING_STATUS---\n\nPlease try again with the correct format.\n\"\"\"\n\n    def _save_loop_summary(self, loop_count: int, status: str, message: str):\n        \"\"\"Saves a summary of this loop for the next iteration to read.\"\"\"\n        summary_file = settings.PROJECT_ROOT / \".last_loop_summary\"\n        summary = f\"\"\"## Loop #{loop_count} Summary\n- **Status:** {status}\n- **Message:** {message}\n- **Timestamp:** {time.strftime(\"%Y-%m-%d %H:%M:%S\")}\n\"\"\"\n        try:\n            summary_file.write_text(summary, encoding=\"utf-8\")\n        except Exception as e:\n            logger.debug(\"Failed to write loop summary: %s\", e)\n\n    def _check_plan_completion(self) -&gt; bool:\n        \"\"\"\n        Checks if @fix_plan.md has all items completed.\n        Returns True only if there are NO unchecked items.\n        \"\"\"\n        task_file = settings.PROJECT_ROOT / settings.TASK_FILE\n        if not task_file.exists():\n            # No plan file = nothing to check, allow exit\n            return True\n\n        try:\n            content = task_file.read_text(encoding=\"utf-8\")\n            # Check for any unchecked items: - [ ] or * [ ]\n            has_unchecked = \"- [ ]\" in content or \"* [ ]\" in content\n            if has_unchecked:\n                # Count for logging\n                unchecked_count = content.count(\"- [ ]\") + content.count(\"* [ ]\")\n                checked_count = (\n                    content.count(\"- [x]\")\n                    + content.count(\"- [X]\")\n                    + content.count(\"* [x]\")\n                    + content.count(\"* [X]\")\n                )\n                log_status(\n                    self.log_dir,\n                    \"INFO\",\n                    f\"Plan status: {checked_count} done, {unchecked_count} remaining\",\n                )\n                return False\n            return True\n        except Exception:\n            return True  # On error, allow exit\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.AgentLoop.run","title":"<code>run(max_duration=None)</code>","text":"<p>Start the main loop.</p> Source code in <code>src/boring/loop/legacy.py</code> <pre><code>def run(self, max_duration: int | None = None):\n    \"\"\"Start the main loop.\"\"\"\n    start_time = time.time()\n    if should_halt_execution():\n        console.print(\"[bold red]Circuit Breaker is OPEN. Execution halted.[/bold red]\")\n        log_status(self.log_dir, \"CRITICAL\", \"Circuit Breaker is OPEN.\")\n\n        # === HUMAN-IN-THE-LOOP: Enter interactive mode ===\n        try:\n            from ..interactive import enter_interactive_mode\n\n            should_resume = enter_interactive_mode(\n                reason=\"Circuit Breaker OPEN - Too many consecutive failures\",\n                project_root=settings.PROJECT_ROOT,\n                recent_errors=self._errors_this_loop\n                if hasattr(self, \"_errors_this_loop\")\n                else [],\n            )\n\n            if should_resume:\n                console.print(\"[green]Resuming loop after interactive session...[/green]\")\n                # Continue to loop start (don't return)\n            else:\n                console.print(\"[yellow]Aborting as requested.[/yellow]\")\n                return\n        except ImportError:\n            console.print(\"[dim]Use 'boring reset-circuit' to reset manually.[/dim]\")\n            return\n        except KeyboardInterrupt:\n            console.print(\"\\n[yellow]Interrupted.[/yellow]\")\n            return\n\n    console.print(\n        Panel.fit(\n            f\"[bold green]Boring Autonomous Agent (v2.0)[/bold green]\\n\"\n            f\"Mode: {'CLI' if self.use_cli else 'SDK'}\\n\"\n            f\"Model: {self.model_name}\\n\"\n            f\"Log Dir: {self.log_dir}\",\n            title=\"System Initialization\",\n        )\n    )\n\n    # Initialize tracking (ensure files exist)\n    init_call_tracking(\n        settings.PROJECT_ROOT / \".call_count\",\n        settings.PROJECT_ROOT / \".last_reset\",\n        settings.PROJECT_ROOT / \".exit_signals\",\n    )\n\n    loop_count = 0\n    while loop_count &lt; settings.MAX_LOOPS:\n        # Check for global timeout\n        if max_duration and (time.time() - start_time) &gt; max_duration:\n            console.print(\n                f\"[bold red]Global timeout of {max_duration}s reached. Aborting.[/bold red]\"\n            )\n            log_status(\n                self.log_dir, \"WARN\", f\"AgentLoop aborted: reached {max_duration}s timeout\"\n            )\n            break\n\n        loop_count += 1\n\n        # rate limit check\n        if not can_make_call(settings.PROJECT_ROOT / \".call_count\", settings.MAX_HOURLY_CALLS):\n            wait_for_reset(\n                settings.PROJECT_ROOT / \".call_count\",\n                settings.PROJECT_ROOT / \".last_reset\",\n                settings.MAX_HOURLY_CALLS,\n            )\n            console.print(\"[yellow]Rate limit reset. Resuming...[/yellow]\")\n\n        log_status(self.log_dir, \"LOOP\", f\"=== Starting Loop #{loop_count} ===\")\n        console.print(f\"\\n[bold purple]=== Starting Loop #{loop_count} ===[/bold purple]\")\n\n        # 1. Generate\n        try:\n            success, output_content, output_file = self._generate_step(loop_count)\n        except Exception as e:\n            log_status(self.log_dir, \"CRITICAL\", f\"Generation failed: {e}\")\n            record_loop_result(loop_count, 0, True, 0)\n            break\n\n        if not success:\n            log_status(\n                self.log_dir,\n                \"ERROR\",\n                f\"Generation failed (Loop #{loop_count}): {output_content}\",\n            )\n            record_loop_result(loop_count, 0, True, len(output_content))\n            continue\n\n        # 2. Patch &amp; Backup\n        # The file_patcher now handles backup internally using BackupManager(loop_id)\n        try:\n            files_changed = process_gemini_output(\n                output_file=output_file,\n                project_root=settings.PROJECT_ROOT,\n                log_dir=self.log_dir,\n                loop_id=loop_count,\n            )\n        except Exception as e:\n            log_status(self.log_dir, \"ERROR\", f\"Patching failed: {e}\")\n            record_loop_result(loop_count, 0, True, len(output_content))\n            continue\n\n        if files_changed == 0:\n            log_status(self.log_dir, \"WARN\", \"No files changed in this loop.\")\n\n            # === EMPTY OUTPUT FEEDBACK (Fix #2) ===\n            # If AI produced output but we couldn't parse it, telling the AI\n            if len(output_content) &gt; 0:  # AI did output something\n                # [V12.0 Enhancement] Print the output for the user (One-Shot Mode support)\n                console.print(\n                    Panel(\n                        output_content,\n                        title=\"[bold blue]Gemini Response[/bold blue]\",\n                        border_style=\"blue\",\n                    )\n                )\n\n            if len(output_content) &gt; 100:\n                console.print(\n                    \"[bold yellow]\u26a0\ufe0f AI output could not be parsed into file changes.[/bold yellow]\"\n                )\n                empty_output_count = getattr(self, \"_empty_output_count\", 0) + 1\n                self._empty_output_count = empty_output_count\n\n                if empty_output_count &lt; 3:  # Prevent infinite feedback loops\n                    feedback_prompt = self._create_format_feedback()\n                    self._save_loop_summary(\n                        loop_count, \"FAILED\", \"Output not parseable. Sending format feedback.\"\n                    )\n                    self._self_correct(feedback_prompt, loop_count)\n                    continue\n                else:\n                    log_status(\n                        self.log_dir, \"ERROR\", \"Too many unparseable outputs. Breaking loop.\"\n                    )\n                    self._save_loop_summary(loop_count, \"FAILED\", \"Repeated format errors.\")\n                    break\n            else:\n                self._empty_output_count = 0  # Reset counter on truly empty output\n\n            record_loop_result(loop_count, 0, False, len(output_content))\n        else:\n            self._empty_output_count = 0  # Reset counter on success\n\n            # 3. Dependency Check\n            check_and_install_dependencies(output_content)\n\n            # 4. Advanced Verification (using CodeVerifier)\n            verification_passed, error_msg = self.verifier.verify_project(\n                self.verification_level\n            )\n\n            if not verification_passed:\n                log_status(self.log_dir, \"ERROR\", f\"Verification Failed: {error_msg[:200]}\")\n                console.print(\"[bold red]Verification Failed[/bold red]\")\n\n                # V14: Emit Event\n                FlowEventBus.emit(\n                    FlowEvent.ON_LINT_FAIL,\n                    project_path=str(settings.PROJECT_ROOT),\n                    error=error_msg,\n                )\n\n                # Record failure and learn from error\n                record_loop_result(loop_count, files_changed, True, len(output_content))\n                self._save_loop_summary(\n                    loop_count, \"FAILED\", f\"Verification: {error_msg[:100]}\"\n                )\n                self.memory.record_error_pattern(\"verification_error\", error_msg[:200])\n                self._errors_this_loop.append(error_msg[:200])\n\n                # 5. Self-Correction with detailed feedback\n                console.print(\"[bold yellow]Triggering Self-Correction...[/bold yellow]\")\n                self._self_correct(error_msg, loop_count)\n                continue\n\n            # Record Success\n            duration = time.time() - self._loop_start_time\n\n            # Record to Memory System\n            loop_memory = LoopMemory(\n                loop_id=loop_count,\n                timestamp=time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                status=\"SUCCESS\",\n                files_modified=self._files_modified_this_loop,\n                tasks_completed=self._tasks_completed_this_loop,\n                errors=[],\n                ai_output_summary=output_content[:500] if output_content else \"\",\n                duration_seconds=duration,\n            )\n            self.memory.record_loop(loop_memory)\n            record_loop_result(loop_count, files_changed, False, len(output_content))\n            self._save_loop_summary(loop_count, \"SUCCESS\", f\"Modified {files_changed} file(s).\")\n\n            # V14: Emit Event\n            if files_changed &gt; 0:\n                FlowEventBus.emit(\n                    FlowEvent.POST_BUILD,\n                    project_path=str(settings.PROJECT_ROOT),\n                    modified_files=self._files_modified_this_loop,\n                )\n\n        # 6. Analyze &amp; Update Task\n        increment_call_counter(settings.PROJECT_ROOT / \".call_count\")\n        analysis = analyze_response(output_file, loop_count)\n\n        # === EXIT DETECTION HARDENING (Fix #3) ===\n        # Only exit if BOTH: AI signals exit AND @fix_plan.md has no unchecked items\n        should_exit = False\n        if analysis.get(\"analysis\", {}).get(\"exit_signal\", False):\n            plan_complete = self._check_plan_completion()\n            if plan_complete:\n                console.print(\"[bold green]\u2705 All tasks complete. Agent exiting.[/bold green]\")\n                should_exit = True\n            else:\n                console.print(\n                    \"[yellow]\u26a0\ufe0f AI signaled exit but @fix_plan.md has unchecked items. Continuing.[/yellow]\"\n                )\n                log_status(\n                    self.log_dir, \"WARN\", \"EXIT_SIGNAL ignored: plan has unchecked items.\"\n                )\n\n        if should_exit:\n            break\n\n        log_status(self.log_dir, \"LOOP\", f\"=== Completed Loop #{loop_count} ===\")\n\n    # Cleanup old backups after loop completes\n    BackupManager.cleanup_old_backups(keep_last=10)\n    console.print(\"[dim]Agent loop finished.[/dim]\")\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.OperationSeverity","title":"<code>OperationSeverity</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Severity levels for operations.</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>class OperationSeverity(Enum):\n    \"\"\"Severity levels for operations.\"\"\"\n\n    LOW = \"low\"  # Read operations, non-destructive queries\n    MEDIUM = \"medium\"  # Large edits, batch operations\n    HIGH = \"high\"  # File deletion, config changes\n    CRITICAL = \"critical\"  # Secrets, system files, mass deletion\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.PendingOperation","title":"<code>PendingOperation</code>  <code>dataclass</code>","text":"<p>An operation awaiting human approval.</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>@dataclass\nclass PendingOperation:\n    \"\"\"An operation awaiting human approval.\"\"\"\n\n    operation_id: str\n    operation_type: str\n    file_path: str\n    severity: OperationSeverity\n    description: str\n    preview: str  # What the change looks like\n    timestamp: str = field(default_factory=lambda: datetime.now().isoformat())\n    approved: bool | None = None\n    approver_note: str | None = None\n\n    def to_dict(self) -&gt; dict[str, Any]:\n        return {\n            \"operation_id\": self.operation_id,\n            \"operation_type\": self.operation_type,\n            \"file_path\": self.file_path,\n            \"severity\": self.severity.value,\n            \"description\": self.description,\n            \"preview\": self.preview[:500],\n            \"timestamp\": self.timestamp,\n            \"approved\": self.approved,\n            \"approver_note\": self.approver_note,\n        }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard","title":"<code>ShadowModeGuard</code>","text":"<p>Intercepts and validates operations before execution.</p> <p>Modes (per user decision - ENABLED is default): - DISABLED: All operations auto-approved - ENABLED: Only HIGH/CRITICAL ops require approval - STRICT: ALL file modifications require approval</p> <p>Design principles: - Read operations NEVER blocked (avoid alert fatigue) - Only side-effect operations need approval - Quick approve/reject via callback or queue</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>class ShadowModeGuard:\n    \"\"\"\n    Intercepts and validates operations before execution.\n\n    Modes (per user decision - ENABLED is default):\n    - DISABLED: All operations auto-approved\n    - ENABLED: Only HIGH/CRITICAL ops require approval\n    - STRICT: ALL file modifications require approval\n\n    Design principles:\n    - Read operations NEVER blocked (avoid alert fatigue)\n    - Only side-effect operations need approval\n    - Quick approve/reject via callback or queue\n    \"\"\"\n\n    # Patterns for sensitive files\n    SENSITIVE_PATTERNS = {\n        \".env\",\n        \"secret\",\n        \"password\",\n        \"credential\",\n        \"key\",\n        \"token\",\n        \"auth\",\n        \"private\",\n        \"api_key\",\n        \".pem\",\n        \".key\",\n    }\n\n    # Config files that warrant extra caution\n    CONFIG_PATTERNS = {\n        \"config\",\n        \"settings\",\n        \"pyproject.toml\",\n        \"package.json\",\n        \"docker-compose\",\n        \"Dockerfile\",\n        \".yaml\",\n        \".yml\",\n    }\n\n    # Files that should NEVER be modified by automation\n    PROTECTED_FILES = {\".git/config\", \".git/HEAD\", \"~/.ssh/\", \"/etc/\"}\n\n    def __init__(\n        self,\n        project_root: Path,\n        mode: ShadowModeLevel = ShadowModeLevel.ENABLED,\n        approval_callback: ApprovalCallback | None = None,\n        pending_file: Path | None = None,\n    ):\n        \"\"\"\n        Initialize Shadow Mode guard.\n\n        Args:\n            project_root: Project root directory\n            mode: Protection level (default ENABLED)\n            approval_callback: Sync callback for approval (returns bool)\n            pending_file: Path to save pending operations queue\n        \"\"\"\n        self.project_root = Path(project_root)\n        self._mode = mode  # Use private attr to avoid triggering setter persistence\n        self.approval_callback = approval_callback\n\n        self.pending_file = pending_file or (self.project_root / \".boring_pending_approval.json\")\n        self._mode_file = self.project_root / \".boring_shadow_mode\"\n\n        self.pending_queue: list[PendingOperation] = []\n        self._operation_counter = 0\n\n        # Load persisted mode (overrides constructor default if file exists)\n        self._load_mode()\n\n        # Load any existing pending operations\n        self._load_pending()\n\n        # V12.4: File Integrity Monitor\n        try:\n            from ..security.integrity import FileIntegrityMonitor\n\n            self.integrity_monitor = FileIntegrityMonitor(self.project_root)\n            # Monitor config and protected files\n            monitored = [\n                self.project_root / f\n                for f in self.PROTECTED_FILES\n                if (self.project_root / f).exists()\n            ]\n            # Add sensitive config patterns\n            for pattern in self.CONFIG_PATTERNS:\n                # Basic glob for top-level configs matches\n                if not pattern.startswith(\".\"):\n                    for f in self.project_root.glob(f\"{pattern}*\"):\n                        if f.is_file():\n                            monitored.append(f)\n\n            if monitored:\n                self.integrity_monitor.snapshot_files(monitored)\n\n        except ImportError:\n            self.integrity_monitor = None\n            logger.warning(\"FileIntegrityMonitor not available\")\n\n    @property\n    def mode(self) -&gt; ShadowModeLevel:\n        \"\"\"Get current protection mode.\"\"\"\n        return self._mode\n\n    @mode.setter\n    def mode(self, value: ShadowModeLevel) -&gt; None:\n        \"\"\"Set protection mode and persist to disk.\"\"\"\n        self._mode = value\n        self._persist_mode()\n\n    def check_operation(self, operation: dict[str, Any]) -&gt; PendingOperation | None:\n        \"\"\"\n        Check if an operation should be blocked for approval.\n\n        Args:\n            operation: Dict with 'name' and 'args'\n\n        Returns:\n            PendingOperation if blocked, None if auto-approved\n        \"\"\"\n        if self.mode == ShadowModeLevel.DISABLED:\n            return None\n\n        op_name = operation.get(\"name\", \"\")\n        args = operation.get(\"args\", {})\n\n        # Classify operation\n        pending = self._classify_operation(op_name, args)\n        if not pending:\n            return None\n\n        # Check trust rules BEFORE blocking\n        trust_manager = _get_trust_manager(self.project_root)\n        if trust_manager:\n            severity_str = pending.severity.value if pending.severity else \"medium\"\n            matched_rule = trust_manager.check_trust(op_name, args, severity_str)\n            if matched_rule:\n                logger.info(f\"\u2705 Auto-approved by trust rule: {op_name}\")\n                return None  # Trusted operation, no blocking\n\n        # Check protection level\n        if self.mode == ShadowModeLevel.STRICT:\n            # Block ALL write operations (unless trusted above)\n            return pending\n\n        # ENABLED mode: only block HIGH and CRITICAL\n        if pending.severity in (OperationSeverity.HIGH, OperationSeverity.CRITICAL):\n            return pending\n\n        return None  # Auto-approve LOW/MEDIUM\n\n        return None  # Auto-approve LOW/MEDIUM\n\n    def verify_system_integrity(self) -&gt; list[str]:\n        \"\"\"\n        Check for silent modifications to protected files.\n        V12.4 Security Feature.\n        \"\"\"\n        if self.integrity_monitor:\n            return self.integrity_monitor.detect_silent_modifications()\n        return []\n\n    def request_approval(self, pending: PendingOperation) -&gt; bool:\n        \"\"\"\n        Request approval for a pending operation.\n\n        Returns:\n            True if approved, False if rejected/pending\n        \"\"\"\n        # Try callback first\n        if self.approval_callback:\n            try:\n                return self.approval_callback(pending)\n            except Exception as e:\n                logger.warning(f\"Approval callback failed: {e}\")\n\n        # Fall back to queue\n        self.pending_queue.append(pending)\n        self._save_pending()\n\n        logger.info(\n            f\"\u26a0\ufe0f Operation queued for approval: {pending.operation_type} \"\n            f\"on {pending.file_path} ({pending.severity.value})\"\n        )\n\n        return False  # Not approved yet\n\n    def approve_operation(self, operation_id: str, note: str = None) -&gt; bool:\n        \"\"\"\n        Approve a pending operation by ID.\n\n        Returns:\n            True if found and approved\n        \"\"\"\n        for op in self.pending_queue:\n            if op.operation_id == operation_id:\n                op.approved = True\n                op.approver_note = note\n                self._save_pending()\n                return True\n        return False\n\n    def reject_operation(self, operation_id: str, note: str = None) -&gt; bool:\n        \"\"\"\n        Reject a pending operation by ID.\n\n        Returns:\n            True if found and rejected\n        \"\"\"\n        for op in self.pending_queue:\n            if op.operation_id == operation_id:\n                op.approved = False\n                op.approver_note = note\n                self._remove_pending(operation_id)\n                return True\n        return False\n\n    def get_pending_operations(self) -&gt; list[PendingOperation]:\n        \"\"\"Get all pending operations awaiting approval.\"\"\"\n        return [op for op in self.pending_queue if op.approved is None]\n\n    def clear_pending(self) -&gt; int:\n        \"\"\"Clear all pending operations. Returns count cleared.\"\"\"\n        count = len(self.pending_queue)\n        self.pending_queue.clear()\n        self._save_pending()\n        return count\n\n    def is_operation_approved(self, operation_id: str) -&gt; bool | None:\n        \"\"\"\n        Check if an operation has been approved.\n\n        Returns:\n            True if approved, False if rejected, None if pending\n        \"\"\"\n        for op in self.pending_queue:\n            if op.operation_id == operation_id:\n                return op.approved\n        return None\n\n    def _classify_operation(self, op_name: str, args: dict[str, Any]) -&gt; PendingOperation | None:\n        \"\"\"Classify an operation by severity.\"\"\"\n        file_path = args.get(\"file_path\", \"\") or args.get(\"path\", \"\")\n\n        # Generate unique ID\n        self._operation_counter += 1\n        op_id = f\"op_{self._operation_counter}_{datetime.now().strftime('%H%M%S')}\"\n\n        # ==================\n        # FILE DELETION - HIGH\n        # ==================\n        if op_name in (\"delete_file\", \"remove_file\", \"rm\"):\n            return PendingOperation(\n                operation_id=op_id,\n                operation_type=\"DELETE\",\n                file_path=file_path,\n                severity=OperationSeverity.HIGH,\n                description=f\"Delete file: {file_path}\",\n                preview=\"[File will be permanently deleted]\",\n            )\n\n        # ==================\n        # SECRETS/SENSITIVE - CRITICAL\n        # ==================\n        if op_name in (\"write_file\", \"create_file\", \"search_replace\"):\n            if self._is_sensitive_file(file_path):\n                content = args.get(\"content\", \"\") or args.get(\"replace\", \"\")\n                return PendingOperation(\n                    operation_id=op_id,\n                    operation_type=\"SENSITIVE_CHANGE\",\n                    file_path=file_path,\n                    severity=OperationSeverity.CRITICAL,\n                    description=f\"Modify sensitive file: {file_path}\",\n                    preview=self._safe_preview(content),\n                )\n\n        # ==================\n        # CONFIG FILES - HIGH\n        # ==================\n        if op_name in (\"write_file\", \"create_file\", \"search_replace\"):\n            if self._is_config_file(file_path):\n                content = args.get(\"content\", \"\") or args.get(\"replace\", \"\")\n                return PendingOperation(\n                    operation_id=op_id,\n                    operation_type=\"CONFIG_CHANGE\",\n                    file_path=file_path,\n                    severity=OperationSeverity.HIGH,\n                    description=f\"Modify config file: {file_path}\",\n                    preview=self._safe_preview(content),\n                )\n\n        # ==================\n        # LARGE DELETIONS - MEDIUM\n        # ==================\n        if op_name == \"search_replace\":\n            search_content = args.get(\"search\", \"\")\n            if len(search_content) &gt; 1000 or search_content.count(\"\\n\") &gt; 30:\n                return PendingOperation(\n                    operation_id=op_id,\n                    operation_type=\"LARGE_EDIT\",\n                    file_path=file_path,\n                    severity=OperationSeverity.MEDIUM,\n                    description=f\"Large edit in {file_path} ({len(search_content)} chars, {search_content.count(chr(10))} lines)\",\n                    preview=f\"Removing:\\n{search_content[:300]}...\",\n                )\n\n        # ==================\n        # SHELL COMMANDS - HIGH\n        # ==================\n        if op_name in (\"exec\", \"shell\", \"run_command\", \"subprocess\"):\n            cmd = args.get(\"command\", \"\") or args.get(\"cmd\", \"\")\n            return PendingOperation(\n                operation_id=op_id,\n                operation_type=\"SHELL_COMMAND\",\n                file_path=\"[shell]\",\n                severity=OperationSeverity.HIGH,\n                description=\"Execute shell command\",\n                preview=cmd[:200],\n            )\n\n        # ==================\n        # PROTECTED PATHS - CRITICAL\n        # ==================\n        if self._is_protected_path(file_path):\n            return PendingOperation(\n                operation_id=op_id,\n                operation_type=\"PROTECTED_PATH\",\n                file_path=file_path,\n                severity=OperationSeverity.CRITICAL,\n                description=f\"Attempt to modify protected path: {file_path}\",\n                preview=\"[BLOCKED - Protected system path]\",\n            )\n\n        # ==================\n        # CATCH-ALL WRITES - LOW\n        # ==================\n        if op_name in (\"write_file\", \"create_file\", \"search_replace\", \"apply_patch\"):\n            content = args.get(\"content\", \"\") or args.get(\"replace\", \"\")\n            return PendingOperation(\n                operation_id=op_id,\n                operation_type=\"WRITE_FILE\",\n                file_path=file_path,\n                severity=OperationSeverity.LOW,\n                description=f\"Modify file: {file_path}\",\n                preview=self._safe_preview(content),\n            )\n\n        return None  # No special handling needed\n\n    def _is_sensitive_file(self, path: str) -&gt; bool:\n        \"\"\"Check if file might contain sensitive data.\"\"\"\n        path_lower = path.lower()\n        return any(pattern in path_lower for pattern in self.SENSITIVE_PATTERNS)\n\n    def _is_config_file(self, path: str) -&gt; bool:\n        \"\"\"Check if file is a configuration file.\"\"\"\n        path_lower = path.lower()\n        return any(pattern in path_lower for pattern in self.CONFIG_PATTERNS)\n\n    def _is_protected_path(self, path: str) -&gt; bool:\n        \"\"\"Check if path is in protected list.\"\"\"\n        return any(protected in path for protected in self.PROTECTED_FILES)\n\n    def _safe_preview(self, content: str, max_len: int = 300) -&gt; str:\n        \"\"\"Create safe preview of content (redact sensitive data).\"\"\"\n        if not content:\n            return \"[empty]\"\n\n        # Redact potential secrets\n        import re\n\n        redacted = re.sub(\n            r'(password|secret|key|token|api_key)\\s*[=:]\\s*[\"\\']?[^\"\\'\\s]+',\n            r\"\\1=[REDACTED]\",\n            content,\n            flags=re.IGNORECASE,\n        )\n\n        if len(redacted) &gt; max_len:\n            return redacted[:max_len] + \"...\"\n\n        return redacted\n\n    def _load_pending(self) -&gt; None:\n        \"\"\"Load pending operations from file.\"\"\"\n        if self.pending_file.exists():\n            try:\n                data = json.loads(self.pending_file.read_text())\n                self.pending_queue = [\n                    PendingOperation(\n                        operation_id=op[\"operation_id\"],\n                        operation_type=op[\"operation_type\"],\n                        file_path=op[\"file_path\"],\n                        severity=OperationSeverity(op[\"severity\"]),\n                        description=op[\"description\"],\n                        preview=op[\"preview\"],\n                        timestamp=op.get(\"timestamp\", \"\"),\n                        approved=op.get(\"approved\"),\n                        approver_note=op.get(\"approver_note\"),\n                    )\n                    for op in data\n                ]\n            except Exception as e:\n                logger.warning(f\"Failed to load pending operations: {e}\")\n\n    def _save_pending(self) -&gt; None:\n        \"\"\"Save pending operations to file.\"\"\"\n        try:\n            data = [op.to_dict() for op in self.pending_queue]\n            TransactionalFileWriter.write_json(self.pending_file, data, indent=2)\n        except Exception as e:\n            logger.warning(f\"Failed to save pending operations: {e}\")\n\n    def _remove_pending(self, operation_id: str) -&gt; None:\n        \"\"\"Remove an operation from the queue.\"\"\"\n        self.pending_queue = [op for op in self.pending_queue if op.operation_id != operation_id]\n        self._save_pending()\n\n    def _persist_mode(self) -&gt; None:\n        \"\"\"Persist current mode to disk for cross-session consistency.\"\"\"\n        try:\n            TransactionalFileWriter.write_text(self._mode_file, self._mode.value)\n            logger.debug(f\"Shadow Mode persisted: {self._mode.value}\")\n        except Exception as e:\n            logger.warning(f\"Failed to persist Shadow Mode: {e}\")\n\n    def _load_mode(self) -&gt; None:\n        \"\"\"Load persisted mode from disk if available.\"\"\"\n        if self._mode_file.exists():\n            try:\n                mode_str = self._mode_file.read_text().strip().upper()\n                if mode_str in (\"DISABLED\", \"ENABLED\", \"STRICT\"):\n                    self._mode = ShadowModeLevel[mode_str]\n                    logger.debug(f\"Loaded persisted Shadow Mode: {mode_str}\")\n            except Exception as e:\n                logger.warning(f\"Failed to load persisted Shadow Mode: {e}\")\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.mode","title":"<code>mode</code>  <code>property</code> <code>writable</code>","text":"<p>Get current protection mode.</p>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.__init__","title":"<code>__init__(project_root, mode=ShadowModeLevel.ENABLED, approval_callback=None, pending_file=None)</code>","text":"<p>Initialize Shadow Mode guard.</p> <p>Parameters:</p> Name Type Description Default <code>project_root</code> <code>Path</code> <p>Project root directory</p> required <code>mode</code> <code>ShadowModeLevel</code> <p>Protection level (default ENABLED)</p> <code>ENABLED</code> <code>approval_callback</code> <code>ApprovalCallback | None</code> <p>Sync callback for approval (returns bool)</p> <code>None</code> <code>pending_file</code> <code>Path | None</code> <p>Path to save pending operations queue</p> <code>None</code> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def __init__(\n    self,\n    project_root: Path,\n    mode: ShadowModeLevel = ShadowModeLevel.ENABLED,\n    approval_callback: ApprovalCallback | None = None,\n    pending_file: Path | None = None,\n):\n    \"\"\"\n    Initialize Shadow Mode guard.\n\n    Args:\n        project_root: Project root directory\n        mode: Protection level (default ENABLED)\n        approval_callback: Sync callback for approval (returns bool)\n        pending_file: Path to save pending operations queue\n    \"\"\"\n    self.project_root = Path(project_root)\n    self._mode = mode  # Use private attr to avoid triggering setter persistence\n    self.approval_callback = approval_callback\n\n    self.pending_file = pending_file or (self.project_root / \".boring_pending_approval.json\")\n    self._mode_file = self.project_root / \".boring_shadow_mode\"\n\n    self.pending_queue: list[PendingOperation] = []\n    self._operation_counter = 0\n\n    # Load persisted mode (overrides constructor default if file exists)\n    self._load_mode()\n\n    # Load any existing pending operations\n    self._load_pending()\n\n    # V12.4: File Integrity Monitor\n    try:\n        from ..security.integrity import FileIntegrityMonitor\n\n        self.integrity_monitor = FileIntegrityMonitor(self.project_root)\n        # Monitor config and protected files\n        monitored = [\n            self.project_root / f\n            for f in self.PROTECTED_FILES\n            if (self.project_root / f).exists()\n        ]\n        # Add sensitive config patterns\n        for pattern in self.CONFIG_PATTERNS:\n            # Basic glob for top-level configs matches\n            if not pattern.startswith(\".\"):\n                for f in self.project_root.glob(f\"{pattern}*\"):\n                    if f.is_file():\n                        monitored.append(f)\n\n        if monitored:\n            self.integrity_monitor.snapshot_files(monitored)\n\n    except ImportError:\n        self.integrity_monitor = None\n        logger.warning(\"FileIntegrityMonitor not available\")\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.check_operation","title":"<code>check_operation(operation)</code>","text":"<p>Check if an operation should be blocked for approval.</p> <p>Parameters:</p> Name Type Description Default <code>operation</code> <code>dict[str, Any]</code> <p>Dict with 'name' and 'args'</p> required <p>Returns:</p> Type Description <code>PendingOperation | None</code> <p>PendingOperation if blocked, None if auto-approved</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def check_operation(self, operation: dict[str, Any]) -&gt; PendingOperation | None:\n    \"\"\"\n    Check if an operation should be blocked for approval.\n\n    Args:\n        operation: Dict with 'name' and 'args'\n\n    Returns:\n        PendingOperation if blocked, None if auto-approved\n    \"\"\"\n    if self.mode == ShadowModeLevel.DISABLED:\n        return None\n\n    op_name = operation.get(\"name\", \"\")\n    args = operation.get(\"args\", {})\n\n    # Classify operation\n    pending = self._classify_operation(op_name, args)\n    if not pending:\n        return None\n\n    # Check trust rules BEFORE blocking\n    trust_manager = _get_trust_manager(self.project_root)\n    if trust_manager:\n        severity_str = pending.severity.value if pending.severity else \"medium\"\n        matched_rule = trust_manager.check_trust(op_name, args, severity_str)\n        if matched_rule:\n            logger.info(f\"\u2705 Auto-approved by trust rule: {op_name}\")\n            return None  # Trusted operation, no blocking\n\n    # Check protection level\n    if self.mode == ShadowModeLevel.STRICT:\n        # Block ALL write operations (unless trusted above)\n        return pending\n\n    # ENABLED mode: only block HIGH and CRITICAL\n    if pending.severity in (OperationSeverity.HIGH, OperationSeverity.CRITICAL):\n        return pending\n\n    return None  # Auto-approve LOW/MEDIUM\n\n    return None  # Auto-approve LOW/MEDIUM\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.verify_system_integrity","title":"<code>verify_system_integrity()</code>","text":"<p>Check for silent modifications to protected files. V12.4 Security Feature.</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def verify_system_integrity(self) -&gt; list[str]:\n    \"\"\"\n    Check for silent modifications to protected files.\n    V12.4 Security Feature.\n    \"\"\"\n    if self.integrity_monitor:\n        return self.integrity_monitor.detect_silent_modifications()\n    return []\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.request_approval","title":"<code>request_approval(pending)</code>","text":"<p>Request approval for a pending operation.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if approved, False if rejected/pending</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def request_approval(self, pending: PendingOperation) -&gt; bool:\n    \"\"\"\n    Request approval for a pending operation.\n\n    Returns:\n        True if approved, False if rejected/pending\n    \"\"\"\n    # Try callback first\n    if self.approval_callback:\n        try:\n            return self.approval_callback(pending)\n        except Exception as e:\n            logger.warning(f\"Approval callback failed: {e}\")\n\n    # Fall back to queue\n    self.pending_queue.append(pending)\n    self._save_pending()\n\n    logger.info(\n        f\"\u26a0\ufe0f Operation queued for approval: {pending.operation_type} \"\n        f\"on {pending.file_path} ({pending.severity.value})\"\n    )\n\n    return False  # Not approved yet\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.approve_operation","title":"<code>approve_operation(operation_id, note=None)</code>","text":"<p>Approve a pending operation by ID.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if found and approved</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def approve_operation(self, operation_id: str, note: str = None) -&gt; bool:\n    \"\"\"\n    Approve a pending operation by ID.\n\n    Returns:\n        True if found and approved\n    \"\"\"\n    for op in self.pending_queue:\n        if op.operation_id == operation_id:\n            op.approved = True\n            op.approver_note = note\n            self._save_pending()\n            return True\n    return False\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.reject_operation","title":"<code>reject_operation(operation_id, note=None)</code>","text":"<p>Reject a pending operation by ID.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if found and rejected</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def reject_operation(self, operation_id: str, note: str = None) -&gt; bool:\n    \"\"\"\n    Reject a pending operation by ID.\n\n    Returns:\n        True if found and rejected\n    \"\"\"\n    for op in self.pending_queue:\n        if op.operation_id == operation_id:\n            op.approved = False\n            op.approver_note = note\n            self._remove_pending(operation_id)\n            return True\n    return False\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.get_pending_operations","title":"<code>get_pending_operations()</code>","text":"<p>Get all pending operations awaiting approval.</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def get_pending_operations(self) -&gt; list[PendingOperation]:\n    \"\"\"Get all pending operations awaiting approval.\"\"\"\n    return [op for op in self.pending_queue if op.approved is None]\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.clear_pending","title":"<code>clear_pending()</code>","text":"<p>Clear all pending operations. Returns count cleared.</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def clear_pending(self) -&gt; int:\n    \"\"\"Clear all pending operations. Returns count cleared.\"\"\"\n    count = len(self.pending_queue)\n    self.pending_queue.clear()\n    self._save_pending()\n    return count\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeGuard.is_operation_approved","title":"<code>is_operation_approved(operation_id)</code>","text":"<p>Check if an operation has been approved.</p> <p>Returns:</p> Type Description <code>bool | None</code> <p>True if approved, False if rejected, None if pending</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def is_operation_approved(self, operation_id: str) -&gt; bool | None:\n    \"\"\"\n    Check if an operation has been approved.\n\n    Returns:\n        True if approved, False if rejected, None if pending\n    \"\"\"\n    for op in self.pending_queue:\n        if op.operation_id == operation_id:\n            return op.approved\n    return None\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ShadowModeLevel","title":"<code>ShadowModeLevel</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Shadow mode protection levels.</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>class ShadowModeLevel(Enum):\n    \"\"\"Shadow mode protection levels.\"\"\"\n\n    DISABLED = \"DISABLED\"  # All operations auto-approved\n    ENABLED = \"ENABLED\"  # Block HIGH/CRITICAL only (DEFAULT)\n    STRICT = \"STRICT\"  # Block ALL write operations\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.TransactionManager","title":"<code>TransactionManager</code>","text":"<p>Manages atomic transactions using Git snapshots.</p> <p>Provides: - start() - Create a checkpoint before making changes - commit() - Confirm changes and clear checkpoint - rollback() - Revert to checkpoint</p> Source code in <code>src/boring/loop/transactions.py</code> <pre><code>class TransactionManager:\n    \"\"\"\n    Manages atomic transactions using Git snapshots.\n\n    Provides:\n    - start() - Create a checkpoint before making changes\n    - commit() - Confirm changes and clear checkpoint\n    - rollback() - Revert to checkpoint\n    \"\"\"\n\n    def __init__(self, project_root: Path):\n        self.project_root = Path(project_root)\n        self.state_file = self.project_root / \".boring_transaction\"\n        self.current_transaction: TransactionState | None = None\n\n    def _run_git(self, args: list[str], with_retry: bool = False) -&gt; tuple[bool, str]:\n        \"\"\"\n        Run a git command and return (success, output).\n\n        Args:\n            args: Git command arguments\n            with_retry: If True, use exponential backoff retry for file lock issues\n\n        Returns:\n            Tuple of (success, output)\n        \"\"\"\n        # Prevent git from prompting for credentials or GPG keys\n        env = os.environ.copy()\n        env[\"GIT_TERMINAL_PROMPT\"] = \"0\"\n\n        def _execute_git() -&gt; tuple[bool, str]:\n            try:\n                # Add -c commit.gpgsign=false to avoid GPG passphrase prompts\n                cmd = [\"git\", \"-c\", \"commit.gpgsign=false\"] + args\n\n                result = subprocess.run(\n                    cmd,\n                    cwd=self.project_root,\n                    capture_output=True,\n                    text=True,\n                    timeout=30,\n                    env=env,\n                )\n                return result.returncode == 0, result.stdout.strip() or result.stderr.strip()\n            except subprocess.TimeoutExpired as e:\n                raise OSError(f\"Git command timed out: {e}\")\n            except Exception as e:\n                return False, str(e)\n\n        if with_retry:\n            # Use retry mechanism for operations that may encounter file locks\n            @retry_with_backoff(max_retries=5, initial_delay=0.1, max_delay=5.0)\n            def _execute_with_retry() -&gt; tuple[bool, str]:\n                success, output = _execute_git()\n                if not success and self._is_file_lock_error(output):\n                    raise OSError(f\"File lock detected: {output}\")\n                return success, output\n\n            try:\n                return _execute_with_retry()\n            except OSError as e:\n                return False, str(e)\n        else:\n            return _execute_git()\n\n    def _is_file_lock_error(self, error_message: str) -&gt; bool:\n        \"\"\"Check if error message indicates a file lock issue.\"\"\"\n        lock_indicators = [\n            \"cannot lock\",\n            \"unable to create\",\n            \"Permission denied\",\n            \"Access is denied\",\n            \"being used by another process\",\n            \"cannot create\",\n            \"file is busy\",\n            \"resource busy\",\n        ]\n        error_lower = error_message.lower()\n        return any(indicator.lower() in error_lower for indicator in lock_indicators)\n\n    def _check_file_locks_before_operation(self) -&gt; dict:\n        \"\"\"\n        Check for file locks before performing rollback operation.\n\n        Returns:\n            Dict with status and any locked files found\n        \"\"\"\n        locked_files = FileLockDetector.find_locked_files(self.project_root)\n\n        if locked_files:\n            # Attempt to wait for files to unlock\n            still_locked = []\n            for file_path in locked_files:\n                if not FileLockDetector.wait_for_file_unlock(file_path, timeout=3.0):\n                    still_locked.append(str(file_path))\n\n            if still_locked:\n                return {\n                    \"status\": \"warning\",\n                    \"locked_files\": still_locked,\n                    \"message\": f\"Found {len(still_locked)} locked files. Proceeding with caution.\",\n                }\n\n        return {\"status\": \"ok\", \"locked_files\": []}\n\n    def _get_current_commit(self) -&gt; str:\n        \"\"\"Get current HEAD commit hash.\"\"\"\n        success, output = self._run_git([\"rev-parse\", \"HEAD\"])\n        return output if success else \"\"\n\n    def _get_changed_files(self) -&gt; list[str]:\n        \"\"\"Get list of uncommitted changed files.\"\"\"\n        success, output = self._run_git([\"status\", \"--porcelain\"])\n        if not success or not output:\n            return []\n        res = []\n        for line in output.split(\"\\n\"):\n            if line:\n                res.append(line[3:])\n        return res\n\n    def start(self, description: str = \"Boring transaction\") -&gt; dict:\n        \"\"\"\n        Start a new transaction by creating a Git checkpoint.\n\n        Args:\n            description: Description of the transaction\n\n        Returns:\n            Transaction state as dict\n        \"\"\"\n        if self.current_transaction and self.current_transaction.is_active:\n            return {\n                \"status\": \"error\",\n                \"message\": \"Transaction already in progress. Commit or rollback first.\",\n                \"transaction_id\": self.current_transaction.transaction_id,\n            }\n\n        # Check if we're in a git repo\n        success, _ = self._run_git([\"rev-parse\", \"--git-dir\"])\n        if not success:\n            return {\n                \"status\": \"error\",\n                \"message\": \"Not a Git repository. Please initialize with: git init\",\n            }\n\n        # Get current state\n        commit_hash = self._get_current_commit()\n        changed_files = self._get_changed_files()\n\n        # Create stash if there are uncommitted changes\n        stash_ref = None\n        if changed_files:\n            success, output = self._run_git(\n                [\"stash\", \"push\", \"-m\", f\"boring-transaction-{datetime.now().isoformat()}\"]\n            )\n            if success:\n                stash_ref = \"stash@{0}\"\n\n        # Generate transaction ID\n        transaction_id = f\"tx-{datetime.now().strftime('%Y%m%d-%H%M%S')}\"\n\n        # Create transaction state\n        self.current_transaction = TransactionState(\n            transaction_id=transaction_id,\n            started_at=datetime.now(),\n            commit_hash=stash_ref or commit_hash,\n            description=description,\n            files_changed=changed_files,\n            is_active=True,\n        )\n\n        # Save state to file\n        self._save_state()\n\n        return {\n            \"status\": \"success\",\n            \"transaction_id\": transaction_id,\n            \"checkpoint\": commit_hash,\n            \"files_stashed\": len(changed_files) if stash_ref else 0,\n            \"message\": \"Transaction started. Use rollback to revert if needed.\",\n        }\n\n    def commit(self) -&gt; dict:\n        \"\"\"\n        Commit the transaction, keeping all changes.\n\n        Returns:\n            Result as dict\n        \"\"\"\n        if not self.current_transaction or not self.current_transaction.is_active:\n            return {\"status\": \"error\", \"message\": \"No active transaction to commit\"}\n\n        transaction_id = self.current_transaction.transaction_id\n\n        # Clear the stash if we created one\n        if self.current_transaction.commit_hash.startswith(\"stash\"):\n            self._run_git([\"stash\", \"drop\", \"stash@{0}\"])\n\n        # Mark transaction as complete\n        self.current_transaction.is_active = False\n        self._clear_state()\n\n        return {\n            \"status\": \"success\",\n            \"transaction_id\": transaction_id,\n            \"message\": \"Transaction committed. Changes are permanent.\",\n        }\n\n    def rollback(self) -&gt; dict:\n        \"\"\"\n        Rollback to the checkpoint, discarding all changes since start().\n\n        V11.0 Enhancements:\n        - Pre-execution file lock detection\n        - Exponential backoff retry for Windows file locking\n        - Graceful recovery on disk write failures\n\n        Returns:\n            Result as dict\n        \"\"\"\n        if not self.current_transaction or not self.current_transaction.is_active:\n            return {\"status\": \"error\", \"message\": \"No active transaction to rollback\"}\n\n        transaction_id = self.current_transaction.transaction_id\n        checkpoint = self.current_transaction.commit_hash\n\n        # V11.0: Check for file locks before operation\n        lock_check = self._check_file_locks_before_operation()\n        if lock_check[\"status\"] == \"warning\":\n            logger.warning(\n                f\"Proceeding with rollback despite locked files: {lock_check['locked_files']}\"\n            )\n\n        # Track rollback progress for graceful recovery\n        rollback_state = {\"checkout_done\": False, \"clean_done\": False, \"restore_done\": False}\n\n        try:\n            # Discard all current changes (with retry for file locks)\n            success, output = self._run_git([\"checkout\", \"--\", \".\"], with_retry=True)\n            if not success:\n                return {\n                    \"status\": \"error\",\n                    \"transaction_id\": transaction_id,\n                    \"message\": f\"Failed to checkout: {output}\",\n                    \"partial_state\": rollback_state,\n                }\n            rollback_state[\"checkout_done\"] = True\n\n            success, output = self._run_git([\"clean\", \"-fd\"], with_retry=True)\n            if not success:\n                logger.warning(f\"Clean operation had issues: {output}\")\n            rollback_state[\"clean_done\"] = True\n\n            # Restore stashed changes if applicable\n            if checkpoint.startswith(\"stash\"):\n                success, output = self._run_git([\"stash\", \"pop\"], with_retry=True)\n                if not success:\n                    # Attempt graceful recovery: try stash apply instead\n                    success, output = self._run_git([\"stash\", \"apply\", \"stash@{0}\"])\n                    if success:\n                        # Apply worked, drop the stash\n                        self._run_git([\"stash\", \"drop\", \"stash@{0}\"])\n                    else:\n                        return {\n                            \"status\": \"partial\",\n                            \"transaction_id\": transaction_id,\n                            \"message\": f\"Rolled back but stash restore failed: {output}. \"\n                            \"Your changes are still in the stash.\",\n                            \"partial_state\": rollback_state,\n                        }\n                rollback_state[\"restore_done\"] = True\n            else:\n                # Hard reset to the commit (with retry)\n                success, output = self._run_git([\"reset\", \"--hard\", checkpoint], with_retry=True)\n                if not success:\n                    return {\n                        \"status\": \"partial\",\n                        \"transaction_id\": transaction_id,\n                        \"message\": f\"Reset failed: {output}\",\n                        \"partial_state\": rollback_state,\n                    }\n                rollback_state[\"restore_done\"] = True\n\n            # Clear transaction\n            self.current_transaction.is_active = False\n            self._clear_state()\n\n            return {\n                \"status\": \"success\",\n                \"transaction_id\": transaction_id,\n                \"message\": \"Transaction rolled back. All changes since start() have been reverted.\",\n            }\n\n        except Exception as e:\n            logger.error(f\"Rollback encountered an unexpected error: {e}\")\n            return {\n                \"status\": \"error\",\n                \"transaction_id\": transaction_id,\n                \"message\": f\"Rollback failed with error: {e}\",\n                \"partial_state\": rollback_state,\n            }\n\n    def status(self) -&gt; dict:\n        \"\"\"Get current transaction status.\"\"\"\n        self._load_state()\n\n        if not self.current_transaction or not self.current_transaction.is_active:\n            return {\"status\": \"idle\", \"message\": \"No active transaction\"}\n\n        return {\n            \"status\": \"active\",\n            \"transaction_id\": self.current_transaction.transaction_id,\n            \"started_at\": self.current_transaction.started_at.isoformat(),\n            \"description\": self.current_transaction.description,\n            \"files_at_start\": self.current_transaction.files_changed,\n            \"current_changes\": self._get_changed_files(),\n        }\n\n    def _save_state(self):\n        \"\"\"Save transaction state to file.\"\"\"\n        import json\n\n        if self.current_transaction:\n            data = {\n                \"transaction_id\": self.current_transaction.transaction_id,\n                \"started_at\": self.current_transaction.started_at.isoformat(),\n                \"commit_hash\": self.current_transaction.commit_hash,\n                \"description\": self.current_transaction.description,\n                \"files_changed\": self.current_transaction.files_changed,\n                \"is_active\": self.current_transaction.is_active,\n            }\n            self.state_file.write_text(json.dumps(data, indent=2), encoding=\"utf-8\")\n\n    def _load_state(self):\n        \"\"\"Load transaction state from file.\"\"\"\n        import json\n\n        if self.state_file.exists():\n            try:\n                data = json.loads(self.state_file.read_text(encoding=\"utf-8\"))\n                self.current_transaction = TransactionState(\n                    transaction_id=data[\"transaction_id\"],\n                    started_at=datetime.fromisoformat(data[\"started_at\"]),\n                    commit_hash=data[\"commit_hash\"],\n                    description=data[\"description\"],\n                    files_changed=data.get(\"files_changed\", []),\n                    is_active=data.get(\"is_active\", True),\n                )\n            except Exception:\n                self.current_transaction = None\n\n    def _clear_state(self):\n        \"\"\"Clear saved transaction state.\"\"\"\n        if self.state_file.exists():\n            self.state_file.unlink()\n        self.current_transaction = None\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.TransactionManager.start","title":"<code>start(description='Boring transaction')</code>","text":"<p>Start a new transaction by creating a Git checkpoint.</p> <p>Parameters:</p> Name Type Description Default <code>description</code> <code>str</code> <p>Description of the transaction</p> <code>'Boring transaction'</code> <p>Returns:</p> Type Description <code>dict</code> <p>Transaction state as dict</p> Source code in <code>src/boring/loop/transactions.py</code> <pre><code>def start(self, description: str = \"Boring transaction\") -&gt; dict:\n    \"\"\"\n    Start a new transaction by creating a Git checkpoint.\n\n    Args:\n        description: Description of the transaction\n\n    Returns:\n        Transaction state as dict\n    \"\"\"\n    if self.current_transaction and self.current_transaction.is_active:\n        return {\n            \"status\": \"error\",\n            \"message\": \"Transaction already in progress. Commit or rollback first.\",\n            \"transaction_id\": self.current_transaction.transaction_id,\n        }\n\n    # Check if we're in a git repo\n    success, _ = self._run_git([\"rev-parse\", \"--git-dir\"])\n    if not success:\n        return {\n            \"status\": \"error\",\n            \"message\": \"Not a Git repository. Please initialize with: git init\",\n        }\n\n    # Get current state\n    commit_hash = self._get_current_commit()\n    changed_files = self._get_changed_files()\n\n    # Create stash if there are uncommitted changes\n    stash_ref = None\n    if changed_files:\n        success, output = self._run_git(\n            [\"stash\", \"push\", \"-m\", f\"boring-transaction-{datetime.now().isoformat()}\"]\n        )\n        if success:\n            stash_ref = \"stash@{0}\"\n\n    # Generate transaction ID\n    transaction_id = f\"tx-{datetime.now().strftime('%Y%m%d-%H%M%S')}\"\n\n    # Create transaction state\n    self.current_transaction = TransactionState(\n        transaction_id=transaction_id,\n        started_at=datetime.now(),\n        commit_hash=stash_ref or commit_hash,\n        description=description,\n        files_changed=changed_files,\n        is_active=True,\n    )\n\n    # Save state to file\n    self._save_state()\n\n    return {\n        \"status\": \"success\",\n        \"transaction_id\": transaction_id,\n        \"checkpoint\": commit_hash,\n        \"files_stashed\": len(changed_files) if stash_ref else 0,\n        \"message\": \"Transaction started. Use rollback to revert if needed.\",\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.TransactionManager.commit","title":"<code>commit()</code>","text":"<p>Commit the transaction, keeping all changes.</p> <p>Returns:</p> Type Description <code>dict</code> <p>Result as dict</p> Source code in <code>src/boring/loop/transactions.py</code> <pre><code>def commit(self) -&gt; dict:\n    \"\"\"\n    Commit the transaction, keeping all changes.\n\n    Returns:\n        Result as dict\n    \"\"\"\n    if not self.current_transaction or not self.current_transaction.is_active:\n        return {\"status\": \"error\", \"message\": \"No active transaction to commit\"}\n\n    transaction_id = self.current_transaction.transaction_id\n\n    # Clear the stash if we created one\n    if self.current_transaction.commit_hash.startswith(\"stash\"):\n        self._run_git([\"stash\", \"drop\", \"stash@{0}\"])\n\n    # Mark transaction as complete\n    self.current_transaction.is_active = False\n    self._clear_state()\n\n    return {\n        \"status\": \"success\",\n        \"transaction_id\": transaction_id,\n        \"message\": \"Transaction committed. Changes are permanent.\",\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.TransactionManager.rollback","title":"<code>rollback()</code>","text":"<p>Rollback to the checkpoint, discarding all changes since start().</p> <p>V11.0 Enhancements: - Pre-execution file lock detection - Exponential backoff retry for Windows file locking - Graceful recovery on disk write failures</p> <p>Returns:</p> Type Description <code>dict</code> <p>Result as dict</p> Source code in <code>src/boring/loop/transactions.py</code> <pre><code>def rollback(self) -&gt; dict:\n    \"\"\"\n    Rollback to the checkpoint, discarding all changes since start().\n\n    V11.0 Enhancements:\n    - Pre-execution file lock detection\n    - Exponential backoff retry for Windows file locking\n    - Graceful recovery on disk write failures\n\n    Returns:\n        Result as dict\n    \"\"\"\n    if not self.current_transaction or not self.current_transaction.is_active:\n        return {\"status\": \"error\", \"message\": \"No active transaction to rollback\"}\n\n    transaction_id = self.current_transaction.transaction_id\n    checkpoint = self.current_transaction.commit_hash\n\n    # V11.0: Check for file locks before operation\n    lock_check = self._check_file_locks_before_operation()\n    if lock_check[\"status\"] == \"warning\":\n        logger.warning(\n            f\"Proceeding with rollback despite locked files: {lock_check['locked_files']}\"\n        )\n\n    # Track rollback progress for graceful recovery\n    rollback_state = {\"checkout_done\": False, \"clean_done\": False, \"restore_done\": False}\n\n    try:\n        # Discard all current changes (with retry for file locks)\n        success, output = self._run_git([\"checkout\", \"--\", \".\"], with_retry=True)\n        if not success:\n            return {\n                \"status\": \"error\",\n                \"transaction_id\": transaction_id,\n                \"message\": f\"Failed to checkout: {output}\",\n                \"partial_state\": rollback_state,\n            }\n        rollback_state[\"checkout_done\"] = True\n\n        success, output = self._run_git([\"clean\", \"-fd\"], with_retry=True)\n        if not success:\n            logger.warning(f\"Clean operation had issues: {output}\")\n        rollback_state[\"clean_done\"] = True\n\n        # Restore stashed changes if applicable\n        if checkpoint.startswith(\"stash\"):\n            success, output = self._run_git([\"stash\", \"pop\"], with_retry=True)\n            if not success:\n                # Attempt graceful recovery: try stash apply instead\n                success, output = self._run_git([\"stash\", \"apply\", \"stash@{0}\"])\n                if success:\n                    # Apply worked, drop the stash\n                    self._run_git([\"stash\", \"drop\", \"stash@{0}\"])\n                else:\n                    return {\n                        \"status\": \"partial\",\n                        \"transaction_id\": transaction_id,\n                        \"message\": f\"Rolled back but stash restore failed: {output}. \"\n                        \"Your changes are still in the stash.\",\n                        \"partial_state\": rollback_state,\n                    }\n            rollback_state[\"restore_done\"] = True\n        else:\n            # Hard reset to the commit (with retry)\n            success, output = self._run_git([\"reset\", \"--hard\", checkpoint], with_retry=True)\n            if not success:\n                return {\n                    \"status\": \"partial\",\n                    \"transaction_id\": transaction_id,\n                    \"message\": f\"Reset failed: {output}\",\n                    \"partial_state\": rollback_state,\n                }\n            rollback_state[\"restore_done\"] = True\n\n        # Clear transaction\n        self.current_transaction.is_active = False\n        self._clear_state()\n\n        return {\n            \"status\": \"success\",\n            \"transaction_id\": transaction_id,\n            \"message\": \"Transaction rolled back. All changes since start() have been reverted.\",\n        }\n\n    except Exception as e:\n        logger.error(f\"Rollback encountered an unexpected error: {e}\")\n        return {\n            \"status\": \"error\",\n            \"transaction_id\": transaction_id,\n            \"message\": f\"Rollback failed with error: {e}\",\n            \"partial_state\": rollback_state,\n        }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.TransactionManager.status","title":"<code>status()</code>","text":"<p>Get current transaction status.</p> Source code in <code>src/boring/loop/transactions.py</code> <pre><code>def status(self) -&gt; dict:\n    \"\"\"Get current transaction status.\"\"\"\n    self._load_state()\n\n    if not self.current_transaction or not self.current_transaction.is_active:\n        return {\"status\": \"idle\", \"message\": \"No active transaction\"}\n\n    return {\n        \"status\": \"active\",\n        \"transaction_id\": self.current_transaction.transaction_id,\n        \"started_at\": self.current_transaction.started_at.isoformat(),\n        \"description\": self.current_transaction.description,\n        \"files_at_start\": self.current_transaction.files_changed,\n        \"current_changes\": self._get_changed_files(),\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.TransactionState","title":"<code>TransactionState</code>  <code>dataclass</code>","text":"<p>State of a transaction.</p> Source code in <code>src/boring/loop/transactions.py</code> <pre><code>@dataclass\nclass TransactionState:\n    \"\"\"State of a transaction.\"\"\"\n\n    transaction_id: str\n    started_at: datetime\n    commit_hash: str  # Git commit or stash reference\n    description: str\n    files_changed: list[str] = field(default_factory=list)\n    is_active: bool = True\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ProjectContext","title":"<code>ProjectContext</code>  <code>dataclass</code>","text":"<p>Captured state of a project for context-aware evolution.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>@dataclass\nclass ProjectContext:\n    \"\"\"Captured state of a project for context-aware evolution.\"\"\"\n\n    name: str = \"unknown\"\n    language: str = \"unknown\"\n    frameworks: list[str] = field(default_factory=list)\n    has_git: bool = False\n    last_evolved: str | None = None\n    vibe_score: float = 0.0\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ProjectContextDetector","title":"<code>ProjectContextDetector</code>","text":"<p>Analyzes codebase to detect project context.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>class ProjectContextDetector:\n    \"\"\"Analyzes codebase to detect project context.\"\"\"\n\n    def __init__(self, project_root: Path):\n        self.root = project_root\n\n    def detect(self) -&gt; ProjectContext:\n        \"\"\"Run detection heuristics.\"\"\"\n        ctx = ProjectContext(name=self.root.name)\n\n        # 1. Detection Logic\n        if (self.root / \".git\").exists():\n            ctx.has_git = True\n\n        if (self.root / \"package.json\").exists():\n            ctx.language = \"javascript\"\n            try:\n                pj = json.loads((self.root / \"package.json\").read_text(encoding=\"utf-8\"))\n                deps = {**pj.get(\"dependencies\", {}), **pj.get(\"devDependencies\", {})}\n                if \"next\" in deps:\n                    ctx.frameworks.append(\"nextjs\")\n                if \"react\" in deps:\n                    ctx.frameworks.append(\"react\")\n                if \"typescript\" in deps:\n                    ctx.frameworks.append(\"typescript\")\n            except Exception:\n                pass\n\n        if (self.root / \"pyproject.toml\").exists() or (self.root / \"requirements.txt\").exists():\n            ctx.language = \"python\"\n            # Basic framework check\n            text = \"\"\n            if (self.root / \"pyproject.toml\").exists():\n                text = (self.root / \"pyproject.toml\").read_text(encoding=\"utf-8\")\n            elif (self.root / \"requirements.txt\").exists():\n                text = (self.root / \"requirements.txt\").read_text(encoding=\"utf-8\")\n\n            if \"django\" in text.lower():\n                ctx.frameworks.append(\"django\")\n            if \"flask\" in text.lower():\n                ctx.frameworks.append(\"flask\")\n            if \"fastapi\" in text.lower():\n                ctx.frameworks.append(\"fastapi\")\n\n        return ctx\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.ProjectContextDetector.detect","title":"<code>detect()</code>","text":"<p>Run detection heuristics.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def detect(self) -&gt; ProjectContext:\n    \"\"\"Run detection heuristics.\"\"\"\n    ctx = ProjectContext(name=self.root.name)\n\n    # 1. Detection Logic\n    if (self.root / \".git\").exists():\n        ctx.has_git = True\n\n    if (self.root / \"package.json\").exists():\n        ctx.language = \"javascript\"\n        try:\n            pj = json.loads((self.root / \"package.json\").read_text(encoding=\"utf-8\"))\n            deps = {**pj.get(\"dependencies\", {}), **pj.get(\"devDependencies\", {})}\n            if \"next\" in deps:\n                ctx.frameworks.append(\"nextjs\")\n            if \"react\" in deps:\n                ctx.frameworks.append(\"react\")\n            if \"typescript\" in deps:\n                ctx.frameworks.append(\"typescript\")\n        except Exception:\n            pass\n\n    if (self.root / \"pyproject.toml\").exists() or (self.root / \"requirements.txt\").exists():\n        ctx.language = \"python\"\n        # Basic framework check\n        text = \"\"\n        if (self.root / \"pyproject.toml\").exists():\n            text = (self.root / \"pyproject.toml\").read_text(encoding=\"utf-8\")\n        elif (self.root / \"requirements.txt\").exists():\n            text = (self.root / \"requirements.txt\").read_text(encoding=\"utf-8\")\n\n        if \"django\" in text.lower():\n            ctx.frameworks.append(\"django\")\n        if \"flask\" in text.lower():\n            ctx.frameworks.append(\"flask\")\n        if \"fastapi\" in text.lower():\n            ctx.frameworks.append(\"fastapi\")\n\n    return ctx\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver","title":"<code>WorkflowEvolver</code>","text":"<p>Manages workflow evolution, history, and dreaming.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>class WorkflowEvolver:\n    \"\"\"Manages workflow evolution, history, and dreaming.\"\"\"\n\n    def __init__(self, project_root: Path, log_dir: Path | None = None):\n        self.root = project_root\n        self.log_dir = log_dir or project_root / \"logs\"\n        self.workflows_dir = self.root / \".agent\" / \"workflows\"\n        self.backup_dir = self.workflows_dir / \"_base\"\n        self.history_file = self.workflows_dir / \"_evolution_history.json\"\n\n        # Ensure directories exist\n        self.workflows_dir.mkdir(parents=True, exist_ok=True)\n        self.backup_dir.mkdir(parents=True, exist_ok=True)\n\n    def evolve_workflow(self, name: str, content: str, reason: str) -&gt; dict:\n        \"\"\"Modify an existing workflow with backup and history.\"\"\"\n        target = self.workflows_dir / f\"{name}.md\"\n        if not target.exists():\n            # Try finding it in our templates if missing (Future)\n            return {\"status\": \"ERROR\", \"error\": f\"Workflow {name} not found.\"}\n\n        # Validate content (simple frontmatter check)\n        if not content.strip().startswith(\"---\"):\n            return {\"status\": \"ERROR\", \"error\": \"New content must have YAML frontmatter.\"}\n\n        # Create Backup if first time\n        backup = self.backup_dir / f\"{name}.md\"\n        backup_created = False\n        if not backup.exists():\n            shutil.copy2(target, backup)\n            backup_created = True\n\n        old_content = target.read_text(encoding=\"utf-8\")\n        old_hash = hashlib.sha256(old_content.encode()).hexdigest()\n        new_hash = hashlib.sha256(content.encode()).hexdigest()\n\n        # Save new content\n        target.write_text(content, encoding=\"utf-8\")\n\n        # Log History\n        self._log_evolution(name, old_hash, new_hash, reason)\n\n        return {\n            \"status\": \"SUCCESS\",\n            \"workflow\": name,\n            \"old_hash\": old_hash[:8],\n            \"new_hash\": new_hash[:8],\n            \"backup_created\": backup_created,\n        }\n\n    def reset_workflow(self, name: str) -&gt; dict:\n        \"\"\"Restore a workflow from its backup.\"\"\"\n        backup = self.backup_dir / f\"{name}.md\"\n        target = self.workflows_dir / f\"{name}.md\"\n\n        if not backup.exists():\n            return {\"status\": \"ERROR\", \"error\": \"No backup found to reset from.\"}\n\n        shutil.copy2(backup, target)\n        return {\"status\": \"SUCCESS\", \"message\": f\"Workflow {name} reset to base.\"}\n\n    def backup_all_workflows(self) -&gt; dict:\n        \"\"\"Create backups for all md files in workflows dir.\"\"\"\n        results = {}\n        for wf in self.workflows_dir.glob(\"*.md\"):\n            backup = self.backup_dir / wf.name\n            if not backup.exists():\n                shutil.copy2(wf, backup)\n                results[wf.stem] = True\n            else:\n                results[wf.stem] = False\n        return results\n\n    def get_workflow_status(self, name: str) -&gt; dict:\n        \"\"\"Check if a workflow is evolved and return hashes.\"\"\"\n        target = self.workflows_dir / f\"{name}.md\"\n        backup = self.backup_dir / f\"{name}.md\"\n\n        if not target.exists():\n            return {\"status\": \"ERROR\", \"error\": \"Not found\"}\n\n        current_hash = hashlib.sha256(target.read_text(encoding=\"utf-8\").encode()).hexdigest()\n        base_hash = None\n        if backup.exists():\n            base_hash = hashlib.sha256(backup.read_text(encoding=\"utf-8\").encode()).hexdigest()\n\n        return {\n            \"status\": \"SUCCESS\",\n            \"name\": name,\n            \"is_evolved\": current_hash != base_hash if base_hash else False,\n            \"current_hash\": current_hash[:8],\n            \"base_hash\": base_hash[:8] if base_hash else None,\n        }\n\n    def dream_next_steps(self) -&gt; str:\n        \"\"\"Sage Mode: Propose future roadmaps based on project state.\"\"\"\n        detector = ProjectContextDetector(self.root)\n        ctx = detector.detect()\n\n        # Simplified dreaming logic\n        advice = []\n        if ctx.language == \"python\":\n            advice.append(\n                \"\ud83d\udc0d **Python Power**: Consider adding type hints or a Sphinx/MkDocs setup.\"\n            )\n        if \"react\" in ctx.frameworks:\n            advice.append(\n                \"\u269b\ufe0f **React Pulse**: I see React! Maybe add component tests with Jest/Vitest?\"\n            )\n\n        if not ctx.has_git:\n            advice.append(\n                \"\ud83d\udce6 **Quick Tip**: No Git repo detected. Use `git init` for better version tracking.\"\n            )\n\n        if not advice:\n            advice.append(\"\ud83d\udd2e **Future Vision**: Keep building! The project looks clean.\")\n\n        return \"\\n\".join(advice)\n\n    def learn_from_session(self):\n        \"\"\"Sage Mode: Archive and learn patterns.\"\"\"\n        # Integrates with boring learn in real implementation\n        return \"\ud83e\udde0 Knowledge extracted and saved to Brain.\"\n\n    def _log_evolution(self, name: str, old_h: str, new_h: str, reason: str):\n        history = []\n        if self.history_file.exists():\n            try:\n                history = json.loads(self.history_file.read_text(encoding=\"utf-8\"))\n            except Exception:\n                pass\n\n        history.append(\n            {\n                \"timestamp\": datetime.now().isoformat(),\n                \"workflow\": name,\n                \"old_hash\": old_h,\n                \"new_hash\": new_h,\n                \"reason\": reason,\n            }\n        )\n\n        self.history_file.write_text(json.dumps(history, indent=2), encoding=\"utf-8\")\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver.evolve_workflow","title":"<code>evolve_workflow(name, content, reason)</code>","text":"<p>Modify an existing workflow with backup and history.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def evolve_workflow(self, name: str, content: str, reason: str) -&gt; dict:\n    \"\"\"Modify an existing workflow with backup and history.\"\"\"\n    target = self.workflows_dir / f\"{name}.md\"\n    if not target.exists():\n        # Try finding it in our templates if missing (Future)\n        return {\"status\": \"ERROR\", \"error\": f\"Workflow {name} not found.\"}\n\n    # Validate content (simple frontmatter check)\n    if not content.strip().startswith(\"---\"):\n        return {\"status\": \"ERROR\", \"error\": \"New content must have YAML frontmatter.\"}\n\n    # Create Backup if first time\n    backup = self.backup_dir / f\"{name}.md\"\n    backup_created = False\n    if not backup.exists():\n        shutil.copy2(target, backup)\n        backup_created = True\n\n    old_content = target.read_text(encoding=\"utf-8\")\n    old_hash = hashlib.sha256(old_content.encode()).hexdigest()\n    new_hash = hashlib.sha256(content.encode()).hexdigest()\n\n    # Save new content\n    target.write_text(content, encoding=\"utf-8\")\n\n    # Log History\n    self._log_evolution(name, old_hash, new_hash, reason)\n\n    return {\n        \"status\": \"SUCCESS\",\n        \"workflow\": name,\n        \"old_hash\": old_hash[:8],\n        \"new_hash\": new_hash[:8],\n        \"backup_created\": backup_created,\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver.reset_workflow","title":"<code>reset_workflow(name)</code>","text":"<p>Restore a workflow from its backup.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def reset_workflow(self, name: str) -&gt; dict:\n    \"\"\"Restore a workflow from its backup.\"\"\"\n    backup = self.backup_dir / f\"{name}.md\"\n    target = self.workflows_dir / f\"{name}.md\"\n\n    if not backup.exists():\n        return {\"status\": \"ERROR\", \"error\": \"No backup found to reset from.\"}\n\n    shutil.copy2(backup, target)\n    return {\"status\": \"SUCCESS\", \"message\": f\"Workflow {name} reset to base.\"}\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver.backup_all_workflows","title":"<code>backup_all_workflows()</code>","text":"<p>Create backups for all md files in workflows dir.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def backup_all_workflows(self) -&gt; dict:\n    \"\"\"Create backups for all md files in workflows dir.\"\"\"\n    results = {}\n    for wf in self.workflows_dir.glob(\"*.md\"):\n        backup = self.backup_dir / wf.name\n        if not backup.exists():\n            shutil.copy2(wf, backup)\n            results[wf.stem] = True\n        else:\n            results[wf.stem] = False\n    return results\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver.get_workflow_status","title":"<code>get_workflow_status(name)</code>","text":"<p>Check if a workflow is evolved and return hashes.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def get_workflow_status(self, name: str) -&gt; dict:\n    \"\"\"Check if a workflow is evolved and return hashes.\"\"\"\n    target = self.workflows_dir / f\"{name}.md\"\n    backup = self.backup_dir / f\"{name}.md\"\n\n    if not target.exists():\n        return {\"status\": \"ERROR\", \"error\": \"Not found\"}\n\n    current_hash = hashlib.sha256(target.read_text(encoding=\"utf-8\").encode()).hexdigest()\n    base_hash = None\n    if backup.exists():\n        base_hash = hashlib.sha256(backup.read_text(encoding=\"utf-8\").encode()).hexdigest()\n\n    return {\n        \"status\": \"SUCCESS\",\n        \"name\": name,\n        \"is_evolved\": current_hash != base_hash if base_hash else False,\n        \"current_hash\": current_hash[:8],\n        \"base_hash\": base_hash[:8] if base_hash else None,\n    }\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver.dream_next_steps","title":"<code>dream_next_steps()</code>","text":"<p>Sage Mode: Propose future roadmaps based on project state.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def dream_next_steps(self) -&gt; str:\n    \"\"\"Sage Mode: Propose future roadmaps based on project state.\"\"\"\n    detector = ProjectContextDetector(self.root)\n    ctx = detector.detect()\n\n    # Simplified dreaming logic\n    advice = []\n    if ctx.language == \"python\":\n        advice.append(\n            \"\ud83d\udc0d **Python Power**: Consider adding type hints or a Sphinx/MkDocs setup.\"\n        )\n    if \"react\" in ctx.frameworks:\n        advice.append(\n            \"\u269b\ufe0f **React Pulse**: I see React! Maybe add component tests with Jest/Vitest?\"\n        )\n\n    if not ctx.has_git:\n        advice.append(\n            \"\ud83d\udce6 **Quick Tip**: No Git repo detected. Use `git init` for better version tracking.\"\n        )\n\n    if not advice:\n        advice.append(\"\ud83d\udd2e **Future Vision**: Keep building! The project looks clean.\")\n\n    return \"\\n\".join(advice)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowEvolver.learn_from_session","title":"<code>learn_from_session()</code>","text":"<p>Sage Mode: Archive and learn patterns.</p> Source code in <code>src/boring/loop/workflow_evolver.py</code> <pre><code>def learn_from_session(self):\n    \"\"\"Sage Mode: Archive and learn patterns.\"\"\"\n    # Integrates with boring learn in real implementation\n    return \"\ud83e\udde0 Knowledge extracted and saved to Brain.\"\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowManager","title":"<code>WorkflowManager</code>","text":"<p>Manages the lifecycle of Boring Workflows: - Discovery (Local) - Exporting (Packaging) - Installing (Importing)</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>class WorkflowManager:\n    \"\"\"\n    Manages the lifecycle of Boring Workflows:\n    - Discovery (Local)\n    - Exporting (Packaging)\n    - Installing (Importing)\n    \"\"\"\n\n    def __init__(self, project_root: Path = None):\n        self.project_root = project_root or settings.PROJECT_ROOT\n        self.workflows_dir = self.project_root / \".agent\" / \"workflows\"\n        self.base_dir = self.workflows_dir / \"_base\"\n\n        # Ensure directories exist\n        self.workflows_dir.mkdir(parents=True, exist_ok=True)\n        self.base_dir.mkdir(parents=True, exist_ok=True)\n\n    def _parse_frontmatter(self, content: str) -&gt; dict[str, str]:\n        \"\"\"Robustly parse YAML frontmatter from markdown.\"\"\"\n        metadata = {}\n        # Regex to find frontmatter block\n        match = re.search(r\"^---\\s*\\n(.*?)\\n---\\s*\\n\", content, re.DOTALL)\n        if match:\n            yaml_block = match.group(1)\n            # Simple line-based YAML parser (dependency-free)\n            for line in yaml_block.split(\"\\n\"):\n                if \":\" in line:\n                    key, value = line.split(\":\", 1)\n                    metadata[key.strip()] = value.strip()\n        return metadata\n\n    @retry(stop=stop_after_attempt(3), wait=wait_exponential(multiplier=1, min=2, max=10))\n    def _fetch_url(self, url: str) -&gt; str:\n        \"\"\"Fetch URL content with retry logic.\"\"\"\n        log_status(self.project_root / \"logs\", \"INFO\", f\"Downloading workflow from {url}...\")\n        with urllib.request.urlopen(url, timeout=10) as response:  # nosec B310  # URL is user-supplied and supported\n            return response.read().decode(\"utf-8\")\n\n    def list_local_workflows(self) -&gt; list[str]:\n        \"\"\"List all available .md workflows in the project.\"\"\"\n        if not self.workflows_dir.exists():\n            return []\n        return [f.stem for f in self.workflows_dir.glob(\"*.md\")]\n\n    def export_workflow(self, name: str, author: str = \"user\") -&gt; tuple[Path | None, str]:\n        \"\"\"\n        Package a local workflow into a .bwf.json file.\n\n        Args:\n            name: Workflow name (without .md or .json)\n            author: Author name\n\n        Returns:\n            (Path to created file, Message)\n        \"\"\"\n        source_file = self.workflows_dir / f\"{name}.md\"\n        if not source_file.exists():\n            return None, f\"Workflow '{name}' not found.\"\n\n        try:\n            content = source_file.read_text(encoding=\"utf-8\")\n\n            # Use robust parser\n            fm_data = self._parse_frontmatter(content)\n            description = fm_data.get(\"description\", f\"Exported workflow: {name}\")\n            tags = []\n\n            # Create package\n            metadata = WorkflowMetadata(\n                name=name, version=\"1.0.0\", description=description, author=author, tags=tags\n            )\n\n            package = WorkflowPackage(metadata=metadata, content=content)\n\n            # Write to file\n            output_filename = f\"{name}.bwf.json\"\n            output_path = self.project_root / output_filename\n            output_path.write_text(package.to_json(), encoding=\"utf-8\")\n\n            return output_path, f\"Successfully exported to {output_filename}\"\n\n        except Exception as e:\n            return None, f\"Export failed: {str(e)}\"\n\n    def install_workflow(self, source: str) -&gt; tuple[bool, str]:\n        \"\"\"\n        Install a workflow from a local file path or a URL.\n\n        Args:\n            source: File path (e.g., 'my-flow.bwf.json') or URL\n\n        Returns:\n            (Success boolean, Message)\n        \"\"\"\n        try:\n            pkg_json = \"\"\n\n            # 1. Fetch content\n            if source.startswith((\"http://\", \"https://\")):\n                pkg_json = self._fetch_url(source)\n            else:\n                # Local file\n                path = Path(source)\n                if not path.is_absolute():\n                    path = self.project_root / path\n\n                if not path.exists():\n                    return False, f\"Source file not found: {source}\"\n\n                pkg_json = path.read_text(encoding=\"utf-8\")\n\n            # 2. Parse &amp; Validate\n            try:\n                package = WorkflowPackage.from_json(pkg_json)\n            except json.JSONDecodeError:\n                return False, \"Invalid JSON format.\"\n            except Exception as e:\n                return False, f\"Invalid workflow package structure: {e}\"\n\n            # 3. Install\n            target_name = package.metadata.name\n            target_file = self.workflows_dir / f\"{target_name}.md\"\n\n            # Backup existing if present\n            if target_file.exists():\n                backup_path = self.base_dir / f\"{target_name}.md.bak\"\n                shutil.copy2(target_file, backup_path)\n                log_status(\n                    self.project_root / \"logs\",\n                    \"INFO\",\n                    f\"Backed up existing workflow to {backup_path.name}\",\n                )\n\n            # Write new content\n            target_file.write_text(package.content, encoding=\"utf-8\")\n\n            return (\n                True,\n                f\"Successfully installed workflow '{target_name}' (v{package.metadata.version}) by {package.metadata.author}\",\n            )\n\n        except urllib.error.URLError as e:\n            return False, f\"Network error: {e}\"\n        except Exception as e:\n            return False, f\"Installation failed: {str(e)}\"\n\n    def publish_workflow(self, name: str, token: str, public: bool = True) -&gt; tuple[bool, str]:\n        \"\"\"\n        Publish a workflow to GitHub Gist (The \"Serverless Registry\").\n\n        Args:\n            name: Workflow name\n            token: GitHub Personal Access Token\n            public: Whether to make the Gist public\n\n        Returns:\n            (Success, Message/URL)\n        \"\"\"\n        source_file = self.workflows_dir / f\"{name}.md\"\n        if not source_file.exists():\n            return False, f\"Workflow '{name}' not found.\"\n\n        try:\n            # 1. Export locally first to get JSON content\n            export_path, _ = self.export_workflow(name, \"Anonymous\")\n            if not export_path:\n                return False, \"Failed to package workflow.\"\n\n            content = export_path.read_text(encoding=\"utf-8\")\n            filename = f\"{name}.bwf.json\"\n\n            # 2. Upload to GitHub Gist\n            log_status(self.project_root / \"logs\", \"INFO\", f\"Publishing '{name}' to GitHub Gist...\")\n\n            payload = {\n                \"description\": f\"Boring Workflow: {name}\",\n                \"public\": public,\n                \"files\": {filename: {\"content\": content}},\n            }\n\n            req = urllib.request.Request(\n                \"https://api.github.com/gists\",\n                data=json.dumps(payload).encode(\"utf-8\"),\n                headers={\n                    \"Authorization\": f\"token {token}\",\n                    \"Accept\": \"application/vnd.github.v3+json\",\n                    \"User-Agent\": \"Boring-Agent\",\n                },\n                method=\"POST\",\n            )\n\n            with urllib.request.urlopen(req) as response:  # nosec B310  # URL is trusted GitHub Gist\n                result = json.loads(response.read().decode(\"utf-8\"))\n                result.get(\"html_url\")\n                # Get raw url of the file\n                raw_url = result[\"files\"][filename][\"raw_url\"]\n\n                # Cleanup temporary export file\n                if export_path.exists():\n                    export_path.unlink()\n\n                return True, f\"Scan this to install:\\nboring workflow install {raw_url}\"\n\n        except urllib.error.HTTPError as e:\n            if e.code == 401:\n                return False, \"Authentication failed. Check your GITHUB_TOKEN.\"\n            return False, f\"GitHub API Error: {e.code} {e.reason}\"\n        except Exception as e:\n            return False, f\"Publish failed: {str(e)}\"\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowManager.list_local_workflows","title":"<code>list_local_workflows()</code>","text":"<p>List all available .md workflows in the project.</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>def list_local_workflows(self) -&gt; list[str]:\n    \"\"\"List all available .md workflows in the project.\"\"\"\n    if not self.workflows_dir.exists():\n        return []\n    return [f.stem for f in self.workflows_dir.glob(\"*.md\")]\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowManager.export_workflow","title":"<code>export_workflow(name, author='user')</code>","text":"<p>Package a local workflow into a .bwf.json file.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Workflow name (without .md or .json)</p> required <code>author</code> <code>str</code> <p>Author name</p> <code>'user'</code> <p>Returns:</p> Type Description <code>tuple[Path | None, str]</code> <p>(Path to created file, Message)</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>def export_workflow(self, name: str, author: str = \"user\") -&gt; tuple[Path | None, str]:\n    \"\"\"\n    Package a local workflow into a .bwf.json file.\n\n    Args:\n        name: Workflow name (without .md or .json)\n        author: Author name\n\n    Returns:\n        (Path to created file, Message)\n    \"\"\"\n    source_file = self.workflows_dir / f\"{name}.md\"\n    if not source_file.exists():\n        return None, f\"Workflow '{name}' not found.\"\n\n    try:\n        content = source_file.read_text(encoding=\"utf-8\")\n\n        # Use robust parser\n        fm_data = self._parse_frontmatter(content)\n        description = fm_data.get(\"description\", f\"Exported workflow: {name}\")\n        tags = []\n\n        # Create package\n        metadata = WorkflowMetadata(\n            name=name, version=\"1.0.0\", description=description, author=author, tags=tags\n        )\n\n        package = WorkflowPackage(metadata=metadata, content=content)\n\n        # Write to file\n        output_filename = f\"{name}.bwf.json\"\n        output_path = self.project_root / output_filename\n        output_path.write_text(package.to_json(), encoding=\"utf-8\")\n\n        return output_path, f\"Successfully exported to {output_filename}\"\n\n    except Exception as e:\n        return None, f\"Export failed: {str(e)}\"\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowManager.install_workflow","title":"<code>install_workflow(source)</code>","text":"<p>Install a workflow from a local file path or a URL.</p> <p>Parameters:</p> Name Type Description Default <code>source</code> <code>str</code> <p>File path (e.g., 'my-flow.bwf.json') or URL</p> required <p>Returns:</p> Type Description <code>tuple[bool, str]</code> <p>(Success boolean, Message)</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>def install_workflow(self, source: str) -&gt; tuple[bool, str]:\n    \"\"\"\n    Install a workflow from a local file path or a URL.\n\n    Args:\n        source: File path (e.g., 'my-flow.bwf.json') or URL\n\n    Returns:\n        (Success boolean, Message)\n    \"\"\"\n    try:\n        pkg_json = \"\"\n\n        # 1. Fetch content\n        if source.startswith((\"http://\", \"https://\")):\n            pkg_json = self._fetch_url(source)\n        else:\n            # Local file\n            path = Path(source)\n            if not path.is_absolute():\n                path = self.project_root / path\n\n            if not path.exists():\n                return False, f\"Source file not found: {source}\"\n\n            pkg_json = path.read_text(encoding=\"utf-8\")\n\n        # 2. Parse &amp; Validate\n        try:\n            package = WorkflowPackage.from_json(pkg_json)\n        except json.JSONDecodeError:\n            return False, \"Invalid JSON format.\"\n        except Exception as e:\n            return False, f\"Invalid workflow package structure: {e}\"\n\n        # 3. Install\n        target_name = package.metadata.name\n        target_file = self.workflows_dir / f\"{target_name}.md\"\n\n        # Backup existing if present\n        if target_file.exists():\n            backup_path = self.base_dir / f\"{target_name}.md.bak\"\n            shutil.copy2(target_file, backup_path)\n            log_status(\n                self.project_root / \"logs\",\n                \"INFO\",\n                f\"Backed up existing workflow to {backup_path.name}\",\n            )\n\n        # Write new content\n        target_file.write_text(package.content, encoding=\"utf-8\")\n\n        return (\n            True,\n            f\"Successfully installed workflow '{target_name}' (v{package.metadata.version}) by {package.metadata.author}\",\n        )\n\n    except urllib.error.URLError as e:\n        return False, f\"Network error: {e}\"\n    except Exception as e:\n        return False, f\"Installation failed: {str(e)}\"\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowManager.publish_workflow","title":"<code>publish_workflow(name, token, public=True)</code>","text":"<p>Publish a workflow to GitHub Gist (The \"Serverless Registry\").</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Workflow name</p> required <code>token</code> <code>str</code> <p>GitHub Personal Access Token</p> required <code>public</code> <code>bool</code> <p>Whether to make the Gist public</p> <code>True</code> <p>Returns:</p> Type Description <code>tuple[bool, str]</code> <p>(Success, Message/URL)</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>def publish_workflow(self, name: str, token: str, public: bool = True) -&gt; tuple[bool, str]:\n    \"\"\"\n    Publish a workflow to GitHub Gist (The \"Serverless Registry\").\n\n    Args:\n        name: Workflow name\n        token: GitHub Personal Access Token\n        public: Whether to make the Gist public\n\n    Returns:\n        (Success, Message/URL)\n    \"\"\"\n    source_file = self.workflows_dir / f\"{name}.md\"\n    if not source_file.exists():\n        return False, f\"Workflow '{name}' not found.\"\n\n    try:\n        # 1. Export locally first to get JSON content\n        export_path, _ = self.export_workflow(name, \"Anonymous\")\n        if not export_path:\n            return False, \"Failed to package workflow.\"\n\n        content = export_path.read_text(encoding=\"utf-8\")\n        filename = f\"{name}.bwf.json\"\n\n        # 2. Upload to GitHub Gist\n        log_status(self.project_root / \"logs\", \"INFO\", f\"Publishing '{name}' to GitHub Gist...\")\n\n        payload = {\n            \"description\": f\"Boring Workflow: {name}\",\n            \"public\": public,\n            \"files\": {filename: {\"content\": content}},\n        }\n\n        req = urllib.request.Request(\n            \"https://api.github.com/gists\",\n            data=json.dumps(payload).encode(\"utf-8\"),\n            headers={\n                \"Authorization\": f\"token {token}\",\n                \"Accept\": \"application/vnd.github.v3+json\",\n                \"User-Agent\": \"Boring-Agent\",\n            },\n            method=\"POST\",\n        )\n\n        with urllib.request.urlopen(req) as response:  # nosec B310  # URL is trusted GitHub Gist\n            result = json.loads(response.read().decode(\"utf-8\"))\n            result.get(\"html_url\")\n            # Get raw url of the file\n            raw_url = result[\"files\"][filename][\"raw_url\"]\n\n            # Cleanup temporary export file\n            if export_path.exists():\n                export_path.unlink()\n\n            return True, f\"Scan this to install:\\nboring workflow install {raw_url}\"\n\n    except urllib.error.HTTPError as e:\n        if e.code == 401:\n            return False, \"Authentication failed. Check your GITHUB_TOKEN.\"\n        return False, f\"GitHub API Error: {e.code} {e.reason}\"\n    except Exception as e:\n        return False, f\"Publish failed: {str(e)}\"\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowMetadata","title":"<code>WorkflowMetadata</code>  <code>dataclass</code>","text":"<p>Metadata for a workflow package.</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>@dataclass\nclass WorkflowMetadata:\n    \"\"\"Metadata for a workflow package.\"\"\"\n\n    name: str\n    version: str\n    description: str\n    author: str = \"Anonymous\"\n    created_at: float = 0.0\n    tags: list[str] = None\n\n    def __post_init__(self):\n        if self.tags is None:\n            self.tags = []\n        if self.created_at == 0.0:\n            self.created_at = time.time()\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowPackage","title":"<code>WorkflowPackage</code>  <code>dataclass</code>","text":"<p>Represents a portable workflow package (.bwf.json). Include metadata and the actual markdown content.</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>@dataclass\nclass WorkflowPackage:\n    \"\"\"\n    Represents a portable workflow package (.bwf.json).\n    Include metadata and the actual markdown content.\n    \"\"\"\n\n    metadata: WorkflowMetadata\n    content: str  # The markdown content\n    config: dict[str, Any] | None = None  # Optional extra config\n\n    def to_json(self) -&gt; str:\n        \"\"\"Serialize to JSON string.\"\"\"\n        return json.dumps(asdict(self), indent=2, ensure_ascii=False)\n\n    @classmethod\n    def from_json(cls, json_str: str) -&gt; \"WorkflowPackage\":\n        \"\"\"Deserialize from JSON string with validation.\"\"\"\n        try:\n            data = json.loads(json_str)\n        except json.JSONDecodeError as e:\n            raise ValueError(f\"Invalid JSON: {e}\")\n\n        if not isinstance(data, dict):\n            raise ValueError(\"Workflow package must be a JSON object\")\n\n        # Validate required fields\n        required = [\"metadata\", \"content\"]\n        missing = [f for f in required if f not in data]\n        if missing:\n            raise ValueError(f\"Missing required fields: {', '.join(missing)}\")\n\n        meta_data = data.get(\"metadata\", {})\n        if not isinstance(meta_data, dict):\n            raise ValueError(\"Metadata must be an object\")\n\n        # Filter valid fields for Metadata to avoid crashes on extra keys\n        valid_keys = {\"name\", \"version\", \"description\", \"author\", \"created_at\", \"tags\"}\n        filtered_meta = {k: v for k, v in meta_data.items() if k in valid_keys}\n\n        # Ensure name exists (required by dataclass)\n        if \"name\" not in filtered_meta:\n            raise ValueError(\"Metadata missing 'name'\")\n\n        # Provide defaults for others if missing in filtered (dataclass has defaults for some)\n        if \"version\" not in filtered_meta:\n            filtered_meta[\"version\"] = \"0.0.0\"\n        if \"description\" not in filtered_meta:\n            filtered_meta[\"description\"] = \"No description\"\n\n        metadata = WorkflowMetadata(**filtered_meta)\n        return cls(metadata=metadata, content=data.get(\"content\", \"\"), config=data.get(\"config\"))\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowPackage.to_json","title":"<code>to_json()</code>","text":"<p>Serialize to JSON string.</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>def to_json(self) -&gt; str:\n    \"\"\"Serialize to JSON string.\"\"\"\n    return json.dumps(asdict(self), indent=2, ensure_ascii=False)\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.WorkflowPackage.from_json","title":"<code>from_json(json_str)</code>  <code>classmethod</code>","text":"<p>Deserialize from JSON string with validation.</p> Source code in <code>src/boring/loop/workflow_manager.py</code> <pre><code>@classmethod\ndef from_json(cls, json_str: str) -&gt; \"WorkflowPackage\":\n    \"\"\"Deserialize from JSON string with validation.\"\"\"\n    try:\n        data = json.loads(json_str)\n    except json.JSONDecodeError as e:\n        raise ValueError(f\"Invalid JSON: {e}\")\n\n    if not isinstance(data, dict):\n        raise ValueError(\"Workflow package must be a JSON object\")\n\n    # Validate required fields\n    required = [\"metadata\", \"content\"]\n    missing = [f for f in required if f not in data]\n    if missing:\n        raise ValueError(f\"Missing required fields: {', '.join(missing)}\")\n\n    meta_data = data.get(\"metadata\", {})\n    if not isinstance(meta_data, dict):\n        raise ValueError(\"Metadata must be an object\")\n\n    # Filter valid fields for Metadata to avoid crashes on extra keys\n    valid_keys = {\"name\", \"version\", \"description\", \"author\", \"created_at\", \"tags\"}\n    filtered_meta = {k: v for k, v in meta_data.items() if k in valid_keys}\n\n    # Ensure name exists (required by dataclass)\n    if \"name\" not in filtered_meta:\n        raise ValueError(\"Metadata missing 'name'\")\n\n    # Provide defaults for others if missing in filtered (dataclass has defaults for some)\n    if \"version\" not in filtered_meta:\n        filtered_meta[\"version\"] = \"0.0.0\"\n    if \"description\" not in filtered_meta:\n        filtered_meta[\"description\"] = \"No description\"\n\n    metadata = WorkflowMetadata(**filtered_meta)\n    return cls(metadata=metadata, content=data.get(\"content\", \"\"), config=data.get(\"config\"))\n</code></pre>"},{"location":"api/loop_zh/#boring.loop.create_shadow_guard","title":"<code>create_shadow_guard(project_root, mode='ENABLED', interactive=False)</code>","text":"<p>Create a Shadow Mode guard with sensible defaults.</p> <p>Parameters:</p> Name Type Description Default <code>project_root</code> <code>Path</code> <p>Project root directory</p> required <code>mode</code> <code>str</code> <p>\"DISABLED\", \"ENABLED\", or \"STRICT\"</p> <code>'ENABLED'</code> <code>interactive</code> <code>bool</code> <p>If True, use console UI for approval</p> <code>False</code> <p>Returns:</p> Type Description <code>ShadowModeGuard</code> <p>Configured ShadowModeGuard</p> Source code in <code>src/boring/loop/shadow_mode.py</code> <pre><code>def create_shadow_guard(\n    project_root: Path, mode: str = \"ENABLED\", interactive: bool = False\n) -&gt; ShadowModeGuard:\n    \"\"\"\n    Create a Shadow Mode guard with sensible defaults.\n\n    Args:\n        project_root: Project root directory\n        mode: \"DISABLED\", \"ENABLED\", or \"STRICT\"\n        interactive: If True, use console UI for approval\n\n    Returns:\n        Configured ShadowModeGuard\n    \"\"\"\n    # Parse mode\n    try:\n        level = ShadowModeLevel[mode.upper()]\n    except KeyError:\n        level = ShadowModeLevel.ENABLED\n\n    # Set callback if interactive\n    callback = interactive_approval_ui if interactive else None\n\n    return ShadowModeGuard(project_root=project_root, mode=level, approval_callback=callback)\n</code></pre>"},{"location":"api/mcp_server/","title":"mcp_server","text":""},{"location":"api/mcp_server/#boring.mcp.server","title":"<code>boring.mcp.server</code>","text":"<p>Boring MCP Server - Optimized for Fast Startup (V14.0)</p> <p>Target: &lt; 300ms startup time</p> <p>Optimization Strategies: 1. Lazy imports for heavy modules (chromadb, torch, etc.) 2. Deferred tool registration until first use 3. Profile-based tool filtering to reduce initial load 4. Background pre-warming for optional dependencies</p>"},{"location":"api/mcp_server/#boring.mcp.server.get_server_instance","title":"<code>get_server_instance()</code>","text":"<p>Get the configured FastMCP server instance (raw). Use this for direct access without Smithery decorators (e.g. for http.py).</p> Source code in <code>src/boring/mcp/server.py</code> <pre><code>def get_server_instance():\n    \"\"\"\n    Get the configured FastMCP server instance (raw).\n    Use this for direct access without Smithery decorators (e.g. for http.py).\n    \"\"\"\n    # &lt;!-- CACHEABLE_CONTENT_START --&gt;\n    os.environ[\"BORING_MCP_MODE\"] = \"1\"\n\n    if not instance.MCP_AVAILABLE:\n        raise RuntimeError(\"'fastmcp' not found. Install with: pip install boring-aicoding[mcp]\")\n\n    # Register Resources\n    @instance.mcp.resource(\"boring://logs\")\n    def get_logs() -&gt; str:\n        \"\"\"Get recent server logs.\"\"\"\n        return \"Log access not implemented in stdio mode\"\n\n    # Common Helpers\n    helpers = {\n        \"get_project_root_or_error\": get_project_root_or_error,\n        \"detect_project_root\": detect_project_root,\n        \"configure_runtime\": configure_runtime_for_project,\n    }\n\n    # Unified Tool Registration\n    _register_all_tools(instance.mcp, audited, helpers)\n\n    # &lt;!-- CACHEABLE_CONTENT_END --&gt;\n    return instance.mcp\n</code></pre>"},{"location":"api/mcp_server/#boring.mcp.server.create_server","title":"<code>create_server()</code>","text":"<p>Create and return a FastMCP server instance for Smithery deployment.</p> <p>This function is called by Smithery to get the server instance. It must be decorated with @smithery.server() and return a FastMCP instance.</p> <p>Note: Smithery uses HTTP transport, not stdio.</p> Source code in <code>src/boring/mcp/server.py</code> <pre><code>def create_server():\n    \"\"\"\n    Create and return a FastMCP server instance for Smithery deployment.\n\n    This function is called by Smithery to get the server instance.\n    It must be decorated with @smithery.server() and return a FastMCP instance.\n\n    Note: Smithery uses HTTP transport, not stdio.\n    \"\"\"\n    mcp_instance = get_server_instance()\n\n    if os.environ.get(\"BORING_MCP_DEBUG\") == \"1\":\n        _log_stderr(\"mcp_server_creating\")\n        try:\n            tool_count = len(_get_tools_robust(mcp_instance))\n            _log_stderr(\"mcp_server_registered_tools\", count=tool_count)\n        except Exception as e:\n            logger.debug(\"Failed to count tools in create_server: %s\", e)\n\n    return mcp_instance\n</code></pre>"},{"location":"api/mcp_server/#boring.mcp.server.run_server","title":"<code>run_server()</code>","text":"<p>Main entry point for the Boring MCP server (stdio transport). Used for local CLI execution: boring-mcp</p> Source code in <code>src/boring/mcp/server.py</code> <pre><code>def run_server():\n    \"\"\"\n    Main entry point for the Boring MCP server (stdio transport).\n    Used for local CLI execution: boring-mcp\n    \"\"\"\n    # 0. Set MCP Mode flag to silence tool outputs (e.g. health check)\n    os.environ[\"BORING_MCP_MODE\"] = \"1\"\n\n    if not instance.MCP_AVAILABLE:\n        _log_stderr(\"mcp_fastmcp_missing\")\n        sys.exit(1)\n\n    # 1. Install stdout interceptor immediately\n    interceptors.install_interceptors()\n\n    # Helpers\n    helpers = {\n        \"get_project_root_or_error\": get_project_root_or_error,\n        \"detect_project_root\": detect_project_root,\n        \"configure_runtime\": configure_runtime_for_project,\n    }\n\n    # 2. Unified Tool Registration\n    _register_all_tools(instance.mcp, audited, helpers)\n\n    # 3. Profile &amp; Router Setup\n    profile = get_profile()\n    get_tool_router()\n\n    # V14.0: Hot Reload (Dev Mode)\n    if os.environ.get(\"BORING_MCP_DEV\") == \"1\":\n        try:\n            from .reloader import start_reloader\n\n            start_reloader(instance.mcp)\n        except Exception as e:\n            _log_stderr(\"mcp_hot_reload_warning\", error=str(e))\n\n    # V10.29: Post-registration PROMPT filtering based on profile\n    # FastMCP stores prompts in _prompts dict. We filter it directly.\n    # This prevents context window bloat (52 prompts -&gt; ~5 in LITE)\n    from .tool_profiles import should_register_prompt\n\n    if profile.prompts is not None:  # None means FULL profile (all prompts)\n        # Access internal prompts storage\n        # FastMCP 2.x usually has _prompts on the instance\n        prompts_dict = getattr(instance.mcp, \"_prompts\", None)\n\n        if prompts_dict and isinstance(prompts_dict, dict):\n            original_prompt_count = len(prompts_dict)\n            prompts_to_remove = [\n                name for name in prompts_dict.keys() if not should_register_prompt(name, profile)\n            ]\n\n            for name in prompts_to_remove:\n                del prompts_dict[name]\n\n            filtered_prompt_count = len(prompts_dict)\n            _log_stderr(\n                \"mcp_prompt_filter\",\n                original=original_prompt_count,\n                filtered=filtered_prompt_count,\n            )\n        else:\n            _log_stderr(\"mcp_prompt_filter_failed\")\n\n    # V10.26: Cache all tools BEFORE filtering for boring_discover\n    # FastMCP 2.x uses various internal structures; use robust accessor\n    tools_dict = _get_tools_robust(instance.mcp)\n    instance._all_tools_cache = dict(tools_dict)\n\n    # V10.26: Post-registration tool filtering based on profile\n    # This removes tools not in the profile to reduce context window usage\n    if profile.tools:  # Non-empty means we should filter (empty = FULL profile)\n        # Always keep these essential tools regardless of profile\n        essential_tools = {\"boring\", \"boring_help\"}\n        allowed_tools = set(profile.tools) | essential_tools\n\n        # Get current tools and filter\n        original_count = len(tools_dict)\n        tools_to_remove = [name for name in tools_dict.keys() if name not in allowed_tools]\n        for tool_name in tools_to_remove:\n            if tool_name in tools_dict:\n                del tools_dict[tool_name]\n\n        filtered_count = len(_get_tools_robust(instance.mcp))\n        _log_stderr(\n            \"mcp_profile_filter\",\n            original=original_count,\n            filtered=filtered_count,\n            saved_tokens=(original_count - filtered_count) * 50,\n        )\n\n    # Vibe Coder Tutorial Hook - Show MCP intro on first launch\n    try:\n        from ..tutorial import TutorialManager\n\n        TutorialManager().show_tutorial(\"mcp_intro\")\n    except Exception as e:\n        logger.debug(\"MCP tutorial hint unavailable: %s\", e)\n\n    # 4. Configured logging\n    with _configure_logging():\n        # Always check for optional RAG dependencies at startup\n        import importlib.util\n\n        rag_ok = importlib.util.find_spec(\"chromadb\") and importlib.util.find_spec(\n            \"sentence_transformers\"\n        )\n        if not rag_ok:\n            _log_stderr(\n                \"mcp_rag_missing\",\n                python=sys.executable,\n            )\n\n        # V10.24: Show profile info\n        tool_count = len(profile.tools) if profile.tools else \"all\"\n        _log_stderr(\"mcp_tool_profile\", profile=profile.name, tool_count=tool_count)\n\n        if os.environ.get(\"BORING_MCP_DEBUG\") == \"1\":\n            _log_stderr(\"mcp_server_starting\")\n            _log_stderr(\"mcp_server_python\", python=sys.executable)\n            try:\n                _log_stderr(\n                    \"mcp_server_registered_tools\",\n                    count=len(_get_tools_robust(instance.mcp)),\n                )\n            except Exception as e:\n                logger.debug(\"Failed to count tools in run_server: %s\", e)\n            if rag_ok:\n                _log_stderr(\"mcp_rag_found\")\n\n        # 3. Mark MCP as started (allows JSON-RPC traffic)\n        if hasattr(sys.stdout, \"mark_mcp_started\"):\n            sys.stdout.mark_mcp_started()\n\n        # 4. Run the server\n        # Explicitly use stdio transport\n        try:\n            instance.mcp.run(transport=\"stdio\")\n        except Exception as e:\n            _log_stderr(\"mcp_critical_error\", error=str(e))\n            sys.exit(1)\n</code></pre>"},{"location":"api/mcp_server_zh/","title":"MCP Server API \u53c3\u8003","text":""},{"location":"api/mcp_server_zh/#boring.mcp.server","title":"<code>boring.mcp.server</code>","text":"<p>Boring MCP Server - Optimized for Fast Startup (V14.0)</p> <p>Target: &lt; 300ms startup time</p> <p>Optimization Strategies: 1. Lazy imports for heavy modules (chromadb, torch, etc.) 2. Deferred tool registration until first use 3. Profile-based tool filtering to reduce initial load 4. Background pre-warming for optional dependencies</p>"},{"location":"api/mcp_server_zh/#boring.mcp.server.get_server_instance","title":"<code>get_server_instance()</code>","text":"<p>Get the configured FastMCP server instance (raw). Use this for direct access without Smithery decorators (e.g. for http.py).</p> Source code in <code>src/boring/mcp/server.py</code> <pre><code>def get_server_instance():\n    \"\"\"\n    Get the configured FastMCP server instance (raw).\n    Use this for direct access without Smithery decorators (e.g. for http.py).\n    \"\"\"\n    # &lt;!-- CACHEABLE_CONTENT_START --&gt;\n    os.environ[\"BORING_MCP_MODE\"] = \"1\"\n\n    if not instance.MCP_AVAILABLE:\n        raise RuntimeError(\"'fastmcp' not found. Install with: pip install boring-aicoding[mcp]\")\n\n    # Register Resources\n    @instance.mcp.resource(\"boring://logs\")\n    def get_logs() -&gt; str:\n        \"\"\"Get recent server logs.\"\"\"\n        return \"Log access not implemented in stdio mode\"\n\n    # Common Helpers\n    helpers = {\n        \"get_project_root_or_error\": get_project_root_or_error,\n        \"detect_project_root\": detect_project_root,\n        \"configure_runtime\": configure_runtime_for_project,\n    }\n\n    # Unified Tool Registration\n    _register_all_tools(instance.mcp, audited, helpers)\n\n    # &lt;!-- CACHEABLE_CONTENT_END --&gt;\n    return instance.mcp\n</code></pre>"},{"location":"api/mcp_server_zh/#boring.mcp.server.create_server","title":"<code>create_server()</code>","text":"<p>Create and return a FastMCP server instance for Smithery deployment.</p> <p>This function is called by Smithery to get the server instance. It must be decorated with @smithery.server() and return a FastMCP instance.</p> <p>Note: Smithery uses HTTP transport, not stdio.</p> Source code in <code>src/boring/mcp/server.py</code> <pre><code>def create_server():\n    \"\"\"\n    Create and return a FastMCP server instance for Smithery deployment.\n\n    This function is called by Smithery to get the server instance.\n    It must be decorated with @smithery.server() and return a FastMCP instance.\n\n    Note: Smithery uses HTTP transport, not stdio.\n    \"\"\"\n    mcp_instance = get_server_instance()\n\n    if os.environ.get(\"BORING_MCP_DEBUG\") == \"1\":\n        _log_stderr(\"mcp_server_creating\")\n        try:\n            tool_count = len(_get_tools_robust(mcp_instance))\n            _log_stderr(\"mcp_server_registered_tools\", count=tool_count)\n        except Exception as e:\n            logger.debug(\"Failed to count tools in create_server: %s\", e)\n\n    return mcp_instance\n</code></pre>"},{"location":"api/mcp_server_zh/#boring.mcp.server.run_server","title":"<code>run_server()</code>","text":"<p>Main entry point for the Boring MCP server (stdio transport). Used for local CLI execution: boring-mcp</p> Source code in <code>src/boring/mcp/server.py</code> <pre><code>def run_server():\n    \"\"\"\n    Main entry point for the Boring MCP server (stdio transport).\n    Used for local CLI execution: boring-mcp\n    \"\"\"\n    # 0. Set MCP Mode flag to silence tool outputs (e.g. health check)\n    os.environ[\"BORING_MCP_MODE\"] = \"1\"\n\n    if not instance.MCP_AVAILABLE:\n        _log_stderr(\"mcp_fastmcp_missing\")\n        sys.exit(1)\n\n    # 1. Install stdout interceptor immediately\n    interceptors.install_interceptors()\n\n    # Helpers\n    helpers = {\n        \"get_project_root_or_error\": get_project_root_or_error,\n        \"detect_project_root\": detect_project_root,\n        \"configure_runtime\": configure_runtime_for_project,\n    }\n\n    # 2. Unified Tool Registration\n    _register_all_tools(instance.mcp, audited, helpers)\n\n    # 3. Profile &amp; Router Setup\n    profile = get_profile()\n    get_tool_router()\n\n    # V14.0: Hot Reload (Dev Mode)\n    if os.environ.get(\"BORING_MCP_DEV\") == \"1\":\n        try:\n            from .reloader import start_reloader\n\n            start_reloader(instance.mcp)\n        except Exception as e:\n            _log_stderr(\"mcp_hot_reload_warning\", error=str(e))\n\n    # V10.29: Post-registration PROMPT filtering based on profile\n    # FastMCP stores prompts in _prompts dict. We filter it directly.\n    # This prevents context window bloat (52 prompts -&gt; ~5 in LITE)\n    from .tool_profiles import should_register_prompt\n\n    if profile.prompts is not None:  # None means FULL profile (all prompts)\n        # Access internal prompts storage\n        # FastMCP 2.x usually has _prompts on the instance\n        prompts_dict = getattr(instance.mcp, \"_prompts\", None)\n\n        if prompts_dict and isinstance(prompts_dict, dict):\n            original_prompt_count = len(prompts_dict)\n            prompts_to_remove = [\n                name for name in prompts_dict.keys() if not should_register_prompt(name, profile)\n            ]\n\n            for name in prompts_to_remove:\n                del prompts_dict[name]\n\n            filtered_prompt_count = len(prompts_dict)\n            _log_stderr(\n                \"mcp_prompt_filter\",\n                original=original_prompt_count,\n                filtered=filtered_prompt_count,\n            )\n        else:\n            _log_stderr(\"mcp_prompt_filter_failed\")\n\n    # V10.26: Cache all tools BEFORE filtering for boring_discover\n    # FastMCP 2.x uses various internal structures; use robust accessor\n    tools_dict = _get_tools_robust(instance.mcp)\n    instance._all_tools_cache = dict(tools_dict)\n\n    # V10.26: Post-registration tool filtering based on profile\n    # This removes tools not in the profile to reduce context window usage\n    if profile.tools:  # Non-empty means we should filter (empty = FULL profile)\n        # Always keep these essential tools regardless of profile\n        essential_tools = {\"boring\", \"boring_help\"}\n        allowed_tools = set(profile.tools) | essential_tools\n\n        # Get current tools and filter\n        original_count = len(tools_dict)\n        tools_to_remove = [name for name in tools_dict.keys() if name not in allowed_tools]\n        for tool_name in tools_to_remove:\n            if tool_name in tools_dict:\n                del tools_dict[tool_name]\n\n        filtered_count = len(_get_tools_robust(instance.mcp))\n        _log_stderr(\n            \"mcp_profile_filter\",\n            original=original_count,\n            filtered=filtered_count,\n            saved_tokens=(original_count - filtered_count) * 50,\n        )\n\n    # Vibe Coder Tutorial Hook - Show MCP intro on first launch\n    try:\n        from ..tutorial import TutorialManager\n\n        TutorialManager().show_tutorial(\"mcp_intro\")\n    except Exception as e:\n        logger.debug(\"MCP tutorial hint unavailable: %s\", e)\n\n    # 4. Configured logging\n    with _configure_logging():\n        # Always check for optional RAG dependencies at startup\n        import importlib.util\n\n        rag_ok = importlib.util.find_spec(\"chromadb\") and importlib.util.find_spec(\n            \"sentence_transformers\"\n        )\n        if not rag_ok:\n            _log_stderr(\n                \"mcp_rag_missing\",\n                python=sys.executable,\n            )\n\n        # V10.24: Show profile info\n        tool_count = len(profile.tools) if profile.tools else \"all\"\n        _log_stderr(\"mcp_tool_profile\", profile=profile.name, tool_count=tool_count)\n\n        if os.environ.get(\"BORING_MCP_DEBUG\") == \"1\":\n            _log_stderr(\"mcp_server_starting\")\n            _log_stderr(\"mcp_server_python\", python=sys.executable)\n            try:\n                _log_stderr(\n                    \"mcp_server_registered_tools\",\n                    count=len(_get_tools_robust(instance.mcp)),\n                )\n            except Exception as e:\n                logger.debug(\"Failed to count tools in run_server: %s\", e)\n            if rag_ok:\n                _log_stderr(\"mcp_rag_found\")\n\n        # 3. Mark MCP as started (allows JSON-RPC traffic)\n        if hasattr(sys.stdout, \"mark_mcp_started\"):\n            sys.stdout.mark_mcp_started()\n\n        # 4. Run the server\n        # Explicitly use stdio transport\n        try:\n            instance.mcp.run(transport=\"stdio\")\n        except Exception as e:\n            _log_stderr(\"mcp_critical_error\", error=str(e))\n            sys.exit(1)\n</code></pre>"},{"location":"api/rag/","title":"RAG &amp; Memory API Reference","text":""},{"location":"api/rag/#boring.rag","title":"<code>boring.rag</code>","text":"<p>RAG (Retrieval-Augmented Generation) System for Boring V10.24</p> <p>Components: - CodeIndexer: AST-based Python code chunking - DependencyGraph: Function/class call graph - RAGRetriever: Hybrid search (vector + graph) - HyDEExpander: Query expansion with hypothetical documents (V10.24 NEW) - CrossEncoderReranker: High-precision reranking (V10.24 NEW) - EnsembleReranker: Multi-signal reranking (V10.24 NEW)</p> <p>V10.24 Key Enhancements: - HyDE: Generate hypothetical code for better semantic matching (+15-20% accuracy) - Cross-Encoder Reranking: Fine-grained relevance scoring (+10-15% precision) - Ensemble Reranking: Combine semantic, keyword, structure, and usage signals</p> Usage <p>from boring.rag import RAGRetriever, create_rag_retriever from boring.rag import HyDEExpander, CrossEncoderReranker</p> <p>retriever = create_rag_retriever(project_root) retriever.build_index()</p>"},{"location":"api/rag/#boring.rag--basic-retrieval","title":"Basic retrieval","text":"<p>results = retriever.retrieve(\"authentication error handling\")</p>"},{"location":"api/rag/#boring.rag--with-hyde-expansion","title":"With HyDE expansion","text":"<p>hyde = HyDEExpander() expanded = hyde.expand_query(\"how to handle login errors\") results = retriever.retrieve(expanded.hypothetical_document)</p>"},{"location":"api/rag/#boring.rag--with-cross-encoder-reranking","title":"With cross-encoder reranking","text":"<p>reranker = CrossEncoderReranker() reranked = reranker.rerank(query, [r.chunk.content for r in results], [r.score for r in results])</p>"},{"location":"api/rag/#boring.rag.CodeChunk","title":"<code>CodeChunk</code>  <code>dataclass</code>","text":"<p>A semantic chunk of code for embedding.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>@dataclass\nclass CodeChunk:\n    \"\"\"A semantic chunk of code for embedding.\"\"\"\n\n    chunk_id: str\n    file_path: str\n    chunk_type: str  # \"function\", \"class\", \"imports\", \"module_doc\", \"interface\", \"type_alias\"\n    name: str\n    content: str\n    start_line: int\n    end_line: int\n    dependencies: list[str] = field(default_factory=list)  # Functions/classes this chunk calls\n    parent: str | None = None  # Parent class if method\n    receiver: str | None = None  # Go method receiver type (V11.0)\n    signature: str | None = None  # Function/class signature for quick reference\n    docstring: str | None = None\n</code></pre>"},{"location":"api/rag/#boring.rag.CodeIndexer","title":"<code>CodeIndexer</code>","text":"<p>Parse Python files and extract semantic chunks.</p> <p>Features: - AST-based parsing for accurate structure extraction - Dependency tracking (what each function calls) - Configurable chunk size limits</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>class CodeIndexer:\n    \"\"\"\n    Parse Python files and extract semantic chunks.\n\n    Features:\n    - AST-based parsing for accurate structure extraction\n    - Dependency tracking (what each function calls)\n    - Configurable chunk size limits\n    \"\"\"\n\n    SUPPORTED_EXTENSIONS: set[str] = {\n        \".py\",\n        \".js\",\n        \".jsx\",\n        \".ts\",\n        \".tsx\",\n        \".go\",\n        \".rs\",\n        \".c\",\n        \".cpp\",\n        \".h\",\n        \".hpp\",\n        \".java\",\n        \".md\",\n    }\n\n    IGNORED_DIRS: set[str] = {\n        \".git\",\n        \"__pycache__\",\n        \"node_modules\",\n        \".venv\",\n        \"venv\",\n        \"htmlcov\",\n        \".pytest_cache\",\n        \".mypy_cache\",\n        \".ruff_cache\",\n        \"dist\",\n        \"build\",\n        \"*.egg-info\",\n        \".boring_memory\",\n    }\n\n    IGNORED_DIRS: set[str] = {\n        \".git\",\n        \"__pycache__\",\n        \"node_modules\",\n        \".venv\",\n        \"venv\",\n        \"htmlcov\",\n        \".pytest_cache\",\n        \".mypy_cache\",\n        \".ruff_cache\",\n        \"dist\",\n        \"build\",\n        \"*.egg-info\",\n        \".boring_memory\",\n    }\n\n    def __init__(\n        self, project_root: Path, max_chunk_tokens: int = 500, include_init_files: bool = False\n    ):\n        self.project_root = Path(project_root)\n        self.max_chunk_tokens = max_chunk_tokens\n        self.include_init_files = include_init_files\n        self.stats = IndexStats()\n\n    def get_changed_files(self, since_commit: str) -&gt; list[Path]:\n        \"\"\"\n        Identify files changed between since_commit and HEAD.\n\n        Args:\n            since_commit: Git commit hash to compare against HEAD.\n\n        Returns:\n            List of absolute paths to changed files.\n        \"\"\"\n        try:\n            import subprocess\n\n            # Check if this is a git repo\n            if not (self.project_root / \".git\").exists():\n                return self.collect_files()\n\n            # Run git diff\n            cmd = [\"git\", \"diff\", \"--name-only\", \"--diff-filter=ACMRT\", since_commit, \"HEAD\"]\n            result = subprocess.run(\n                cmd, cwd=self.project_root, capture_output=True, text=True, check=True\n            )\n\n            changed_paths = []\n            for line in result.stdout.splitlines():\n                if not line.strip():\n                    continue\n                full_path = self.project_root / line.strip()\n                if full_path.exists() and not self._should_skip_path(full_path):\n                    changed_paths.append(full_path)\n\n            return changed_paths\n        except Exception as e:\n            logger.warning(f\"Git diff failed, falling back to full scan: {e}\")\n            return self.collect_files()\n\n    def collect_files(self) -&gt; list[Path]:\n        \"\"\"\n        Collect all files that should be indexed.\n\n        Returns:\n            List of Path objects for all indexable files in the project.\n        \"\"\"\n        files = []\n        for root, dirs, filenames in os.walk(self.project_root):\n            # Skip hidden directories and those in ignore list\n            dirs[:] = [d for d in dirs if not self._should_skip_dir(d)]\n\n            for filename in filenames:\n                file_path = Path(root) / filename\n                if self._should_skip_path(file_path):\n                    continue\n                files.append(file_path)\n        return files\n\n    def index_project(self, files_to_index: list[Path] | None = None) -&gt; Iterator[CodeChunk]:\n        \"\"\"\n        Index files in the project.\n\n        Args:\n            files_to_index: Optional list of files to process. If None, scans all.\n\n        Yields:\n            CodeChunk objects for each semantic unit\n        \"\"\"\n        self.stats = IndexStats()\n\n        target_files = files_to_index if files_to_index is not None else self.collect_files()\n\n        for file_path in target_files:\n            try:\n                for chunk in self.index_file(file_path):\n                    self.stats.total_chunks += 1\n                    yield chunk\n            except Exception as e:\n                logger.warning(f\"Failed to index {file_path}: {e}\")\n                self.stats.skipped_files += 1\n\n    def index_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n        \"\"\"\n        Extract chunks from a file (AST for Python, line-based for others).\n        \"\"\"\n        if file_path.suffix.lower() == \".py\":\n            yield from self._index_python_file(file_path)\n        else:\n            yield from self._index_universal_file(file_path)\n\n    def _should_skip_dir(self, dir_name: str) -&gt; bool:\n        \"\"\"Helper to check if a directory should be skipped during walk.\"\"\"\n        return dir_name in self.IGNORED_DIRS or any(\n            dir_name.endswith(ex[1:]) for ex in self.IGNORED_DIRS if ex.startswith(\"*\")\n        )\n\n    def _get_rel_path(self, file_path: Path) -&gt; str:\n        \"\"\"Get relative path from project root.\"\"\"\n        try:\n            rel_path = str(file_path.relative_to(self.project_root))\n            return rel_path.replace(\"\\\\\", \"/\")\n        except ValueError:\n            return str(file_path).replace(\"\\\\\", \"/\")\n\n    def _index_universal_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n        \"\"\"\n        Smart chunking for non-Python files using Tree-sitter or regex fallback.\n        Supports C-style languages (JS, TS, Java, C++, Go, Rust) and Markdown.\n\n        V11.0: Enhanced to capture interface, type_alias, namespace, and Go method receivers.\n        \"\"\"\n        import re\n\n        try:\n            from .parser import TreeSitterParser\n\n            ts_parser = TreeSitterParser()\n        except ImportError:\n            ts_parser = None\n\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n        except Exception as e:\n            logger.debug(f\"Error reading {file_path}: {e}\")\n            return\n\n        rel_path = self._get_rel_path(file_path)\n\n        # 1. Try Tree-sitter Parsing (V11.0 Enhanced)\n        if ts_parser and ts_parser.is_available():\n            ts_chunks = ts_parser.parse_file(file_path)\n            if ts_chunks:\n                for chunk in ts_chunks:\n                    # V11.0: Map parser chunk types to indexer chunk types\n                    chunk_type_map = {\n                        \"function\": \"code_function\",\n                        \"class\": \"code_class\",\n                        \"method\": \"code_method\",\n                        \"interface\": \"code_interface\",\n                        \"type_alias\": \"code_type_alias\",\n                        \"namespace\": \"code_namespace\",\n                    }\n                    mapped_type = chunk_type_map.get(chunk.type, f\"code_{chunk.type}\")\n\n                    yield CodeChunk(\n                        chunk_id=self._make_id(rel_path, f\"{chunk.type}_{chunk.name}\"),\n                        file_path=rel_path,\n                        chunk_type=mapped_type,\n                        name=chunk.name,\n                        content=chunk.content,\n                        start_line=chunk.start_line,\n                        end_line=chunk.end_line,\n                        receiver=getattr(chunk, \"receiver\", None),  # V11.0: Go method receiver\n                    )\n                # If we got chunks, assume we handled the file well enough (for now).\n                # Optionally we could index the gaps as well, but definitions are key.\n                return\n\n        # 2. Fallback to Smart Regex Chunking (if Tree-sitter unavailable or unsupported language)\n        lines = content.splitlines()\n\n        # Regex patterns for common block starts\n        # C/C++/Java/JS/TS/Go/Rust function/class definitions\n        block_start = re.compile(\n            r\"^\\s*(?:export\\s+)?(?:public\\s+|private\\s+|protected\\s+)?(?:async\\s+)?(?:func|function|class|interface|struct|impl|const|let|var|type|def)\\s+([a-zA-Z0-9_]+)\"\n        )\n        # Markdown headers\n        md_header = re.compile(r\"^#{1,3}\\s+(.+)\")\n\n        current_chunk_lines = []\n        current_start_line = 1\n        current_name = file_path.name\n\n        for i, line in enumerate(lines):\n            line_num = i + 1\n\n            # Check for new block start if current chunk is getting big enough\n            # or if we are just starting\n            is_start = block_start.match(line) or md_header.match(line)\n\n            # Decide to yield current chunk\n            # 1. New block detected AND current chunk is substantial (&gt;5 lines)\n            # 2. Current chunk is too big (&gt;50 lines)\n            if (is_start and len(current_chunk_lines) &gt; 5) or len(current_chunk_lines) &gt;= 50:\n                if current_chunk_lines:\n                    # Yield previous chunk\n                    chunk_content = \"\\n\".join(current_chunk_lines)\n                    yield CodeChunk(\n                        chunk_id=self._make_id(rel_path, f\"chunk_{current_start_line}\"),\n                        file_path=rel_path,\n                        chunk_type=\"code_block\",\n                        name=current_name,\n                        content=chunk_content,\n                        start_line=current_start_line,\n                        end_line=line_num - 1,\n                    )\n                    current_chunk_lines = []\n                    current_start_line = line_num\n\n                    if is_start:\n                        current_name = is_start.group(1)\n\n            current_chunk_lines.append(line)\n\n            # If we matched a block start, update name for the *current* accumulating chunk\n            if is_start and len(current_chunk_lines) == 1:\n                current_name = is_start.group(1)\n\n        # Yield remaining\n        if current_chunk_lines:\n            yield CodeChunk(\n                chunk_id=self._make_id(rel_path, f\"chunk_{current_start_line}\"),\n                file_path=rel_path,\n                chunk_type=\"code_block\",\n                name=current_name,\n                content=\"\\n\".join(current_chunk_lines),\n                start_line=current_start_line,\n                end_line=len(lines),\n            )\n\n    def _index_python_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n        \"\"\"Extract chunks from a single Python file using AST.\"\"\"\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n            tree = ast.parse(content)\n        except (SyntaxError, UnicodeDecodeError) as e:\n            logger.debug(f\"Error parsing {file_path}: {e}\")\n            return\n\n        rel_path = self._get_rel_path(file_path)\n        lines = content.splitlines()\n\n        # 1. Module docstring\n        module_doc = ast.get_docstring(tree)\n        if module_doc:\n            yield CodeChunk(\n                chunk_id=self._make_id(rel_path, \"module_doc\"),\n                file_path=rel_path,\n                chunk_type=\"module_doc\",\n                name=file_path.stem,\n                content=module_doc,\n                start_line=1,\n                end_line=self._get_docstring_end_line(tree),\n                docstring=module_doc,\n            )\n\n        # 2. Top-level imports (as a single chunk)\n        imports = self._extract_imports(tree, lines)\n        if imports:\n            yield CodeChunk(\n                chunk_id=self._make_id(rel_path, \"imports\"),\n                file_path=rel_path,\n                chunk_type=\"imports\",\n                name=\"imports\",\n                content=imports[\"content\"],\n                start_line=imports[\"start\"],\n                end_line=imports[\"end\"],\n                dependencies=imports[\"modules\"],\n            )\n\n        # 3. Top-level functions and classes\n        covered_lines = set()\n        if module_doc:\n            covered_lines.update(range(1, self._get_docstring_end_line(tree) + 1))\n        if imports:\n            covered_lines.update(range(imports[\"start\"], imports[\"end\"] + 1))\n\n        for node in ast.iter_child_nodes(tree):\n            if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):\n                self.stats.functions += 1\n                chunk = self._chunk_from_function(node, rel_path, lines)\n                covered_lines.update(range(chunk.start_line, chunk.end_line + 1))\n                yield chunk\n\n            elif isinstance(node, ast.ClassDef):\n                self.stats.classes += 1\n                # Yield class header\n                chunk = self._chunk_from_class(node, rel_path, lines)\n                # Note: header covered lines\n                covered_lines.update(range(chunk.start_line, chunk.end_line + 1))\n                yield chunk\n\n                # Yield methods separately\n                for method in node.body:\n                    if isinstance(method, (ast.FunctionDef, ast.AsyncFunctionDef)):\n                        self.stats.methods += 1\n                        m_chunk = self._chunk_from_function(\n                            method, rel_path, lines, parent=node.name\n                        )\n                        covered_lines.update(range(m_chunk.start_line, m_chunk.end_line + 1))\n                        yield m_chunk\n\n        # 4. Fallback: Capture remaining top-level code as \"script\" chunks\n        script_code_chunks = self._extract_script_chunks(tree, lines, covered_lines, rel_path)\n        for chunk in script_code_chunks:\n            self.stats.script_chunks += 1\n            yield chunk\n\n    def _chunk_from_function(\n        self, node: ast.FunctionDef, file_path: str, lines: list[str], parent: str | None = None\n    ) -&gt; CodeChunk:\n        \"\"\"Create chunk from function definition.\"\"\"\n        start = node.lineno - 1\n        end = node.end_lineno or (start + 1)\n        content = \"\\n\".join(lines[start:end])\n\n        # Extract function signature\n        sig_end = start\n        for i, line in enumerate(lines[start:end]):\n            if \":\" in line and not line.strip().startswith(\"#\"):\n                sig_end = start + i\n                break\n        signature = \"\\n\".join(lines[start : sig_end + 1])\n\n        # Extract docstring\n        docstring = ast.get_docstring(node)\n\n        # Extract function calls (dependencies)\n        deps = self._extract_dependencies(node)\n\n        # Build qualified name\n        name = f\"{parent}.{node.name}\" if parent else node.name\n\n        return CodeChunk(\n            chunk_id=self._make_id(file_path, name),\n            file_path=file_path,\n            chunk_type=\"method\" if parent else \"function\",\n            name=node.name,\n            content=content,\n            start_line=node.lineno,\n            end_line=end,\n            dependencies=deps,\n            parent=parent,\n            signature=signature.strip(),\n            docstring=docstring,\n        )\n\n    def _chunk_from_class(self, node: ast.ClassDef, file_path: str, lines: list[str]) -&gt; CodeChunk:\n        \"\"\"\n        Create chunk from class definition (header + docstring only).\n        Methods are extracted separately.\n        \"\"\"\n        start = node.lineno - 1\n\n        # Find where the class header ends (before first method)\n        class_header_end = start + 1\n        for child in node.body:\n            if isinstance(child, ast.Expr) and isinstance(child.value, ast.Constant):\n                # Docstring\n                class_header_end = child.end_lineno or class_header_end\n            elif isinstance(child, (ast.FunctionDef, ast.AsyncFunctionDef)):\n                # First method - stop before it\n                break\n            elif isinstance(child, ast.Assign):\n                # Class variable\n                class_header_end = child.end_lineno or class_header_end\n\n        content = \"\\n\".join(lines[start:class_header_end])\n\n        # Extract base classes\n        bases = []\n        for base in node.bases:\n            if isinstance(base, ast.Name):\n                bases.append(base.id)\n            elif isinstance(base, ast.Attribute):\n                bases.append(base.attr)\n\n        return CodeChunk(\n            chunk_id=self._make_id(file_path, node.name),\n            file_path=file_path,\n            chunk_type=\"class\",\n            name=node.name,\n            content=content,\n            start_line=node.lineno,\n            end_line=class_header_end,\n            dependencies=bases,  # Base classes as dependencies\n            docstring=ast.get_docstring(node),\n        )\n\n    def _extract_dependencies(self, node: ast.AST) -&gt; list[str]:\n        \"\"\"Extract all function/method calls within a node.\"\"\"\n        deps: set[str] = set()\n\n        for child in ast.walk(node):\n            if isinstance(child, ast.Call):\n                # Direct function call: func()\n                if isinstance(child.func, ast.Name):\n                    deps.add(child.func.id)\n                # Method call: obj.method()\n                elif isinstance(child.func, ast.Attribute):\n                    deps.add(child.func.attr)\n\n        # Filter out builtins and common functions\n        builtins = {\n            \"print\",\n            \"len\",\n            \"str\",\n            \"int\",\n            \"float\",\n            \"list\",\n            \"dict\",\n            \"set\",\n            \"tuple\",\n            \"range\",\n            \"enumerate\",\n            \"zip\",\n            \"map\",\n            \"filter\",\n            \"open\",\n            \"isinstance\",\n            \"issubclass\",\n            \"hasattr\",\n            \"getattr\",\n            \"setattr\",\n        }\n\n        return sorted(deps - builtins)\n\n    def _extract_imports(self, tree: ast.Module, lines: list[str]) -&gt; dict | None:\n        \"\"\"Extract import statements from module.\"\"\"\n        import_nodes = []\n        modules = []\n\n        for node in ast.iter_child_nodes(tree):\n            if isinstance(node, ast.Import):\n                import_nodes.append(node)\n                for alias in node.names:\n                    modules.append(alias.name.split(\".\")[0])\n            elif isinstance(node, ast.ImportFrom):\n                import_nodes.append(node)\n                if node.module:\n                    modules.append(node.module.split(\".\")[0])\n\n        if not import_nodes:\n            return None\n\n        start = min(n.lineno for n in import_nodes)\n        end = max(n.end_lineno or n.lineno for n in import_nodes)\n\n        return {\n            \"content\": \"\\n\".join(lines[start - 1 : end]),\n            \"start\": start,\n            \"end\": end,\n            \"modules\": sorted(set(modules)),\n        }\n\n    def _extract_script_chunks(\n        self, tree: ast.Module, lines: list[str], covered_lines: set[int], rel_path: str\n    ) -&gt; list[CodeChunk]:\n        \"\"\"Extract remaining top-level code as script chunks.\"\"\"\n        script_chunks = []\n\n        # Collect all line ranges for non-indexed top-level nodes\n        nodes_to_index = []\n        for node in ast.iter_child_nodes(tree):\n            if isinstance(\n                node,\n                (ast.FunctionDef, ast.AsyncFunctionDef, ast.ClassDef, ast.Import, ast.ImportFrom),\n            ):\n                continue\n            if isinstance(node, ast.Expr) and isinstance(node.value, ast.Constant):\n                continue\n\n            node_start = node.lineno\n            node_end = node.end_lineno or node_start\n\n            # Ensure it's not a node that was partially covered (rare but safe)\n            if any(line_num in covered_lines for line_num in range(node_start, node_end + 1)):\n                continue\n\n            nodes_to_index.append((node_start, node_end))\n\n        if not nodes_to_index:\n            return []\n\n        # Sort by start line\n        nodes_to_index.sort()\n\n        current_chunk_start = nodes_to_index[0][0]\n        current_chunk_end = nodes_to_index[0][1]\n\n        for i in range(1, len(nodes_to_index)):\n            n_start, n_end = nodes_to_index[i]\n\n            # If the gap between nodes contains any covered lines, we must split\n            has_gap_covered = any(\n                line_num in covered_lines for line_num in range(current_chunk_end + 1, n_start)\n            )\n\n            if not has_gap_covered and n_start &lt;= current_chunk_end + 5:  # Small gap allowed\n                current_chunk_end = n_end\n            else:\n                # Split\n                script_chunks.append(\n                    self._create_script_chunk(\n                        current_chunk_start, current_chunk_end, rel_path, lines\n                    )\n                )\n                current_chunk_start = n_start\n                current_chunk_end = n_end\n\n        # Last one\n        script_chunks.append(\n            self._create_script_chunk(current_chunk_start, current_chunk_end, rel_path, lines)\n        )\n\n        return script_chunks\n\n    def _create_script_chunk(\n        self, start: int, end: int, rel_path: str, lines: list[str]\n    ) -&gt; CodeChunk:\n        \"\"\"Helper to create a script chunk.\"\"\"\n        content = \"\\n\".join(lines[start - 1 : end])\n        return CodeChunk(\n            chunk_id=self._make_id(rel_path, f\"script_{start}\"),\n            file_path=rel_path,\n            chunk_type=\"script\",\n            name=f\"script_L{start}\",\n            content=content,\n            start_line=start,\n            end_line=end,\n            dependencies=[],  # Could extract deps here too if needed\n        )\n\n    def _get_docstring_end_line(self, tree: ast.Module) -&gt; int:\n        \"\"\"Get the ending line of module docstring.\"\"\"\n        if tree.body and isinstance(tree.body[0], ast.Expr):\n            if isinstance(tree.body[0].value, ast.Constant):\n                return tree.body[0].end_lineno or 1\n        return 1\n\n    def _should_skip_path(self, path: Path) -&gt; bool:\n        \"\"\"Check if path should be skipped.\"\"\"\n        parts = path.parts\n        for ignored in self.IGNORED_DIRS:\n            if ignored.startswith(\"*\"):\n                # Glob pattern like *.egg-info\n                if any(p.endswith(ignored[1:]) for p in parts):\n                    return True\n            elif ignored in parts:\n                return True\n        return False\n\n    def _make_id(self, file_path: str, name: str) -&gt; str:\n        \"\"\"Generate unique chunk ID.\"\"\"\n        raw = f\"{file_path}::{name}\"\n        # Use sha256 for ID generation (non-security) to satisfy bandit\n        return hashlib.sha256(raw.encode()).hexdigest()[:12]\n\n    def get_stats(self) -&gt; IndexStats:\n        \"\"\"Return indexing statistics.\"\"\"\n        return self.stats\n</code></pre>"},{"location":"api/rag/#boring.rag.CodeIndexer.get_changed_files","title":"<code>get_changed_files(since_commit)</code>","text":"<p>Identify files changed between since_commit and HEAD.</p> <p>Parameters:</p> Name Type Description Default <code>since_commit</code> <code>str</code> <p>Git commit hash to compare against HEAD.</p> required <p>Returns:</p> Type Description <code>list[Path]</code> <p>List of absolute paths to changed files.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def get_changed_files(self, since_commit: str) -&gt; list[Path]:\n    \"\"\"\n    Identify files changed between since_commit and HEAD.\n\n    Args:\n        since_commit: Git commit hash to compare against HEAD.\n\n    Returns:\n        List of absolute paths to changed files.\n    \"\"\"\n    try:\n        import subprocess\n\n        # Check if this is a git repo\n        if not (self.project_root / \".git\").exists():\n            return self.collect_files()\n\n        # Run git diff\n        cmd = [\"git\", \"diff\", \"--name-only\", \"--diff-filter=ACMRT\", since_commit, \"HEAD\"]\n        result = subprocess.run(\n            cmd, cwd=self.project_root, capture_output=True, text=True, check=True\n        )\n\n        changed_paths = []\n        for line in result.stdout.splitlines():\n            if not line.strip():\n                continue\n            full_path = self.project_root / line.strip()\n            if full_path.exists() and not self._should_skip_path(full_path):\n                changed_paths.append(full_path)\n\n        return changed_paths\n    except Exception as e:\n        logger.warning(f\"Git diff failed, falling back to full scan: {e}\")\n        return self.collect_files()\n</code></pre>"},{"location":"api/rag/#boring.rag.CodeIndexer.collect_files","title":"<code>collect_files()</code>","text":"<p>Collect all files that should be indexed.</p> <p>Returns:</p> Type Description <code>list[Path]</code> <p>List of Path objects for all indexable files in the project.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def collect_files(self) -&gt; list[Path]:\n    \"\"\"\n    Collect all files that should be indexed.\n\n    Returns:\n        List of Path objects for all indexable files in the project.\n    \"\"\"\n    files = []\n    for root, dirs, filenames in os.walk(self.project_root):\n        # Skip hidden directories and those in ignore list\n        dirs[:] = [d for d in dirs if not self._should_skip_dir(d)]\n\n        for filename in filenames:\n            file_path = Path(root) / filename\n            if self._should_skip_path(file_path):\n                continue\n            files.append(file_path)\n    return files\n</code></pre>"},{"location":"api/rag/#boring.rag.CodeIndexer.index_project","title":"<code>index_project(files_to_index=None)</code>","text":"<p>Index files in the project.</p> <p>Parameters:</p> Name Type Description Default <code>files_to_index</code> <code>list[Path] | None</code> <p>Optional list of files to process. If None, scans all.</p> <code>None</code> <p>Yields:</p> Type Description <code>CodeChunk</code> <p>CodeChunk objects for each semantic unit</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def index_project(self, files_to_index: list[Path] | None = None) -&gt; Iterator[CodeChunk]:\n    \"\"\"\n    Index files in the project.\n\n    Args:\n        files_to_index: Optional list of files to process. If None, scans all.\n\n    Yields:\n        CodeChunk objects for each semantic unit\n    \"\"\"\n    self.stats = IndexStats()\n\n    target_files = files_to_index if files_to_index is not None else self.collect_files()\n\n    for file_path in target_files:\n        try:\n            for chunk in self.index_file(file_path):\n                self.stats.total_chunks += 1\n                yield chunk\n        except Exception as e:\n            logger.warning(f\"Failed to index {file_path}: {e}\")\n            self.stats.skipped_files += 1\n</code></pre>"},{"location":"api/rag/#boring.rag.CodeIndexer.index_file","title":"<code>index_file(file_path)</code>","text":"<p>Extract chunks from a file (AST for Python, line-based for others).</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def index_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n    \"\"\"\n    Extract chunks from a file (AST for Python, line-based for others).\n    \"\"\"\n    if file_path.suffix.lower() == \".py\":\n        yield from self._index_python_file(file_path)\n    else:\n        yield from self._index_universal_file(file_path)\n</code></pre>"},{"location":"api/rag/#boring.rag.CodeIndexer.get_stats","title":"<code>get_stats()</code>","text":"<p>Return indexing statistics.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def get_stats(self) -&gt; IndexStats:\n    \"\"\"Return indexing statistics.\"\"\"\n    return self.stats\n</code></pre>"},{"location":"api/rag/#boring.rag.IndexStats","title":"<code>IndexStats</code>  <code>dataclass</code>","text":"<p>Statistics about the indexed codebase.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>@dataclass\nclass IndexStats:\n    \"\"\"Statistics about the indexed codebase.\"\"\"\n\n    total_files: int = 0\n    total_chunks: int = 0\n    functions: int = 0\n    classes: int = 0\n    methods: int = 0\n    script_chunks: int = 0\n    skipped_files: int = 0\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph","title":"<code>DependencyGraph</code>","text":"<p>Bidirectional dependency graph for code chunks.</p> <p>Edges: - callers[A] = {B, C} means B and C call A - callees[A] = {X, Y} means A calls X and Y</p> Usage <p>graph = DependencyGraph(chunks) callers = graph.get_callers(chunk_id)  # Who calls this? impact = graph.get_impact_zone(chunk_id)  # What might break?</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>class DependencyGraph:\n    \"\"\"\n    Bidirectional dependency graph for code chunks.\n\n    Edges:\n    - callers[A] = {B, C} means B and C call A\n    - callees[A] = {X, Y} means A calls X and Y\n\n    Usage:\n        graph = DependencyGraph(chunks)\n        callers = graph.get_callers(chunk_id)  # Who calls this?\n        impact = graph.get_impact_zone(chunk_id)  # What might break?\n    \"\"\"\n\n    def __init__(self, chunks: list[CodeChunk] | None = None):\n        self._chunks: dict[str, CodeChunk] = {}\n        self._name_to_ids: dict[str, set[str]] = defaultdict(set)  # name -&gt; chunk_ids\n\n        # Adjacency lists\n        self.callers: dict[str, set[str]] = defaultdict(set)  # who calls this\n        self.callees: dict[str, set[str]] = defaultdict(set)  # this calls who\n\n        if chunks:\n            self._build(chunks)\n\n    def _build(self, chunks: list[CodeChunk]) -&gt; None:\n        \"\"\"Build the graph from chunks.\"\"\"\n        # First pass: register all chunks by name\n        for chunk in chunks:\n            self._chunks[chunk.chunk_id] = chunk\n\n            # Register by simple name\n            self._name_to_ids[chunk.name].add(chunk.chunk_id)\n\n            # Also register by qualified name (ClassName.method)\n            if chunk.parent:\n                qualified = f\"{chunk.parent}.{chunk.name}\"\n                self._name_to_ids[qualified].add(chunk.chunk_id)\n\n        # Second pass: build edges based on dependencies\n        for chunk in chunks:\n            for dep_name in chunk.dependencies:\n                # Find all chunks matching this dependency name\n                dep_ids = self._name_to_ids.get(dep_name, set())\n\n                for dep_id in dep_ids:\n                    # chunk calls dep\n                    self.callees[chunk.chunk_id].add(dep_id)\n                    self.callers[dep_id].add(chunk.chunk_id)\n\n    def add_chunk(self, chunk: CodeChunk) -&gt; None:\n        \"\"\"Add a single chunk to the graph.\"\"\"\n        self._chunks[chunk.chunk_id] = chunk\n        self._name_to_ids[chunk.name].add(chunk.chunk_id)\n\n        if chunk.parent:\n            qualified = f\"{chunk.parent}.{chunk.name}\"\n            self._name_to_ids[qualified].add(chunk.chunk_id)\n\n        # Build edges for this chunk\n        for dep_name in chunk.dependencies:\n            dep_ids = self._name_to_ids.get(dep_name, set())\n            for dep_id in dep_ids:\n                self.callees[chunk.chunk_id].add(dep_id)\n                self.callers[dep_id].add(chunk.chunk_id)\n\n    def get_chunk(self, chunk_id: str) -&gt; CodeChunk | None:\n        \"\"\"Get chunk by ID.\"\"\"\n        return self._chunks.get(chunk_id)\n\n    def get_chunks_by_name(self, name: str) -&gt; list[CodeChunk]:\n        \"\"\"Get all chunks matching a name.\"\"\"\n        ids = self._name_to_ids.get(name, set())\n        return [self._chunks[cid] for cid in ids if cid in self._chunks]\n\n    def get_callers(self, chunk_id: str) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get all chunks that call this chunk.\n\n        Use case: \"Who depends on this function?\"\n        \"\"\"\n        caller_ids = self.callers.get(chunk_id, set())\n        return [self._chunks[cid] for cid in caller_ids if cid in self._chunks]\n\n    def get_callees(self, chunk_id: str) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get all chunks that this chunk calls.\n\n        Use case: \"What does this function depend on?\"\n        \"\"\"\n        callee_ids = self.callees.get(chunk_id, set())\n        return [self._chunks[cid] for cid in callee_ids if cid in self._chunks]\n\n    def get_related_chunks(\n        self, seed_chunks: list[CodeChunk], depth: int = 1, direction: str = \"both\"\n    ) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get related chunks via BFS on the dependency graph.\n\n        Args:\n            seed_chunks: Starting chunks\n            depth: How many hops to traverse (default 1 per user decision)\n            direction: \"callers\", \"callees\", or \"both\"\n\n        Returns:\n            Related chunks (excluding seeds)\n        \"\"\"\n        visited: set[str] = {c.chunk_id for c in seed_chunks}\n        frontier: set[str] = {c.chunk_id for c in seed_chunks}\n        related: list[CodeChunk] = []\n\n        for _ in range(depth):\n            next_frontier: set[str] = set()\n\n            for chunk_id in frontier:\n                neighbors: set[str] = set()\n\n                if direction in (\"callers\", \"both\"):\n                    neighbors.update(self.callers.get(chunk_id, set()))\n\n                if direction in (\"callees\", \"both\"):\n                    neighbors.update(self.callees.get(chunk_id, set()))\n\n                for neighbor_id in neighbors:\n                    if neighbor_id not in visited:\n                        visited.add(neighbor_id)\n                        next_frontier.add(neighbor_id)\n                        if neighbor_id in self._chunks:\n                            related.append(self._chunks[neighbor_id])\n\n            frontier = next_frontier\n\n            if not frontier:\n                break\n\n        return related\n\n    def get_impact_zone(self, modified_chunk_id: str, depth: int = 1) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get the \"impact zone\" - all chunks that might break if this one changes.\n\n        This returns all CALLERS (things that depend on the modified chunk).\n        If you change a function, its callers might break.\n\n        Args:\n            modified_chunk_id: The chunk being modified\n            depth: How many levels of callers to include (default 1)\n\n        Returns:\n            List of chunks that might be affected\n        \"\"\"\n        if modified_chunk_id not in self._chunks:\n            return []\n\n        seed = [self._chunks[modified_chunk_id]]\n        return self.get_related_chunks(seed, depth=depth, direction=\"callers\")\n\n    def get_context_for_modification(self, modified_chunk_id: str) -&gt; dict[str, list[CodeChunk]]:\n        \"\"\"\n        Get comprehensive context for modifying a chunk.\n\n        Returns dict with:\n        - callers: Who calls this (might break)\n        - callees: What this calls (need to understand interface)\n        - siblings: Other methods in same class\n        \"\"\"\n        result = {\n            \"callers\": self.get_callers(modified_chunk_id),\n            \"callees\": self.get_callees(modified_chunk_id),\n            \"siblings\": [],\n        }\n\n        chunk = self._chunks.get(modified_chunk_id)\n        if chunk and chunk.parent:\n            # Find other methods in the same class\n            for cid, c in self._chunks.items():\n                if c.parent == chunk.parent and cid != modified_chunk_id:\n                    result[\"siblings\"].append(c)\n\n        return result\n\n    def get_stats(self) -&gt; GraphStats:\n        \"\"\"Get graph statistics.\"\"\"\n        total_edges = sum(len(callees) for callees in self.callees.values())\n        total_nodes = len(self._chunks)\n\n        max_callers = max((len(c) for c in self.callers.values()), default=0)\n        max_callees = max((len(c) for c in self.callees.values()), default=0)\n\n        return GraphStats(\n            total_nodes=total_nodes,\n            total_edges=total_edges,\n            avg_connections=total_edges / total_nodes if total_nodes &gt; 0 else 0,\n            max_callers=max_callers,\n            max_callees=max_callees,\n        )\n\n    def find_path(self, from_id: str, to_id: str, max_depth: int = 5) -&gt; list[str] | None:\n        \"\"\"\n        Find shortest path between two chunks (if exists).\n\n        Useful for understanding how two distant pieces of code are connected.\n        \"\"\"\n        if from_id not in self._chunks or to_id not in self._chunks:\n            return None\n\n        if from_id == to_id:\n            return [from_id]\n\n        # BFS\n        visited = {from_id}\n        queue = [(from_id, [from_id])]\n\n        for _ in range(max_depth):\n            if not queue:\n                break\n\n            next_queue = []\n            for current, path in queue:\n                # Check all neighbors (both callers and callees)\n                neighbors = self.callers.get(current, set()) | self.callees.get(current, set())\n\n                for neighbor in neighbors:\n                    if neighbor == to_id:\n                        return path + [neighbor]\n\n                    if neighbor not in visited:\n                        visited.add(neighbor)\n                        next_queue.append((neighbor, path + [neighbor]))\n\n            queue = next_queue\n\n        return None  # No path found within max_depth\n\n    def visualize(self, format: str = \"mermaid\", max_nodes: int = 50) -&gt; str:\n        \"\"\"\n        Generate a visualization of the dependency graph.\n\n        Args:\n            format: Output format (\"mermaid\" or \"json\")\n            max_nodes: Maximum nodes to include (for readability)\n\n        Returns:\n            String representation of the graph\n        \"\"\"\n        if format == \"json\":\n            import json\n\n            nodes = []\n            edges = []\n            for cid, chunk in list(self._chunks.items())[:max_nodes]:\n                nodes.append({\"id\": cid, \"name\": chunk.name, \"type\": chunk.chunk_type})\n                for callee in self.callees.get(cid, set()):\n                    edges.append({\"from\": cid, \"to\": callee})\n            return json.dumps({\"nodes\": nodes, \"edges\": edges}, indent=2)\n\n        # Mermaid format\n        lines = [\"```mermaid\", \"flowchart TD\"]\n\n        # Add nodes (limit for readability)\n        added = set()\n        for cid, chunk in list(self._chunks.items())[:max_nodes]:\n            safe_name = chunk.name.replace('\"', \"'\")\n            lines.append(f'    {cid[:8]}[\"{safe_name}\"]')\n            added.add(cid)\n\n        # Add edges\n        for cid in added:\n            for callee in self.callees.get(cid, set()):\n                if callee in added:\n                    lines.append(f\"    {cid[:8]} --&gt; {callee[:8]}\")\n\n        lines.append(\"```\")\n        return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.add_chunk","title":"<code>add_chunk(chunk)</code>","text":"<p>Add a single chunk to the graph.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def add_chunk(self, chunk: CodeChunk) -&gt; None:\n    \"\"\"Add a single chunk to the graph.\"\"\"\n    self._chunks[chunk.chunk_id] = chunk\n    self._name_to_ids[chunk.name].add(chunk.chunk_id)\n\n    if chunk.parent:\n        qualified = f\"{chunk.parent}.{chunk.name}\"\n        self._name_to_ids[qualified].add(chunk.chunk_id)\n\n    # Build edges for this chunk\n    for dep_name in chunk.dependencies:\n        dep_ids = self._name_to_ids.get(dep_name, set())\n        for dep_id in dep_ids:\n            self.callees[chunk.chunk_id].add(dep_id)\n            self.callers[dep_id].add(chunk.chunk_id)\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_chunk","title":"<code>get_chunk(chunk_id)</code>","text":"<p>Get chunk by ID.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_chunk(self, chunk_id: str) -&gt; CodeChunk | None:\n    \"\"\"Get chunk by ID.\"\"\"\n    return self._chunks.get(chunk_id)\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_chunks_by_name","title":"<code>get_chunks_by_name(name)</code>","text":"<p>Get all chunks matching a name.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_chunks_by_name(self, name: str) -&gt; list[CodeChunk]:\n    \"\"\"Get all chunks matching a name.\"\"\"\n    ids = self._name_to_ids.get(name, set())\n    return [self._chunks[cid] for cid in ids if cid in self._chunks]\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_callers","title":"<code>get_callers(chunk_id)</code>","text":"<p>Get all chunks that call this chunk.</p> <p>Use case: \"Who depends on this function?\"</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_callers(self, chunk_id: str) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get all chunks that call this chunk.\n\n    Use case: \"Who depends on this function?\"\n    \"\"\"\n    caller_ids = self.callers.get(chunk_id, set())\n    return [self._chunks[cid] for cid in caller_ids if cid in self._chunks]\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_callees","title":"<code>get_callees(chunk_id)</code>","text":"<p>Get all chunks that this chunk calls.</p> <p>Use case: \"What does this function depend on?\"</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_callees(self, chunk_id: str) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get all chunks that this chunk calls.\n\n    Use case: \"What does this function depend on?\"\n    \"\"\"\n    callee_ids = self.callees.get(chunk_id, set())\n    return [self._chunks[cid] for cid in callee_ids if cid in self._chunks]\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_related_chunks","title":"<code>get_related_chunks(seed_chunks, depth=1, direction='both')</code>","text":"<p>Get related chunks via BFS on the dependency graph.</p> <p>Parameters:</p> Name Type Description Default <code>seed_chunks</code> <code>list[CodeChunk]</code> <p>Starting chunks</p> required <code>depth</code> <code>int</code> <p>How many hops to traverse (default 1 per user decision)</p> <code>1</code> <code>direction</code> <code>str</code> <p>\"callers\", \"callees\", or \"both\"</p> <code>'both'</code> <p>Returns:</p> Type Description <code>list[CodeChunk]</code> <p>Related chunks (excluding seeds)</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_related_chunks(\n    self, seed_chunks: list[CodeChunk], depth: int = 1, direction: str = \"both\"\n) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get related chunks via BFS on the dependency graph.\n\n    Args:\n        seed_chunks: Starting chunks\n        depth: How many hops to traverse (default 1 per user decision)\n        direction: \"callers\", \"callees\", or \"both\"\n\n    Returns:\n        Related chunks (excluding seeds)\n    \"\"\"\n    visited: set[str] = {c.chunk_id for c in seed_chunks}\n    frontier: set[str] = {c.chunk_id for c in seed_chunks}\n    related: list[CodeChunk] = []\n\n    for _ in range(depth):\n        next_frontier: set[str] = set()\n\n        for chunk_id in frontier:\n            neighbors: set[str] = set()\n\n            if direction in (\"callers\", \"both\"):\n                neighbors.update(self.callers.get(chunk_id, set()))\n\n            if direction in (\"callees\", \"both\"):\n                neighbors.update(self.callees.get(chunk_id, set()))\n\n            for neighbor_id in neighbors:\n                if neighbor_id not in visited:\n                    visited.add(neighbor_id)\n                    next_frontier.add(neighbor_id)\n                    if neighbor_id in self._chunks:\n                        related.append(self._chunks[neighbor_id])\n\n        frontier = next_frontier\n\n        if not frontier:\n            break\n\n    return related\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_impact_zone","title":"<code>get_impact_zone(modified_chunk_id, depth=1)</code>","text":"<p>Get the \"impact zone\" - all chunks that might break if this one changes.</p> <p>This returns all CALLERS (things that depend on the modified chunk). If you change a function, its callers might break.</p> <p>Parameters:</p> Name Type Description Default <code>modified_chunk_id</code> <code>str</code> <p>The chunk being modified</p> required <code>depth</code> <code>int</code> <p>How many levels of callers to include (default 1)</p> <code>1</code> <p>Returns:</p> Type Description <code>list[CodeChunk]</code> <p>List of chunks that might be affected</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_impact_zone(self, modified_chunk_id: str, depth: int = 1) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get the \"impact zone\" - all chunks that might break if this one changes.\n\n    This returns all CALLERS (things that depend on the modified chunk).\n    If you change a function, its callers might break.\n\n    Args:\n        modified_chunk_id: The chunk being modified\n        depth: How many levels of callers to include (default 1)\n\n    Returns:\n        List of chunks that might be affected\n    \"\"\"\n    if modified_chunk_id not in self._chunks:\n        return []\n\n    seed = [self._chunks[modified_chunk_id]]\n    return self.get_related_chunks(seed, depth=depth, direction=\"callers\")\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_context_for_modification","title":"<code>get_context_for_modification(modified_chunk_id)</code>","text":"<p>Get comprehensive context for modifying a chunk.</p> <p>Returns dict with: - callers: Who calls this (might break) - callees: What this calls (need to understand interface) - siblings: Other methods in same class</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_context_for_modification(self, modified_chunk_id: str) -&gt; dict[str, list[CodeChunk]]:\n    \"\"\"\n    Get comprehensive context for modifying a chunk.\n\n    Returns dict with:\n    - callers: Who calls this (might break)\n    - callees: What this calls (need to understand interface)\n    - siblings: Other methods in same class\n    \"\"\"\n    result = {\n        \"callers\": self.get_callers(modified_chunk_id),\n        \"callees\": self.get_callees(modified_chunk_id),\n        \"siblings\": [],\n    }\n\n    chunk = self._chunks.get(modified_chunk_id)\n    if chunk and chunk.parent:\n        # Find other methods in the same class\n        for cid, c in self._chunks.items():\n            if c.parent == chunk.parent and cid != modified_chunk_id:\n                result[\"siblings\"].append(c)\n\n    return result\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.get_stats","title":"<code>get_stats()</code>","text":"<p>Get graph statistics.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_stats(self) -&gt; GraphStats:\n    \"\"\"Get graph statistics.\"\"\"\n    total_edges = sum(len(callees) for callees in self.callees.values())\n    total_nodes = len(self._chunks)\n\n    max_callers = max((len(c) for c in self.callers.values()), default=0)\n    max_callees = max((len(c) for c in self.callees.values()), default=0)\n\n    return GraphStats(\n        total_nodes=total_nodes,\n        total_edges=total_edges,\n        avg_connections=total_edges / total_nodes if total_nodes &gt; 0 else 0,\n        max_callers=max_callers,\n        max_callees=max_callees,\n    )\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.find_path","title":"<code>find_path(from_id, to_id, max_depth=5)</code>","text":"<p>Find shortest path between two chunks (if exists).</p> <p>Useful for understanding how two distant pieces of code are connected.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def find_path(self, from_id: str, to_id: str, max_depth: int = 5) -&gt; list[str] | None:\n    \"\"\"\n    Find shortest path between two chunks (if exists).\n\n    Useful for understanding how two distant pieces of code are connected.\n    \"\"\"\n    if from_id not in self._chunks or to_id not in self._chunks:\n        return None\n\n    if from_id == to_id:\n        return [from_id]\n\n    # BFS\n    visited = {from_id}\n    queue = [(from_id, [from_id])]\n\n    for _ in range(max_depth):\n        if not queue:\n            break\n\n        next_queue = []\n        for current, path in queue:\n            # Check all neighbors (both callers and callees)\n            neighbors = self.callers.get(current, set()) | self.callees.get(current, set())\n\n            for neighbor in neighbors:\n                if neighbor == to_id:\n                    return path + [neighbor]\n\n                if neighbor not in visited:\n                    visited.add(neighbor)\n                    next_queue.append((neighbor, path + [neighbor]))\n\n        queue = next_queue\n\n    return None  # No path found within max_depth\n</code></pre>"},{"location":"api/rag/#boring.rag.DependencyGraph.visualize","title":"<code>visualize(format='mermaid', max_nodes=50)</code>","text":"<p>Generate a visualization of the dependency graph.</p> <p>Parameters:</p> Name Type Description Default <code>format</code> <code>str</code> <p>Output format (\"mermaid\" or \"json\")</p> <code>'mermaid'</code> <code>max_nodes</code> <code>int</code> <p>Maximum nodes to include (for readability)</p> <code>50</code> <p>Returns:</p> Type Description <code>str</code> <p>String representation of the graph</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def visualize(self, format: str = \"mermaid\", max_nodes: int = 50) -&gt; str:\n    \"\"\"\n    Generate a visualization of the dependency graph.\n\n    Args:\n        format: Output format (\"mermaid\" or \"json\")\n        max_nodes: Maximum nodes to include (for readability)\n\n    Returns:\n        String representation of the graph\n    \"\"\"\n    if format == \"json\":\n        import json\n\n        nodes = []\n        edges = []\n        for cid, chunk in list(self._chunks.items())[:max_nodes]:\n            nodes.append({\"id\": cid, \"name\": chunk.name, \"type\": chunk.chunk_type})\n            for callee in self.callees.get(cid, set()):\n                edges.append({\"from\": cid, \"to\": callee})\n        return json.dumps({\"nodes\": nodes, \"edges\": edges}, indent=2)\n\n    # Mermaid format\n    lines = [\"```mermaid\", \"flowchart TD\"]\n\n    # Add nodes (limit for readability)\n    added = set()\n    for cid, chunk in list(self._chunks.items())[:max_nodes]:\n        safe_name = chunk.name.replace('\"', \"'\")\n        lines.append(f'    {cid[:8]}[\"{safe_name}\"]')\n        added.add(cid)\n\n    # Add edges\n    for cid in added:\n        for callee in self.callees.get(cid, set()):\n            if callee in added:\n                lines.append(f\"    {cid[:8]} --&gt; {callee[:8]}\")\n\n    lines.append(\"```\")\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/rag/#boring.rag.GraphStats","title":"<code>GraphStats</code>  <code>dataclass</code>","text":"<p>Statistics about the dependency graph.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>@dataclass\nclass GraphStats:\n    \"\"\"Statistics about the dependency graph.\"\"\"\n\n    total_nodes: int = 0\n    total_edges: int = 0\n    avg_connections: float = 0.0\n    max_callers: int = 0\n    max_callees: int = 0\n</code></pre>"},{"location":"api/rag/#boring.rag.HyDEExpander","title":"<code>HyDEExpander</code>","text":"<p>HyDE (Hypothetical Document Embeddings) for improved code retrieval.</p> <p>Instead of directly embedding the query, we first generate a hypothetical code snippet that would answer the query, then embed that.</p> <p>This improves retrieval because: 1. Hypothetical code is closer in embedding space to actual code 2. Query intent is better captured 3. Technical jargon is made explicit</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>class HyDEExpander:\n    \"\"\"\n    HyDE (Hypothetical Document Embeddings) for improved code retrieval.\n\n    Instead of directly embedding the query, we first generate a hypothetical\n    code snippet that would answer the query, then embed that.\n\n    This improves retrieval because:\n    1. Hypothetical code is closer in embedding space to actual code\n    2. Query intent is better captured\n    3. Technical jargon is made explicit\n    \"\"\"\n\n    # Code templates for different query types\n    TEMPLATES = {\n        \"error\": \"\"\"\n# Hypothetical code that handles this error\ndef handle_{error_type}():\n    try:\n        # Code that might cause: {query}\n        pass\n    except {error_type} as e:\n        # Error handling for: {query}\n        logger.error(f\"Error: {{e}}\")\n        raise\n\"\"\",\n        \"function\": \"\"\"\ndef {function_name}({params}):\n    '''\n    {docstring}\n\n    Implements: {query}\n    '''\n    # Implementation for: {query}\n    pass\n\"\"\",\n        \"class\": \"\"\"\nclass {class_name}:\n    '''\n    {docstring}\n\n    Purpose: {query}\n    '''\n    def __init__(self):\n        # Initialize for: {query}\n        pass\n\"\"\",\n        \"test\": \"\"\"\ndef test_{test_name}():\n    '''Test case for: {query}'''\n    # Arrange\n    # ...setup for {query}\n\n    # Act\n    result = function_under_test()\n\n    # Assert\n    assert result is not None\n\"\"\",\n        \"general\": \"\"\"\n# Code context for: {query}\n# This code handles {keywords}\n\ndef solve_{sanitized_query}():\n    '''\n    Implementation for: {query}\n    Keywords: {keywords}\n    '''\n    pass\n\"\"\",\n    }\n\n    # Query type detection patterns\n    QUERY_PATTERNS = {\n        \"error\": [\"error\", \"exception\", \"fix\", \"bug\", \"crash\", \"fail\", \"issue\"],\n        \"function\": [\"function\", \"method\", \"implement\", \"create\", \"build\", \"write\"],\n        \"class\": [\"class\", \"model\", \"object\", \"entity\", \"schema\"],\n        \"test\": [\"test\", \"spec\", \"assert\", \"verify\", \"check\", \"validate\"],\n    }\n\n    def __init__(self, use_llm: bool = False):\n        \"\"\"\n        Initialize HyDE expander.\n\n        Args:\n            use_llm: If True, use LLM for better hypothetical generation.\n                     If False, use template-based generation (faster, no API).\n        \"\"\"\n        self.use_llm = use_llm\n        self._llm_client = None\n\n    def expand_query(self, query: str) -&gt; HyDEResult:\n        \"\"\"\n        Expand a query into a hypothetical document.\n\n        Args:\n            query: Natural language query or error message\n\n        Returns:\n            HyDEResult with hypothetical code and metadata\n        \"\"\"\n        # Detect query type\n        query_type = self._detect_query_type(query)\n\n        # Extract keywords\n        keywords = self._extract_keywords(query)\n\n        # Generate hypothetical document\n        if self.use_llm and self._get_llm_client():\n            hypothetical_code = self._generate_with_llm(query, query_type)\n        else:\n            hypothetical_code = self._generate_from_template(query, query_type, keywords)\n\n        # Build descriptive document\n        hypothetical_document = f\"\"\"\nQuery: {query}\nType: {query_type}\nKeywords: {\", \".join(keywords)}\n\nHypothetical Implementation:\n{hypothetical_code}\n\"\"\"\n\n        return HyDEResult(\n            original_query=query,\n            hypothetical_document=hypothetical_document,\n            hypothetical_code=hypothetical_code,\n            expanded_keywords=keywords,\n            confidence=0.8 if self.use_llm else 0.6,\n        )\n\n    def _detect_query_type(self, query: str) -&gt; str:\n        \"\"\"Detect the type of query based on keywords.\"\"\"\n        query_lower = query.lower()\n\n        for query_type, patterns in self.QUERY_PATTERNS.items():\n            if any(pattern in query_lower for pattern in patterns):\n                return query_type\n\n        return \"general\"\n\n    def _extract_keywords(self, query: str) -&gt; list[str]:\n        \"\"\"Extract meaningful keywords from query.\"\"\"\n        # Remove common stop words\n        stop_words = {\n            \"the\",\n            \"a\",\n            \"an\",\n            \"is\",\n            \"are\",\n            \"was\",\n            \"were\",\n            \"be\",\n            \"been\",\n            \"being\",\n            \"have\",\n            \"has\",\n            \"had\",\n            \"do\",\n            \"does\",\n            \"did\",\n            \"will\",\n            \"would\",\n            \"could\",\n            \"should\",\n            \"may\",\n            \"might\",\n            \"must\",\n            \"shall\",\n            \"can\",\n            \"need\",\n            \"dare\",\n            \"ought\",\n            \"used\",\n            \"to\",\n            \"of\",\n            \"in\",\n            \"for\",\n            \"on\",\n            \"with\",\n            \"at\",\n            \"by\",\n            \"from\",\n            \"as\",\n            \"into\",\n            \"through\",\n            \"during\",\n            \"before\",\n            \"after\",\n            \"above\",\n            \"below\",\n            \"between\",\n            \"under\",\n            \"again\",\n            \"further\",\n            \"then\",\n            \"once\",\n            \"here\",\n            \"there\",\n            \"when\",\n            \"where\",\n            \"why\",\n            \"how\",\n            \"all\",\n            \"each\",\n            \"few\",\n            \"more\",\n            \"most\",\n            \"other\",\n            \"some\",\n            \"such\",\n            \"no\",\n            \"nor\",\n            \"not\",\n            \"only\",\n            \"own\",\n            \"same\",\n            \"so\",\n            \"than\",\n            \"too\",\n            \"very\",\n            \"just\",\n            \"and\",\n            \"but\",\n            \"if\",\n            \"or\",\n            \"because\",\n            \"until\",\n            \"while\",\n            \"although\",\n            \"though\",\n            \"that\",\n            \"this\",\n            \"these\",\n            \"those\",\n            \"what\",\n            \"which\",\n            \"who\",\n            \"whom\",\n            \"whose\",\n            \"i\",\n            \"me\",\n            \"my\",\n            \"myself\",\n            \"we\",\n            \"our\",\n            \"ours\",\n            \"ourselves\",\n            \"you\",\n            \"your\",\n            \"yours\",\n            \"yourself\",\n            \"yourselves\",\n            \"he\",\n            \"him\",\n            \"his\",\n            \"himself\",\n            \"she\",\n            \"her\",\n            \"hers\",\n            \"herself\",\n            \"it\",\n            \"its\",\n            \"itself\",\n            \"they\",\n            \"them\",\n            \"their\",\n            \"theirs\",\n            \"themselves\",\n        }\n\n        # Tokenize and filter\n        words = query.lower().replace(\"_\", \" \").replace(\"-\", \" \").split()\n        keywords = [\n            word.strip(\".,!?:;\\\"'()[]{}\")\n            for word in words\n            if word not in stop_words and len(word) &gt; 2\n        ]\n\n        # Add common programming terms based on context\n        query_lower = query.lower()\n        if \"authentication\" in query_lower or \"auth\" in query_lower:\n            keywords.extend([\"login\", \"token\", \"session\", \"user\"])\n        if \"database\" in query_lower or \"db\" in query_lower:\n            keywords.extend([\"query\", \"sql\", \"connection\", \"model\"])\n        if \"api\" in query_lower:\n            keywords.extend([\"endpoint\", \"request\", \"response\", \"http\"])\n\n        return list(set(keywords))[:10]  # Limit to 10 keywords\n\n    def _generate_from_template(self, query: str, query_type: str, keywords: list[str]) -&gt; str:\n        \"\"\"Generate hypothetical code from template.\"\"\"\n        template = self.TEMPLATES.get(query_type, self.TEMPLATES[\"general\"])\n\n        # Sanitize query for use in code\n        sanitized = \"_\".join(w.lower() for w in query.split()[:3] if w.isalnum())\n\n        # Extract potential names from query\n        words = [w for w in query.split() if w[0].isupper() or w.endswith(\"Error\")]\n        error_type = next((w for w in words if \"Error\" in w or \"Exception\" in w), \"ValueError\")\n\n        return template.format(\n            query=query,\n            keywords=\", \".join(keywords),\n            sanitized_query=sanitized or \"solution\",\n            error_type=error_type,\n            function_name=sanitized or \"solve\",\n            class_name=sanitized.title().replace(\"_\", \"\") or \"Solution\",\n            test_name=sanitized or \"feature\",\n            params=\"*args, **kwargs\",\n            docstring=query[:100],\n        )\n\n    def _get_llm_client(self):\n        \"\"\"Get LLM client for advanced generation.\"\"\"\n        if self._llm_client is None:\n            try:\n                from boring.gemini_client import get_client\n\n                self._llm_client = get_client()\n            except ImportError:\n                logger.debug(\"LLM client not available for HyDE\")\n                self._llm_client = False\n        return self._llm_client if self._llm_client else None\n\n    def _generate_with_llm(self, query: str, query_type: str) -&gt; str:\n        \"\"\"Generate hypothetical code using LLM.\"\"\"\n        client = self._get_llm_client()\n        if not client:\n            return self._generate_from_template(query, query_type, self._extract_keywords(query))\n\n        prompt = f\"\"\"Generate a short Python code snippet that would be found when searching for:\n\"{query}\"\n\nRequirements:\n- Write realistic code that answers this query\n- Include function/class definitions with docstrings\n- Include relevant comments\n- Keep it under 20 lines\n- Make it look like production code\n\nCode:\n```python\n\"\"\"\n        try:\n            response = client.generate_content(prompt)\n            code = response.text.strip()\n            # Extract code block if present\n            if \"```python\" in code:\n                code = code.split(\"```python\")[1].split(\"```\")[0]\n            elif \"```\" in code:\n                code = code.split(\"```\")[1].split(\"```\")[0]\n            return code\n        except Exception as e:\n            logger.warning(f\"LLM generation failed: {e}\")\n            return self._generate_from_template(query, query_type, self._extract_keywords(query))\n</code></pre>"},{"location":"api/rag/#boring.rag.HyDEExpander.__init__","title":"<code>__init__(use_llm=False)</code>","text":"<p>Initialize HyDE expander.</p> <p>Parameters:</p> Name Type Description Default <code>use_llm</code> <code>bool</code> <p>If True, use LLM for better hypothetical generation.      If False, use template-based generation (faster, no API).</p> <code>False</code> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>def __init__(self, use_llm: bool = False):\n    \"\"\"\n    Initialize HyDE expander.\n\n    Args:\n        use_llm: If True, use LLM for better hypothetical generation.\n                 If False, use template-based generation (faster, no API).\n    \"\"\"\n    self.use_llm = use_llm\n    self._llm_client = None\n</code></pre>"},{"location":"api/rag/#boring.rag.HyDEExpander.expand_query","title":"<code>expand_query(query)</code>","text":"<p>Expand a query into a hypothetical document.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Natural language query or error message</p> required <p>Returns:</p> Type Description <code>HyDEResult</code> <p>HyDEResult with hypothetical code and metadata</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>    def expand_query(self, query: str) -&gt; HyDEResult:\n        \"\"\"\n        Expand a query into a hypothetical document.\n\n        Args:\n            query: Natural language query or error message\n\n        Returns:\n            HyDEResult with hypothetical code and metadata\n        \"\"\"\n        # Detect query type\n        query_type = self._detect_query_type(query)\n\n        # Extract keywords\n        keywords = self._extract_keywords(query)\n\n        # Generate hypothetical document\n        if self.use_llm and self._get_llm_client():\n            hypothetical_code = self._generate_with_llm(query, query_type)\n        else:\n            hypothetical_code = self._generate_from_template(query, query_type, keywords)\n\n        # Build descriptive document\n        hypothetical_document = f\"\"\"\nQuery: {query}\nType: {query_type}\nKeywords: {\", \".join(keywords)}\n\nHypothetical Implementation:\n{hypothetical_code}\n\"\"\"\n\n        return HyDEResult(\n            original_query=query,\n            hypothetical_document=hypothetical_document,\n            hypothetical_code=hypothetical_code,\n            expanded_keywords=keywords,\n            confidence=0.8 if self.use_llm else 0.6,\n        )\n</code></pre>"},{"location":"api/rag/#boring.rag.HyDEResult","title":"<code>HyDEResult</code>  <code>dataclass</code>","text":"<p>Result from HyDE query expansion.</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>@dataclass\nclass HyDEResult:\n    \"\"\"Result from HyDE query expansion.\"\"\"\n\n    original_query: str\n    hypothetical_document: str\n    hypothetical_code: str\n    expanded_keywords: list[str]\n    confidence: float\n</code></pre>"},{"location":"api/rag/#boring.rag.TreeSitterParser","title":"<code>TreeSitterParser</code>","text":"<p>Wrapper for tree-sitter parsing.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>class TreeSitterParser:\n    \"\"\"Wrapper for tree-sitter parsing.\"\"\"\n\n    # File extension to language name mapping\n    EXT_TO_LANG = {\n        \".py\": \"python\",\n        \".js\": \"javascript\",\n        \".jsx\": \"javascript\",\n        \".ts\": \"typescript\",\n        \".tsx\": \"typescript\",\n        \".go\": \"go\",\n        \".java\": \"java\",\n        \".cpp\": \"cpp\",\n        \".cc\": \"cpp\",\n        \".c\": \"c\",\n        \".h\": \"c\",\n        \".rs\": \"rust\",\n        \".rb\": \"ruby\",\n        \".php\": \"php\",\n        \".kt\": \"kotlin\",\n        \".kts\": \"kotlin\",\n        \".scala\": \"scala\",\n    }\n\n    # S-expression queries for extracting definitions\n    # V11.0: Enhanced queries for cross-language precision\n    # V11.1: Fixed JavaScript function_expression -&gt; function node type\n    QUERIES = {\n        \"python\": \"\"\"\n            (function_definition\n                name: (identifier) @name) @function\n            (class_definition\n                name: (identifier) @name) @class\n            (decorated_definition\n                definition: (function_definition\n                    name: (identifier) @name)) @function\n        \"\"\",\n        \"javascript\": \"\"\"\n            ; Regular function declarations\n            (function_declaration\n                name: (identifier) @name) @function\n\n            ; Class declarations\n            (class_declaration\n                name: (identifier) @name) @class\n\n            ; Method definitions in classes\n            (method_definition\n                name: (property_identifier) @name) @method\n\n            ; Arrow functions assigned to variables (React components pattern)\n            (variable_declarator\n                (identifier) @name\n                (arrow_function)) @function\n\n            ; Anonymous function expressions assigned to variables\n            ; Note: In tree-sitter-languages, the node type is 'function' not 'function_expression'\n            (variable_declarator\n                (identifier) @name\n                (function)) @function\n\n            ; Export statement with function declaration\n            (export_statement\n                (function_declaration\n                    name: (identifier) @name)) @function\n\n            ; React.memo, React.forwardRef wrapped components\n            (variable_declarator\n                (identifier) @name\n                (call_expression\n                    (member_expression))) @function\n        \"\"\",\n        \"typescript\": \"\"\"\n            ; Function declarations\n            (function_declaration\n                name: (identifier) @name) @function\n\n            ; Class declarations\n            (class_declaration\n                name: (type_identifier) @name) @class\n\n            ; Interface declarations (V11.0 enhancement)\n            (interface_declaration\n                name: (type_identifier) @name) @interface\n\n            ; Type alias declarations (V11.0 enhancement)\n            (type_alias_declaration\n                name: (type_identifier) @name) @type_alias\n\n            ; Method definitions\n            (method_definition\n                name: (property_identifier) @name) @method\n\n            ; Arrow functions (including React FC components)\n            (variable_declarator\n                name: (identifier) @name\n                value: (arrow_function)) @function\n\n            ; Typed arrow functions: const Component: React.FC = () =&gt; {}\n            (lexical_declaration\n                (variable_declarator\n                    name: (identifier) @name\n                    type: (type_annotation)\n                    value: (arrow_function))) @function\n\n            ; Export default function\n            (export_statement\n                declaration: (function_declaration\n                    name: (identifier) @name)) @function\n\n            ; Enum declarations\n            (enum_declaration\n                name: (identifier) @name) @class\n\n            ; Abstract class\n            (abstract_class_declaration\n                name: (type_identifier) @name) @class\n        \"\"\",\n        \"go\": \"\"\"\n            ; Regular function declarations\n            (function_declaration\n                name: (identifier) @name) @function\n\n            ; Method declarations with receiver (V11.0 enhancement)\n            ; Captures both the method name and receiver type\n            (method_declaration\n                receiver: (parameter_list\n                    (parameter_declaration\n                        type: (_) @receiver_type))\n                name: (field_identifier) @name) @method\n\n            ; Type declarations (struct, interface)\n            (type_declaration\n                (type_spec\n                    name: (type_identifier) @name)) @class\n\n            ; Interface type specifically\n            (type_declaration\n                (type_spec\n                    name: (type_identifier) @name\n                    type: (interface_type))) @interface\n        \"\"\",\n        \"java\": \"\"\"\n            (method_declaration\n                name: (identifier) @name) @function\n            (class_declaration\n                name: (identifier) @name) @class\n            (interface_declaration\n                name: (identifier) @name) @interface\n            (constructor_declaration\n                name: (identifier) @name) @function\n            (enum_declaration\n                name: (identifier) @name) @class\n            (annotation_type_declaration\n                name: (identifier) @name) @class\n        \"\"\",\n        \"cpp\": \"\"\"\n            ; Function definitions\n            (function_definition\n                declarator: (function_declarator\n                    declarator: (identifier) @name)) @function\n\n            ; Class specifiers\n            (class_specifier\n                name: (type_identifier) @name) @class\n\n            ; Struct specifiers\n            (struct_specifier\n                name: (type_identifier) @name) @class\n\n            ; Namespace definitions (V11.0 enhancement)\n            (namespace_definition\n                name: (namespace_identifier) @name) @namespace\n\n            ; Template declarations (V11.0 enhancement)\n            (template_declaration\n                (function_definition\n                    declarator: (function_declarator\n                        declarator: (identifier) @name))) @function\n\n            ; Template class\n            (template_declaration\n                (class_specifier\n                    name: (type_identifier) @name)) @class\n        \"\"\",\n        \"c\": \"\"\"\n            (function_definition\n                declarator: (function_declarator\n                    declarator: (identifier) @name)) @function\n            (struct_specifier\n                name: (type_identifier) @name) @class\n            (enum_specifier\n                name: (type_identifier) @name) @class\n            (type_definition\n                declarator: (type_identifier) @name) @type_alias\n        \"\"\",\n        \"rust\": \"\"\"\n            (function_item\n                name: (identifier) @name) @function\n            (impl_item\n                type: (type_identifier) @name) @class\n            (struct_item\n                name: (type_identifier) @name) @class\n            (enum_item\n                name: (type_identifier) @name) @class\n            (trait_item\n                name: (type_identifier) @name) @interface\n            (type_item\n                name: (type_identifier) @name) @type_alias\n            (mod_item\n                name: (identifier) @name) @namespace\n        \"\"\",\n        \"ruby\": \"\"\"\n            (method\n                name: (identifier) @name) @function\n            (class\n                name: (constant) @name) @class\n            (module\n                name: (constant) @name) @class\n            (singleton_method\n                name: (identifier) @name) @function\n        \"\"\",\n        \"php\": \"\"\"\n            (function_definition\n                name: (name) @name) @function\n            (class_declaration\n                name: (name) @name) @class\n            (method_declaration\n                name: (name) @name) @method\n            (interface_declaration\n                name: (name) @name) @interface\n            (trait_declaration\n                name: (name) @name) @class\n        \"\"\",\n        \"kotlin\": \"\"\"\n            (class_declaration\n                (type_identifier) @name) @class\n            (object_declaration\n                (type_identifier) @name) @class\n            (function_declaration\n                (simple_identifier) @name) @function\n            (property_declaration\n                (variable_declaration\n                    (simple_identifier) @name)) @method\n        \"\"\",\n        \"scala\": \"\"\"\n            (class_definition\n                name: (identifier) @name) @class\n            (object_definition\n                name: (identifier) @name) @class\n            (trait_definition\n                name: (identifier) @name) @interface\n            (function_definition\n                name: (identifier) @name) @function\n        \"\"\",\n    }\n\n    def __init__(self):\n        self.parsers = {}\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if tree-sitter is available.\"\"\"\n        return HAS_TREE_SITTER\n\n    def get_language_for_file(self, file_path: Path) -&gt; str | None:\n        \"\"\"Determine language from file extension.\"\"\"\n        return self.EXT_TO_LANG.get(file_path.suffix.lower())\n\n    def parse_file(self, file_path: Path) -&gt; list[ParsedChunk]:\n        \"\"\"\n        Parse a file and extract semantic chunks.\n        Returns empty list if language not supported or parser fails.\n        \"\"\"\n        if not HAS_TREE_SITTER:\n            return []\n\n        lang_name = self.get_language_for_file(file_path)\n        if not lang_name:\n            return []\n\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n        except Exception as e:\n            logger.warning(f\"Failed to read file {file_path}: {e}\")\n            return []\n\n        return self.extract_chunks(content, lang_name)\n\n    def extract_chunks(self, code: str, language: str) -&gt; list[ParsedChunk]:\n        \"\"\"\n        Extract chunks from code string using tree-sitter.\n\n        V11.0: Enhanced to handle interface, type_alias, namespace, and Go method receivers.\n        \"\"\"\n        if not HAS_TREE_SITTER:\n            return []\n\n        try:\n            # Lazy load parser\n            if language not in self.parsers:\n                self.parsers[language] = get_parser(language)\n\n            parser = self.parsers[language]\n            tree = parser.parse(bytes(code, \"utf8\"))\n\n            query_str = self.QUERIES.get(language)\n            if not query_str:\n                return []\n\n            ts_language = get_language(language)\n            query = ts_language.query(query_str)\n\n            chunk_types = {\n                \"function\",\n                \"class\",\n                \"method\",\n                \"interface\",\n                \"type_alias\",\n                \"namespace\",\n            }\n\n            # V11.1: Type specificity ranking - more specific types take precedence\n            # Higher number = more specific\n            type_specificity = {\n                \"class\": 1,\n                \"function\": 2,\n                \"method\": 3,\n                \"namespace\": 4,\n                \"type_alias\": 5,\n                \"interface\": 6,  # interface is more specific than class for Go\n            }\n\n            result = []\n            matches = query.matches(tree.root_node)\n\n            # Map of node_id -&gt; dict to avoid duplicates if multiple queries hit the same node\n            processed_chunks = {}\n\n            for _match_id, captures in matches:\n                # In 0.21.3, captures is a dict mapping capture_name -&gt; Node\n                # (or list of Nodes depending on configuration, but usually Node for matches)\n\n                # Identify the primary chunk node in this match\n                chunk_node = None\n                chunk_type = None\n                for c_name, node in captures.items():\n                    if c_name in chunk_types:\n                        chunk_node = node\n                        chunk_type = c_name\n                        break\n\n                if not chunk_node:\n                    continue\n\n                # Get or create the chunk entry\n                node_id = chunk_node.id\n\n                # V11.1: Check if this type is more specific than existing one\n                if node_id in processed_chunks:\n                    existing_type = processed_chunks[node_id][\"type\"]\n                    existing_specificity = type_specificity.get(existing_type, 0)\n                    new_specificity = type_specificity.get(chunk_type, 0)\n                    if new_specificity &gt; existing_specificity:\n                        # Update to more specific type\n                        processed_chunks[node_id][\"type\"] = chunk_type\n                else:\n                    start_line = chunk_node.start_point[0] + 1\n                    end_line = chunk_node.end_point[0] + 1\n                    content = chunk_node.text.decode(\"utf8\")\n                    lines = content.split(\"\\n\")\n                    signature = lines[0] if lines else \"\"\n\n                    # Capture signature spanning multiple lines\n                    if \"{\" not in signature and len(lines) &gt; 1:\n                        for i, line in enumerate(lines[1:], 1):\n                            signature += \"\\n\" + line\n                            if \"{\" in line or i &gt;= 3:\n                                break\n\n                    processed_chunks[node_id] = {\n                        \"type\": chunk_type,\n                        \"name\": \"anonymous\",\n                        \"start_line\": start_line,\n                        \"end_line\": end_line,\n                        \"content\": content,\n                        \"signature\": signature.strip(),\n                        \"receiver\": None,\n                    }\n\n                # Extract attributes from the same match\n                chunk_data = processed_chunks[node_id]\n\n                # Defensive capture name lookup\n                capture_names = {\n                    query.capture_names[k]: node\n                    for k, node in captures.items()\n                    if isinstance(k, int)\n                }\n                capture_names.update(\n                    {k: node for k, node in captures.items() if isinstance(k, str)}\n                )\n\n                if \"name\" in capture_names:\n                    name_node = capture_names[\"name\"]\n                    chunk_data[\"name\"] = name_node.text.decode(\"utf8\")\n\n                if \"receiver_type\" in capture_names:\n                    recv_node = capture_names[\"receiver_type\"]\n                    recv_text = recv_node.text.decode(\"utf8\")\n                    if recv_text.startswith(\"*\"):\n                        recv_text = recv_text[1:]\n                    chunk_data[\"receiver\"] = recv_text\n\n            # Sort and return\n            for data in processed_chunks.values():\n                result.append(ParsedChunk(**data))\n\n            return sorted(result, key=lambda x: x.start_line)\n\n        except Exception as e:\n            logger.error(f\"Tree-sitter match failure for {language}: {e}\")\n            return []\n\n    def validate_language_support(self, language: str, test_code: str) -&gt; dict:\n        \"\"\"\n        Validate that Tree-sitter queries work correctly for a given language.\n\n        V11.0: Structured testing for cross-language precision.\n\n        Args:\n            language: Language name (e.g., 'go', 'typescript')\n            test_code: Sample code to parse\n\n        Returns:\n            Dict with validation results\n        \"\"\"\n        if not HAS_TREE_SITTER:\n            return {\"success\": False, \"error\": \"tree-sitter not available\"}\n\n        if language not in self.QUERIES:\n            return {\"success\": False, \"error\": f\"No query defined for language: {language}\"}\n\n        try:\n            chunks = self.extract_chunks(test_code, language)\n            return {\n                \"success\": True,\n                \"language\": language,\n                \"chunks_found\": len(chunks),\n                \"chunk_types\": list({c.type for c in chunks}),\n                \"chunk_names\": [c.name for c in chunks],\n                \"receivers\": [c.receiver for c in chunks if c.receiver],\n            }\n        except Exception as e:\n            return {\"success\": False, \"error\": str(e)}\n</code></pre>"},{"location":"api/rag/#boring.rag.TreeSitterParser.is_available","title":"<code>is_available()</code>","text":"<p>Check if tree-sitter is available.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def is_available(self) -&gt; bool:\n    \"\"\"Check if tree-sitter is available.\"\"\"\n    return HAS_TREE_SITTER\n</code></pre>"},{"location":"api/rag/#boring.rag.TreeSitterParser.get_language_for_file","title":"<code>get_language_for_file(file_path)</code>","text":"<p>Determine language from file extension.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def get_language_for_file(self, file_path: Path) -&gt; str | None:\n    \"\"\"Determine language from file extension.\"\"\"\n    return self.EXT_TO_LANG.get(file_path.suffix.lower())\n</code></pre>"},{"location":"api/rag/#boring.rag.TreeSitterParser.parse_file","title":"<code>parse_file(file_path)</code>","text":"<p>Parse a file and extract semantic chunks. Returns empty list if language not supported or parser fails.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def parse_file(self, file_path: Path) -&gt; list[ParsedChunk]:\n    \"\"\"\n    Parse a file and extract semantic chunks.\n    Returns empty list if language not supported or parser fails.\n    \"\"\"\n    if not HAS_TREE_SITTER:\n        return []\n\n    lang_name = self.get_language_for_file(file_path)\n    if not lang_name:\n        return []\n\n    try:\n        content = file_path.read_text(encoding=\"utf-8\")\n    except Exception as e:\n        logger.warning(f\"Failed to read file {file_path}: {e}\")\n        return []\n\n    return self.extract_chunks(content, lang_name)\n</code></pre>"},{"location":"api/rag/#boring.rag.TreeSitterParser.extract_chunks","title":"<code>extract_chunks(code, language)</code>","text":"<p>Extract chunks from code string using tree-sitter.</p> <p>V11.0: Enhanced to handle interface, type_alias, namespace, and Go method receivers.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def extract_chunks(self, code: str, language: str) -&gt; list[ParsedChunk]:\n    \"\"\"\n    Extract chunks from code string using tree-sitter.\n\n    V11.0: Enhanced to handle interface, type_alias, namespace, and Go method receivers.\n    \"\"\"\n    if not HAS_TREE_SITTER:\n        return []\n\n    try:\n        # Lazy load parser\n        if language not in self.parsers:\n            self.parsers[language] = get_parser(language)\n\n        parser = self.parsers[language]\n        tree = parser.parse(bytes(code, \"utf8\"))\n\n        query_str = self.QUERIES.get(language)\n        if not query_str:\n            return []\n\n        ts_language = get_language(language)\n        query = ts_language.query(query_str)\n\n        chunk_types = {\n            \"function\",\n            \"class\",\n            \"method\",\n            \"interface\",\n            \"type_alias\",\n            \"namespace\",\n        }\n\n        # V11.1: Type specificity ranking - more specific types take precedence\n        # Higher number = more specific\n        type_specificity = {\n            \"class\": 1,\n            \"function\": 2,\n            \"method\": 3,\n            \"namespace\": 4,\n            \"type_alias\": 5,\n            \"interface\": 6,  # interface is more specific than class for Go\n        }\n\n        result = []\n        matches = query.matches(tree.root_node)\n\n        # Map of node_id -&gt; dict to avoid duplicates if multiple queries hit the same node\n        processed_chunks = {}\n\n        for _match_id, captures in matches:\n            # In 0.21.3, captures is a dict mapping capture_name -&gt; Node\n            # (or list of Nodes depending on configuration, but usually Node for matches)\n\n            # Identify the primary chunk node in this match\n            chunk_node = None\n            chunk_type = None\n            for c_name, node in captures.items():\n                if c_name in chunk_types:\n                    chunk_node = node\n                    chunk_type = c_name\n                    break\n\n            if not chunk_node:\n                continue\n\n            # Get or create the chunk entry\n            node_id = chunk_node.id\n\n            # V11.1: Check if this type is more specific than existing one\n            if node_id in processed_chunks:\n                existing_type = processed_chunks[node_id][\"type\"]\n                existing_specificity = type_specificity.get(existing_type, 0)\n                new_specificity = type_specificity.get(chunk_type, 0)\n                if new_specificity &gt; existing_specificity:\n                    # Update to more specific type\n                    processed_chunks[node_id][\"type\"] = chunk_type\n            else:\n                start_line = chunk_node.start_point[0] + 1\n                end_line = chunk_node.end_point[0] + 1\n                content = chunk_node.text.decode(\"utf8\")\n                lines = content.split(\"\\n\")\n                signature = lines[0] if lines else \"\"\n\n                # Capture signature spanning multiple lines\n                if \"{\" not in signature and len(lines) &gt; 1:\n                    for i, line in enumerate(lines[1:], 1):\n                        signature += \"\\n\" + line\n                        if \"{\" in line or i &gt;= 3:\n                            break\n\n                processed_chunks[node_id] = {\n                    \"type\": chunk_type,\n                    \"name\": \"anonymous\",\n                    \"start_line\": start_line,\n                    \"end_line\": end_line,\n                    \"content\": content,\n                    \"signature\": signature.strip(),\n                    \"receiver\": None,\n                }\n\n            # Extract attributes from the same match\n            chunk_data = processed_chunks[node_id]\n\n            # Defensive capture name lookup\n            capture_names = {\n                query.capture_names[k]: node\n                for k, node in captures.items()\n                if isinstance(k, int)\n            }\n            capture_names.update(\n                {k: node for k, node in captures.items() if isinstance(k, str)}\n            )\n\n            if \"name\" in capture_names:\n                name_node = capture_names[\"name\"]\n                chunk_data[\"name\"] = name_node.text.decode(\"utf8\")\n\n            if \"receiver_type\" in capture_names:\n                recv_node = capture_names[\"receiver_type\"]\n                recv_text = recv_node.text.decode(\"utf8\")\n                if recv_text.startswith(\"*\"):\n                    recv_text = recv_text[1:]\n                chunk_data[\"receiver\"] = recv_text\n\n        # Sort and return\n        for data in processed_chunks.values():\n            result.append(ParsedChunk(**data))\n\n        return sorted(result, key=lambda x: x.start_line)\n\n    except Exception as e:\n        logger.error(f\"Tree-sitter match failure for {language}: {e}\")\n        return []\n</code></pre>"},{"location":"api/rag/#boring.rag.TreeSitterParser.validate_language_support","title":"<code>validate_language_support(language, test_code)</code>","text":"<p>Validate that Tree-sitter queries work correctly for a given language.</p> <p>V11.0: Structured testing for cross-language precision.</p> <p>Parameters:</p> Name Type Description Default <code>language</code> <code>str</code> <p>Language name (e.g., 'go', 'typescript')</p> required <code>test_code</code> <code>str</code> <p>Sample code to parse</p> required <p>Returns:</p> Type Description <code>dict</code> <p>Dict with validation results</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def validate_language_support(self, language: str, test_code: str) -&gt; dict:\n    \"\"\"\n    Validate that Tree-sitter queries work correctly for a given language.\n\n    V11.0: Structured testing for cross-language precision.\n\n    Args:\n        language: Language name (e.g., 'go', 'typescript')\n        test_code: Sample code to parse\n\n    Returns:\n        Dict with validation results\n    \"\"\"\n    if not HAS_TREE_SITTER:\n        return {\"success\": False, \"error\": \"tree-sitter not available\"}\n\n    if language not in self.QUERIES:\n        return {\"success\": False, \"error\": f\"No query defined for language: {language}\"}\n\n    try:\n        chunks = self.extract_chunks(test_code, language)\n        return {\n            \"success\": True,\n            \"language\": language,\n            \"chunks_found\": len(chunks),\n            \"chunk_types\": list({c.type for c in chunks}),\n            \"chunk_names\": [c.name for c in chunks],\n            \"receivers\": [c.receiver for c in chunks if c.receiver],\n        }\n    except Exception as e:\n        return {\"success\": False, \"error\": str(e)}\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever","title":"<code>RAGRetriever</code>","text":"<p>Hybrid RAG retriever for code context.</p> <p>Features: - Semantic search via ChromaDB embeddings - 1-layer graph expansion (per user decision) - Smart jump: Agent can request deeper traversal on-demand - Recency boost: recently modified files rank higher</p> Usage <p>retriever = RAGRetriever(project_root) retriever.build_index()</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>class RAGRetriever:\n    \"\"\"\n    Hybrid RAG retriever for code context.\n\n    Features:\n    - Semantic search via ChromaDB embeddings\n    - 1-layer graph expansion (per user decision)\n    - Smart jump: Agent can request deeper traversal on-demand\n    - Recency boost: recently modified files rank higher\n\n    Usage:\n        retriever = RAGRetriever(project_root)\n        retriever.build_index()\n\n        # Basic retrieval\n        results = retriever.retrieve(\"authentication error handling\")\n\n        # With graph expansion for specific function\n        context = retriever.get_modification_context(\"src/auth.py\", \"login\")\n    \"\"\"\n\n    # Default collection name in ChromaDB\n    COLLECTION_NAME = \"boring_code_rag\"\n\n    def __init__(\n        self,\n        project_root: Path,\n        persist_dir: Path | None = None,\n        collection_name: str | None = None,\n        additional_roots: list[Path] | None = None,\n    ):\n        self.project_root = Path(project_root)\n        self.persist_dir = persist_dir or (self.project_root / \".boring_memory\" / \"rag_db\")\n        self.collection_name = collection_name or self.COLLECTION_NAME\n\n        # Multi-project support: list of all project roots to index\n        self.all_project_roots: list[Path] = [self.project_root]\n        if additional_roots:\n            self.all_project_roots.extend([Path(p) for p in additional_roots])\n\n        # Ensure persist directory exists\n        self.persist_dir.mkdir(parents=True, exist_ok=True)\n\n        # Components\n        self.indexer = CodeIndexer(self.project_root)\n        self.index_state = IndexState(self.project_root)\n        self.graph: GraphRAG | None = None\n        self._chunks: dict[str, CodeChunk] = {}\n        self._file_to_chunks: dict[str, list[str]] = {}  # file_path -&gt; chunk_ids\n\n        # ChromaDB client\n        self.client = None\n        self.collection = None\n        self._embedding_function = None\n\n        if CHROMA_AVAILABLE:\n            try:\n                import chromadb\n                from chromadb.config import Settings as ChromaSettings\n\n                self.client = chromadb.PersistentClient(\n                    path=str(self.persist_dir),\n                    settings=ChromaSettings(anonymized_telemetry=False, allow_reset=True),\n                )\n\n                # V14.0: Use local embedding function for offline mode\n                self._embedding_function = self._get_embedding_function()\n\n                self.collection = self.client.get_or_create_collection(\n                    name=self.collection_name,\n                    metadata={\"hnsw:space\": \"cosine\"},\n                    embedding_function=self._embedding_function,\n                )\n                logger.info(f\"ChromaDB initialized at {self.persist_dir}\")\n            except Exception as e:\n                logger.warning(f\"Failed to initialize ChromaDB: {e}\")\n                self.client = None\n                self.collection = None\n\n    def _get_embedding_function(self):\n        \"\"\"\n        V14.0: Get appropriate embedding function based on mode.\n\n        Prefers local embedding for offline mode or when API is unavailable.\n        \"\"\"\n        import os\n\n        offline_mode = os.environ.get(\"BORING_OFFLINE_MODE\", \"\").lower() == \"true\"\n\n        try:\n            from ..core.config import settings\n\n            offline_mode = offline_mode or getattr(settings, \"OFFLINE_MODE\", False)\n        except Exception:\n            pass\n\n        if offline_mode:\n            try:\n                from .local_embedding import get_chroma_embedding_function\n\n                ef = get_chroma_embedding_function(offline_mode=True)\n                if ef:\n                    logger.info(\"Using local embedding function for offline mode\")\n                    return ef\n            except ImportError:\n                logger.debug(\"Local embedding not available\")\n            except Exception as e:\n                logger.warning(f\"Failed to load local embedding: {e}\")\n\n        # Default: return None to use ChromaDB's default embedding\n        return None\n\n    @property\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if RAG system is available.\"\"\"\n        return CHROMA_AVAILABLE and self.collection is not None\n\n    def build_index(self, force: bool = False, incremental: bool = True) -&gt; int:\n        \"\"\"\n        Index the entire codebase.\n\n        Args:\n            force: If True, rebuild even if index exists\n            incremental: If True (and not force), only index changed files.\n\n        Returns:\n            Number of chunks indexed\n        \"\"\"\n        if not self.is_available:\n            logger.warning(\"ChromaDB not available, skipping index build\")\n            return 0\n\n        # 1. Handle Force Rebuild\n        existing_count = self.collection.count()\n        if force:\n            logger.info(\"Force rebuild: clearing existing index\")\n            try:\n                self.client.delete_collection(self.collection_name)\n                self.collection = self.client.create_collection(\n                    name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n                )\n                self.index_state = IndexState(self.project_root)  # Reset state\n                # Clear state file explicitly?\n                # IndexState loads from disk. We should clear it.\n                # But IndexState doesn't have clear method yet beyond remove items.\n                # For now we just ignore load?\n                # Better: implement clear() in IndexState later or just iterate deletions.\n                # Here we assume starting fresh means empty DB, but IndexState might still have data on disk.\n                # We should probably clear cached state file too.\n                # self.index_state.clear() # user needs to add this method or we assume overwrite updates.\n                pass\n            except Exception as e:\n                logger.error(f\"Failed to clear collection: {e}\")\n                return 0\n\n        # 2. Collect Files from all project roots (multi-project support)\n        all_files = []\n        for root in self.all_project_roots:\n            indexer = CodeIndexer(root)\n            all_files.extend(indexer.collect_files())\n\n        # 3. Determine Changes\n        current_commit = \"\"\n        try:\n            # Get current git commit hash\n            import subprocess\n\n            cmd = [\"git\", \"rev-parse\", \"HEAD\"]\n            current_commit = subprocess.check_output(cmd, cwd=self.project_root, text=True).strip()\n        except Exception:\n            logger.debug(\"Could not get git commit hash\")\n\n        last_commit = self.index_state.get_last_commit()\n\n        if incremental and not force and last_commit and current_commit:\n            files_to_index = self.indexer.get_changed_files(last_commit)\n            # For incremental diff based indexing, we don't easily know \"stale\" files\n            # unless we scan everything or trust git diff for deletions (which get_changed_files doesn't strictly handle for removals from index yet).\n            # Actually CodeIndexer.get_changed_files logic returns *existing* files that changed.\n            # It doesn't return deleted files.\n            # We need to handle deletions separately if we rely purely on git diff.\n            # But let's stick to the current hybrid approach:\n            # If we trust IndexState knows what IT thinks is indexed, we can check if those still exist?\n            # Or use git diff for deletions too?\n            # For simplicity in V1 (Phase 1.2), we will re-scan all for stale check (fast)\n            # but only INDEX changed_files (slow).\n\n            # Optimization: collect_files is fast (just os.walk). The heavy part is index_file (parsing).\n            # So we can still do collect_files() to find stale ones.\n            all_files_current = []\n            for root in self.all_project_roots:\n                idx = CodeIndexer(root)\n                all_files_current.extend(idx.collect_files())\n\n            stale_files_rel = self.index_state.get_stale_files(all_files_current)\n\n            # But files_to_index should only be the changed ones from git diff\n            # Note: get_changed_files from code_indexer uses git diff.\n            # But we passed `self.indexer` which is initialized with project_root.\n            # If changed_files are returned, we use them.\n            # What if files_to_index is empty? means nothing changed content-wise.\n            pass\n        else:\n            # Full scan fallback\n            files_to_index = all_files\n            stale_files_rel = []\n\n        if not files_to_index and not stale_files_rel and (last_commit == current_commit):\n            logger.info(\"Index is up to date (commit match).\")\n            # We still need to load chunks into memory for graph building\n            self._load_chunks_from_db()\n            return existing_count\n\n        # 4. Handle Deletions\n        for rel_path in stale_files_rel:\n            chunk_ids = self.index_state.state.get(rel_path, {}).get(\"chunks\", [])\n            if chunk_ids:\n                try:\n                    self.collection.delete(ids=chunk_ids)\n                except Exception:\n                    pass\n            self.index_state.remove(rel_path)\n            logger.info(f\"Removed stale file: {rel_path}\")\n\n        # 5. Handle Indexing\n        new_chunks_buffer = []\n        total_indexed = 0\n\n        # Reset indexer stats for accurate reporting\n        self.indexer.stats = IndexStats()\n\n        for file_path in files_to_index:\n            # Clear old chunks for modified file\n            rel_path = self.index_state._get_rel_path(file_path)\n            old_ids = self.index_state.get_chunks_for_file(file_path)\n            if old_ids:\n                try:\n                    self.collection.delete(ids=old_ids)\n                except Exception:\n                    pass\n\n            # Generate new chunks\n            try:\n                chunks = list(self.indexer.index_file(file_path))\n            except Exception as e:\n                logger.warning(f\"Failed to index {file_path}: {e}\")\n                self.indexer.stats.skipped_files += 1\n                continue\n\n            if not chunks:\n                continue\n\n            # Track stats per file\n            self.indexer.stats.total_files += 1\n            for chunk in chunks:\n                self.indexer.stats.total_chunks += 1\n                if chunk.chunk_type == \"function\":\n                    self.indexer.stats.functions += 1\n                elif chunk.chunk_type == \"class\":\n                    self.indexer.stats.classes += 1\n                elif chunk.chunk_type == \"method\":\n                    self.indexer.stats.methods += 1\n                elif chunk.chunk_type == \"script\":\n                    self.indexer.stats.script_chunks += 1\n\n            # Batch upsert logic preparation\n            new_chunks_buffer.extend(chunks)\n\n            # Update state with new IDs\n            ids = [c.chunk_id for c in chunks]\n            self.index_state.update(file_path, ids)\n            total_indexed += len(chunks)\n\n        # 6. Bulk Upsert to Chroma\n        if new_chunks_buffer:\n            ids = [c.chunk_id for c in new_chunks_buffer]\n            documents = [self._chunk_to_document(c) for c in new_chunks_buffer]\n            metadatas = [self._chunk_to_metadata(c) for c in new_chunks_buffer]\n\n            batch_size = 100\n            for i in range(0, len(new_chunks_buffer), batch_size):\n                end = min(i + batch_size, len(new_chunks_buffer))\n                try:\n                    self.collection.upsert(\n                        ids=ids[i:end], documents=documents[i:end], metadatas=metadatas[i:end]\n                    )\n                except Exception as e:\n                    logger.error(f\"Failed to upsert batch: {e}\")\n\n        # 7. Persist State\n        if current_commit:\n            self.index_state.update_commit(current_commit)\n        self.index_state.save()\n\n        # 8. Reload fully for graph building (Hybrid RAG needs graph)\n        # Note: In a huge repo, loading all chunks might be heavy.\n        # Ideally we load only necessary graph data.\n        # For V10 we load all instructions.\n        self._load_chunks_from_db()\n\n        # Update graph with new/all chunks\n        # _load_chunks_from_db handles rebuilding self._chunks and self.graph\n\n        logger.info(\n            f\"Indexed {len(files_to_index)} files ({total_indexed} chunks). Removed {len(stale_files_rel)} stale files.\"\n        )\n\n        return self.collection.count()\n\n    def retrieve(\n        self,\n        query: str,\n        n_results: int = 10,\n        expand_graph: bool = True,\n        file_filter: str | None = None,\n        chunk_types: list[str] | None = None,\n        threshold: float = 0.0,\n        use_hyde: bool = True,\n        use_rerank: bool = True,\n    ) -&gt; list[RetrievalResult]:\n        \"\"\"\n        Retrieve relevant code chunks with caching.\n\n        Args:\n            query: Natural language query or error message\n            n_results: Maximum results to return\n            expand_graph: Whether to include 1-layer dependency context\n            file_filter: Filter by file path substring (e.g., \"auth\")\n            chunk_types: Filter by chunk types (e.g., [\"function\", \"class\"])\n            threshold: Minimum relevance score (0.0 to 1.0)\n            use_hyde: Whether to use HyDE query expansion (V10.24+)\n            use_rerank: Whether to use Cross-Encoder reranking (V10.24+)\n\n        Returns:\n            List of RetrievalResult sorted by relevance\n        \"\"\"\n        if not self.is_available:\n            return []\n\n        # Generate cache key\n        cache_key = f\"{query}:{n_results}:{expand_graph}:{file_filter}:{chunk_types}:{threshold}:{use_hyde}:{use_rerank}\"\n\n        # Check cache\n        with _cache_lock:\n            if cache_key in _query_cache:\n                cached_results, cache_time = _query_cache[cache_key]\n                if time.time() - cache_time &lt; _QUERY_CACHE_TTL:\n                    return cached_results\n\n        # Perform actual retrieval\n        results = self._retrieve_impl(\n            query,\n            n_results,\n            expand_graph,\n            file_filter,\n            chunk_types,\n            threshold,\n            use_hyde=use_hyde,\n            use_rerank=use_rerank,\n        )\n\n        # Update cache\n        with _cache_lock:\n            _query_cache[cache_key] = (results, time.time())\n\n        return results\n\n    def _retrieve_impl(\n        self,\n        query: str,\n        n_results: int = 10,\n        expand_graph: bool = True,\n        file_filter: str | None = None,\n        chunk_types: list[str] | None = None,\n        threshold: float = 0.0,\n        use_hyde: bool = True,\n        use_rerank: bool = True,\n    ) -&gt; list[RetrievalResult]:\n        \"\"\"\n        Internal implementation of retrieve without caching.\n        \"\"\"\n\n        # 1. HyDE Expansion (V10.24+)\n        search_query = query\n        hyde_result: HyDEResult | None = None\n        if use_hyde:\n            try:\n                expander = get_hyde_expander()\n                hyde_result = expander.expand_query(query)\n                search_query = hyde_result.hypothetical_code\n                logger.debug(f\"HyDE expansion applied for query: {query[:50]}...\")\n            except Exception as e:\n                logger.warning(f\"HyDE expansion failed: {e}\")\n\n        # Build ChromaDB filter\n        where_filter = self._build_where_filter(file_filter, chunk_types)\n\n        # Vector search\n        try:\n            results = self.collection.query(\n                query_texts=[search_query],\n                n_results=min(n_results * 2, 50),  # Fetch extra for graph expansion/reranking\n                where=where_filter,\n            )\n        except Exception as e:\n            logger.error(f\"ChromaDB query failed: {e}\")\n            return []\n\n        retrieved: list[RetrievalResult] = []\n        seen_ids: set[str] = set()\n\n        # Process vector search results\n        if results and results.get(\"ids\"):\n            for i, chunk_id in enumerate(results[\"ids\"][0]):\n                if chunk_id in seen_ids:\n                    continue\n                seen_ids.add(chunk_id)\n\n                # Calculate score from distance\n                distance = results[\"distances\"][0][i] if results.get(\"distances\") else 0.5\n                score = 1.0 - min(distance, 1.0)  # Convert distance to similarity\n\n                # Filter by threshold\n                if score &lt; threshold:\n                    continue\n\n                # Get chunk from cache or reconstruct\n                chunk = self._get_or_reconstruct_chunk(chunk_id, results, i)\n                if not chunk:\n                    continue\n\n                retrieved.append(\n                    RetrievalResult(\n                        chunk=chunk, score=score, retrieval_method=\"vector\", distance=distance\n                    )\n                )\n\n        # 1-layer graph expansion (per user decision)\n        if expand_graph and self.graph and retrieved:\n            # Expand from top 3 results only (to limit context size)\n            top_chunks = [r.chunk for r in retrieved[:3]]\n            related = self.graph.get_related_chunks(top_chunks, depth=1)\n\n            for chunk in related:\n                if chunk.chunk_id not in seen_ids:\n                    seen_ids.add(chunk.chunk_id)\n                    retrieved.append(\n                        RetrievalResult(\n                            chunk=chunk,\n                            score=0.5,  # Lower score for graph-expanded\n                            retrieval_method=\"graph\",\n                        )\n                    )\n\n        # =================================================================\n        # HYBRID SEARCH: Keyword boosting for better accuracy\n        # =================================================================\n        # Boost scores for chunks where query terms appear in name/content\n        query_terms = set(query.lower().split())\n        for result in retrieved:\n            boost = 0.0\n            chunk_name = result.chunk.name.lower() if result.chunk.name else \"\"\n\n            # Strong boost for exact name match\n            if any(term in chunk_name for term in query_terms):\n                boost += 0.15\n\n            # Medium boost for content keyword match\n            chunk_content = result.chunk.content.lower()[:500] if result.chunk.content else \"\"\n            matching_terms = sum(1 for term in query_terms if term in chunk_content)\n            if matching_terms &gt; 0:\n                boost += min(0.1, matching_terms * 0.02)  # Cap at 0.1\n\n            result.score = min(1.0, result.score + boost)  # Cap at 1.0\n\n        # =================================================================\n        # V10.23: SESSION CONTEXT BOOSTING\n        # =================================================================\n        session_ctx = get_session_context()\n        if session_ctx:\n            for result in retrieved:\n                session_boost = 0.0\n                chunk_file = result.chunk.file_path if result.chunk.file_path else \"\"\n\n                # Boost for focus files\n                if session_ctx.get(\"focus_files\"):\n                    for focus_file in session_ctx[\"focus_files\"]:\n                        if focus_file in chunk_file or chunk_file in focus_file:\n                            session_boost += 0.2\n                            break\n\n                # Boost for task-type keywords\n                task_type = session_ctx.get(\"task_type\", \"general\")\n                chunk_content = result.chunk.content.lower() if result.chunk.content else \"\"\n\n                if task_type == \"debugging\":\n                    if any(\n                        kw in chunk_content\n                        for kw in [\"error\", \"exception\", \"try\", \"except\", \"catch\"]\n                    ):\n                        session_boost += 0.1\n                        result.task_relevance = 0.8\n                elif task_type == \"testing\":\n                    if any(kw in chunk_content for kw in [\"test\", \"assert\", \"mock\", \"fixture\"]):\n                        session_boost += 0.1\n                        result.task_relevance = 0.8\n                elif task_type == \"refactoring\":\n                    if any(kw in chunk_content for kw in [\"class\", \"def\", \"function\", \"method\"]):\n                        session_boost += 0.05\n                        result.task_relevance = 0.6\n\n                # Boost for session keywords\n                if session_ctx.get(\"keywords\"):\n                    matching = sum(\n                        1 for kw in session_ctx[\"keywords\"] if kw.lower() in chunk_content\n                    )\n                    session_boost += min(0.15, matching * 0.05)\n\n                result.session_boost = session_boost\n                result.score = min(1.0, result.score + session_boost)\n\n        # =================================================================\n        # INTELLIGENT RANKING: Re-rank based on usage patterns (V10.22+)\n        # =================================================================\n        ranker = _get_intelligent_ranker(self.project_root)\n        if ranker:\n            # V10.23: Pass session context to ranker\n            context = {\"session\": session_ctx} if session_ctx else None\n            retrieved = ranker.rerank(query, retrieved, top_k=n_results * 2, context=context)\n\n        # =================================================================\n        # HYBRID RAG: Cross-Encoder Reranking (V10.24+)\n        # =================================================================\n        if use_rerank and len(retrieved) &gt; 1:\n            try:\n                reranker = get_ensemble_reranker()\n                # Use ensemble reranker to combine semantic CE scores with metadata\n                reranked_indices = reranker.rerank(\n                    query=query,\n                    chunks=[r.chunk for r in retrieved],\n                    original_scores=[r.score for r in retrieved],\n                    top_k=n_results,\n                )\n\n                # Reconstruct RetrievalResult list in new order\n                new_retrieved = []\n                for original_idx, score in reranked_indices:\n                    res = retrieved[original_idx]\n                    res.score = score  # Update with reranked score\n                    new_retrieved.append(res)\n\n                retrieved = new_retrieved\n                logger.debug(f\"Cross-Encoder reranking applied to {len(retrieved)} results\")\n            except Exception as e:\n                logger.warning(f\"Reranking failed: {e}\")\n\n        # Sort by score and limit\n        retrieved.sort(key=lambda x: x.score, reverse=True)\n        return retrieved[:n_results]\n\n    def record_user_selection(self, chunk_id: str, query: str, session_id: str = \"\"):\n        \"\"\"\n        Record that a user selected a specific chunk from results.\n\n        This feedback improves future ranking for similar queries.\n\n        Args:\n            chunk_id: The chunk that was selected\n            query: The query that produced the results\n            session_id: Optional session identifier\n        \"\"\"\n        ranker = _get_intelligent_ranker(self.project_root)\n        if ranker:\n            ranker.record_selection(chunk_id, query, session_id=session_id)\n            logger.debug(f\"Recorded selection: {chunk_id} for query: {query[:50]}\")\n\n    async def retrieve_async(\n        self,\n        query: str,\n        n_results: int = 10,\n        expand_graph: bool = True,\n        file_filter: str | None = None,\n        chunk_types: list[str] | None = None,\n    ) -&gt; list[RetrievalResult]:\n        \"\"\"\n        Async version of retrieve for non-blocking operations.\n\n        Wraps ChromaDB calls in asyncio.to_thread for async compatibility.\n        \"\"\"\n        import asyncio\n\n        def _sync_retrieve():\n            return self.retrieve(query, n_results, expand_graph, file_filter, chunk_types)\n\n        return await asyncio.to_thread(_sync_retrieve)\n\n    def get_modification_context(\n        self, file_path: str, function_name: str | None = None, class_name: str | None = None\n    ) -&gt; dict[str, list[RetrievalResult]]:\n        \"\"\"\n        Get comprehensive context for modifying a specific code location.\n\n        This is the \"smart\" entry point that returns:\n        - The target chunk itself\n        - Its callers (might break)\n        - Its callees (need to understand interface)\n        - Sibling methods (if in a class)\n\n        Args:\n            file_path: Relative path to the file\n            function_name: Name of function (optional)\n            class_name: Name of class (optional)\n\n        Returns:\n            Dict with categorized context\n        \"\"\"\n        result = {\"target\": [], \"callers\": [], \"callees\": [], \"siblings\": []}\n\n        if not self.graph:\n            return result\n\n        # Find target chunk\n        target_name = function_name or class_name\n        if not target_name:\n            return result\n\n        # Look up by name\n        candidates = self.graph.get_chunks_by_name(target_name)\n\n        # Filter by file path if provided\n        if file_path:\n            candidates = [c for c in candidates if file_path in c.file_path]\n\n        if not candidates:\n            return result\n\n        target = candidates[0]\n        result[\"target\"] = [RetrievalResult(chunk=target, score=1.0, retrieval_method=\"direct\")]\n\n        # Get context from graph\n        context = self.graph.get_context_for_modification(target.chunk_id)\n\n        for caller in context[\"callers\"]:\n            result[\"callers\"].append(\n                RetrievalResult(chunk=caller, score=0.8, retrieval_method=\"graph\")\n            )\n\n        for callee in context[\"callees\"]:\n            result[\"callees\"].append(\n                RetrievalResult(chunk=callee, score=0.7, retrieval_method=\"graph\")\n            )\n\n        for sibling in context[\"siblings\"]:\n            result[\"siblings\"].append(\n                RetrievalResult(chunk=sibling, score=0.6, retrieval_method=\"graph\")\n            )\n\n        return result\n\n    def smart_expand(self, chunk_id: str, depth: int = 2) -&gt; list[RetrievalResult]:\n        \"\"\"\n        On-demand deeper graph traversal (Agent-triggered \"smart jump\").\n\n        When 1-layer expansion isn't enough, the agent can request\n        deeper traversal for specific chunks.\n\n        Args:\n            chunk_id: The chunk to expand from\n            depth: How many layers to expand (default 2)\n\n        Returns:\n            Additional context chunks\n        \"\"\"\n        if not self.graph:\n            return []\n\n        chunk = self.graph.get_chunk(chunk_id)\n        if not chunk:\n            return []\n\n        related = self.graph.get_related_chunks([chunk], depth=depth)\n\n        return [\n            RetrievalResult(\n                chunk=c,\n                score=0.4,  # Lower score for deep expansion\n                retrieval_method=\"smart_jump\",\n            )\n            for c in related\n        ]\n\n    def generate_context_injection(\n        self, query: str, max_tokens: int = 4000, include_signatures_only: bool = False\n    ) -&gt; str:\n        \"\"\"\n        Generate context string for AI prompt injection.\n\n        Args:\n            query: The current task or error\n            max_tokens: Maximum tokens (estimate: 4 chars = 1 token)\n            include_signatures_only: If True, only include function signatures\n\n        Returns:\n            Formatted context string ready for prompt injection\n        \"\"\"\n        results = self.retrieve(query, n_results=15, expand_graph=True)\n\n        if not results:\n            return \"\"\n\n        parts = [\"## \ud83d\udcda Relevant Code Context (RAG)\", \"\"]\n        current_chars = 0\n        max_chars = max_tokens * 4\n\n        for result in results:\n            chunk = result.chunk\n\n            # Use signature if available and requested\n            if include_signatures_only and chunk.signature:\n                content = chunk.signature\n            else:\n                content = chunk.content\n\n            # Format chunk\n            method_tag = f\"[{result.retrieval_method.upper()}]\"\n            location = f\"`{chunk.file_path}` \u2192 `{chunk.name}`\"\n            lines = f\"L{chunk.start_line}-{chunk.end_line}\"\n\n            chunk_content = f\"\"\"### {method_tag} {location} ({lines})\n```python\n{content}\n```\n\"\"\"\n            # Check token budget\n            chunk_chars = len(chunk_content)\n            if current_chars + chunk_chars &gt; max_chars:\n                break\n\n            parts.append(chunk_content)\n            current_chars += chunk_chars\n\n        return \"\\n\".join(parts)\n\n    def get_stats(self) -&gt; RAGStats:\n        \"\"\"Get combined RAG statistics.\"\"\"\n        return RAGStats(\n            index_stats=self.indexer.get_stats() if self.indexer else None,\n            graph_stats=self.graph.get_stats() if self.graph else None,\n            total_chunks_indexed=len(self._chunks),\n            last_index_time=datetime.now().isoformat() if self._chunks else None,\n            chroma_available=CHROMA_AVAILABLE,\n        )\n\n    def update_file(self, file_path: Path) -&gt; int:\n        \"\"\"\n        Incrementally update index for a single changed file.\n\n        Args:\n            file_path: Path to the modified file\n\n        Returns:\n            Number of chunks updated\n        \"\"\"\n        if not self.is_available:\n            return 0\n\n        try:\n            rel_path = str(file_path.relative_to(self.project_root))\n            # Normalize to forward slashes for cross-platform consistency\n            rel_path = rel_path.replace(\"\\\\\", \"/\")\n        except ValueError:\n            rel_path = str(file_path).replace(\"\\\\\", \"/\")\n\n        # Remove old chunks for this file\n        old_chunk_ids = self._file_to_chunks.get(rel_path, [])\n        if old_chunk_ids:\n            try:\n                self.collection.delete(ids=old_chunk_ids)\n            except Exception as e:\n                logger.warning(f\"Failed to delete old chunks: {e}\")\n\n        # Re-index the file\n        try:\n            new_chunks = list(self.indexer.index_file(file_path))\n        except Exception as e:\n            logger.warning(f\"Failed to index {file_path}: {e}\")\n            return 0\n\n        if not new_chunks:\n            return 0\n\n        # Update in-memory structures\n        for chunk in new_chunks:\n            self._chunks[chunk.chunk_id] = chunk\n            if self.graph:\n                self.graph.add_chunk(chunk)\n\n        self._file_to_chunks[rel_path] = [c.chunk_id for c in new_chunks]\n\n        # Upsert to ChromaDB\n        try:\n            self.collection.upsert(\n                ids=[c.chunk_id for c in new_chunks],\n                documents=[self._chunk_to_document(c) for c in new_chunks],\n                metadatas=[self._chunk_to_metadata(c) for c in new_chunks],\n            )\n        except Exception as e:\n            logger.error(f\"Failed to upsert chunks: {e}\")\n            return 0\n\n        return len(new_chunks)\n\n    def clear(self) -&gt; None:\n        \"\"\"Clear all indexed data.\"\"\"\n        if self.client and self.collection:\n            try:\n                self.client.delete_collection(self.collection_name)\n                self.collection = self.client.create_collection(\n                    name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n                )\n            except Exception as e:\n                logger.error(f\"Failed to clear collection: {e}\")\n\n        self._chunks.clear()\n        self._file_to_chunks.clear()\n        self.graph = None\n\n    # -------------------------------------------------------------------------\n    # Private helpers\n    # -------------------------------------------------------------------------\n\n    def _chunk_to_document(self, chunk: CodeChunk) -&gt; str:\n        \"\"\"Convert chunk to semantic document for embedding.\"\"\"\n        parts = [f\"{chunk.chunk_type}::{chunk.name}\"]\n\n        if chunk.docstring:\n            parts.append(chunk.docstring)\n\n        if chunk.signature:\n            parts.append(chunk.signature)\n        else:\n            parts.append(chunk.content[:500])  # Limit content size\n\n        return \"\\n\".join(parts)\n\n    def _chunk_to_metadata(self, chunk: CodeChunk) -&gt; dict:\n        \"\"\"Convert chunk to metadata for filtering.\"\"\"\n        return {\n            \"file_path\": chunk.file_path,\n            \"chunk_type\": chunk.chunk_type,\n            \"name\": chunk.name,\n            \"start_line\": chunk.start_line,\n            \"end_line\": chunk.end_line,\n            \"parent\": chunk.parent or \"\",\n            \"has_docstring\": bool(chunk.docstring),\n        }\n\n    def _build_where_filter(\n        self, file_filter: str | None, chunk_types: list[str] | None\n    ) -&gt; dict | None:\n        \"\"\"Build ChromaDB where filter.\"\"\"\n        conditions = []\n\n        if file_filter:\n            conditions.append({\"file_path\": {\"$contains\": file_filter}})\n\n        if chunk_types:\n            if len(chunk_types) == 1:\n                conditions.append({\"chunk_type\": chunk_types[0]})\n            else:\n                conditions.append({\"chunk_type\": {\"$in\": chunk_types}})\n\n        if not conditions:\n            return None\n\n        if len(conditions) == 1:\n            return conditions[0]\n\n        return {\"$and\": conditions}\n\n    def _get_or_reconstruct_chunk(\n        self, chunk_id: str, results: dict, index: int\n    ) -&gt; CodeChunk | None:\n        \"\"\"Get chunk from cache or reconstruct from query results.\"\"\"\n        if chunk_id in self._chunks:\n            return self._chunks[chunk_id]\n\n        # Reconstruct from metadata\n        if not results.get(\"metadatas\"):\n            return None\n\n        meta = results[\"metadatas\"][0][index]\n        doc = results[\"documents\"][0][index] if results.get(\"documents\") else \"\"\n\n        return CodeChunk(\n            chunk_id=chunk_id,\n            file_path=meta.get(\"file_path\", \"unknown\"),\n            chunk_type=meta.get(\"chunk_type\", \"unknown\"),\n            name=meta.get(\"name\", \"unknown\"),\n            content=doc.split(\"\\n\", 2)[-1] if doc else \"\",  # Skip type::name header\n            start_line=meta.get(\"start_line\", 0),\n            end_line=meta.get(\"end_line\", 0),\n            parent=meta.get(\"parent\") or None,\n        )\n\n    def _load_chunks_from_db(self) -&gt; None:\n        \"\"\"Load chunk metadata from existing ChromaDB collection.\"\"\"\n        if not self.collection:\n            return\n\n        try:\n            # Get all items (limited for memory safety)\n            results = self.collection.get(limit=10000, include=[\"metadatas\", \"documents\"])\n\n            if results and results.get(\"ids\"):\n                for i, chunk_id in enumerate(results[\"ids\"]):\n                    chunk = self._get_or_reconstruct_chunk(chunk_id, results, i)\n                    if chunk:\n                        self._chunks[chunk_id] = chunk\n\n                        # Build file index\n                        if chunk.file_path not in self._file_to_chunks:\n                            self._file_to_chunks[chunk.file_path] = []\n                        self._file_to_chunks[chunk.file_path].append(chunk_id)\n\n                # Rebuild graph\n                if self._chunks:\n                    from .graph_builder import DependencyGraph\n\n                    self.graph = DependencyGraph(list(self._chunks.values()))\n\n                logger.info(f\"Loaded {len(self._chunks)} chunks from existing index\")\n        except Exception as e:\n            logger.warning(f\"Failed to load chunks from DB: {e}\")\n\n    def _build_file_index(self, chunks: list[CodeChunk]) -&gt; None:\n        \"\"\"Build file path to chunk ID mapping.\"\"\"\n        self._file_to_chunks.clear()\n        for chunk in chunks:\n            if chunk.file_path not in self._file_to_chunks:\n                self._file_to_chunks[chunk.file_path] = []\n            self._file_to_chunks[chunk.file_path].append(chunk.chunk_id)\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever--basic-retrieval","title":"Basic retrieval","text":"<p>results = retriever.retrieve(\"authentication error handling\")</p>"},{"location":"api/rag/#boring.rag.RAGRetriever--with-graph-expansion-for-specific-function","title":"With graph expansion for specific function","text":"<p>context = retriever.get_modification_context(\"src/auth.py\", \"login\")</p>"},{"location":"api/rag/#boring.rag.RAGRetriever.is_available","title":"<code>is_available</code>  <code>property</code>","text":"<p>Check if RAG system is available.</p>"},{"location":"api/rag/#boring.rag.RAGRetriever.build_index","title":"<code>build_index(force=False, incremental=True)</code>","text":"<p>Index the entire codebase.</p> <p>Parameters:</p> Name Type Description Default <code>force</code> <code>bool</code> <p>If True, rebuild even if index exists</p> <code>False</code> <code>incremental</code> <code>bool</code> <p>If True (and not force), only index changed files.</p> <code>True</code> <p>Returns:</p> Type Description <code>int</code> <p>Number of chunks indexed</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def build_index(self, force: bool = False, incremental: bool = True) -&gt; int:\n    \"\"\"\n    Index the entire codebase.\n\n    Args:\n        force: If True, rebuild even if index exists\n        incremental: If True (and not force), only index changed files.\n\n    Returns:\n        Number of chunks indexed\n    \"\"\"\n    if not self.is_available:\n        logger.warning(\"ChromaDB not available, skipping index build\")\n        return 0\n\n    # 1. Handle Force Rebuild\n    existing_count = self.collection.count()\n    if force:\n        logger.info(\"Force rebuild: clearing existing index\")\n        try:\n            self.client.delete_collection(self.collection_name)\n            self.collection = self.client.create_collection(\n                name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n            )\n            self.index_state = IndexState(self.project_root)  # Reset state\n            # Clear state file explicitly?\n            # IndexState loads from disk. We should clear it.\n            # But IndexState doesn't have clear method yet beyond remove items.\n            # For now we just ignore load?\n            # Better: implement clear() in IndexState later or just iterate deletions.\n            # Here we assume starting fresh means empty DB, but IndexState might still have data on disk.\n            # We should probably clear cached state file too.\n            # self.index_state.clear() # user needs to add this method or we assume overwrite updates.\n            pass\n        except Exception as e:\n            logger.error(f\"Failed to clear collection: {e}\")\n            return 0\n\n    # 2. Collect Files from all project roots (multi-project support)\n    all_files = []\n    for root in self.all_project_roots:\n        indexer = CodeIndexer(root)\n        all_files.extend(indexer.collect_files())\n\n    # 3. Determine Changes\n    current_commit = \"\"\n    try:\n        # Get current git commit hash\n        import subprocess\n\n        cmd = [\"git\", \"rev-parse\", \"HEAD\"]\n        current_commit = subprocess.check_output(cmd, cwd=self.project_root, text=True).strip()\n    except Exception:\n        logger.debug(\"Could not get git commit hash\")\n\n    last_commit = self.index_state.get_last_commit()\n\n    if incremental and not force and last_commit and current_commit:\n        files_to_index = self.indexer.get_changed_files(last_commit)\n        # For incremental diff based indexing, we don't easily know \"stale\" files\n        # unless we scan everything or trust git diff for deletions (which get_changed_files doesn't strictly handle for removals from index yet).\n        # Actually CodeIndexer.get_changed_files logic returns *existing* files that changed.\n        # It doesn't return deleted files.\n        # We need to handle deletions separately if we rely purely on git diff.\n        # But let's stick to the current hybrid approach:\n        # If we trust IndexState knows what IT thinks is indexed, we can check if those still exist?\n        # Or use git diff for deletions too?\n        # For simplicity in V1 (Phase 1.2), we will re-scan all for stale check (fast)\n        # but only INDEX changed_files (slow).\n\n        # Optimization: collect_files is fast (just os.walk). The heavy part is index_file (parsing).\n        # So we can still do collect_files() to find stale ones.\n        all_files_current = []\n        for root in self.all_project_roots:\n            idx = CodeIndexer(root)\n            all_files_current.extend(idx.collect_files())\n\n        stale_files_rel = self.index_state.get_stale_files(all_files_current)\n\n        # But files_to_index should only be the changed ones from git diff\n        # Note: get_changed_files from code_indexer uses git diff.\n        # But we passed `self.indexer` which is initialized with project_root.\n        # If changed_files are returned, we use them.\n        # What if files_to_index is empty? means nothing changed content-wise.\n        pass\n    else:\n        # Full scan fallback\n        files_to_index = all_files\n        stale_files_rel = []\n\n    if not files_to_index and not stale_files_rel and (last_commit == current_commit):\n        logger.info(\"Index is up to date (commit match).\")\n        # We still need to load chunks into memory for graph building\n        self._load_chunks_from_db()\n        return existing_count\n\n    # 4. Handle Deletions\n    for rel_path in stale_files_rel:\n        chunk_ids = self.index_state.state.get(rel_path, {}).get(\"chunks\", [])\n        if chunk_ids:\n            try:\n                self.collection.delete(ids=chunk_ids)\n            except Exception:\n                pass\n        self.index_state.remove(rel_path)\n        logger.info(f\"Removed stale file: {rel_path}\")\n\n    # 5. Handle Indexing\n    new_chunks_buffer = []\n    total_indexed = 0\n\n    # Reset indexer stats for accurate reporting\n    self.indexer.stats = IndexStats()\n\n    for file_path in files_to_index:\n        # Clear old chunks for modified file\n        rel_path = self.index_state._get_rel_path(file_path)\n        old_ids = self.index_state.get_chunks_for_file(file_path)\n        if old_ids:\n            try:\n                self.collection.delete(ids=old_ids)\n            except Exception:\n                pass\n\n        # Generate new chunks\n        try:\n            chunks = list(self.indexer.index_file(file_path))\n        except Exception as e:\n            logger.warning(f\"Failed to index {file_path}: {e}\")\n            self.indexer.stats.skipped_files += 1\n            continue\n\n        if not chunks:\n            continue\n\n        # Track stats per file\n        self.indexer.stats.total_files += 1\n        for chunk in chunks:\n            self.indexer.stats.total_chunks += 1\n            if chunk.chunk_type == \"function\":\n                self.indexer.stats.functions += 1\n            elif chunk.chunk_type == \"class\":\n                self.indexer.stats.classes += 1\n            elif chunk.chunk_type == \"method\":\n                self.indexer.stats.methods += 1\n            elif chunk.chunk_type == \"script\":\n                self.indexer.stats.script_chunks += 1\n\n        # Batch upsert logic preparation\n        new_chunks_buffer.extend(chunks)\n\n        # Update state with new IDs\n        ids = [c.chunk_id for c in chunks]\n        self.index_state.update(file_path, ids)\n        total_indexed += len(chunks)\n\n    # 6. Bulk Upsert to Chroma\n    if new_chunks_buffer:\n        ids = [c.chunk_id for c in new_chunks_buffer]\n        documents = [self._chunk_to_document(c) for c in new_chunks_buffer]\n        metadatas = [self._chunk_to_metadata(c) for c in new_chunks_buffer]\n\n        batch_size = 100\n        for i in range(0, len(new_chunks_buffer), batch_size):\n            end = min(i + batch_size, len(new_chunks_buffer))\n            try:\n                self.collection.upsert(\n                    ids=ids[i:end], documents=documents[i:end], metadatas=metadatas[i:end]\n                )\n            except Exception as e:\n                logger.error(f\"Failed to upsert batch: {e}\")\n\n    # 7. Persist State\n    if current_commit:\n        self.index_state.update_commit(current_commit)\n    self.index_state.save()\n\n    # 8. Reload fully for graph building (Hybrid RAG needs graph)\n    # Note: In a huge repo, loading all chunks might be heavy.\n    # Ideally we load only necessary graph data.\n    # For V10 we load all instructions.\n    self._load_chunks_from_db()\n\n    # Update graph with new/all chunks\n    # _load_chunks_from_db handles rebuilding self._chunks and self.graph\n\n    logger.info(\n        f\"Indexed {len(files_to_index)} files ({total_indexed} chunks). Removed {len(stale_files_rel)} stale files.\"\n    )\n\n    return self.collection.count()\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.retrieve","title":"<code>retrieve(query, n_results=10, expand_graph=True, file_filter=None, chunk_types=None, threshold=0.0, use_hyde=True, use_rerank=True)</code>","text":"<p>Retrieve relevant code chunks with caching.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Natural language query or error message</p> required <code>n_results</code> <code>int</code> <p>Maximum results to return</p> <code>10</code> <code>expand_graph</code> <code>bool</code> <p>Whether to include 1-layer dependency context</p> <code>True</code> <code>file_filter</code> <code>str | None</code> <p>Filter by file path substring (e.g., \"auth\")</p> <code>None</code> <code>chunk_types</code> <code>list[str] | None</code> <p>Filter by chunk types (e.g., [\"function\", \"class\"])</p> <code>None</code> <code>threshold</code> <code>float</code> <p>Minimum relevance score (0.0 to 1.0)</p> <code>0.0</code> <code>use_hyde</code> <code>bool</code> <p>Whether to use HyDE query expansion (V10.24+)</p> <code>True</code> <code>use_rerank</code> <code>bool</code> <p>Whether to use Cross-Encoder reranking (V10.24+)</p> <code>True</code> <p>Returns:</p> Type Description <code>list[RetrievalResult]</code> <p>List of RetrievalResult sorted by relevance</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def retrieve(\n    self,\n    query: str,\n    n_results: int = 10,\n    expand_graph: bool = True,\n    file_filter: str | None = None,\n    chunk_types: list[str] | None = None,\n    threshold: float = 0.0,\n    use_hyde: bool = True,\n    use_rerank: bool = True,\n) -&gt; list[RetrievalResult]:\n    \"\"\"\n    Retrieve relevant code chunks with caching.\n\n    Args:\n        query: Natural language query or error message\n        n_results: Maximum results to return\n        expand_graph: Whether to include 1-layer dependency context\n        file_filter: Filter by file path substring (e.g., \"auth\")\n        chunk_types: Filter by chunk types (e.g., [\"function\", \"class\"])\n        threshold: Minimum relevance score (0.0 to 1.0)\n        use_hyde: Whether to use HyDE query expansion (V10.24+)\n        use_rerank: Whether to use Cross-Encoder reranking (V10.24+)\n\n    Returns:\n        List of RetrievalResult sorted by relevance\n    \"\"\"\n    if not self.is_available:\n        return []\n\n    # Generate cache key\n    cache_key = f\"{query}:{n_results}:{expand_graph}:{file_filter}:{chunk_types}:{threshold}:{use_hyde}:{use_rerank}\"\n\n    # Check cache\n    with _cache_lock:\n        if cache_key in _query_cache:\n            cached_results, cache_time = _query_cache[cache_key]\n            if time.time() - cache_time &lt; _QUERY_CACHE_TTL:\n                return cached_results\n\n    # Perform actual retrieval\n    results = self._retrieve_impl(\n        query,\n        n_results,\n        expand_graph,\n        file_filter,\n        chunk_types,\n        threshold,\n        use_hyde=use_hyde,\n        use_rerank=use_rerank,\n    )\n\n    # Update cache\n    with _cache_lock:\n        _query_cache[cache_key] = (results, time.time())\n\n    return results\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.record_user_selection","title":"<code>record_user_selection(chunk_id, query, session_id='')</code>","text":"<p>Record that a user selected a specific chunk from results.</p> <p>This feedback improves future ranking for similar queries.</p> <p>Parameters:</p> Name Type Description Default <code>chunk_id</code> <code>str</code> <p>The chunk that was selected</p> required <code>query</code> <code>str</code> <p>The query that produced the results</p> required <code>session_id</code> <code>str</code> <p>Optional session identifier</p> <code>''</code> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def record_user_selection(self, chunk_id: str, query: str, session_id: str = \"\"):\n    \"\"\"\n    Record that a user selected a specific chunk from results.\n\n    This feedback improves future ranking for similar queries.\n\n    Args:\n        chunk_id: The chunk that was selected\n        query: The query that produced the results\n        session_id: Optional session identifier\n    \"\"\"\n    ranker = _get_intelligent_ranker(self.project_root)\n    if ranker:\n        ranker.record_selection(chunk_id, query, session_id=session_id)\n        logger.debug(f\"Recorded selection: {chunk_id} for query: {query[:50]}\")\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.retrieve_async","title":"<code>retrieve_async(query, n_results=10, expand_graph=True, file_filter=None, chunk_types=None)</code>  <code>async</code>","text":"<p>Async version of retrieve for non-blocking operations.</p> <p>Wraps ChromaDB calls in asyncio.to_thread for async compatibility.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>async def retrieve_async(\n    self,\n    query: str,\n    n_results: int = 10,\n    expand_graph: bool = True,\n    file_filter: str | None = None,\n    chunk_types: list[str] | None = None,\n) -&gt; list[RetrievalResult]:\n    \"\"\"\n    Async version of retrieve for non-blocking operations.\n\n    Wraps ChromaDB calls in asyncio.to_thread for async compatibility.\n    \"\"\"\n    import asyncio\n\n    def _sync_retrieve():\n        return self.retrieve(query, n_results, expand_graph, file_filter, chunk_types)\n\n    return await asyncio.to_thread(_sync_retrieve)\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.get_modification_context","title":"<code>get_modification_context(file_path, function_name=None, class_name=None)</code>","text":"<p>Get comprehensive context for modifying a specific code location.</p> <p>This is the \"smart\" entry point that returns: - The target chunk itself - Its callers (might break) - Its callees (need to understand interface) - Sibling methods (if in a class)</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>Relative path to the file</p> required <code>function_name</code> <code>str | None</code> <p>Name of function (optional)</p> <code>None</code> <code>class_name</code> <code>str | None</code> <p>Name of class (optional)</p> <code>None</code> <p>Returns:</p> Type Description <code>dict[str, list[RetrievalResult]]</code> <p>Dict with categorized context</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def get_modification_context(\n    self, file_path: str, function_name: str | None = None, class_name: str | None = None\n) -&gt; dict[str, list[RetrievalResult]]:\n    \"\"\"\n    Get comprehensive context for modifying a specific code location.\n\n    This is the \"smart\" entry point that returns:\n    - The target chunk itself\n    - Its callers (might break)\n    - Its callees (need to understand interface)\n    - Sibling methods (if in a class)\n\n    Args:\n        file_path: Relative path to the file\n        function_name: Name of function (optional)\n        class_name: Name of class (optional)\n\n    Returns:\n        Dict with categorized context\n    \"\"\"\n    result = {\"target\": [], \"callers\": [], \"callees\": [], \"siblings\": []}\n\n    if not self.graph:\n        return result\n\n    # Find target chunk\n    target_name = function_name or class_name\n    if not target_name:\n        return result\n\n    # Look up by name\n    candidates = self.graph.get_chunks_by_name(target_name)\n\n    # Filter by file path if provided\n    if file_path:\n        candidates = [c for c in candidates if file_path in c.file_path]\n\n    if not candidates:\n        return result\n\n    target = candidates[0]\n    result[\"target\"] = [RetrievalResult(chunk=target, score=1.0, retrieval_method=\"direct\")]\n\n    # Get context from graph\n    context = self.graph.get_context_for_modification(target.chunk_id)\n\n    for caller in context[\"callers\"]:\n        result[\"callers\"].append(\n            RetrievalResult(chunk=caller, score=0.8, retrieval_method=\"graph\")\n        )\n\n    for callee in context[\"callees\"]:\n        result[\"callees\"].append(\n            RetrievalResult(chunk=callee, score=0.7, retrieval_method=\"graph\")\n        )\n\n    for sibling in context[\"siblings\"]:\n        result[\"siblings\"].append(\n            RetrievalResult(chunk=sibling, score=0.6, retrieval_method=\"graph\")\n        )\n\n    return result\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.smart_expand","title":"<code>smart_expand(chunk_id, depth=2)</code>","text":"<p>On-demand deeper graph traversal (Agent-triggered \"smart jump\").</p> <p>When 1-layer expansion isn't enough, the agent can request deeper traversal for specific chunks.</p> <p>Parameters:</p> Name Type Description Default <code>chunk_id</code> <code>str</code> <p>The chunk to expand from</p> required <code>depth</code> <code>int</code> <p>How many layers to expand (default 2)</p> <code>2</code> <p>Returns:</p> Type Description <code>list[RetrievalResult]</code> <p>Additional context chunks</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def smart_expand(self, chunk_id: str, depth: int = 2) -&gt; list[RetrievalResult]:\n    \"\"\"\n    On-demand deeper graph traversal (Agent-triggered \"smart jump\").\n\n    When 1-layer expansion isn't enough, the agent can request\n    deeper traversal for specific chunks.\n\n    Args:\n        chunk_id: The chunk to expand from\n        depth: How many layers to expand (default 2)\n\n    Returns:\n        Additional context chunks\n    \"\"\"\n    if not self.graph:\n        return []\n\n    chunk = self.graph.get_chunk(chunk_id)\n    if not chunk:\n        return []\n\n    related = self.graph.get_related_chunks([chunk], depth=depth)\n\n    return [\n        RetrievalResult(\n            chunk=c,\n            score=0.4,  # Lower score for deep expansion\n            retrieval_method=\"smart_jump\",\n        )\n        for c in related\n    ]\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.generate_context_injection","title":"<code>generate_context_injection(query, max_tokens=4000, include_signatures_only=False)</code>","text":"<p>Generate context string for AI prompt injection.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>The current task or error</p> required <code>max_tokens</code> <code>int</code> <p>Maximum tokens (estimate: 4 chars = 1 token)</p> <code>4000</code> <code>include_signatures_only</code> <code>bool</code> <p>If True, only include function signatures</p> <code>False</code> <p>Returns:</p> Type Description <code>str</code> <p>Formatted context string ready for prompt injection</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>    def generate_context_injection(\n        self, query: str, max_tokens: int = 4000, include_signatures_only: bool = False\n    ) -&gt; str:\n        \"\"\"\n        Generate context string for AI prompt injection.\n\n        Args:\n            query: The current task or error\n            max_tokens: Maximum tokens (estimate: 4 chars = 1 token)\n            include_signatures_only: If True, only include function signatures\n\n        Returns:\n            Formatted context string ready for prompt injection\n        \"\"\"\n        results = self.retrieve(query, n_results=15, expand_graph=True)\n\n        if not results:\n            return \"\"\n\n        parts = [\"## \ud83d\udcda Relevant Code Context (RAG)\", \"\"]\n        current_chars = 0\n        max_chars = max_tokens * 4\n\n        for result in results:\n            chunk = result.chunk\n\n            # Use signature if available and requested\n            if include_signatures_only and chunk.signature:\n                content = chunk.signature\n            else:\n                content = chunk.content\n\n            # Format chunk\n            method_tag = f\"[{result.retrieval_method.upper()}]\"\n            location = f\"`{chunk.file_path}` \u2192 `{chunk.name}`\"\n            lines = f\"L{chunk.start_line}-{chunk.end_line}\"\n\n            chunk_content = f\"\"\"### {method_tag} {location} ({lines})\n```python\n{content}\n```\n\"\"\"\n            # Check token budget\n            chunk_chars = len(chunk_content)\n            if current_chars + chunk_chars &gt; max_chars:\n                break\n\n            parts.append(chunk_content)\n            current_chars += chunk_chars\n\n        return \"\\n\".join(parts)\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.get_stats","title":"<code>get_stats()</code>","text":"<p>Get combined RAG statistics.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def get_stats(self) -&gt; RAGStats:\n    \"\"\"Get combined RAG statistics.\"\"\"\n    return RAGStats(\n        index_stats=self.indexer.get_stats() if self.indexer else None,\n        graph_stats=self.graph.get_stats() if self.graph else None,\n        total_chunks_indexed=len(self._chunks),\n        last_index_time=datetime.now().isoformat() if self._chunks else None,\n        chroma_available=CHROMA_AVAILABLE,\n    )\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.update_file","title":"<code>update_file(file_path)</code>","text":"<p>Incrementally update index for a single changed file.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>Path</code> <p>Path to the modified file</p> required <p>Returns:</p> Type Description <code>int</code> <p>Number of chunks updated</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def update_file(self, file_path: Path) -&gt; int:\n    \"\"\"\n    Incrementally update index for a single changed file.\n\n    Args:\n        file_path: Path to the modified file\n\n    Returns:\n        Number of chunks updated\n    \"\"\"\n    if not self.is_available:\n        return 0\n\n    try:\n        rel_path = str(file_path.relative_to(self.project_root))\n        # Normalize to forward slashes for cross-platform consistency\n        rel_path = rel_path.replace(\"\\\\\", \"/\")\n    except ValueError:\n        rel_path = str(file_path).replace(\"\\\\\", \"/\")\n\n    # Remove old chunks for this file\n    old_chunk_ids = self._file_to_chunks.get(rel_path, [])\n    if old_chunk_ids:\n        try:\n            self.collection.delete(ids=old_chunk_ids)\n        except Exception as e:\n            logger.warning(f\"Failed to delete old chunks: {e}\")\n\n    # Re-index the file\n    try:\n        new_chunks = list(self.indexer.index_file(file_path))\n    except Exception as e:\n        logger.warning(f\"Failed to index {file_path}: {e}\")\n        return 0\n\n    if not new_chunks:\n        return 0\n\n    # Update in-memory structures\n    for chunk in new_chunks:\n        self._chunks[chunk.chunk_id] = chunk\n        if self.graph:\n            self.graph.add_chunk(chunk)\n\n    self._file_to_chunks[rel_path] = [c.chunk_id for c in new_chunks]\n\n    # Upsert to ChromaDB\n    try:\n        self.collection.upsert(\n            ids=[c.chunk_id for c in new_chunks],\n            documents=[self._chunk_to_document(c) for c in new_chunks],\n            metadatas=[self._chunk_to_metadata(c) for c in new_chunks],\n        )\n    except Exception as e:\n        logger.error(f\"Failed to upsert chunks: {e}\")\n        return 0\n\n    return len(new_chunks)\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGRetriever.clear","title":"<code>clear()</code>","text":"<p>Clear all indexed data.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def clear(self) -&gt; None:\n    \"\"\"Clear all indexed data.\"\"\"\n    if self.client and self.collection:\n        try:\n            self.client.delete_collection(self.collection_name)\n            self.collection = self.client.create_collection(\n                name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n            )\n        except Exception as e:\n            logger.error(f\"Failed to clear collection: {e}\")\n\n    self._chunks.clear()\n    self._file_to_chunks.clear()\n    self.graph = None\n</code></pre>"},{"location":"api/rag/#boring.rag.RAGStats","title":"<code>RAGStats</code>  <code>dataclass</code>","text":"<p>Combined statistics for RAG system.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>@dataclass\nclass RAGStats:\n    \"\"\"Combined statistics for RAG system.\"\"\"\n\n    index_stats: IndexStats | None = None\n    graph_stats: GraphStats | None = None\n    total_chunks_indexed: int = 0\n    last_index_time: str | None = None\n    chroma_available: bool = CHROMA_AVAILABLE\n    # V10.23: Session stats\n    session_context_active: bool = False\n    session_boosts_applied: int = 0\n</code></pre>"},{"location":"api/rag/#boring.rag.RetrievalResult","title":"<code>RetrievalResult</code>  <code>dataclass</code>","text":"<p>A retrieved code chunk with relevance info.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>@dataclass\nclass RetrievalResult:\n    \"\"\"A retrieved code chunk with relevance info.\"\"\"\n\n    chunk: CodeChunk\n    score: float\n    retrieval_method: str  # \"vector\", \"graph\", \"keyword\", \"session\"\n    distance: float | None = None\n    # V10.23: Enhanced metadata\n    session_boost: float = 0.0  # Boost from session context\n    task_relevance: float = 0.0  # Task-type relevance score\n</code></pre>"},{"location":"api/rag/#boring.rag.CrossEncoderReranker","title":"<code>CrossEncoderReranker</code>","text":"<p>Cross-encoder based reranker for high-precision code retrieval.</p> <p>Cross-encoders process query-document pairs jointly, allowing for deeper semantic understanding than bi-encoder approaches.</p> <p>Models: - ms-marco-MiniLM-L-6-v2: Fast, good for general text (default) - cross-encoder/ms-marco-TinyBERT-L-2: Ultra-fast - cross-encoder/stsb-roberta-base: Good for semantic similarity</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>class CrossEncoderReranker:\n    \"\"\"\n    Cross-encoder based reranker for high-precision code retrieval.\n\n    Cross-encoders process query-document pairs jointly, allowing for\n    deeper semantic understanding than bi-encoder approaches.\n\n    Models:\n    - ms-marco-MiniLM-L-6-v2: Fast, good for general text (default)\n    - cross-encoder/ms-marco-TinyBERT-L-2: Ultra-fast\n    - cross-encoder/stsb-roberta-base: Good for semantic similarity\n    \"\"\"\n\n    # Available models for different use cases\n    MODELS = {\n        \"fast\": \"cross-encoder/ms-marco-TinyBERT-L-2\",\n        \"balanced\": \"cross-encoder/ms-marco-MiniLM-L-6-v2\",\n        \"accurate\": \"cross-encoder/stsb-roberta-base\",\n    }\n\n    def __init__(self, model_name: str = \"balanced\", device: str = \"cpu\"):\n        \"\"\"\n        Initialize cross-encoder reranker.\n\n        Args:\n            model_name: Model preset (\"fast\", \"balanced\", \"accurate\") or HuggingFace model name\n            device: Device to use (\"cpu\", \"cuda\", \"mps\")\n        \"\"\"\n        self.model_name = self.MODELS.get(model_name, model_name)\n        self.device = device\n        self._model: Any | None = None\n        self._initialized = False\n\n    def _ensure_model(self) -&gt; bool:\n        \"\"\"Lazily initialize the model.\"\"\"\n        if self._initialized:\n            return self._model is not None\n\n        self._initialized = True\n\n        if not DependencyManager.check_chroma():\n            logger.debug(\n                \"CrossEncoder not available (sentence-transformers missing), using heuristic reranking\"\n            )\n            return False\n\n        try:\n            from sentence_transformers import CrossEncoder\n\n            self._model = CrossEncoder(self.model_name, device=self.device)\n            logger.info(f\"CrossEncoder initialized: {self.model_name}\")\n            return True\n        except Exception as e:\n            logger.warning(f\"Failed to load CrossEncoder: {e}\")\n            return False\n\n    def rerank(\n        self,\n        query: str,\n        documents: list[str],\n        original_scores: list[float],\n        top_k: int = 10,\n        weight_original: float = 0.3,\n    ) -&gt; list[tuple[int, RerankScore]]:\n        \"\"\"\n        Rerank documents using cross-encoder.\n\n        Args:\n            query: Search query\n            documents: List of document texts\n            original_scores: Original retrieval scores\n            top_k: Number of results to return\n            weight_original: Weight for original score in combination\n\n        Returns:\n            List of (original_index, RerankScore) sorted by combined score\n        \"\"\"\n        if not documents:\n            return []\n\n        if self._ensure_model():\n            return self._rerank_with_model(\n                query, documents, original_scores, top_k, weight_original\n            )\n        else:\n            return self._rerank_heuristic(query, documents, original_scores, top_k, weight_original)\n\n    def _rerank_with_model(\n        self,\n        query: str,\n        documents: list[str],\n        original_scores: list[float],\n        top_k: int,\n        weight_original: float,\n    ) -&gt; list[tuple[int, RerankScore]]:\n        \"\"\"Rerank using actual cross-encoder model.\"\"\"\n        # Create query-document pairs\n        pairs = [(query, doc) for doc in documents]\n\n        # Get cross-encoder scores\n        try:\n            scores = self._model.predict(pairs, show_progress_bar=False)\n        except Exception as e:\n            logger.warning(f\"Cross-encoder prediction failed: {e}\")\n            return self._rerank_heuristic(query, documents, original_scores, top_k, weight_original)\n\n        # Normalize scores to [0, 1]\n        min_score = min(scores)\n        max_score = max(scores)\n        range_score = max_score - min_score if max_score &gt; min_score else 1.0\n        normalized_scores = [(s - min_score) / range_score for s in scores]\n\n        # Combine with original scores\n        results = []\n        for i, (rerank_score, orig_score) in enumerate(\n            zip(normalized_scores, original_scores, strict=True)\n        ):\n            combined = (1 - weight_original) * rerank_score + weight_original * orig_score\n            results.append(\n                (\n                    i,\n                    RerankScore(\n                        original_score=orig_score,\n                        rerank_score=rerank_score,\n                        combined_score=combined,\n                        confidence=0.9,\n                        method=\"cross_encoder\",\n                    ),\n                )\n            )\n\n        # Sort by combined score\n        results.sort(key=lambda x: x[1].combined_score, reverse=True)\n        return results[:top_k]\n\n    def _rerank_heuristic(\n        self,\n        query: str,\n        documents: list[str],\n        original_scores: list[float],\n        top_k: int,\n        weight_original: float,\n    ) -&gt; list[tuple[int, RerankScore]]:\n        \"\"\"Heuristic reranking when cross-encoder unavailable.\"\"\"\n        query_lower = query.lower()\n        query_terms = set(query_lower.split())\n\n        results = []\n        for i, (doc, orig_score) in enumerate(zip(documents, original_scores, strict=True)):\n            doc_lower = doc.lower()\n\n            # Heuristic scoring factors\n            factors = []\n\n            # 1. Exact phrase match (strongest signal)\n            if query_lower in doc_lower:\n                factors.append(0.4)\n\n            # 2. Term coverage\n            matching_terms = sum(1 for term in query_terms if term in doc_lower)\n            term_coverage = matching_terms / len(query_terms) if query_terms else 0\n            factors.append(term_coverage * 0.3)\n\n            # 3. Position of first match (earlier is better)\n            first_match_pos = min(\n                (doc_lower.find(term) for term in query_terms if term in doc_lower),\n                default=len(doc_lower),\n            )\n            position_score = 1.0 - (first_match_pos / len(doc_lower)) if doc_lower else 0\n            factors.append(position_score * 0.2)\n\n            # 4. Length penalty (very long docs might be less relevant)\n            length_penalty = min(1.0, 500 / max(len(doc), 1))\n            factors.append(length_penalty * 0.1)\n\n            # Combine factors\n            rerank_score = sum(factors)\n            combined = (1 - weight_original) * rerank_score + weight_original * orig_score\n\n            results.append(\n                (\n                    i,\n                    RerankScore(\n                        original_score=orig_score,\n                        rerank_score=rerank_score,\n                        combined_score=combined,\n                        confidence=0.6,\n                        method=\"heuristic\",\n                    ),\n                )\n            )\n\n        results.sort(key=lambda x: x[1].combined_score, reverse=True)\n        return results[:top_k]\n</code></pre>"},{"location":"api/rag/#boring.rag.CrossEncoderReranker.__init__","title":"<code>__init__(model_name='balanced', device='cpu')</code>","text":"<p>Initialize cross-encoder reranker.</p> <p>Parameters:</p> Name Type Description Default <code>model_name</code> <code>str</code> <p>Model preset (\"fast\", \"balanced\", \"accurate\") or HuggingFace model name</p> <code>'balanced'</code> <code>device</code> <code>str</code> <p>Device to use (\"cpu\", \"cuda\", \"mps\")</p> <code>'cpu'</code> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def __init__(self, model_name: str = \"balanced\", device: str = \"cpu\"):\n    \"\"\"\n    Initialize cross-encoder reranker.\n\n    Args:\n        model_name: Model preset (\"fast\", \"balanced\", \"accurate\") or HuggingFace model name\n        device: Device to use (\"cpu\", \"cuda\", \"mps\")\n    \"\"\"\n    self.model_name = self.MODELS.get(model_name, model_name)\n    self.device = device\n    self._model: Any | None = None\n    self._initialized = False\n</code></pre>"},{"location":"api/rag/#boring.rag.CrossEncoderReranker.rerank","title":"<code>rerank(query, documents, original_scores, top_k=10, weight_original=0.3)</code>","text":"<p>Rerank documents using cross-encoder.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Search query</p> required <code>documents</code> <code>list[str]</code> <p>List of document texts</p> required <code>original_scores</code> <code>list[float]</code> <p>Original retrieval scores</p> required <code>top_k</code> <code>int</code> <p>Number of results to return</p> <code>10</code> <code>weight_original</code> <code>float</code> <p>Weight for original score in combination</p> <code>0.3</code> <p>Returns:</p> Type Description <code>list[tuple[int, RerankScore]]</code> <p>List of (original_index, RerankScore) sorted by combined score</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def rerank(\n    self,\n    query: str,\n    documents: list[str],\n    original_scores: list[float],\n    top_k: int = 10,\n    weight_original: float = 0.3,\n) -&gt; list[tuple[int, RerankScore]]:\n    \"\"\"\n    Rerank documents using cross-encoder.\n\n    Args:\n        query: Search query\n        documents: List of document texts\n        original_scores: Original retrieval scores\n        top_k: Number of results to return\n        weight_original: Weight for original score in combination\n\n    Returns:\n        List of (original_index, RerankScore) sorted by combined score\n    \"\"\"\n    if not documents:\n        return []\n\n    if self._ensure_model():\n        return self._rerank_with_model(\n            query, documents, original_scores, top_k, weight_original\n        )\n    else:\n        return self._rerank_heuristic(query, documents, original_scores, top_k, weight_original)\n</code></pre>"},{"location":"api/rag/#boring.rag.EnsembleReranker","title":"<code>EnsembleReranker</code>","text":"<p>Ensemble reranker combining multiple signals.</p> <p>Combines: 1. Cross-encoder/heuristic scores 2. Keyword matching 3. Code structure analysis 4. Usage patterns (from IntelligentRanker)</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>class EnsembleReranker:\n    \"\"\"\n    Ensemble reranker combining multiple signals.\n\n    Combines:\n    1. Cross-encoder/heuristic scores\n    2. Keyword matching\n    3. Code structure analysis\n    4. Usage patterns (from IntelligentRanker)\n    \"\"\"\n\n    def __init__(self, weights: dict[str, float] | None = None):\n        \"\"\"\n        Initialize ensemble reranker.\n\n        Args:\n            weights: Custom weights for each signal\n        \"\"\"\n        self.weights = weights or {\n            \"semantic\": 0.35,\n            \"keyword\": 0.25,\n            \"structure\": 0.20,\n            \"usage\": 0.20,\n        }\n        self.cross_encoder = CrossEncoderReranker()\n\n    def rerank(\n        self,\n        query: str,\n        chunks: list,  # list of CodeChunk or similar\n        original_scores: list[float],\n        usage_scores: dict[str, float] | None = None,\n        top_k: int = 10,\n    ) -&gt; list[tuple[int, float]]:\n        \"\"\"\n        Rerank using ensemble of signals.\n\n        Args:\n            query: Search query\n            chunks: List of code chunks with content and metadata\n            original_scores: Original retrieval scores\n            usage_scores: Optional usage-based scores from IntelligentRanker\n            top_k: Number of results to return\n\n        Returns:\n            List of (original_index, final_score) sorted by score\n        \"\"\"\n        if not chunks:\n            return []\n\n        documents = [self._chunk_to_text(chunk) for chunk in chunks]\n\n        # 1. Get semantic/cross-encoder scores\n        ce_results = self.cross_encoder.rerank(query, documents, original_scores, top_k=len(chunks))\n        semantic_scores = {idx: score.rerank_score for idx, score in ce_results}\n\n        # 2. Keyword matching scores\n        keyword_scores = self._compute_keyword_scores(query, chunks)\n\n        # 3. Structure scores\n        structure_scores = self._compute_structure_scores(query, chunks)\n\n        # 4. Usage scores (if provided)\n        usage_scores = usage_scores or {}\n\n        # Combine all signals\n        final_scores = []\n        for i, chunk in enumerate(chunks):\n            chunk_id = getattr(chunk, \"chunk_id\", str(i))\n\n            combined = (\n                self.weights[\"semantic\"] * semantic_scores.get(i, 0)\n                + self.weights[\"keyword\"] * keyword_scores.get(i, 0)\n                + self.weights[\"structure\"] * structure_scores.get(i, 0)\n                + self.weights[\"usage\"] * usage_scores.get(chunk_id, 0.5)\n            )\n\n            final_scores.append((i, combined))\n\n        final_scores.sort(key=lambda x: x[1], reverse=True)\n        return final_scores[:top_k]\n\n    def _chunk_to_text(self, chunk) -&gt; str:\n        \"\"\"Convert chunk to searchable text.\"\"\"\n        parts = []\n\n        if hasattr(chunk, \"name\") and chunk.name:\n            parts.append(f\"Name: {chunk.name}\")\n\n        if hasattr(chunk, \"signature\") and chunk.signature:\n            parts.append(f\"Signature: {chunk.signature}\")\n\n        if hasattr(chunk, \"docstring\") and chunk.docstring:\n            parts.append(f\"Doc: {chunk.docstring}\")\n\n        if hasattr(chunk, \"content\") and chunk.content:\n            # Limit content length\n            content = chunk.content[:500]\n            parts.append(f\"Code: {content}\")\n\n        return \"\\n\".join(parts)\n\n    def _compute_keyword_scores(self, query: str, chunks: list) -&gt; dict[int, float]:\n        \"\"\"Compute keyword matching scores.\"\"\"\n        query_terms = set(query.lower().split())\n        scores = {}\n\n        for i, chunk in enumerate(chunks):\n            text = self._chunk_to_text(chunk).lower()\n\n            matching = sum(1 for term in query_terms if term in text)\n            scores[i] = matching / len(query_terms) if query_terms else 0\n\n        return scores\n\n    def _compute_structure_scores(self, query: str, chunks: list) -&gt; dict[int, float]:\n        \"\"\"Compute code structure relevance scores.\"\"\"\n        scores = {}\n        query_lower = query.lower()\n\n        # Determine expected chunk types from query\n        expected_types = []\n        if any(kw in query_lower for kw in [\"class\", \"model\", \"schema\"]):\n            expected_types.append(\"class\")\n        if any(kw in query_lower for kw in [\"function\", \"method\", \"def\"]):\n            expected_types.extend([\"function\", \"method\"])\n        if any(kw in query_lower for kw in [\"test\", \"spec\"]):\n            expected_types.append(\"function\")  # Tests are usually functions\n\n        for i, chunk in enumerate(chunks):\n            score = 0.5  # Default\n\n            chunk_type = getattr(chunk, \"chunk_type\", \"\")\n\n            # Boost for matching chunk type\n            if expected_types and chunk_type in expected_types:\n                score += 0.3\n\n            # Boost for docstring presence\n            if hasattr(chunk, \"docstring\") and chunk.docstring:\n                score += 0.1\n\n            # Boost for reasonable size\n            if hasattr(chunk, \"content\"):\n                length = len(chunk.content)\n                if 50 &lt; length &lt; 500:  # Sweet spot\n                    score += 0.1\n\n            scores[i] = min(1.0, score)\n\n        return scores\n</code></pre>"},{"location":"api/rag/#boring.rag.EnsembleReranker.__init__","title":"<code>__init__(weights=None)</code>","text":"<p>Initialize ensemble reranker.</p> <p>Parameters:</p> Name Type Description Default <code>weights</code> <code>dict[str, float] | None</code> <p>Custom weights for each signal</p> <code>None</code> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def __init__(self, weights: dict[str, float] | None = None):\n    \"\"\"\n    Initialize ensemble reranker.\n\n    Args:\n        weights: Custom weights for each signal\n    \"\"\"\n    self.weights = weights or {\n        \"semantic\": 0.35,\n        \"keyword\": 0.25,\n        \"structure\": 0.20,\n        \"usage\": 0.20,\n    }\n    self.cross_encoder = CrossEncoderReranker()\n</code></pre>"},{"location":"api/rag/#boring.rag.EnsembleReranker.rerank","title":"<code>rerank(query, chunks, original_scores, usage_scores=None, top_k=10)</code>","text":"<p>Rerank using ensemble of signals.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Search query</p> required <code>chunks</code> <code>list</code> <p>List of code chunks with content and metadata</p> required <code>original_scores</code> <code>list[float]</code> <p>Original retrieval scores</p> required <code>usage_scores</code> <code>dict[str, float] | None</code> <p>Optional usage-based scores from IntelligentRanker</p> <code>None</code> <code>top_k</code> <code>int</code> <p>Number of results to return</p> <code>10</code> <p>Returns:</p> Type Description <code>list[tuple[int, float]]</code> <p>List of (original_index, final_score) sorted by score</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def rerank(\n    self,\n    query: str,\n    chunks: list,  # list of CodeChunk or similar\n    original_scores: list[float],\n    usage_scores: dict[str, float] | None = None,\n    top_k: int = 10,\n) -&gt; list[tuple[int, float]]:\n    \"\"\"\n    Rerank using ensemble of signals.\n\n    Args:\n        query: Search query\n        chunks: List of code chunks with content and metadata\n        original_scores: Original retrieval scores\n        usage_scores: Optional usage-based scores from IntelligentRanker\n        top_k: Number of results to return\n\n    Returns:\n        List of (original_index, final_score) sorted by score\n    \"\"\"\n    if not chunks:\n        return []\n\n    documents = [self._chunk_to_text(chunk) for chunk in chunks]\n\n    # 1. Get semantic/cross-encoder scores\n    ce_results = self.cross_encoder.rerank(query, documents, original_scores, top_k=len(chunks))\n    semantic_scores = {idx: score.rerank_score for idx, score in ce_results}\n\n    # 2. Keyword matching scores\n    keyword_scores = self._compute_keyword_scores(query, chunks)\n\n    # 3. Structure scores\n    structure_scores = self._compute_structure_scores(query, chunks)\n\n    # 4. Usage scores (if provided)\n    usage_scores = usage_scores or {}\n\n    # Combine all signals\n    final_scores = []\n    for i, chunk in enumerate(chunks):\n        chunk_id = getattr(chunk, \"chunk_id\", str(i))\n\n        combined = (\n            self.weights[\"semantic\"] * semantic_scores.get(i, 0)\n            + self.weights[\"keyword\"] * keyword_scores.get(i, 0)\n            + self.weights[\"structure\"] * structure_scores.get(i, 0)\n            + self.weights[\"usage\"] * usage_scores.get(chunk_id, 0.5)\n        )\n\n        final_scores.append((i, combined))\n\n    final_scores.sort(key=lambda x: x[1], reverse=True)\n    return final_scores[:top_k]\n</code></pre>"},{"location":"api/rag/#boring.rag.RerankScore","title":"<code>RerankScore</code>  <code>dataclass</code>","text":"<p>Score from cross-encoder reranking.</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>@dataclass\nclass RerankScore:\n    \"\"\"Score from cross-encoder reranking.\"\"\"\n\n    original_score: float\n    rerank_score: float\n    combined_score: float\n    confidence: float\n    method: str  # \"cross_encoder\", \"heuristic\", \"ensemble\"\n</code></pre>"},{"location":"api/rag/#boring.rag.expand_query_with_hyde","title":"<code>expand_query_with_hyde(query, use_llm=False)</code>","text":"<p>Convenience function to expand a query using HyDE.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Natural language query</p> required <code>use_llm</code> <code>bool</code> <p>Whether to use LLM for generation</p> <code>False</code> <p>Returns:</p> Type Description <code>HyDEResult</code> <p>HyDEResult with hypothetical document</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>def expand_query_with_hyde(query: str, use_llm: bool = False) -&gt; HyDEResult:\n    \"\"\"\n    Convenience function to expand a query using HyDE.\n\n    Args:\n        query: Natural language query\n        use_llm: Whether to use LLM for generation\n\n    Returns:\n        HyDEResult with hypothetical document\n    \"\"\"\n    expander = get_hyde_expander(use_llm)\n    return expander.expand_query(query)\n</code></pre>"},{"location":"api/rag/#boring.rag.create_rag_retriever","title":"<code>create_rag_retriever(project_root=None, persist_dir=None)</code>","text":"<p>Factory function to create RAGRetriever with standard project paths.</p> <p>Parameters:</p> Name Type Description Default <code>project_root</code> <code>Path | None</code> <p>Project root directory</p> <code>None</code> <code>persist_dir</code> <code>Path | None</code> <p>Optional custom persist directory</p> <code>None</code> <p>Returns:</p> Type Description <code>RAGRetriever</code> <p>RAGRetriever instance</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def create_rag_retriever(\n    project_root: Path | None = None, persist_dir: Path | None = None\n) -&gt; RAGRetriever:\n    \"\"\"\n    Factory function to create RAGRetriever with standard project paths.\n\n    Args:\n        project_root: Project root directory\n        persist_dir: Optional custom persist directory\n\n    Returns:\n        RAGRetriever instance\n    \"\"\"\n    if project_root is None:\n        project_root = Path.cwd()\n\n    return RAGRetriever(project_root=project_root, persist_dir=persist_dir)\n</code></pre>"},{"location":"api/rag_zh/","title":"RAG \u8207\u8a18\u61b6 API \u53c3\u8003","text":""},{"location":"api/rag_zh/#boring.rag","title":"<code>boring.rag</code>","text":"<p>RAG (Retrieval-Augmented Generation) System for Boring V10.24</p> <p>Components: - CodeIndexer: AST-based Python code chunking - DependencyGraph: Function/class call graph - RAGRetriever: Hybrid search (vector + graph) - HyDEExpander: Query expansion with hypothetical documents (V10.24 NEW) - CrossEncoderReranker: High-precision reranking (V10.24 NEW) - EnsembleReranker: Multi-signal reranking (V10.24 NEW)</p> <p>V10.24 Key Enhancements: - HyDE: Generate hypothetical code for better semantic matching (+15-20% accuracy) - Cross-Encoder Reranking: Fine-grained relevance scoring (+10-15% precision) - Ensemble Reranking: Combine semantic, keyword, structure, and usage signals</p> Usage <p>from boring.rag import RAGRetriever, create_rag_retriever from boring.rag import HyDEExpander, CrossEncoderReranker</p> <p>retriever = create_rag_retriever(project_root) retriever.build_index()</p>"},{"location":"api/rag_zh/#boring.rag--basic-retrieval","title":"Basic retrieval","text":"<p>results = retriever.retrieve(\"authentication error handling\")</p>"},{"location":"api/rag_zh/#boring.rag--with-hyde-expansion","title":"With HyDE expansion","text":"<p>hyde = HyDEExpander() expanded = hyde.expand_query(\"how to handle login errors\") results = retriever.retrieve(expanded.hypothetical_document)</p>"},{"location":"api/rag_zh/#boring.rag--with-cross-encoder-reranking","title":"With cross-encoder reranking","text":"<p>reranker = CrossEncoderReranker() reranked = reranker.rerank(query, [r.chunk.content for r in results], [r.score for r in results])</p>"},{"location":"api/rag_zh/#boring.rag.CodeChunk","title":"<code>CodeChunk</code>  <code>dataclass</code>","text":"<p>A semantic chunk of code for embedding.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>@dataclass\nclass CodeChunk:\n    \"\"\"A semantic chunk of code for embedding.\"\"\"\n\n    chunk_id: str\n    file_path: str\n    chunk_type: str  # \"function\", \"class\", \"imports\", \"module_doc\", \"interface\", \"type_alias\"\n    name: str\n    content: str\n    start_line: int\n    end_line: int\n    dependencies: list[str] = field(default_factory=list)  # Functions/classes this chunk calls\n    parent: str | None = None  # Parent class if method\n    receiver: str | None = None  # Go method receiver type (V11.0)\n    signature: str | None = None  # Function/class signature for quick reference\n    docstring: str | None = None\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CodeIndexer","title":"<code>CodeIndexer</code>","text":"<p>Parse Python files and extract semantic chunks.</p> <p>Features: - AST-based parsing for accurate structure extraction - Dependency tracking (what each function calls) - Configurable chunk size limits</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>class CodeIndexer:\n    \"\"\"\n    Parse Python files and extract semantic chunks.\n\n    Features:\n    - AST-based parsing for accurate structure extraction\n    - Dependency tracking (what each function calls)\n    - Configurable chunk size limits\n    \"\"\"\n\n    SUPPORTED_EXTENSIONS: set[str] = {\n        \".py\",\n        \".js\",\n        \".jsx\",\n        \".ts\",\n        \".tsx\",\n        \".go\",\n        \".rs\",\n        \".c\",\n        \".cpp\",\n        \".h\",\n        \".hpp\",\n        \".java\",\n        \".md\",\n    }\n\n    IGNORED_DIRS: set[str] = {\n        \".git\",\n        \"__pycache__\",\n        \"node_modules\",\n        \".venv\",\n        \"venv\",\n        \"htmlcov\",\n        \".pytest_cache\",\n        \".mypy_cache\",\n        \".ruff_cache\",\n        \"dist\",\n        \"build\",\n        \"*.egg-info\",\n        \".boring_memory\",\n    }\n\n    IGNORED_DIRS: set[str] = {\n        \".git\",\n        \"__pycache__\",\n        \"node_modules\",\n        \".venv\",\n        \"venv\",\n        \"htmlcov\",\n        \".pytest_cache\",\n        \".mypy_cache\",\n        \".ruff_cache\",\n        \"dist\",\n        \"build\",\n        \"*.egg-info\",\n        \".boring_memory\",\n    }\n\n    def __init__(\n        self, project_root: Path, max_chunk_tokens: int = 500, include_init_files: bool = False\n    ):\n        self.project_root = Path(project_root)\n        self.max_chunk_tokens = max_chunk_tokens\n        self.include_init_files = include_init_files\n        self.stats = IndexStats()\n\n    def get_changed_files(self, since_commit: str) -&gt; list[Path]:\n        \"\"\"\n        Identify files changed between since_commit and HEAD.\n\n        Args:\n            since_commit: Git commit hash to compare against HEAD.\n\n        Returns:\n            List of absolute paths to changed files.\n        \"\"\"\n        try:\n            import subprocess\n\n            # Check if this is a git repo\n            if not (self.project_root / \".git\").exists():\n                return self.collect_files()\n\n            # Run git diff\n            cmd = [\"git\", \"diff\", \"--name-only\", \"--diff-filter=ACMRT\", since_commit, \"HEAD\"]\n            result = subprocess.run(\n                cmd, cwd=self.project_root, capture_output=True, text=True, check=True\n            )\n\n            changed_paths = []\n            for line in result.stdout.splitlines():\n                if not line.strip():\n                    continue\n                full_path = self.project_root / line.strip()\n                if full_path.exists() and not self._should_skip_path(full_path):\n                    changed_paths.append(full_path)\n\n            return changed_paths\n        except Exception as e:\n            logger.warning(f\"Git diff failed, falling back to full scan: {e}\")\n            return self.collect_files()\n\n    def collect_files(self) -&gt; list[Path]:\n        \"\"\"\n        Collect all files that should be indexed.\n\n        Returns:\n            List of Path objects for all indexable files in the project.\n        \"\"\"\n        files = []\n        for root, dirs, filenames in os.walk(self.project_root):\n            # Skip hidden directories and those in ignore list\n            dirs[:] = [d for d in dirs if not self._should_skip_dir(d)]\n\n            for filename in filenames:\n                file_path = Path(root) / filename\n                if self._should_skip_path(file_path):\n                    continue\n                files.append(file_path)\n        return files\n\n    def index_project(self, files_to_index: list[Path] | None = None) -&gt; Iterator[CodeChunk]:\n        \"\"\"\n        Index files in the project.\n\n        Args:\n            files_to_index: Optional list of files to process. If None, scans all.\n\n        Yields:\n            CodeChunk objects for each semantic unit\n        \"\"\"\n        self.stats = IndexStats()\n\n        target_files = files_to_index if files_to_index is not None else self.collect_files()\n\n        for file_path in target_files:\n            try:\n                for chunk in self.index_file(file_path):\n                    self.stats.total_chunks += 1\n                    yield chunk\n            except Exception as e:\n                logger.warning(f\"Failed to index {file_path}: {e}\")\n                self.stats.skipped_files += 1\n\n    def index_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n        \"\"\"\n        Extract chunks from a file (AST for Python, line-based for others).\n        \"\"\"\n        if file_path.suffix.lower() == \".py\":\n            yield from self._index_python_file(file_path)\n        else:\n            yield from self._index_universal_file(file_path)\n\n    def _should_skip_dir(self, dir_name: str) -&gt; bool:\n        \"\"\"Helper to check if a directory should be skipped during walk.\"\"\"\n        return dir_name in self.IGNORED_DIRS or any(\n            dir_name.endswith(ex[1:]) for ex in self.IGNORED_DIRS if ex.startswith(\"*\")\n        )\n\n    def _get_rel_path(self, file_path: Path) -&gt; str:\n        \"\"\"Get relative path from project root.\"\"\"\n        try:\n            rel_path = str(file_path.relative_to(self.project_root))\n            return rel_path.replace(\"\\\\\", \"/\")\n        except ValueError:\n            return str(file_path).replace(\"\\\\\", \"/\")\n\n    def _index_universal_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n        \"\"\"\n        Smart chunking for non-Python files using Tree-sitter or regex fallback.\n        Supports C-style languages (JS, TS, Java, C++, Go, Rust) and Markdown.\n\n        V11.0: Enhanced to capture interface, type_alias, namespace, and Go method receivers.\n        \"\"\"\n        import re\n\n        try:\n            from .parser import TreeSitterParser\n\n            ts_parser = TreeSitterParser()\n        except ImportError:\n            ts_parser = None\n\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n        except Exception as e:\n            logger.debug(f\"Error reading {file_path}: {e}\")\n            return\n\n        rel_path = self._get_rel_path(file_path)\n\n        # 1. Try Tree-sitter Parsing (V11.0 Enhanced)\n        if ts_parser and ts_parser.is_available():\n            ts_chunks = ts_parser.parse_file(file_path)\n            if ts_chunks:\n                for chunk in ts_chunks:\n                    # V11.0: Map parser chunk types to indexer chunk types\n                    chunk_type_map = {\n                        \"function\": \"code_function\",\n                        \"class\": \"code_class\",\n                        \"method\": \"code_method\",\n                        \"interface\": \"code_interface\",\n                        \"type_alias\": \"code_type_alias\",\n                        \"namespace\": \"code_namespace\",\n                    }\n                    mapped_type = chunk_type_map.get(chunk.type, f\"code_{chunk.type}\")\n\n                    yield CodeChunk(\n                        chunk_id=self._make_id(rel_path, f\"{chunk.type}_{chunk.name}\"),\n                        file_path=rel_path,\n                        chunk_type=mapped_type,\n                        name=chunk.name,\n                        content=chunk.content,\n                        start_line=chunk.start_line,\n                        end_line=chunk.end_line,\n                        receiver=getattr(chunk, \"receiver\", None),  # V11.0: Go method receiver\n                    )\n                # If we got chunks, assume we handled the file well enough (for now).\n                # Optionally we could index the gaps as well, but definitions are key.\n                return\n\n        # 2. Fallback to Smart Regex Chunking (if Tree-sitter unavailable or unsupported language)\n        lines = content.splitlines()\n\n        # Regex patterns for common block starts\n        # C/C++/Java/JS/TS/Go/Rust function/class definitions\n        block_start = re.compile(\n            r\"^\\s*(?:export\\s+)?(?:public\\s+|private\\s+|protected\\s+)?(?:async\\s+)?(?:func|function|class|interface|struct|impl|const|let|var|type|def)\\s+([a-zA-Z0-9_]+)\"\n        )\n        # Markdown headers\n        md_header = re.compile(r\"^#{1,3}\\s+(.+)\")\n\n        current_chunk_lines = []\n        current_start_line = 1\n        current_name = file_path.name\n\n        for i, line in enumerate(lines):\n            line_num = i + 1\n\n            # Check for new block start if current chunk is getting big enough\n            # or if we are just starting\n            is_start = block_start.match(line) or md_header.match(line)\n\n            # Decide to yield current chunk\n            # 1. New block detected AND current chunk is substantial (&gt;5 lines)\n            # 2. Current chunk is too big (&gt;50 lines)\n            if (is_start and len(current_chunk_lines) &gt; 5) or len(current_chunk_lines) &gt;= 50:\n                if current_chunk_lines:\n                    # Yield previous chunk\n                    chunk_content = \"\\n\".join(current_chunk_lines)\n                    yield CodeChunk(\n                        chunk_id=self._make_id(rel_path, f\"chunk_{current_start_line}\"),\n                        file_path=rel_path,\n                        chunk_type=\"code_block\",\n                        name=current_name,\n                        content=chunk_content,\n                        start_line=current_start_line,\n                        end_line=line_num - 1,\n                    )\n                    current_chunk_lines = []\n                    current_start_line = line_num\n\n                    if is_start:\n                        current_name = is_start.group(1)\n\n            current_chunk_lines.append(line)\n\n            # If we matched a block start, update name for the *current* accumulating chunk\n            if is_start and len(current_chunk_lines) == 1:\n                current_name = is_start.group(1)\n\n        # Yield remaining\n        if current_chunk_lines:\n            yield CodeChunk(\n                chunk_id=self._make_id(rel_path, f\"chunk_{current_start_line}\"),\n                file_path=rel_path,\n                chunk_type=\"code_block\",\n                name=current_name,\n                content=\"\\n\".join(current_chunk_lines),\n                start_line=current_start_line,\n                end_line=len(lines),\n            )\n\n    def _index_python_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n        \"\"\"Extract chunks from a single Python file using AST.\"\"\"\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n            tree = ast.parse(content)\n        except (SyntaxError, UnicodeDecodeError) as e:\n            logger.debug(f\"Error parsing {file_path}: {e}\")\n            return\n\n        rel_path = self._get_rel_path(file_path)\n        lines = content.splitlines()\n\n        # 1. Module docstring\n        module_doc = ast.get_docstring(tree)\n        if module_doc:\n            yield CodeChunk(\n                chunk_id=self._make_id(rel_path, \"module_doc\"),\n                file_path=rel_path,\n                chunk_type=\"module_doc\",\n                name=file_path.stem,\n                content=module_doc,\n                start_line=1,\n                end_line=self._get_docstring_end_line(tree),\n                docstring=module_doc,\n            )\n\n        # 2. Top-level imports (as a single chunk)\n        imports = self._extract_imports(tree, lines)\n        if imports:\n            yield CodeChunk(\n                chunk_id=self._make_id(rel_path, \"imports\"),\n                file_path=rel_path,\n                chunk_type=\"imports\",\n                name=\"imports\",\n                content=imports[\"content\"],\n                start_line=imports[\"start\"],\n                end_line=imports[\"end\"],\n                dependencies=imports[\"modules\"],\n            )\n\n        # 3. Top-level functions and classes\n        covered_lines = set()\n        if module_doc:\n            covered_lines.update(range(1, self._get_docstring_end_line(tree) + 1))\n        if imports:\n            covered_lines.update(range(imports[\"start\"], imports[\"end\"] + 1))\n\n        for node in ast.iter_child_nodes(tree):\n            if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):\n                self.stats.functions += 1\n                chunk = self._chunk_from_function(node, rel_path, lines)\n                covered_lines.update(range(chunk.start_line, chunk.end_line + 1))\n                yield chunk\n\n            elif isinstance(node, ast.ClassDef):\n                self.stats.classes += 1\n                # Yield class header\n                chunk = self._chunk_from_class(node, rel_path, lines)\n                # Note: header covered lines\n                covered_lines.update(range(chunk.start_line, chunk.end_line + 1))\n                yield chunk\n\n                # Yield methods separately\n                for method in node.body:\n                    if isinstance(method, (ast.FunctionDef, ast.AsyncFunctionDef)):\n                        self.stats.methods += 1\n                        m_chunk = self._chunk_from_function(\n                            method, rel_path, lines, parent=node.name\n                        )\n                        covered_lines.update(range(m_chunk.start_line, m_chunk.end_line + 1))\n                        yield m_chunk\n\n        # 4. Fallback: Capture remaining top-level code as \"script\" chunks\n        script_code_chunks = self._extract_script_chunks(tree, lines, covered_lines, rel_path)\n        for chunk in script_code_chunks:\n            self.stats.script_chunks += 1\n            yield chunk\n\n    def _chunk_from_function(\n        self, node: ast.FunctionDef, file_path: str, lines: list[str], parent: str | None = None\n    ) -&gt; CodeChunk:\n        \"\"\"Create chunk from function definition.\"\"\"\n        start = node.lineno - 1\n        end = node.end_lineno or (start + 1)\n        content = \"\\n\".join(lines[start:end])\n\n        # Extract function signature\n        sig_end = start\n        for i, line in enumerate(lines[start:end]):\n            if \":\" in line and not line.strip().startswith(\"#\"):\n                sig_end = start + i\n                break\n        signature = \"\\n\".join(lines[start : sig_end + 1])\n\n        # Extract docstring\n        docstring = ast.get_docstring(node)\n\n        # Extract function calls (dependencies)\n        deps = self._extract_dependencies(node)\n\n        # Build qualified name\n        name = f\"{parent}.{node.name}\" if parent else node.name\n\n        return CodeChunk(\n            chunk_id=self._make_id(file_path, name),\n            file_path=file_path,\n            chunk_type=\"method\" if parent else \"function\",\n            name=node.name,\n            content=content,\n            start_line=node.lineno,\n            end_line=end,\n            dependencies=deps,\n            parent=parent,\n            signature=signature.strip(),\n            docstring=docstring,\n        )\n\n    def _chunk_from_class(self, node: ast.ClassDef, file_path: str, lines: list[str]) -&gt; CodeChunk:\n        \"\"\"\n        Create chunk from class definition (header + docstring only).\n        Methods are extracted separately.\n        \"\"\"\n        start = node.lineno - 1\n\n        # Find where the class header ends (before first method)\n        class_header_end = start + 1\n        for child in node.body:\n            if isinstance(child, ast.Expr) and isinstance(child.value, ast.Constant):\n                # Docstring\n                class_header_end = child.end_lineno or class_header_end\n            elif isinstance(child, (ast.FunctionDef, ast.AsyncFunctionDef)):\n                # First method - stop before it\n                break\n            elif isinstance(child, ast.Assign):\n                # Class variable\n                class_header_end = child.end_lineno or class_header_end\n\n        content = \"\\n\".join(lines[start:class_header_end])\n\n        # Extract base classes\n        bases = []\n        for base in node.bases:\n            if isinstance(base, ast.Name):\n                bases.append(base.id)\n            elif isinstance(base, ast.Attribute):\n                bases.append(base.attr)\n\n        return CodeChunk(\n            chunk_id=self._make_id(file_path, node.name),\n            file_path=file_path,\n            chunk_type=\"class\",\n            name=node.name,\n            content=content,\n            start_line=node.lineno,\n            end_line=class_header_end,\n            dependencies=bases,  # Base classes as dependencies\n            docstring=ast.get_docstring(node),\n        )\n\n    def _extract_dependencies(self, node: ast.AST) -&gt; list[str]:\n        \"\"\"Extract all function/method calls within a node.\"\"\"\n        deps: set[str] = set()\n\n        for child in ast.walk(node):\n            if isinstance(child, ast.Call):\n                # Direct function call: func()\n                if isinstance(child.func, ast.Name):\n                    deps.add(child.func.id)\n                # Method call: obj.method()\n                elif isinstance(child.func, ast.Attribute):\n                    deps.add(child.func.attr)\n\n        # Filter out builtins and common functions\n        builtins = {\n            \"print\",\n            \"len\",\n            \"str\",\n            \"int\",\n            \"float\",\n            \"list\",\n            \"dict\",\n            \"set\",\n            \"tuple\",\n            \"range\",\n            \"enumerate\",\n            \"zip\",\n            \"map\",\n            \"filter\",\n            \"open\",\n            \"isinstance\",\n            \"issubclass\",\n            \"hasattr\",\n            \"getattr\",\n            \"setattr\",\n        }\n\n        return sorted(deps - builtins)\n\n    def _extract_imports(self, tree: ast.Module, lines: list[str]) -&gt; dict | None:\n        \"\"\"Extract import statements from module.\"\"\"\n        import_nodes = []\n        modules = []\n\n        for node in ast.iter_child_nodes(tree):\n            if isinstance(node, ast.Import):\n                import_nodes.append(node)\n                for alias in node.names:\n                    modules.append(alias.name.split(\".\")[0])\n            elif isinstance(node, ast.ImportFrom):\n                import_nodes.append(node)\n                if node.module:\n                    modules.append(node.module.split(\".\")[0])\n\n        if not import_nodes:\n            return None\n\n        start = min(n.lineno for n in import_nodes)\n        end = max(n.end_lineno or n.lineno for n in import_nodes)\n\n        return {\n            \"content\": \"\\n\".join(lines[start - 1 : end]),\n            \"start\": start,\n            \"end\": end,\n            \"modules\": sorted(set(modules)),\n        }\n\n    def _extract_script_chunks(\n        self, tree: ast.Module, lines: list[str], covered_lines: set[int], rel_path: str\n    ) -&gt; list[CodeChunk]:\n        \"\"\"Extract remaining top-level code as script chunks.\"\"\"\n        script_chunks = []\n\n        # Collect all line ranges for non-indexed top-level nodes\n        nodes_to_index = []\n        for node in ast.iter_child_nodes(tree):\n            if isinstance(\n                node,\n                (ast.FunctionDef, ast.AsyncFunctionDef, ast.ClassDef, ast.Import, ast.ImportFrom),\n            ):\n                continue\n            if isinstance(node, ast.Expr) and isinstance(node.value, ast.Constant):\n                continue\n\n            node_start = node.lineno\n            node_end = node.end_lineno or node_start\n\n            # Ensure it's not a node that was partially covered (rare but safe)\n            if any(line_num in covered_lines for line_num in range(node_start, node_end + 1)):\n                continue\n\n            nodes_to_index.append((node_start, node_end))\n\n        if not nodes_to_index:\n            return []\n\n        # Sort by start line\n        nodes_to_index.sort()\n\n        current_chunk_start = nodes_to_index[0][0]\n        current_chunk_end = nodes_to_index[0][1]\n\n        for i in range(1, len(nodes_to_index)):\n            n_start, n_end = nodes_to_index[i]\n\n            # If the gap between nodes contains any covered lines, we must split\n            has_gap_covered = any(\n                line_num in covered_lines for line_num in range(current_chunk_end + 1, n_start)\n            )\n\n            if not has_gap_covered and n_start &lt;= current_chunk_end + 5:  # Small gap allowed\n                current_chunk_end = n_end\n            else:\n                # Split\n                script_chunks.append(\n                    self._create_script_chunk(\n                        current_chunk_start, current_chunk_end, rel_path, lines\n                    )\n                )\n                current_chunk_start = n_start\n                current_chunk_end = n_end\n\n        # Last one\n        script_chunks.append(\n            self._create_script_chunk(current_chunk_start, current_chunk_end, rel_path, lines)\n        )\n\n        return script_chunks\n\n    def _create_script_chunk(\n        self, start: int, end: int, rel_path: str, lines: list[str]\n    ) -&gt; CodeChunk:\n        \"\"\"Helper to create a script chunk.\"\"\"\n        content = \"\\n\".join(lines[start - 1 : end])\n        return CodeChunk(\n            chunk_id=self._make_id(rel_path, f\"script_{start}\"),\n            file_path=rel_path,\n            chunk_type=\"script\",\n            name=f\"script_L{start}\",\n            content=content,\n            start_line=start,\n            end_line=end,\n            dependencies=[],  # Could extract deps here too if needed\n        )\n\n    def _get_docstring_end_line(self, tree: ast.Module) -&gt; int:\n        \"\"\"Get the ending line of module docstring.\"\"\"\n        if tree.body and isinstance(tree.body[0], ast.Expr):\n            if isinstance(tree.body[0].value, ast.Constant):\n                return tree.body[0].end_lineno or 1\n        return 1\n\n    def _should_skip_path(self, path: Path) -&gt; bool:\n        \"\"\"Check if path should be skipped.\"\"\"\n        parts = path.parts\n        for ignored in self.IGNORED_DIRS:\n            if ignored.startswith(\"*\"):\n                # Glob pattern like *.egg-info\n                if any(p.endswith(ignored[1:]) for p in parts):\n                    return True\n            elif ignored in parts:\n                return True\n        return False\n\n    def _make_id(self, file_path: str, name: str) -&gt; str:\n        \"\"\"Generate unique chunk ID.\"\"\"\n        raw = f\"{file_path}::{name}\"\n        # Use sha256 for ID generation (non-security) to satisfy bandit\n        return hashlib.sha256(raw.encode()).hexdigest()[:12]\n\n    def get_stats(self) -&gt; IndexStats:\n        \"\"\"Return indexing statistics.\"\"\"\n        return self.stats\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CodeIndexer.get_changed_files","title":"<code>get_changed_files(since_commit)</code>","text":"<p>Identify files changed between since_commit and HEAD.</p> <p>Parameters:</p> Name Type Description Default <code>since_commit</code> <code>str</code> <p>Git commit hash to compare against HEAD.</p> required <p>Returns:</p> Type Description <code>list[Path]</code> <p>List of absolute paths to changed files.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def get_changed_files(self, since_commit: str) -&gt; list[Path]:\n    \"\"\"\n    Identify files changed between since_commit and HEAD.\n\n    Args:\n        since_commit: Git commit hash to compare against HEAD.\n\n    Returns:\n        List of absolute paths to changed files.\n    \"\"\"\n    try:\n        import subprocess\n\n        # Check if this is a git repo\n        if not (self.project_root / \".git\").exists():\n            return self.collect_files()\n\n        # Run git diff\n        cmd = [\"git\", \"diff\", \"--name-only\", \"--diff-filter=ACMRT\", since_commit, \"HEAD\"]\n        result = subprocess.run(\n            cmd, cwd=self.project_root, capture_output=True, text=True, check=True\n        )\n\n        changed_paths = []\n        for line in result.stdout.splitlines():\n            if not line.strip():\n                continue\n            full_path = self.project_root / line.strip()\n            if full_path.exists() and not self._should_skip_path(full_path):\n                changed_paths.append(full_path)\n\n        return changed_paths\n    except Exception as e:\n        logger.warning(f\"Git diff failed, falling back to full scan: {e}\")\n        return self.collect_files()\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CodeIndexer.collect_files","title":"<code>collect_files()</code>","text":"<p>Collect all files that should be indexed.</p> <p>Returns:</p> Type Description <code>list[Path]</code> <p>List of Path objects for all indexable files in the project.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def collect_files(self) -&gt; list[Path]:\n    \"\"\"\n    Collect all files that should be indexed.\n\n    Returns:\n        List of Path objects for all indexable files in the project.\n    \"\"\"\n    files = []\n    for root, dirs, filenames in os.walk(self.project_root):\n        # Skip hidden directories and those in ignore list\n        dirs[:] = [d for d in dirs if not self._should_skip_dir(d)]\n\n        for filename in filenames:\n            file_path = Path(root) / filename\n            if self._should_skip_path(file_path):\n                continue\n            files.append(file_path)\n    return files\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CodeIndexer.index_project","title":"<code>index_project(files_to_index=None)</code>","text":"<p>Index files in the project.</p> <p>Parameters:</p> Name Type Description Default <code>files_to_index</code> <code>list[Path] | None</code> <p>Optional list of files to process. If None, scans all.</p> <code>None</code> <p>Yields:</p> Type Description <code>CodeChunk</code> <p>CodeChunk objects for each semantic unit</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def index_project(self, files_to_index: list[Path] | None = None) -&gt; Iterator[CodeChunk]:\n    \"\"\"\n    Index files in the project.\n\n    Args:\n        files_to_index: Optional list of files to process. If None, scans all.\n\n    Yields:\n        CodeChunk objects for each semantic unit\n    \"\"\"\n    self.stats = IndexStats()\n\n    target_files = files_to_index if files_to_index is not None else self.collect_files()\n\n    for file_path in target_files:\n        try:\n            for chunk in self.index_file(file_path):\n                self.stats.total_chunks += 1\n                yield chunk\n        except Exception as e:\n            logger.warning(f\"Failed to index {file_path}: {e}\")\n            self.stats.skipped_files += 1\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CodeIndexer.index_file","title":"<code>index_file(file_path)</code>","text":"<p>Extract chunks from a file (AST for Python, line-based for others).</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def index_file(self, file_path: Path) -&gt; Iterator[CodeChunk]:\n    \"\"\"\n    Extract chunks from a file (AST for Python, line-based for others).\n    \"\"\"\n    if file_path.suffix.lower() == \".py\":\n        yield from self._index_python_file(file_path)\n    else:\n        yield from self._index_universal_file(file_path)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CodeIndexer.get_stats","title":"<code>get_stats()</code>","text":"<p>Return indexing statistics.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>def get_stats(self) -&gt; IndexStats:\n    \"\"\"Return indexing statistics.\"\"\"\n    return self.stats\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.IndexStats","title":"<code>IndexStats</code>  <code>dataclass</code>","text":"<p>Statistics about the indexed codebase.</p> Source code in <code>src/boring/rag/code_indexer.py</code> <pre><code>@dataclass\nclass IndexStats:\n    \"\"\"Statistics about the indexed codebase.\"\"\"\n\n    total_files: int = 0\n    total_chunks: int = 0\n    functions: int = 0\n    classes: int = 0\n    methods: int = 0\n    script_chunks: int = 0\n    skipped_files: int = 0\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph","title":"<code>DependencyGraph</code>","text":"<p>Bidirectional dependency graph for code chunks.</p> <p>Edges: - callers[A] = {B, C} means B and C call A - callees[A] = {X, Y} means A calls X and Y</p> Usage <p>graph = DependencyGraph(chunks) callers = graph.get_callers(chunk_id)  # Who calls this? impact = graph.get_impact_zone(chunk_id)  # What might break?</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>class DependencyGraph:\n    \"\"\"\n    Bidirectional dependency graph for code chunks.\n\n    Edges:\n    - callers[A] = {B, C} means B and C call A\n    - callees[A] = {X, Y} means A calls X and Y\n\n    Usage:\n        graph = DependencyGraph(chunks)\n        callers = graph.get_callers(chunk_id)  # Who calls this?\n        impact = graph.get_impact_zone(chunk_id)  # What might break?\n    \"\"\"\n\n    def __init__(self, chunks: list[CodeChunk] | None = None):\n        self._chunks: dict[str, CodeChunk] = {}\n        self._name_to_ids: dict[str, set[str]] = defaultdict(set)  # name -&gt; chunk_ids\n\n        # Adjacency lists\n        self.callers: dict[str, set[str]] = defaultdict(set)  # who calls this\n        self.callees: dict[str, set[str]] = defaultdict(set)  # this calls who\n\n        if chunks:\n            self._build(chunks)\n\n    def _build(self, chunks: list[CodeChunk]) -&gt; None:\n        \"\"\"Build the graph from chunks.\"\"\"\n        # First pass: register all chunks by name\n        for chunk in chunks:\n            self._chunks[chunk.chunk_id] = chunk\n\n            # Register by simple name\n            self._name_to_ids[chunk.name].add(chunk.chunk_id)\n\n            # Also register by qualified name (ClassName.method)\n            if chunk.parent:\n                qualified = f\"{chunk.parent}.{chunk.name}\"\n                self._name_to_ids[qualified].add(chunk.chunk_id)\n\n        # Second pass: build edges based on dependencies\n        for chunk in chunks:\n            for dep_name in chunk.dependencies:\n                # Find all chunks matching this dependency name\n                dep_ids = self._name_to_ids.get(dep_name, set())\n\n                for dep_id in dep_ids:\n                    # chunk calls dep\n                    self.callees[chunk.chunk_id].add(dep_id)\n                    self.callers[dep_id].add(chunk.chunk_id)\n\n    def add_chunk(self, chunk: CodeChunk) -&gt; None:\n        \"\"\"Add a single chunk to the graph.\"\"\"\n        self._chunks[chunk.chunk_id] = chunk\n        self._name_to_ids[chunk.name].add(chunk.chunk_id)\n\n        if chunk.parent:\n            qualified = f\"{chunk.parent}.{chunk.name}\"\n            self._name_to_ids[qualified].add(chunk.chunk_id)\n\n        # Build edges for this chunk\n        for dep_name in chunk.dependencies:\n            dep_ids = self._name_to_ids.get(dep_name, set())\n            for dep_id in dep_ids:\n                self.callees[chunk.chunk_id].add(dep_id)\n                self.callers[dep_id].add(chunk.chunk_id)\n\n    def get_chunk(self, chunk_id: str) -&gt; CodeChunk | None:\n        \"\"\"Get chunk by ID.\"\"\"\n        return self._chunks.get(chunk_id)\n\n    def get_chunks_by_name(self, name: str) -&gt; list[CodeChunk]:\n        \"\"\"Get all chunks matching a name.\"\"\"\n        ids = self._name_to_ids.get(name, set())\n        return [self._chunks[cid] for cid in ids if cid in self._chunks]\n\n    def get_callers(self, chunk_id: str) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get all chunks that call this chunk.\n\n        Use case: \"Who depends on this function?\"\n        \"\"\"\n        caller_ids = self.callers.get(chunk_id, set())\n        return [self._chunks[cid] for cid in caller_ids if cid in self._chunks]\n\n    def get_callees(self, chunk_id: str) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get all chunks that this chunk calls.\n\n        Use case: \"What does this function depend on?\"\n        \"\"\"\n        callee_ids = self.callees.get(chunk_id, set())\n        return [self._chunks[cid] for cid in callee_ids if cid in self._chunks]\n\n    def get_related_chunks(\n        self, seed_chunks: list[CodeChunk], depth: int = 1, direction: str = \"both\"\n    ) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get related chunks via BFS on the dependency graph.\n\n        Args:\n            seed_chunks: Starting chunks\n            depth: How many hops to traverse (default 1 per user decision)\n            direction: \"callers\", \"callees\", or \"both\"\n\n        Returns:\n            Related chunks (excluding seeds)\n        \"\"\"\n        visited: set[str] = {c.chunk_id for c in seed_chunks}\n        frontier: set[str] = {c.chunk_id for c in seed_chunks}\n        related: list[CodeChunk] = []\n\n        for _ in range(depth):\n            next_frontier: set[str] = set()\n\n            for chunk_id in frontier:\n                neighbors: set[str] = set()\n\n                if direction in (\"callers\", \"both\"):\n                    neighbors.update(self.callers.get(chunk_id, set()))\n\n                if direction in (\"callees\", \"both\"):\n                    neighbors.update(self.callees.get(chunk_id, set()))\n\n                for neighbor_id in neighbors:\n                    if neighbor_id not in visited:\n                        visited.add(neighbor_id)\n                        next_frontier.add(neighbor_id)\n                        if neighbor_id in self._chunks:\n                            related.append(self._chunks[neighbor_id])\n\n            frontier = next_frontier\n\n            if not frontier:\n                break\n\n        return related\n\n    def get_impact_zone(self, modified_chunk_id: str, depth: int = 1) -&gt; list[CodeChunk]:\n        \"\"\"\n        Get the \"impact zone\" - all chunks that might break if this one changes.\n\n        This returns all CALLERS (things that depend on the modified chunk).\n        If you change a function, its callers might break.\n\n        Args:\n            modified_chunk_id: The chunk being modified\n            depth: How many levels of callers to include (default 1)\n\n        Returns:\n            List of chunks that might be affected\n        \"\"\"\n        if modified_chunk_id not in self._chunks:\n            return []\n\n        seed = [self._chunks[modified_chunk_id]]\n        return self.get_related_chunks(seed, depth=depth, direction=\"callers\")\n\n    def get_context_for_modification(self, modified_chunk_id: str) -&gt; dict[str, list[CodeChunk]]:\n        \"\"\"\n        Get comprehensive context for modifying a chunk.\n\n        Returns dict with:\n        - callers: Who calls this (might break)\n        - callees: What this calls (need to understand interface)\n        - siblings: Other methods in same class\n        \"\"\"\n        result = {\n            \"callers\": self.get_callers(modified_chunk_id),\n            \"callees\": self.get_callees(modified_chunk_id),\n            \"siblings\": [],\n        }\n\n        chunk = self._chunks.get(modified_chunk_id)\n        if chunk and chunk.parent:\n            # Find other methods in the same class\n            for cid, c in self._chunks.items():\n                if c.parent == chunk.parent and cid != modified_chunk_id:\n                    result[\"siblings\"].append(c)\n\n        return result\n\n    def get_stats(self) -&gt; GraphStats:\n        \"\"\"Get graph statistics.\"\"\"\n        total_edges = sum(len(callees) for callees in self.callees.values())\n        total_nodes = len(self._chunks)\n\n        max_callers = max((len(c) for c in self.callers.values()), default=0)\n        max_callees = max((len(c) for c in self.callees.values()), default=0)\n\n        return GraphStats(\n            total_nodes=total_nodes,\n            total_edges=total_edges,\n            avg_connections=total_edges / total_nodes if total_nodes &gt; 0 else 0,\n            max_callers=max_callers,\n            max_callees=max_callees,\n        )\n\n    def find_path(self, from_id: str, to_id: str, max_depth: int = 5) -&gt; list[str] | None:\n        \"\"\"\n        Find shortest path between two chunks (if exists).\n\n        Useful for understanding how two distant pieces of code are connected.\n        \"\"\"\n        if from_id not in self._chunks or to_id not in self._chunks:\n            return None\n\n        if from_id == to_id:\n            return [from_id]\n\n        # BFS\n        visited = {from_id}\n        queue = [(from_id, [from_id])]\n\n        for _ in range(max_depth):\n            if not queue:\n                break\n\n            next_queue = []\n            for current, path in queue:\n                # Check all neighbors (both callers and callees)\n                neighbors = self.callers.get(current, set()) | self.callees.get(current, set())\n\n                for neighbor in neighbors:\n                    if neighbor == to_id:\n                        return path + [neighbor]\n\n                    if neighbor not in visited:\n                        visited.add(neighbor)\n                        next_queue.append((neighbor, path + [neighbor]))\n\n            queue = next_queue\n\n        return None  # No path found within max_depth\n\n    def visualize(self, format: str = \"mermaid\", max_nodes: int = 50) -&gt; str:\n        \"\"\"\n        Generate a visualization of the dependency graph.\n\n        Args:\n            format: Output format (\"mermaid\" or \"json\")\n            max_nodes: Maximum nodes to include (for readability)\n\n        Returns:\n            String representation of the graph\n        \"\"\"\n        if format == \"json\":\n            import json\n\n            nodes = []\n            edges = []\n            for cid, chunk in list(self._chunks.items())[:max_nodes]:\n                nodes.append({\"id\": cid, \"name\": chunk.name, \"type\": chunk.chunk_type})\n                for callee in self.callees.get(cid, set()):\n                    edges.append({\"from\": cid, \"to\": callee})\n            return json.dumps({\"nodes\": nodes, \"edges\": edges}, indent=2)\n\n        # Mermaid format\n        lines = [\"```mermaid\", \"flowchart TD\"]\n\n        # Add nodes (limit for readability)\n        added = set()\n        for cid, chunk in list(self._chunks.items())[:max_nodes]:\n            safe_name = chunk.name.replace('\"', \"'\")\n            lines.append(f'    {cid[:8]}[\"{safe_name}\"]')\n            added.add(cid)\n\n        # Add edges\n        for cid in added:\n            for callee in self.callees.get(cid, set()):\n                if callee in added:\n                    lines.append(f\"    {cid[:8]} --&gt; {callee[:8]}\")\n\n        lines.append(\"```\")\n        return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.add_chunk","title":"<code>add_chunk(chunk)</code>","text":"<p>Add a single chunk to the graph.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def add_chunk(self, chunk: CodeChunk) -&gt; None:\n    \"\"\"Add a single chunk to the graph.\"\"\"\n    self._chunks[chunk.chunk_id] = chunk\n    self._name_to_ids[chunk.name].add(chunk.chunk_id)\n\n    if chunk.parent:\n        qualified = f\"{chunk.parent}.{chunk.name}\"\n        self._name_to_ids[qualified].add(chunk.chunk_id)\n\n    # Build edges for this chunk\n    for dep_name in chunk.dependencies:\n        dep_ids = self._name_to_ids.get(dep_name, set())\n        for dep_id in dep_ids:\n            self.callees[chunk.chunk_id].add(dep_id)\n            self.callers[dep_id].add(chunk.chunk_id)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_chunk","title":"<code>get_chunk(chunk_id)</code>","text":"<p>Get chunk by ID.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_chunk(self, chunk_id: str) -&gt; CodeChunk | None:\n    \"\"\"Get chunk by ID.\"\"\"\n    return self._chunks.get(chunk_id)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_chunks_by_name","title":"<code>get_chunks_by_name(name)</code>","text":"<p>Get all chunks matching a name.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_chunks_by_name(self, name: str) -&gt; list[CodeChunk]:\n    \"\"\"Get all chunks matching a name.\"\"\"\n    ids = self._name_to_ids.get(name, set())\n    return [self._chunks[cid] for cid in ids if cid in self._chunks]\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_callers","title":"<code>get_callers(chunk_id)</code>","text":"<p>Get all chunks that call this chunk.</p> <p>Use case: \"Who depends on this function?\"</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_callers(self, chunk_id: str) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get all chunks that call this chunk.\n\n    Use case: \"Who depends on this function?\"\n    \"\"\"\n    caller_ids = self.callers.get(chunk_id, set())\n    return [self._chunks[cid] for cid in caller_ids if cid in self._chunks]\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_callees","title":"<code>get_callees(chunk_id)</code>","text":"<p>Get all chunks that this chunk calls.</p> <p>Use case: \"What does this function depend on?\"</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_callees(self, chunk_id: str) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get all chunks that this chunk calls.\n\n    Use case: \"What does this function depend on?\"\n    \"\"\"\n    callee_ids = self.callees.get(chunk_id, set())\n    return [self._chunks[cid] for cid in callee_ids if cid in self._chunks]\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_related_chunks","title":"<code>get_related_chunks(seed_chunks, depth=1, direction='both')</code>","text":"<p>Get related chunks via BFS on the dependency graph.</p> <p>Parameters:</p> Name Type Description Default <code>seed_chunks</code> <code>list[CodeChunk]</code> <p>Starting chunks</p> required <code>depth</code> <code>int</code> <p>How many hops to traverse (default 1 per user decision)</p> <code>1</code> <code>direction</code> <code>str</code> <p>\"callers\", \"callees\", or \"both\"</p> <code>'both'</code> <p>Returns:</p> Type Description <code>list[CodeChunk]</code> <p>Related chunks (excluding seeds)</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_related_chunks(\n    self, seed_chunks: list[CodeChunk], depth: int = 1, direction: str = \"both\"\n) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get related chunks via BFS on the dependency graph.\n\n    Args:\n        seed_chunks: Starting chunks\n        depth: How many hops to traverse (default 1 per user decision)\n        direction: \"callers\", \"callees\", or \"both\"\n\n    Returns:\n        Related chunks (excluding seeds)\n    \"\"\"\n    visited: set[str] = {c.chunk_id for c in seed_chunks}\n    frontier: set[str] = {c.chunk_id for c in seed_chunks}\n    related: list[CodeChunk] = []\n\n    for _ in range(depth):\n        next_frontier: set[str] = set()\n\n        for chunk_id in frontier:\n            neighbors: set[str] = set()\n\n            if direction in (\"callers\", \"both\"):\n                neighbors.update(self.callers.get(chunk_id, set()))\n\n            if direction in (\"callees\", \"both\"):\n                neighbors.update(self.callees.get(chunk_id, set()))\n\n            for neighbor_id in neighbors:\n                if neighbor_id not in visited:\n                    visited.add(neighbor_id)\n                    next_frontier.add(neighbor_id)\n                    if neighbor_id in self._chunks:\n                        related.append(self._chunks[neighbor_id])\n\n        frontier = next_frontier\n\n        if not frontier:\n            break\n\n    return related\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_impact_zone","title":"<code>get_impact_zone(modified_chunk_id, depth=1)</code>","text":"<p>Get the \"impact zone\" - all chunks that might break if this one changes.</p> <p>This returns all CALLERS (things that depend on the modified chunk). If you change a function, its callers might break.</p> <p>Parameters:</p> Name Type Description Default <code>modified_chunk_id</code> <code>str</code> <p>The chunk being modified</p> required <code>depth</code> <code>int</code> <p>How many levels of callers to include (default 1)</p> <code>1</code> <p>Returns:</p> Type Description <code>list[CodeChunk]</code> <p>List of chunks that might be affected</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_impact_zone(self, modified_chunk_id: str, depth: int = 1) -&gt; list[CodeChunk]:\n    \"\"\"\n    Get the \"impact zone\" - all chunks that might break if this one changes.\n\n    This returns all CALLERS (things that depend on the modified chunk).\n    If you change a function, its callers might break.\n\n    Args:\n        modified_chunk_id: The chunk being modified\n        depth: How many levels of callers to include (default 1)\n\n    Returns:\n        List of chunks that might be affected\n    \"\"\"\n    if modified_chunk_id not in self._chunks:\n        return []\n\n    seed = [self._chunks[modified_chunk_id]]\n    return self.get_related_chunks(seed, depth=depth, direction=\"callers\")\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_context_for_modification","title":"<code>get_context_for_modification(modified_chunk_id)</code>","text":"<p>Get comprehensive context for modifying a chunk.</p> <p>Returns dict with: - callers: Who calls this (might break) - callees: What this calls (need to understand interface) - siblings: Other methods in same class</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_context_for_modification(self, modified_chunk_id: str) -&gt; dict[str, list[CodeChunk]]:\n    \"\"\"\n    Get comprehensive context for modifying a chunk.\n\n    Returns dict with:\n    - callers: Who calls this (might break)\n    - callees: What this calls (need to understand interface)\n    - siblings: Other methods in same class\n    \"\"\"\n    result = {\n        \"callers\": self.get_callers(modified_chunk_id),\n        \"callees\": self.get_callees(modified_chunk_id),\n        \"siblings\": [],\n    }\n\n    chunk = self._chunks.get(modified_chunk_id)\n    if chunk and chunk.parent:\n        # Find other methods in the same class\n        for cid, c in self._chunks.items():\n            if c.parent == chunk.parent and cid != modified_chunk_id:\n                result[\"siblings\"].append(c)\n\n    return result\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.get_stats","title":"<code>get_stats()</code>","text":"<p>Get graph statistics.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def get_stats(self) -&gt; GraphStats:\n    \"\"\"Get graph statistics.\"\"\"\n    total_edges = sum(len(callees) for callees in self.callees.values())\n    total_nodes = len(self._chunks)\n\n    max_callers = max((len(c) for c in self.callers.values()), default=0)\n    max_callees = max((len(c) for c in self.callees.values()), default=0)\n\n    return GraphStats(\n        total_nodes=total_nodes,\n        total_edges=total_edges,\n        avg_connections=total_edges / total_nodes if total_nodes &gt; 0 else 0,\n        max_callers=max_callers,\n        max_callees=max_callees,\n    )\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.find_path","title":"<code>find_path(from_id, to_id, max_depth=5)</code>","text":"<p>Find shortest path between two chunks (if exists).</p> <p>Useful for understanding how two distant pieces of code are connected.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def find_path(self, from_id: str, to_id: str, max_depth: int = 5) -&gt; list[str] | None:\n    \"\"\"\n    Find shortest path between two chunks (if exists).\n\n    Useful for understanding how two distant pieces of code are connected.\n    \"\"\"\n    if from_id not in self._chunks or to_id not in self._chunks:\n        return None\n\n    if from_id == to_id:\n        return [from_id]\n\n    # BFS\n    visited = {from_id}\n    queue = [(from_id, [from_id])]\n\n    for _ in range(max_depth):\n        if not queue:\n            break\n\n        next_queue = []\n        for current, path in queue:\n            # Check all neighbors (both callers and callees)\n            neighbors = self.callers.get(current, set()) | self.callees.get(current, set())\n\n            for neighbor in neighbors:\n                if neighbor == to_id:\n                    return path + [neighbor]\n\n                if neighbor not in visited:\n                    visited.add(neighbor)\n                    next_queue.append((neighbor, path + [neighbor]))\n\n        queue = next_queue\n\n    return None  # No path found within max_depth\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.DependencyGraph.visualize","title":"<code>visualize(format='mermaid', max_nodes=50)</code>","text":"<p>Generate a visualization of the dependency graph.</p> <p>Parameters:</p> Name Type Description Default <code>format</code> <code>str</code> <p>Output format (\"mermaid\" or \"json\")</p> <code>'mermaid'</code> <code>max_nodes</code> <code>int</code> <p>Maximum nodes to include (for readability)</p> <code>50</code> <p>Returns:</p> Type Description <code>str</code> <p>String representation of the graph</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>def visualize(self, format: str = \"mermaid\", max_nodes: int = 50) -&gt; str:\n    \"\"\"\n    Generate a visualization of the dependency graph.\n\n    Args:\n        format: Output format (\"mermaid\" or \"json\")\n        max_nodes: Maximum nodes to include (for readability)\n\n    Returns:\n        String representation of the graph\n    \"\"\"\n    if format == \"json\":\n        import json\n\n        nodes = []\n        edges = []\n        for cid, chunk in list(self._chunks.items())[:max_nodes]:\n            nodes.append({\"id\": cid, \"name\": chunk.name, \"type\": chunk.chunk_type})\n            for callee in self.callees.get(cid, set()):\n                edges.append({\"from\": cid, \"to\": callee})\n        return json.dumps({\"nodes\": nodes, \"edges\": edges}, indent=2)\n\n    # Mermaid format\n    lines = [\"```mermaid\", \"flowchart TD\"]\n\n    # Add nodes (limit for readability)\n    added = set()\n    for cid, chunk in list(self._chunks.items())[:max_nodes]:\n        safe_name = chunk.name.replace('\"', \"'\")\n        lines.append(f'    {cid[:8]}[\"{safe_name}\"]')\n        added.add(cid)\n\n    # Add edges\n    for cid in added:\n        for callee in self.callees.get(cid, set()):\n            if callee in added:\n                lines.append(f\"    {cid[:8]} --&gt; {callee[:8]}\")\n\n    lines.append(\"```\")\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.GraphStats","title":"<code>GraphStats</code>  <code>dataclass</code>","text":"<p>Statistics about the dependency graph.</p> Source code in <code>src/boring/rag/graph_builder.py</code> <pre><code>@dataclass\nclass GraphStats:\n    \"\"\"Statistics about the dependency graph.\"\"\"\n\n    total_nodes: int = 0\n    total_edges: int = 0\n    avg_connections: float = 0.0\n    max_callers: int = 0\n    max_callees: int = 0\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.HyDEExpander","title":"<code>HyDEExpander</code>","text":"<p>HyDE (Hypothetical Document Embeddings) for improved code retrieval.</p> <p>Instead of directly embedding the query, we first generate a hypothetical code snippet that would answer the query, then embed that.</p> <p>This improves retrieval because: 1. Hypothetical code is closer in embedding space to actual code 2. Query intent is better captured 3. Technical jargon is made explicit</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>class HyDEExpander:\n    \"\"\"\n    HyDE (Hypothetical Document Embeddings) for improved code retrieval.\n\n    Instead of directly embedding the query, we first generate a hypothetical\n    code snippet that would answer the query, then embed that.\n\n    This improves retrieval because:\n    1. Hypothetical code is closer in embedding space to actual code\n    2. Query intent is better captured\n    3. Technical jargon is made explicit\n    \"\"\"\n\n    # Code templates for different query types\n    TEMPLATES = {\n        \"error\": \"\"\"\n# Hypothetical code that handles this error\ndef handle_{error_type}():\n    try:\n        # Code that might cause: {query}\n        pass\n    except {error_type} as e:\n        # Error handling for: {query}\n        logger.error(f\"Error: {{e}}\")\n        raise\n\"\"\",\n        \"function\": \"\"\"\ndef {function_name}({params}):\n    '''\n    {docstring}\n\n    Implements: {query}\n    '''\n    # Implementation for: {query}\n    pass\n\"\"\",\n        \"class\": \"\"\"\nclass {class_name}:\n    '''\n    {docstring}\n\n    Purpose: {query}\n    '''\n    def __init__(self):\n        # Initialize for: {query}\n        pass\n\"\"\",\n        \"test\": \"\"\"\ndef test_{test_name}():\n    '''Test case for: {query}'''\n    # Arrange\n    # ...setup for {query}\n\n    # Act\n    result = function_under_test()\n\n    # Assert\n    assert result is not None\n\"\"\",\n        \"general\": \"\"\"\n# Code context for: {query}\n# This code handles {keywords}\n\ndef solve_{sanitized_query}():\n    '''\n    Implementation for: {query}\n    Keywords: {keywords}\n    '''\n    pass\n\"\"\",\n    }\n\n    # Query type detection patterns\n    QUERY_PATTERNS = {\n        \"error\": [\"error\", \"exception\", \"fix\", \"bug\", \"crash\", \"fail\", \"issue\"],\n        \"function\": [\"function\", \"method\", \"implement\", \"create\", \"build\", \"write\"],\n        \"class\": [\"class\", \"model\", \"object\", \"entity\", \"schema\"],\n        \"test\": [\"test\", \"spec\", \"assert\", \"verify\", \"check\", \"validate\"],\n    }\n\n    def __init__(self, use_llm: bool = False):\n        \"\"\"\n        Initialize HyDE expander.\n\n        Args:\n            use_llm: If True, use LLM for better hypothetical generation.\n                     If False, use template-based generation (faster, no API).\n        \"\"\"\n        self.use_llm = use_llm\n        self._llm_client = None\n\n    def expand_query(self, query: str) -&gt; HyDEResult:\n        \"\"\"\n        Expand a query into a hypothetical document.\n\n        Args:\n            query: Natural language query or error message\n\n        Returns:\n            HyDEResult with hypothetical code and metadata\n        \"\"\"\n        # Detect query type\n        query_type = self._detect_query_type(query)\n\n        # Extract keywords\n        keywords = self._extract_keywords(query)\n\n        # Generate hypothetical document\n        if self.use_llm and self._get_llm_client():\n            hypothetical_code = self._generate_with_llm(query, query_type)\n        else:\n            hypothetical_code = self._generate_from_template(query, query_type, keywords)\n\n        # Build descriptive document\n        hypothetical_document = f\"\"\"\nQuery: {query}\nType: {query_type}\nKeywords: {\", \".join(keywords)}\n\nHypothetical Implementation:\n{hypothetical_code}\n\"\"\"\n\n        return HyDEResult(\n            original_query=query,\n            hypothetical_document=hypothetical_document,\n            hypothetical_code=hypothetical_code,\n            expanded_keywords=keywords,\n            confidence=0.8 if self.use_llm else 0.6,\n        )\n\n    def _detect_query_type(self, query: str) -&gt; str:\n        \"\"\"Detect the type of query based on keywords.\"\"\"\n        query_lower = query.lower()\n\n        for query_type, patterns in self.QUERY_PATTERNS.items():\n            if any(pattern in query_lower for pattern in patterns):\n                return query_type\n\n        return \"general\"\n\n    def _extract_keywords(self, query: str) -&gt; list[str]:\n        \"\"\"Extract meaningful keywords from query.\"\"\"\n        # Remove common stop words\n        stop_words = {\n            \"the\",\n            \"a\",\n            \"an\",\n            \"is\",\n            \"are\",\n            \"was\",\n            \"were\",\n            \"be\",\n            \"been\",\n            \"being\",\n            \"have\",\n            \"has\",\n            \"had\",\n            \"do\",\n            \"does\",\n            \"did\",\n            \"will\",\n            \"would\",\n            \"could\",\n            \"should\",\n            \"may\",\n            \"might\",\n            \"must\",\n            \"shall\",\n            \"can\",\n            \"need\",\n            \"dare\",\n            \"ought\",\n            \"used\",\n            \"to\",\n            \"of\",\n            \"in\",\n            \"for\",\n            \"on\",\n            \"with\",\n            \"at\",\n            \"by\",\n            \"from\",\n            \"as\",\n            \"into\",\n            \"through\",\n            \"during\",\n            \"before\",\n            \"after\",\n            \"above\",\n            \"below\",\n            \"between\",\n            \"under\",\n            \"again\",\n            \"further\",\n            \"then\",\n            \"once\",\n            \"here\",\n            \"there\",\n            \"when\",\n            \"where\",\n            \"why\",\n            \"how\",\n            \"all\",\n            \"each\",\n            \"few\",\n            \"more\",\n            \"most\",\n            \"other\",\n            \"some\",\n            \"such\",\n            \"no\",\n            \"nor\",\n            \"not\",\n            \"only\",\n            \"own\",\n            \"same\",\n            \"so\",\n            \"than\",\n            \"too\",\n            \"very\",\n            \"just\",\n            \"and\",\n            \"but\",\n            \"if\",\n            \"or\",\n            \"because\",\n            \"until\",\n            \"while\",\n            \"although\",\n            \"though\",\n            \"that\",\n            \"this\",\n            \"these\",\n            \"those\",\n            \"what\",\n            \"which\",\n            \"who\",\n            \"whom\",\n            \"whose\",\n            \"i\",\n            \"me\",\n            \"my\",\n            \"myself\",\n            \"we\",\n            \"our\",\n            \"ours\",\n            \"ourselves\",\n            \"you\",\n            \"your\",\n            \"yours\",\n            \"yourself\",\n            \"yourselves\",\n            \"he\",\n            \"him\",\n            \"his\",\n            \"himself\",\n            \"she\",\n            \"her\",\n            \"hers\",\n            \"herself\",\n            \"it\",\n            \"its\",\n            \"itself\",\n            \"they\",\n            \"them\",\n            \"their\",\n            \"theirs\",\n            \"themselves\",\n        }\n\n        # Tokenize and filter\n        words = query.lower().replace(\"_\", \" \").replace(\"-\", \" \").split()\n        keywords = [\n            word.strip(\".,!?:;\\\"'()[]{}\")\n            for word in words\n            if word not in stop_words and len(word) &gt; 2\n        ]\n\n        # Add common programming terms based on context\n        query_lower = query.lower()\n        if \"authentication\" in query_lower or \"auth\" in query_lower:\n            keywords.extend([\"login\", \"token\", \"session\", \"user\"])\n        if \"database\" in query_lower or \"db\" in query_lower:\n            keywords.extend([\"query\", \"sql\", \"connection\", \"model\"])\n        if \"api\" in query_lower:\n            keywords.extend([\"endpoint\", \"request\", \"response\", \"http\"])\n\n        return list(set(keywords))[:10]  # Limit to 10 keywords\n\n    def _generate_from_template(self, query: str, query_type: str, keywords: list[str]) -&gt; str:\n        \"\"\"Generate hypothetical code from template.\"\"\"\n        template = self.TEMPLATES.get(query_type, self.TEMPLATES[\"general\"])\n\n        # Sanitize query for use in code\n        sanitized = \"_\".join(w.lower() for w in query.split()[:3] if w.isalnum())\n\n        # Extract potential names from query\n        words = [w for w in query.split() if w[0].isupper() or w.endswith(\"Error\")]\n        error_type = next((w for w in words if \"Error\" in w or \"Exception\" in w), \"ValueError\")\n\n        return template.format(\n            query=query,\n            keywords=\", \".join(keywords),\n            sanitized_query=sanitized or \"solution\",\n            error_type=error_type,\n            function_name=sanitized or \"solve\",\n            class_name=sanitized.title().replace(\"_\", \"\") or \"Solution\",\n            test_name=sanitized or \"feature\",\n            params=\"*args, **kwargs\",\n            docstring=query[:100],\n        )\n\n    def _get_llm_client(self):\n        \"\"\"Get LLM client for advanced generation.\"\"\"\n        if self._llm_client is None:\n            try:\n                from boring.gemini_client import get_client\n\n                self._llm_client = get_client()\n            except ImportError:\n                logger.debug(\"LLM client not available for HyDE\")\n                self._llm_client = False\n        return self._llm_client if self._llm_client else None\n\n    def _generate_with_llm(self, query: str, query_type: str) -&gt; str:\n        \"\"\"Generate hypothetical code using LLM.\"\"\"\n        client = self._get_llm_client()\n        if not client:\n            return self._generate_from_template(query, query_type, self._extract_keywords(query))\n\n        prompt = f\"\"\"Generate a short Python code snippet that would be found when searching for:\n\"{query}\"\n\nRequirements:\n- Write realistic code that answers this query\n- Include function/class definitions with docstrings\n- Include relevant comments\n- Keep it under 20 lines\n- Make it look like production code\n\nCode:\n```python\n\"\"\"\n        try:\n            response = client.generate_content(prompt)\n            code = response.text.strip()\n            # Extract code block if present\n            if \"```python\" in code:\n                code = code.split(\"```python\")[1].split(\"```\")[0]\n            elif \"```\" in code:\n                code = code.split(\"```\")[1].split(\"```\")[0]\n            return code\n        except Exception as e:\n            logger.warning(f\"LLM generation failed: {e}\")\n            return self._generate_from_template(query, query_type, self._extract_keywords(query))\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.HyDEExpander.__init__","title":"<code>__init__(use_llm=False)</code>","text":"<p>Initialize HyDE expander.</p> <p>Parameters:</p> Name Type Description Default <code>use_llm</code> <code>bool</code> <p>If True, use LLM for better hypothetical generation.      If False, use template-based generation (faster, no API).</p> <code>False</code> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>def __init__(self, use_llm: bool = False):\n    \"\"\"\n    Initialize HyDE expander.\n\n    Args:\n        use_llm: If True, use LLM for better hypothetical generation.\n                 If False, use template-based generation (faster, no API).\n    \"\"\"\n    self.use_llm = use_llm\n    self._llm_client = None\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.HyDEExpander.expand_query","title":"<code>expand_query(query)</code>","text":"<p>Expand a query into a hypothetical document.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Natural language query or error message</p> required <p>Returns:</p> Type Description <code>HyDEResult</code> <p>HyDEResult with hypothetical code and metadata</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>    def expand_query(self, query: str) -&gt; HyDEResult:\n        \"\"\"\n        Expand a query into a hypothetical document.\n\n        Args:\n            query: Natural language query or error message\n\n        Returns:\n            HyDEResult with hypothetical code and metadata\n        \"\"\"\n        # Detect query type\n        query_type = self._detect_query_type(query)\n\n        # Extract keywords\n        keywords = self._extract_keywords(query)\n\n        # Generate hypothetical document\n        if self.use_llm and self._get_llm_client():\n            hypothetical_code = self._generate_with_llm(query, query_type)\n        else:\n            hypothetical_code = self._generate_from_template(query, query_type, keywords)\n\n        # Build descriptive document\n        hypothetical_document = f\"\"\"\nQuery: {query}\nType: {query_type}\nKeywords: {\", \".join(keywords)}\n\nHypothetical Implementation:\n{hypothetical_code}\n\"\"\"\n\n        return HyDEResult(\n            original_query=query,\n            hypothetical_document=hypothetical_document,\n            hypothetical_code=hypothetical_code,\n            expanded_keywords=keywords,\n            confidence=0.8 if self.use_llm else 0.6,\n        )\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.HyDEResult","title":"<code>HyDEResult</code>  <code>dataclass</code>","text":"<p>Result from HyDE query expansion.</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>@dataclass\nclass HyDEResult:\n    \"\"\"Result from HyDE query expansion.\"\"\"\n\n    original_query: str\n    hypothetical_document: str\n    hypothetical_code: str\n    expanded_keywords: list[str]\n    confidence: float\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.TreeSitterParser","title":"<code>TreeSitterParser</code>","text":"<p>Wrapper for tree-sitter parsing.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>class TreeSitterParser:\n    \"\"\"Wrapper for tree-sitter parsing.\"\"\"\n\n    # File extension to language name mapping\n    EXT_TO_LANG = {\n        \".py\": \"python\",\n        \".js\": \"javascript\",\n        \".jsx\": \"javascript\",\n        \".ts\": \"typescript\",\n        \".tsx\": \"typescript\",\n        \".go\": \"go\",\n        \".java\": \"java\",\n        \".cpp\": \"cpp\",\n        \".cc\": \"cpp\",\n        \".c\": \"c\",\n        \".h\": \"c\",\n        \".rs\": \"rust\",\n        \".rb\": \"ruby\",\n        \".php\": \"php\",\n        \".kt\": \"kotlin\",\n        \".kts\": \"kotlin\",\n        \".scala\": \"scala\",\n    }\n\n    # S-expression queries for extracting definitions\n    # V11.0: Enhanced queries for cross-language precision\n    # V11.1: Fixed JavaScript function_expression -&gt; function node type\n    QUERIES = {\n        \"python\": \"\"\"\n            (function_definition\n                name: (identifier) @name) @function\n            (class_definition\n                name: (identifier) @name) @class\n            (decorated_definition\n                definition: (function_definition\n                    name: (identifier) @name)) @function\n        \"\"\",\n        \"javascript\": \"\"\"\n            ; Regular function declarations\n            (function_declaration\n                name: (identifier) @name) @function\n\n            ; Class declarations\n            (class_declaration\n                name: (identifier) @name) @class\n\n            ; Method definitions in classes\n            (method_definition\n                name: (property_identifier) @name) @method\n\n            ; Arrow functions assigned to variables (React components pattern)\n            (variable_declarator\n                (identifier) @name\n                (arrow_function)) @function\n\n            ; Anonymous function expressions assigned to variables\n            ; Note: In tree-sitter-languages, the node type is 'function' not 'function_expression'\n            (variable_declarator\n                (identifier) @name\n                (function)) @function\n\n            ; Export statement with function declaration\n            (export_statement\n                (function_declaration\n                    name: (identifier) @name)) @function\n\n            ; React.memo, React.forwardRef wrapped components\n            (variable_declarator\n                (identifier) @name\n                (call_expression\n                    (member_expression))) @function\n        \"\"\",\n        \"typescript\": \"\"\"\n            ; Function declarations\n            (function_declaration\n                name: (identifier) @name) @function\n\n            ; Class declarations\n            (class_declaration\n                name: (type_identifier) @name) @class\n\n            ; Interface declarations (V11.0 enhancement)\n            (interface_declaration\n                name: (type_identifier) @name) @interface\n\n            ; Type alias declarations (V11.0 enhancement)\n            (type_alias_declaration\n                name: (type_identifier) @name) @type_alias\n\n            ; Method definitions\n            (method_definition\n                name: (property_identifier) @name) @method\n\n            ; Arrow functions (including React FC components)\n            (variable_declarator\n                name: (identifier) @name\n                value: (arrow_function)) @function\n\n            ; Typed arrow functions: const Component: React.FC = () =&gt; {}\n            (lexical_declaration\n                (variable_declarator\n                    name: (identifier) @name\n                    type: (type_annotation)\n                    value: (arrow_function))) @function\n\n            ; Export default function\n            (export_statement\n                declaration: (function_declaration\n                    name: (identifier) @name)) @function\n\n            ; Enum declarations\n            (enum_declaration\n                name: (identifier) @name) @class\n\n            ; Abstract class\n            (abstract_class_declaration\n                name: (type_identifier) @name) @class\n        \"\"\",\n        \"go\": \"\"\"\n            ; Regular function declarations\n            (function_declaration\n                name: (identifier) @name) @function\n\n            ; Method declarations with receiver (V11.0 enhancement)\n            ; Captures both the method name and receiver type\n            (method_declaration\n                receiver: (parameter_list\n                    (parameter_declaration\n                        type: (_) @receiver_type))\n                name: (field_identifier) @name) @method\n\n            ; Type declarations (struct, interface)\n            (type_declaration\n                (type_spec\n                    name: (type_identifier) @name)) @class\n\n            ; Interface type specifically\n            (type_declaration\n                (type_spec\n                    name: (type_identifier) @name\n                    type: (interface_type))) @interface\n        \"\"\",\n        \"java\": \"\"\"\n            (method_declaration\n                name: (identifier) @name) @function\n            (class_declaration\n                name: (identifier) @name) @class\n            (interface_declaration\n                name: (identifier) @name) @interface\n            (constructor_declaration\n                name: (identifier) @name) @function\n            (enum_declaration\n                name: (identifier) @name) @class\n            (annotation_type_declaration\n                name: (identifier) @name) @class\n        \"\"\",\n        \"cpp\": \"\"\"\n            ; Function definitions\n            (function_definition\n                declarator: (function_declarator\n                    declarator: (identifier) @name)) @function\n\n            ; Class specifiers\n            (class_specifier\n                name: (type_identifier) @name) @class\n\n            ; Struct specifiers\n            (struct_specifier\n                name: (type_identifier) @name) @class\n\n            ; Namespace definitions (V11.0 enhancement)\n            (namespace_definition\n                name: (namespace_identifier) @name) @namespace\n\n            ; Template declarations (V11.0 enhancement)\n            (template_declaration\n                (function_definition\n                    declarator: (function_declarator\n                        declarator: (identifier) @name))) @function\n\n            ; Template class\n            (template_declaration\n                (class_specifier\n                    name: (type_identifier) @name)) @class\n        \"\"\",\n        \"c\": \"\"\"\n            (function_definition\n                declarator: (function_declarator\n                    declarator: (identifier) @name)) @function\n            (struct_specifier\n                name: (type_identifier) @name) @class\n            (enum_specifier\n                name: (type_identifier) @name) @class\n            (type_definition\n                declarator: (type_identifier) @name) @type_alias\n        \"\"\",\n        \"rust\": \"\"\"\n            (function_item\n                name: (identifier) @name) @function\n            (impl_item\n                type: (type_identifier) @name) @class\n            (struct_item\n                name: (type_identifier) @name) @class\n            (enum_item\n                name: (type_identifier) @name) @class\n            (trait_item\n                name: (type_identifier) @name) @interface\n            (type_item\n                name: (type_identifier) @name) @type_alias\n            (mod_item\n                name: (identifier) @name) @namespace\n        \"\"\",\n        \"ruby\": \"\"\"\n            (method\n                name: (identifier) @name) @function\n            (class\n                name: (constant) @name) @class\n            (module\n                name: (constant) @name) @class\n            (singleton_method\n                name: (identifier) @name) @function\n        \"\"\",\n        \"php\": \"\"\"\n            (function_definition\n                name: (name) @name) @function\n            (class_declaration\n                name: (name) @name) @class\n            (method_declaration\n                name: (name) @name) @method\n            (interface_declaration\n                name: (name) @name) @interface\n            (trait_declaration\n                name: (name) @name) @class\n        \"\"\",\n        \"kotlin\": \"\"\"\n            (class_declaration\n                (type_identifier) @name) @class\n            (object_declaration\n                (type_identifier) @name) @class\n            (function_declaration\n                (simple_identifier) @name) @function\n            (property_declaration\n                (variable_declaration\n                    (simple_identifier) @name)) @method\n        \"\"\",\n        \"scala\": \"\"\"\n            (class_definition\n                name: (identifier) @name) @class\n            (object_definition\n                name: (identifier) @name) @class\n            (trait_definition\n                name: (identifier) @name) @interface\n            (function_definition\n                name: (identifier) @name) @function\n        \"\"\",\n    }\n\n    def __init__(self):\n        self.parsers = {}\n\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if tree-sitter is available.\"\"\"\n        return HAS_TREE_SITTER\n\n    def get_language_for_file(self, file_path: Path) -&gt; str | None:\n        \"\"\"Determine language from file extension.\"\"\"\n        return self.EXT_TO_LANG.get(file_path.suffix.lower())\n\n    def parse_file(self, file_path: Path) -&gt; list[ParsedChunk]:\n        \"\"\"\n        Parse a file and extract semantic chunks.\n        Returns empty list if language not supported or parser fails.\n        \"\"\"\n        if not HAS_TREE_SITTER:\n            return []\n\n        lang_name = self.get_language_for_file(file_path)\n        if not lang_name:\n            return []\n\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n        except Exception as e:\n            logger.warning(f\"Failed to read file {file_path}: {e}\")\n            return []\n\n        return self.extract_chunks(content, lang_name)\n\n    def extract_chunks(self, code: str, language: str) -&gt; list[ParsedChunk]:\n        \"\"\"\n        Extract chunks from code string using tree-sitter.\n\n        V11.0: Enhanced to handle interface, type_alias, namespace, and Go method receivers.\n        \"\"\"\n        if not HAS_TREE_SITTER:\n            return []\n\n        try:\n            # Lazy load parser\n            if language not in self.parsers:\n                self.parsers[language] = get_parser(language)\n\n            parser = self.parsers[language]\n            tree = parser.parse(bytes(code, \"utf8\"))\n\n            query_str = self.QUERIES.get(language)\n            if not query_str:\n                return []\n\n            ts_language = get_language(language)\n            query = ts_language.query(query_str)\n\n            chunk_types = {\n                \"function\",\n                \"class\",\n                \"method\",\n                \"interface\",\n                \"type_alias\",\n                \"namespace\",\n            }\n\n            # V11.1: Type specificity ranking - more specific types take precedence\n            # Higher number = more specific\n            type_specificity = {\n                \"class\": 1,\n                \"function\": 2,\n                \"method\": 3,\n                \"namespace\": 4,\n                \"type_alias\": 5,\n                \"interface\": 6,  # interface is more specific than class for Go\n            }\n\n            result = []\n            matches = query.matches(tree.root_node)\n\n            # Map of node_id -&gt; dict to avoid duplicates if multiple queries hit the same node\n            processed_chunks = {}\n\n            for _match_id, captures in matches:\n                # In 0.21.3, captures is a dict mapping capture_name -&gt; Node\n                # (or list of Nodes depending on configuration, but usually Node for matches)\n\n                # Identify the primary chunk node in this match\n                chunk_node = None\n                chunk_type = None\n                for c_name, node in captures.items():\n                    if c_name in chunk_types:\n                        chunk_node = node\n                        chunk_type = c_name\n                        break\n\n                if not chunk_node:\n                    continue\n\n                # Get or create the chunk entry\n                node_id = chunk_node.id\n\n                # V11.1: Check if this type is more specific than existing one\n                if node_id in processed_chunks:\n                    existing_type = processed_chunks[node_id][\"type\"]\n                    existing_specificity = type_specificity.get(existing_type, 0)\n                    new_specificity = type_specificity.get(chunk_type, 0)\n                    if new_specificity &gt; existing_specificity:\n                        # Update to more specific type\n                        processed_chunks[node_id][\"type\"] = chunk_type\n                else:\n                    start_line = chunk_node.start_point[0] + 1\n                    end_line = chunk_node.end_point[0] + 1\n                    content = chunk_node.text.decode(\"utf8\")\n                    lines = content.split(\"\\n\")\n                    signature = lines[0] if lines else \"\"\n\n                    # Capture signature spanning multiple lines\n                    if \"{\" not in signature and len(lines) &gt; 1:\n                        for i, line in enumerate(lines[1:], 1):\n                            signature += \"\\n\" + line\n                            if \"{\" in line or i &gt;= 3:\n                                break\n\n                    processed_chunks[node_id] = {\n                        \"type\": chunk_type,\n                        \"name\": \"anonymous\",\n                        \"start_line\": start_line,\n                        \"end_line\": end_line,\n                        \"content\": content,\n                        \"signature\": signature.strip(),\n                        \"receiver\": None,\n                    }\n\n                # Extract attributes from the same match\n                chunk_data = processed_chunks[node_id]\n\n                # Defensive capture name lookup\n                capture_names = {\n                    query.capture_names[k]: node\n                    for k, node in captures.items()\n                    if isinstance(k, int)\n                }\n                capture_names.update(\n                    {k: node for k, node in captures.items() if isinstance(k, str)}\n                )\n\n                if \"name\" in capture_names:\n                    name_node = capture_names[\"name\"]\n                    chunk_data[\"name\"] = name_node.text.decode(\"utf8\")\n\n                if \"receiver_type\" in capture_names:\n                    recv_node = capture_names[\"receiver_type\"]\n                    recv_text = recv_node.text.decode(\"utf8\")\n                    if recv_text.startswith(\"*\"):\n                        recv_text = recv_text[1:]\n                    chunk_data[\"receiver\"] = recv_text\n\n            # Sort and return\n            for data in processed_chunks.values():\n                result.append(ParsedChunk(**data))\n\n            return sorted(result, key=lambda x: x.start_line)\n\n        except Exception as e:\n            logger.error(f\"Tree-sitter match failure for {language}: {e}\")\n            return []\n\n    def validate_language_support(self, language: str, test_code: str) -&gt; dict:\n        \"\"\"\n        Validate that Tree-sitter queries work correctly for a given language.\n\n        V11.0: Structured testing for cross-language precision.\n\n        Args:\n            language: Language name (e.g., 'go', 'typescript')\n            test_code: Sample code to parse\n\n        Returns:\n            Dict with validation results\n        \"\"\"\n        if not HAS_TREE_SITTER:\n            return {\"success\": False, \"error\": \"tree-sitter not available\"}\n\n        if language not in self.QUERIES:\n            return {\"success\": False, \"error\": f\"No query defined for language: {language}\"}\n\n        try:\n            chunks = self.extract_chunks(test_code, language)\n            return {\n                \"success\": True,\n                \"language\": language,\n                \"chunks_found\": len(chunks),\n                \"chunk_types\": list({c.type for c in chunks}),\n                \"chunk_names\": [c.name for c in chunks],\n                \"receivers\": [c.receiver for c in chunks if c.receiver],\n            }\n        except Exception as e:\n            return {\"success\": False, \"error\": str(e)}\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.TreeSitterParser.is_available","title":"<code>is_available()</code>","text":"<p>Check if tree-sitter is available.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def is_available(self) -&gt; bool:\n    \"\"\"Check if tree-sitter is available.\"\"\"\n    return HAS_TREE_SITTER\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.TreeSitterParser.get_language_for_file","title":"<code>get_language_for_file(file_path)</code>","text":"<p>Determine language from file extension.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def get_language_for_file(self, file_path: Path) -&gt; str | None:\n    \"\"\"Determine language from file extension.\"\"\"\n    return self.EXT_TO_LANG.get(file_path.suffix.lower())\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.TreeSitterParser.parse_file","title":"<code>parse_file(file_path)</code>","text":"<p>Parse a file and extract semantic chunks. Returns empty list if language not supported or parser fails.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def parse_file(self, file_path: Path) -&gt; list[ParsedChunk]:\n    \"\"\"\n    Parse a file and extract semantic chunks.\n    Returns empty list if language not supported or parser fails.\n    \"\"\"\n    if not HAS_TREE_SITTER:\n        return []\n\n    lang_name = self.get_language_for_file(file_path)\n    if not lang_name:\n        return []\n\n    try:\n        content = file_path.read_text(encoding=\"utf-8\")\n    except Exception as e:\n        logger.warning(f\"Failed to read file {file_path}: {e}\")\n        return []\n\n    return self.extract_chunks(content, lang_name)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.TreeSitterParser.extract_chunks","title":"<code>extract_chunks(code, language)</code>","text":"<p>Extract chunks from code string using tree-sitter.</p> <p>V11.0: Enhanced to handle interface, type_alias, namespace, and Go method receivers.</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def extract_chunks(self, code: str, language: str) -&gt; list[ParsedChunk]:\n    \"\"\"\n    Extract chunks from code string using tree-sitter.\n\n    V11.0: Enhanced to handle interface, type_alias, namespace, and Go method receivers.\n    \"\"\"\n    if not HAS_TREE_SITTER:\n        return []\n\n    try:\n        # Lazy load parser\n        if language not in self.parsers:\n            self.parsers[language] = get_parser(language)\n\n        parser = self.parsers[language]\n        tree = parser.parse(bytes(code, \"utf8\"))\n\n        query_str = self.QUERIES.get(language)\n        if not query_str:\n            return []\n\n        ts_language = get_language(language)\n        query = ts_language.query(query_str)\n\n        chunk_types = {\n            \"function\",\n            \"class\",\n            \"method\",\n            \"interface\",\n            \"type_alias\",\n            \"namespace\",\n        }\n\n        # V11.1: Type specificity ranking - more specific types take precedence\n        # Higher number = more specific\n        type_specificity = {\n            \"class\": 1,\n            \"function\": 2,\n            \"method\": 3,\n            \"namespace\": 4,\n            \"type_alias\": 5,\n            \"interface\": 6,  # interface is more specific than class for Go\n        }\n\n        result = []\n        matches = query.matches(tree.root_node)\n\n        # Map of node_id -&gt; dict to avoid duplicates if multiple queries hit the same node\n        processed_chunks = {}\n\n        for _match_id, captures in matches:\n            # In 0.21.3, captures is a dict mapping capture_name -&gt; Node\n            # (or list of Nodes depending on configuration, but usually Node for matches)\n\n            # Identify the primary chunk node in this match\n            chunk_node = None\n            chunk_type = None\n            for c_name, node in captures.items():\n                if c_name in chunk_types:\n                    chunk_node = node\n                    chunk_type = c_name\n                    break\n\n            if not chunk_node:\n                continue\n\n            # Get or create the chunk entry\n            node_id = chunk_node.id\n\n            # V11.1: Check if this type is more specific than existing one\n            if node_id in processed_chunks:\n                existing_type = processed_chunks[node_id][\"type\"]\n                existing_specificity = type_specificity.get(existing_type, 0)\n                new_specificity = type_specificity.get(chunk_type, 0)\n                if new_specificity &gt; existing_specificity:\n                    # Update to more specific type\n                    processed_chunks[node_id][\"type\"] = chunk_type\n            else:\n                start_line = chunk_node.start_point[0] + 1\n                end_line = chunk_node.end_point[0] + 1\n                content = chunk_node.text.decode(\"utf8\")\n                lines = content.split(\"\\n\")\n                signature = lines[0] if lines else \"\"\n\n                # Capture signature spanning multiple lines\n                if \"{\" not in signature and len(lines) &gt; 1:\n                    for i, line in enumerate(lines[1:], 1):\n                        signature += \"\\n\" + line\n                        if \"{\" in line or i &gt;= 3:\n                            break\n\n                processed_chunks[node_id] = {\n                    \"type\": chunk_type,\n                    \"name\": \"anonymous\",\n                    \"start_line\": start_line,\n                    \"end_line\": end_line,\n                    \"content\": content,\n                    \"signature\": signature.strip(),\n                    \"receiver\": None,\n                }\n\n            # Extract attributes from the same match\n            chunk_data = processed_chunks[node_id]\n\n            # Defensive capture name lookup\n            capture_names = {\n                query.capture_names[k]: node\n                for k, node in captures.items()\n                if isinstance(k, int)\n            }\n            capture_names.update(\n                {k: node for k, node in captures.items() if isinstance(k, str)}\n            )\n\n            if \"name\" in capture_names:\n                name_node = capture_names[\"name\"]\n                chunk_data[\"name\"] = name_node.text.decode(\"utf8\")\n\n            if \"receiver_type\" in capture_names:\n                recv_node = capture_names[\"receiver_type\"]\n                recv_text = recv_node.text.decode(\"utf8\")\n                if recv_text.startswith(\"*\"):\n                    recv_text = recv_text[1:]\n                chunk_data[\"receiver\"] = recv_text\n\n        # Sort and return\n        for data in processed_chunks.values():\n            result.append(ParsedChunk(**data))\n\n        return sorted(result, key=lambda x: x.start_line)\n\n    except Exception as e:\n        logger.error(f\"Tree-sitter match failure for {language}: {e}\")\n        return []\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.TreeSitterParser.validate_language_support","title":"<code>validate_language_support(language, test_code)</code>","text":"<p>Validate that Tree-sitter queries work correctly for a given language.</p> <p>V11.0: Structured testing for cross-language precision.</p> <p>Parameters:</p> Name Type Description Default <code>language</code> <code>str</code> <p>Language name (e.g., 'go', 'typescript')</p> required <code>test_code</code> <code>str</code> <p>Sample code to parse</p> required <p>Returns:</p> Type Description <code>dict</code> <p>Dict with validation results</p> Source code in <code>src/boring/rag/parser.py</code> <pre><code>def validate_language_support(self, language: str, test_code: str) -&gt; dict:\n    \"\"\"\n    Validate that Tree-sitter queries work correctly for a given language.\n\n    V11.0: Structured testing for cross-language precision.\n\n    Args:\n        language: Language name (e.g., 'go', 'typescript')\n        test_code: Sample code to parse\n\n    Returns:\n        Dict with validation results\n    \"\"\"\n    if not HAS_TREE_SITTER:\n        return {\"success\": False, \"error\": \"tree-sitter not available\"}\n\n    if language not in self.QUERIES:\n        return {\"success\": False, \"error\": f\"No query defined for language: {language}\"}\n\n    try:\n        chunks = self.extract_chunks(test_code, language)\n        return {\n            \"success\": True,\n            \"language\": language,\n            \"chunks_found\": len(chunks),\n            \"chunk_types\": list({c.type for c in chunks}),\n            \"chunk_names\": [c.name for c in chunks],\n            \"receivers\": [c.receiver for c in chunks if c.receiver],\n        }\n    except Exception as e:\n        return {\"success\": False, \"error\": str(e)}\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever","title":"<code>RAGRetriever</code>","text":"<p>Hybrid RAG retriever for code context.</p> <p>Features: - Semantic search via ChromaDB embeddings - 1-layer graph expansion (per user decision) - Smart jump: Agent can request deeper traversal on-demand - Recency boost: recently modified files rank higher</p> Usage <p>retriever = RAGRetriever(project_root) retriever.build_index()</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>class RAGRetriever:\n    \"\"\"\n    Hybrid RAG retriever for code context.\n\n    Features:\n    - Semantic search via ChromaDB embeddings\n    - 1-layer graph expansion (per user decision)\n    - Smart jump: Agent can request deeper traversal on-demand\n    - Recency boost: recently modified files rank higher\n\n    Usage:\n        retriever = RAGRetriever(project_root)\n        retriever.build_index()\n\n        # Basic retrieval\n        results = retriever.retrieve(\"authentication error handling\")\n\n        # With graph expansion for specific function\n        context = retriever.get_modification_context(\"src/auth.py\", \"login\")\n    \"\"\"\n\n    # Default collection name in ChromaDB\n    COLLECTION_NAME = \"boring_code_rag\"\n\n    def __init__(\n        self,\n        project_root: Path,\n        persist_dir: Path | None = None,\n        collection_name: str | None = None,\n        additional_roots: list[Path] | None = None,\n    ):\n        self.project_root = Path(project_root)\n        self.persist_dir = persist_dir or (self.project_root / \".boring_memory\" / \"rag_db\")\n        self.collection_name = collection_name or self.COLLECTION_NAME\n\n        # Multi-project support: list of all project roots to index\n        self.all_project_roots: list[Path] = [self.project_root]\n        if additional_roots:\n            self.all_project_roots.extend([Path(p) for p in additional_roots])\n\n        # Ensure persist directory exists\n        self.persist_dir.mkdir(parents=True, exist_ok=True)\n\n        # Components\n        self.indexer = CodeIndexer(self.project_root)\n        self.index_state = IndexState(self.project_root)\n        self.graph: GraphRAG | None = None\n        self._chunks: dict[str, CodeChunk] = {}\n        self._file_to_chunks: dict[str, list[str]] = {}  # file_path -&gt; chunk_ids\n\n        # ChromaDB client\n        self.client = None\n        self.collection = None\n        self._embedding_function = None\n\n        if CHROMA_AVAILABLE:\n            try:\n                import chromadb\n                from chromadb.config import Settings as ChromaSettings\n\n                self.client = chromadb.PersistentClient(\n                    path=str(self.persist_dir),\n                    settings=ChromaSettings(anonymized_telemetry=False, allow_reset=True),\n                )\n\n                # V14.0: Use local embedding function for offline mode\n                self._embedding_function = self._get_embedding_function()\n\n                self.collection = self.client.get_or_create_collection(\n                    name=self.collection_name,\n                    metadata={\"hnsw:space\": \"cosine\"},\n                    embedding_function=self._embedding_function,\n                )\n                logger.info(f\"ChromaDB initialized at {self.persist_dir}\")\n            except Exception as e:\n                logger.warning(f\"Failed to initialize ChromaDB: {e}\")\n                self.client = None\n                self.collection = None\n\n    def _get_embedding_function(self):\n        \"\"\"\n        V14.0: Get appropriate embedding function based on mode.\n\n        Prefers local embedding for offline mode or when API is unavailable.\n        \"\"\"\n        import os\n\n        offline_mode = os.environ.get(\"BORING_OFFLINE_MODE\", \"\").lower() == \"true\"\n\n        try:\n            from ..core.config import settings\n\n            offline_mode = offline_mode or getattr(settings, \"OFFLINE_MODE\", False)\n        except Exception:\n            pass\n\n        if offline_mode:\n            try:\n                from .local_embedding import get_chroma_embedding_function\n\n                ef = get_chroma_embedding_function(offline_mode=True)\n                if ef:\n                    logger.info(\"Using local embedding function for offline mode\")\n                    return ef\n            except ImportError:\n                logger.debug(\"Local embedding not available\")\n            except Exception as e:\n                logger.warning(f\"Failed to load local embedding: {e}\")\n\n        # Default: return None to use ChromaDB's default embedding\n        return None\n\n    @property\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if RAG system is available.\"\"\"\n        return CHROMA_AVAILABLE and self.collection is not None\n\n    def build_index(self, force: bool = False, incremental: bool = True) -&gt; int:\n        \"\"\"\n        Index the entire codebase.\n\n        Args:\n            force: If True, rebuild even if index exists\n            incremental: If True (and not force), only index changed files.\n\n        Returns:\n            Number of chunks indexed\n        \"\"\"\n        if not self.is_available:\n            logger.warning(\"ChromaDB not available, skipping index build\")\n            return 0\n\n        # 1. Handle Force Rebuild\n        existing_count = self.collection.count()\n        if force:\n            logger.info(\"Force rebuild: clearing existing index\")\n            try:\n                self.client.delete_collection(self.collection_name)\n                self.collection = self.client.create_collection(\n                    name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n                )\n                self.index_state = IndexState(self.project_root)  # Reset state\n                # Clear state file explicitly?\n                # IndexState loads from disk. We should clear it.\n                # But IndexState doesn't have clear method yet beyond remove items.\n                # For now we just ignore load?\n                # Better: implement clear() in IndexState later or just iterate deletions.\n                # Here we assume starting fresh means empty DB, but IndexState might still have data on disk.\n                # We should probably clear cached state file too.\n                # self.index_state.clear() # user needs to add this method or we assume overwrite updates.\n                pass\n            except Exception as e:\n                logger.error(f\"Failed to clear collection: {e}\")\n                return 0\n\n        # 2. Collect Files from all project roots (multi-project support)\n        all_files = []\n        for root in self.all_project_roots:\n            indexer = CodeIndexer(root)\n            all_files.extend(indexer.collect_files())\n\n        # 3. Determine Changes\n        current_commit = \"\"\n        try:\n            # Get current git commit hash\n            import subprocess\n\n            cmd = [\"git\", \"rev-parse\", \"HEAD\"]\n            current_commit = subprocess.check_output(cmd, cwd=self.project_root, text=True).strip()\n        except Exception:\n            logger.debug(\"Could not get git commit hash\")\n\n        last_commit = self.index_state.get_last_commit()\n\n        if incremental and not force and last_commit and current_commit:\n            files_to_index = self.indexer.get_changed_files(last_commit)\n            # For incremental diff based indexing, we don't easily know \"stale\" files\n            # unless we scan everything or trust git diff for deletions (which get_changed_files doesn't strictly handle for removals from index yet).\n            # Actually CodeIndexer.get_changed_files logic returns *existing* files that changed.\n            # It doesn't return deleted files.\n            # We need to handle deletions separately if we rely purely on git diff.\n            # But let's stick to the current hybrid approach:\n            # If we trust IndexState knows what IT thinks is indexed, we can check if those still exist?\n            # Or use git diff for deletions too?\n            # For simplicity in V1 (Phase 1.2), we will re-scan all for stale check (fast)\n            # but only INDEX changed_files (slow).\n\n            # Optimization: collect_files is fast (just os.walk). The heavy part is index_file (parsing).\n            # So we can still do collect_files() to find stale ones.\n            all_files_current = []\n            for root in self.all_project_roots:\n                idx = CodeIndexer(root)\n                all_files_current.extend(idx.collect_files())\n\n            stale_files_rel = self.index_state.get_stale_files(all_files_current)\n\n            # But files_to_index should only be the changed ones from git diff\n            # Note: get_changed_files from code_indexer uses git diff.\n            # But we passed `self.indexer` which is initialized with project_root.\n            # If changed_files are returned, we use them.\n            # What if files_to_index is empty? means nothing changed content-wise.\n            pass\n        else:\n            # Full scan fallback\n            files_to_index = all_files\n            stale_files_rel = []\n\n        if not files_to_index and not stale_files_rel and (last_commit == current_commit):\n            logger.info(\"Index is up to date (commit match).\")\n            # We still need to load chunks into memory for graph building\n            self._load_chunks_from_db()\n            return existing_count\n\n        # 4. Handle Deletions\n        for rel_path in stale_files_rel:\n            chunk_ids = self.index_state.state.get(rel_path, {}).get(\"chunks\", [])\n            if chunk_ids:\n                try:\n                    self.collection.delete(ids=chunk_ids)\n                except Exception:\n                    pass\n            self.index_state.remove(rel_path)\n            logger.info(f\"Removed stale file: {rel_path}\")\n\n        # 5. Handle Indexing\n        new_chunks_buffer = []\n        total_indexed = 0\n\n        # Reset indexer stats for accurate reporting\n        self.indexer.stats = IndexStats()\n\n        for file_path in files_to_index:\n            # Clear old chunks for modified file\n            rel_path = self.index_state._get_rel_path(file_path)\n            old_ids = self.index_state.get_chunks_for_file(file_path)\n            if old_ids:\n                try:\n                    self.collection.delete(ids=old_ids)\n                except Exception:\n                    pass\n\n            # Generate new chunks\n            try:\n                chunks = list(self.indexer.index_file(file_path))\n            except Exception as e:\n                logger.warning(f\"Failed to index {file_path}: {e}\")\n                self.indexer.stats.skipped_files += 1\n                continue\n\n            if not chunks:\n                continue\n\n            # Track stats per file\n            self.indexer.stats.total_files += 1\n            for chunk in chunks:\n                self.indexer.stats.total_chunks += 1\n                if chunk.chunk_type == \"function\":\n                    self.indexer.stats.functions += 1\n                elif chunk.chunk_type == \"class\":\n                    self.indexer.stats.classes += 1\n                elif chunk.chunk_type == \"method\":\n                    self.indexer.stats.methods += 1\n                elif chunk.chunk_type == \"script\":\n                    self.indexer.stats.script_chunks += 1\n\n            # Batch upsert logic preparation\n            new_chunks_buffer.extend(chunks)\n\n            # Update state with new IDs\n            ids = [c.chunk_id for c in chunks]\n            self.index_state.update(file_path, ids)\n            total_indexed += len(chunks)\n\n        # 6. Bulk Upsert to Chroma\n        if new_chunks_buffer:\n            ids = [c.chunk_id for c in new_chunks_buffer]\n            documents = [self._chunk_to_document(c) for c in new_chunks_buffer]\n            metadatas = [self._chunk_to_metadata(c) for c in new_chunks_buffer]\n\n            batch_size = 100\n            for i in range(0, len(new_chunks_buffer), batch_size):\n                end = min(i + batch_size, len(new_chunks_buffer))\n                try:\n                    self.collection.upsert(\n                        ids=ids[i:end], documents=documents[i:end], metadatas=metadatas[i:end]\n                    )\n                except Exception as e:\n                    logger.error(f\"Failed to upsert batch: {e}\")\n\n        # 7. Persist State\n        if current_commit:\n            self.index_state.update_commit(current_commit)\n        self.index_state.save()\n\n        # 8. Reload fully for graph building (Hybrid RAG needs graph)\n        # Note: In a huge repo, loading all chunks might be heavy.\n        # Ideally we load only necessary graph data.\n        # For V10 we load all instructions.\n        self._load_chunks_from_db()\n\n        # Update graph with new/all chunks\n        # _load_chunks_from_db handles rebuilding self._chunks and self.graph\n\n        logger.info(\n            f\"Indexed {len(files_to_index)} files ({total_indexed} chunks). Removed {len(stale_files_rel)} stale files.\"\n        )\n\n        return self.collection.count()\n\n    def retrieve(\n        self,\n        query: str,\n        n_results: int = 10,\n        expand_graph: bool = True,\n        file_filter: str | None = None,\n        chunk_types: list[str] | None = None,\n        threshold: float = 0.0,\n        use_hyde: bool = True,\n        use_rerank: bool = True,\n    ) -&gt; list[RetrievalResult]:\n        \"\"\"\n        Retrieve relevant code chunks with caching.\n\n        Args:\n            query: Natural language query or error message\n            n_results: Maximum results to return\n            expand_graph: Whether to include 1-layer dependency context\n            file_filter: Filter by file path substring (e.g., \"auth\")\n            chunk_types: Filter by chunk types (e.g., [\"function\", \"class\"])\n            threshold: Minimum relevance score (0.0 to 1.0)\n            use_hyde: Whether to use HyDE query expansion (V10.24+)\n            use_rerank: Whether to use Cross-Encoder reranking (V10.24+)\n\n        Returns:\n            List of RetrievalResult sorted by relevance\n        \"\"\"\n        if not self.is_available:\n            return []\n\n        # Generate cache key\n        cache_key = f\"{query}:{n_results}:{expand_graph}:{file_filter}:{chunk_types}:{threshold}:{use_hyde}:{use_rerank}\"\n\n        # Check cache\n        with _cache_lock:\n            if cache_key in _query_cache:\n                cached_results, cache_time = _query_cache[cache_key]\n                if time.time() - cache_time &lt; _QUERY_CACHE_TTL:\n                    return cached_results\n\n        # Perform actual retrieval\n        results = self._retrieve_impl(\n            query,\n            n_results,\n            expand_graph,\n            file_filter,\n            chunk_types,\n            threshold,\n            use_hyde=use_hyde,\n            use_rerank=use_rerank,\n        )\n\n        # Update cache\n        with _cache_lock:\n            _query_cache[cache_key] = (results, time.time())\n\n        return results\n\n    def _retrieve_impl(\n        self,\n        query: str,\n        n_results: int = 10,\n        expand_graph: bool = True,\n        file_filter: str | None = None,\n        chunk_types: list[str] | None = None,\n        threshold: float = 0.0,\n        use_hyde: bool = True,\n        use_rerank: bool = True,\n    ) -&gt; list[RetrievalResult]:\n        \"\"\"\n        Internal implementation of retrieve without caching.\n        \"\"\"\n\n        # 1. HyDE Expansion (V10.24+)\n        search_query = query\n        hyde_result: HyDEResult | None = None\n        if use_hyde:\n            try:\n                expander = get_hyde_expander()\n                hyde_result = expander.expand_query(query)\n                search_query = hyde_result.hypothetical_code\n                logger.debug(f\"HyDE expansion applied for query: {query[:50]}...\")\n            except Exception as e:\n                logger.warning(f\"HyDE expansion failed: {e}\")\n\n        # Build ChromaDB filter\n        where_filter = self._build_where_filter(file_filter, chunk_types)\n\n        # Vector search\n        try:\n            results = self.collection.query(\n                query_texts=[search_query],\n                n_results=min(n_results * 2, 50),  # Fetch extra for graph expansion/reranking\n                where=where_filter,\n            )\n        except Exception as e:\n            logger.error(f\"ChromaDB query failed: {e}\")\n            return []\n\n        retrieved: list[RetrievalResult] = []\n        seen_ids: set[str] = set()\n\n        # Process vector search results\n        if results and results.get(\"ids\"):\n            for i, chunk_id in enumerate(results[\"ids\"][0]):\n                if chunk_id in seen_ids:\n                    continue\n                seen_ids.add(chunk_id)\n\n                # Calculate score from distance\n                distance = results[\"distances\"][0][i] if results.get(\"distances\") else 0.5\n                score = 1.0 - min(distance, 1.0)  # Convert distance to similarity\n\n                # Filter by threshold\n                if score &lt; threshold:\n                    continue\n\n                # Get chunk from cache or reconstruct\n                chunk = self._get_or_reconstruct_chunk(chunk_id, results, i)\n                if not chunk:\n                    continue\n\n                retrieved.append(\n                    RetrievalResult(\n                        chunk=chunk, score=score, retrieval_method=\"vector\", distance=distance\n                    )\n                )\n\n        # 1-layer graph expansion (per user decision)\n        if expand_graph and self.graph and retrieved:\n            # Expand from top 3 results only (to limit context size)\n            top_chunks = [r.chunk for r in retrieved[:3]]\n            related = self.graph.get_related_chunks(top_chunks, depth=1)\n\n            for chunk in related:\n                if chunk.chunk_id not in seen_ids:\n                    seen_ids.add(chunk.chunk_id)\n                    retrieved.append(\n                        RetrievalResult(\n                            chunk=chunk,\n                            score=0.5,  # Lower score for graph-expanded\n                            retrieval_method=\"graph\",\n                        )\n                    )\n\n        # =================================================================\n        # HYBRID SEARCH: Keyword boosting for better accuracy\n        # =================================================================\n        # Boost scores for chunks where query terms appear in name/content\n        query_terms = set(query.lower().split())\n        for result in retrieved:\n            boost = 0.0\n            chunk_name = result.chunk.name.lower() if result.chunk.name else \"\"\n\n            # Strong boost for exact name match\n            if any(term in chunk_name for term in query_terms):\n                boost += 0.15\n\n            # Medium boost for content keyword match\n            chunk_content = result.chunk.content.lower()[:500] if result.chunk.content else \"\"\n            matching_terms = sum(1 for term in query_terms if term in chunk_content)\n            if matching_terms &gt; 0:\n                boost += min(0.1, matching_terms * 0.02)  # Cap at 0.1\n\n            result.score = min(1.0, result.score + boost)  # Cap at 1.0\n\n        # =================================================================\n        # V10.23: SESSION CONTEXT BOOSTING\n        # =================================================================\n        session_ctx = get_session_context()\n        if session_ctx:\n            for result in retrieved:\n                session_boost = 0.0\n                chunk_file = result.chunk.file_path if result.chunk.file_path else \"\"\n\n                # Boost for focus files\n                if session_ctx.get(\"focus_files\"):\n                    for focus_file in session_ctx[\"focus_files\"]:\n                        if focus_file in chunk_file or chunk_file in focus_file:\n                            session_boost += 0.2\n                            break\n\n                # Boost for task-type keywords\n                task_type = session_ctx.get(\"task_type\", \"general\")\n                chunk_content = result.chunk.content.lower() if result.chunk.content else \"\"\n\n                if task_type == \"debugging\":\n                    if any(\n                        kw in chunk_content\n                        for kw in [\"error\", \"exception\", \"try\", \"except\", \"catch\"]\n                    ):\n                        session_boost += 0.1\n                        result.task_relevance = 0.8\n                elif task_type == \"testing\":\n                    if any(kw in chunk_content for kw in [\"test\", \"assert\", \"mock\", \"fixture\"]):\n                        session_boost += 0.1\n                        result.task_relevance = 0.8\n                elif task_type == \"refactoring\":\n                    if any(kw in chunk_content for kw in [\"class\", \"def\", \"function\", \"method\"]):\n                        session_boost += 0.05\n                        result.task_relevance = 0.6\n\n                # Boost for session keywords\n                if session_ctx.get(\"keywords\"):\n                    matching = sum(\n                        1 for kw in session_ctx[\"keywords\"] if kw.lower() in chunk_content\n                    )\n                    session_boost += min(0.15, matching * 0.05)\n\n                result.session_boost = session_boost\n                result.score = min(1.0, result.score + session_boost)\n\n        # =================================================================\n        # INTELLIGENT RANKING: Re-rank based on usage patterns (V10.22+)\n        # =================================================================\n        ranker = _get_intelligent_ranker(self.project_root)\n        if ranker:\n            # V10.23: Pass session context to ranker\n            context = {\"session\": session_ctx} if session_ctx else None\n            retrieved = ranker.rerank(query, retrieved, top_k=n_results * 2, context=context)\n\n        # =================================================================\n        # HYBRID RAG: Cross-Encoder Reranking (V10.24+)\n        # =================================================================\n        if use_rerank and len(retrieved) &gt; 1:\n            try:\n                reranker = get_ensemble_reranker()\n                # Use ensemble reranker to combine semantic CE scores with metadata\n                reranked_indices = reranker.rerank(\n                    query=query,\n                    chunks=[r.chunk for r in retrieved],\n                    original_scores=[r.score for r in retrieved],\n                    top_k=n_results,\n                )\n\n                # Reconstruct RetrievalResult list in new order\n                new_retrieved = []\n                for original_idx, score in reranked_indices:\n                    res = retrieved[original_idx]\n                    res.score = score  # Update with reranked score\n                    new_retrieved.append(res)\n\n                retrieved = new_retrieved\n                logger.debug(f\"Cross-Encoder reranking applied to {len(retrieved)} results\")\n            except Exception as e:\n                logger.warning(f\"Reranking failed: {e}\")\n\n        # Sort by score and limit\n        retrieved.sort(key=lambda x: x.score, reverse=True)\n        return retrieved[:n_results]\n\n    def record_user_selection(self, chunk_id: str, query: str, session_id: str = \"\"):\n        \"\"\"\n        Record that a user selected a specific chunk from results.\n\n        This feedback improves future ranking for similar queries.\n\n        Args:\n            chunk_id: The chunk that was selected\n            query: The query that produced the results\n            session_id: Optional session identifier\n        \"\"\"\n        ranker = _get_intelligent_ranker(self.project_root)\n        if ranker:\n            ranker.record_selection(chunk_id, query, session_id=session_id)\n            logger.debug(f\"Recorded selection: {chunk_id} for query: {query[:50]}\")\n\n    async def retrieve_async(\n        self,\n        query: str,\n        n_results: int = 10,\n        expand_graph: bool = True,\n        file_filter: str | None = None,\n        chunk_types: list[str] | None = None,\n    ) -&gt; list[RetrievalResult]:\n        \"\"\"\n        Async version of retrieve for non-blocking operations.\n\n        Wraps ChromaDB calls in asyncio.to_thread for async compatibility.\n        \"\"\"\n        import asyncio\n\n        def _sync_retrieve():\n            return self.retrieve(query, n_results, expand_graph, file_filter, chunk_types)\n\n        return await asyncio.to_thread(_sync_retrieve)\n\n    def get_modification_context(\n        self, file_path: str, function_name: str | None = None, class_name: str | None = None\n    ) -&gt; dict[str, list[RetrievalResult]]:\n        \"\"\"\n        Get comprehensive context for modifying a specific code location.\n\n        This is the \"smart\" entry point that returns:\n        - The target chunk itself\n        - Its callers (might break)\n        - Its callees (need to understand interface)\n        - Sibling methods (if in a class)\n\n        Args:\n            file_path: Relative path to the file\n            function_name: Name of function (optional)\n            class_name: Name of class (optional)\n\n        Returns:\n            Dict with categorized context\n        \"\"\"\n        result = {\"target\": [], \"callers\": [], \"callees\": [], \"siblings\": []}\n\n        if not self.graph:\n            return result\n\n        # Find target chunk\n        target_name = function_name or class_name\n        if not target_name:\n            return result\n\n        # Look up by name\n        candidates = self.graph.get_chunks_by_name(target_name)\n\n        # Filter by file path if provided\n        if file_path:\n            candidates = [c for c in candidates if file_path in c.file_path]\n\n        if not candidates:\n            return result\n\n        target = candidates[0]\n        result[\"target\"] = [RetrievalResult(chunk=target, score=1.0, retrieval_method=\"direct\")]\n\n        # Get context from graph\n        context = self.graph.get_context_for_modification(target.chunk_id)\n\n        for caller in context[\"callers\"]:\n            result[\"callers\"].append(\n                RetrievalResult(chunk=caller, score=0.8, retrieval_method=\"graph\")\n            )\n\n        for callee in context[\"callees\"]:\n            result[\"callees\"].append(\n                RetrievalResult(chunk=callee, score=0.7, retrieval_method=\"graph\")\n            )\n\n        for sibling in context[\"siblings\"]:\n            result[\"siblings\"].append(\n                RetrievalResult(chunk=sibling, score=0.6, retrieval_method=\"graph\")\n            )\n\n        return result\n\n    def smart_expand(self, chunk_id: str, depth: int = 2) -&gt; list[RetrievalResult]:\n        \"\"\"\n        On-demand deeper graph traversal (Agent-triggered \"smart jump\").\n\n        When 1-layer expansion isn't enough, the agent can request\n        deeper traversal for specific chunks.\n\n        Args:\n            chunk_id: The chunk to expand from\n            depth: How many layers to expand (default 2)\n\n        Returns:\n            Additional context chunks\n        \"\"\"\n        if not self.graph:\n            return []\n\n        chunk = self.graph.get_chunk(chunk_id)\n        if not chunk:\n            return []\n\n        related = self.graph.get_related_chunks([chunk], depth=depth)\n\n        return [\n            RetrievalResult(\n                chunk=c,\n                score=0.4,  # Lower score for deep expansion\n                retrieval_method=\"smart_jump\",\n            )\n            for c in related\n        ]\n\n    def generate_context_injection(\n        self, query: str, max_tokens: int = 4000, include_signatures_only: bool = False\n    ) -&gt; str:\n        \"\"\"\n        Generate context string for AI prompt injection.\n\n        Args:\n            query: The current task or error\n            max_tokens: Maximum tokens (estimate: 4 chars = 1 token)\n            include_signatures_only: If True, only include function signatures\n\n        Returns:\n            Formatted context string ready for prompt injection\n        \"\"\"\n        results = self.retrieve(query, n_results=15, expand_graph=True)\n\n        if not results:\n            return \"\"\n\n        parts = [\"## \ud83d\udcda Relevant Code Context (RAG)\", \"\"]\n        current_chars = 0\n        max_chars = max_tokens * 4\n\n        for result in results:\n            chunk = result.chunk\n\n            # Use signature if available and requested\n            if include_signatures_only and chunk.signature:\n                content = chunk.signature\n            else:\n                content = chunk.content\n\n            # Format chunk\n            method_tag = f\"[{result.retrieval_method.upper()}]\"\n            location = f\"`{chunk.file_path}` \u2192 `{chunk.name}`\"\n            lines = f\"L{chunk.start_line}-{chunk.end_line}\"\n\n            chunk_content = f\"\"\"### {method_tag} {location} ({lines})\n```python\n{content}\n```\n\"\"\"\n            # Check token budget\n            chunk_chars = len(chunk_content)\n            if current_chars + chunk_chars &gt; max_chars:\n                break\n\n            parts.append(chunk_content)\n            current_chars += chunk_chars\n\n        return \"\\n\".join(parts)\n\n    def get_stats(self) -&gt; RAGStats:\n        \"\"\"Get combined RAG statistics.\"\"\"\n        return RAGStats(\n            index_stats=self.indexer.get_stats() if self.indexer else None,\n            graph_stats=self.graph.get_stats() if self.graph else None,\n            total_chunks_indexed=len(self._chunks),\n            last_index_time=datetime.now().isoformat() if self._chunks else None,\n            chroma_available=CHROMA_AVAILABLE,\n        )\n\n    def update_file(self, file_path: Path) -&gt; int:\n        \"\"\"\n        Incrementally update index for a single changed file.\n\n        Args:\n            file_path: Path to the modified file\n\n        Returns:\n            Number of chunks updated\n        \"\"\"\n        if not self.is_available:\n            return 0\n\n        try:\n            rel_path = str(file_path.relative_to(self.project_root))\n            # Normalize to forward slashes for cross-platform consistency\n            rel_path = rel_path.replace(\"\\\\\", \"/\")\n        except ValueError:\n            rel_path = str(file_path).replace(\"\\\\\", \"/\")\n\n        # Remove old chunks for this file\n        old_chunk_ids = self._file_to_chunks.get(rel_path, [])\n        if old_chunk_ids:\n            try:\n                self.collection.delete(ids=old_chunk_ids)\n            except Exception as e:\n                logger.warning(f\"Failed to delete old chunks: {e}\")\n\n        # Re-index the file\n        try:\n            new_chunks = list(self.indexer.index_file(file_path))\n        except Exception as e:\n            logger.warning(f\"Failed to index {file_path}: {e}\")\n            return 0\n\n        if not new_chunks:\n            return 0\n\n        # Update in-memory structures\n        for chunk in new_chunks:\n            self._chunks[chunk.chunk_id] = chunk\n            if self.graph:\n                self.graph.add_chunk(chunk)\n\n        self._file_to_chunks[rel_path] = [c.chunk_id for c in new_chunks]\n\n        # Upsert to ChromaDB\n        try:\n            self.collection.upsert(\n                ids=[c.chunk_id for c in new_chunks],\n                documents=[self._chunk_to_document(c) for c in new_chunks],\n                metadatas=[self._chunk_to_metadata(c) for c in new_chunks],\n            )\n        except Exception as e:\n            logger.error(f\"Failed to upsert chunks: {e}\")\n            return 0\n\n        return len(new_chunks)\n\n    def clear(self) -&gt; None:\n        \"\"\"Clear all indexed data.\"\"\"\n        if self.client and self.collection:\n            try:\n                self.client.delete_collection(self.collection_name)\n                self.collection = self.client.create_collection(\n                    name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n                )\n            except Exception as e:\n                logger.error(f\"Failed to clear collection: {e}\")\n\n        self._chunks.clear()\n        self._file_to_chunks.clear()\n        self.graph = None\n\n    # -------------------------------------------------------------------------\n    # Private helpers\n    # -------------------------------------------------------------------------\n\n    def _chunk_to_document(self, chunk: CodeChunk) -&gt; str:\n        \"\"\"Convert chunk to semantic document for embedding.\"\"\"\n        parts = [f\"{chunk.chunk_type}::{chunk.name}\"]\n\n        if chunk.docstring:\n            parts.append(chunk.docstring)\n\n        if chunk.signature:\n            parts.append(chunk.signature)\n        else:\n            parts.append(chunk.content[:500])  # Limit content size\n\n        return \"\\n\".join(parts)\n\n    def _chunk_to_metadata(self, chunk: CodeChunk) -&gt; dict:\n        \"\"\"Convert chunk to metadata for filtering.\"\"\"\n        return {\n            \"file_path\": chunk.file_path,\n            \"chunk_type\": chunk.chunk_type,\n            \"name\": chunk.name,\n            \"start_line\": chunk.start_line,\n            \"end_line\": chunk.end_line,\n            \"parent\": chunk.parent or \"\",\n            \"has_docstring\": bool(chunk.docstring),\n        }\n\n    def _build_where_filter(\n        self, file_filter: str | None, chunk_types: list[str] | None\n    ) -&gt; dict | None:\n        \"\"\"Build ChromaDB where filter.\"\"\"\n        conditions = []\n\n        if file_filter:\n            conditions.append({\"file_path\": {\"$contains\": file_filter}})\n\n        if chunk_types:\n            if len(chunk_types) == 1:\n                conditions.append({\"chunk_type\": chunk_types[0]})\n            else:\n                conditions.append({\"chunk_type\": {\"$in\": chunk_types}})\n\n        if not conditions:\n            return None\n\n        if len(conditions) == 1:\n            return conditions[0]\n\n        return {\"$and\": conditions}\n\n    def _get_or_reconstruct_chunk(\n        self, chunk_id: str, results: dict, index: int\n    ) -&gt; CodeChunk | None:\n        \"\"\"Get chunk from cache or reconstruct from query results.\"\"\"\n        if chunk_id in self._chunks:\n            return self._chunks[chunk_id]\n\n        # Reconstruct from metadata\n        if not results.get(\"metadatas\"):\n            return None\n\n        meta = results[\"metadatas\"][0][index]\n        doc = results[\"documents\"][0][index] if results.get(\"documents\") else \"\"\n\n        return CodeChunk(\n            chunk_id=chunk_id,\n            file_path=meta.get(\"file_path\", \"unknown\"),\n            chunk_type=meta.get(\"chunk_type\", \"unknown\"),\n            name=meta.get(\"name\", \"unknown\"),\n            content=doc.split(\"\\n\", 2)[-1] if doc else \"\",  # Skip type::name header\n            start_line=meta.get(\"start_line\", 0),\n            end_line=meta.get(\"end_line\", 0),\n            parent=meta.get(\"parent\") or None,\n        )\n\n    def _load_chunks_from_db(self) -&gt; None:\n        \"\"\"Load chunk metadata from existing ChromaDB collection.\"\"\"\n        if not self.collection:\n            return\n\n        try:\n            # Get all items (limited for memory safety)\n            results = self.collection.get(limit=10000, include=[\"metadatas\", \"documents\"])\n\n            if results and results.get(\"ids\"):\n                for i, chunk_id in enumerate(results[\"ids\"]):\n                    chunk = self._get_or_reconstruct_chunk(chunk_id, results, i)\n                    if chunk:\n                        self._chunks[chunk_id] = chunk\n\n                        # Build file index\n                        if chunk.file_path not in self._file_to_chunks:\n                            self._file_to_chunks[chunk.file_path] = []\n                        self._file_to_chunks[chunk.file_path].append(chunk_id)\n\n                # Rebuild graph\n                if self._chunks:\n                    from .graph_builder import DependencyGraph\n\n                    self.graph = DependencyGraph(list(self._chunks.values()))\n\n                logger.info(f\"Loaded {len(self._chunks)} chunks from existing index\")\n        except Exception as e:\n            logger.warning(f\"Failed to load chunks from DB: {e}\")\n\n    def _build_file_index(self, chunks: list[CodeChunk]) -&gt; None:\n        \"\"\"Build file path to chunk ID mapping.\"\"\"\n        self._file_to_chunks.clear()\n        for chunk in chunks:\n            if chunk.file_path not in self._file_to_chunks:\n                self._file_to_chunks[chunk.file_path] = []\n            self._file_to_chunks[chunk.file_path].append(chunk.chunk_id)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever--basic-retrieval","title":"Basic retrieval","text":"<p>results = retriever.retrieve(\"authentication error handling\")</p>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever--with-graph-expansion-for-specific-function","title":"With graph expansion for specific function","text":"<p>context = retriever.get_modification_context(\"src/auth.py\", \"login\")</p>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.is_available","title":"<code>is_available</code>  <code>property</code>","text":"<p>Check if RAG system is available.</p>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.build_index","title":"<code>build_index(force=False, incremental=True)</code>","text":"<p>Index the entire codebase.</p> <p>Parameters:</p> Name Type Description Default <code>force</code> <code>bool</code> <p>If True, rebuild even if index exists</p> <code>False</code> <code>incremental</code> <code>bool</code> <p>If True (and not force), only index changed files.</p> <code>True</code> <p>Returns:</p> Type Description <code>int</code> <p>Number of chunks indexed</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def build_index(self, force: bool = False, incremental: bool = True) -&gt; int:\n    \"\"\"\n    Index the entire codebase.\n\n    Args:\n        force: If True, rebuild even if index exists\n        incremental: If True (and not force), only index changed files.\n\n    Returns:\n        Number of chunks indexed\n    \"\"\"\n    if not self.is_available:\n        logger.warning(\"ChromaDB not available, skipping index build\")\n        return 0\n\n    # 1. Handle Force Rebuild\n    existing_count = self.collection.count()\n    if force:\n        logger.info(\"Force rebuild: clearing existing index\")\n        try:\n            self.client.delete_collection(self.collection_name)\n            self.collection = self.client.create_collection(\n                name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n            )\n            self.index_state = IndexState(self.project_root)  # Reset state\n            # Clear state file explicitly?\n            # IndexState loads from disk. We should clear it.\n            # But IndexState doesn't have clear method yet beyond remove items.\n            # For now we just ignore load?\n            # Better: implement clear() in IndexState later or just iterate deletions.\n            # Here we assume starting fresh means empty DB, but IndexState might still have data on disk.\n            # We should probably clear cached state file too.\n            # self.index_state.clear() # user needs to add this method or we assume overwrite updates.\n            pass\n        except Exception as e:\n            logger.error(f\"Failed to clear collection: {e}\")\n            return 0\n\n    # 2. Collect Files from all project roots (multi-project support)\n    all_files = []\n    for root in self.all_project_roots:\n        indexer = CodeIndexer(root)\n        all_files.extend(indexer.collect_files())\n\n    # 3. Determine Changes\n    current_commit = \"\"\n    try:\n        # Get current git commit hash\n        import subprocess\n\n        cmd = [\"git\", \"rev-parse\", \"HEAD\"]\n        current_commit = subprocess.check_output(cmd, cwd=self.project_root, text=True).strip()\n    except Exception:\n        logger.debug(\"Could not get git commit hash\")\n\n    last_commit = self.index_state.get_last_commit()\n\n    if incremental and not force and last_commit and current_commit:\n        files_to_index = self.indexer.get_changed_files(last_commit)\n        # For incremental diff based indexing, we don't easily know \"stale\" files\n        # unless we scan everything or trust git diff for deletions (which get_changed_files doesn't strictly handle for removals from index yet).\n        # Actually CodeIndexer.get_changed_files logic returns *existing* files that changed.\n        # It doesn't return deleted files.\n        # We need to handle deletions separately if we rely purely on git diff.\n        # But let's stick to the current hybrid approach:\n        # If we trust IndexState knows what IT thinks is indexed, we can check if those still exist?\n        # Or use git diff for deletions too?\n        # For simplicity in V1 (Phase 1.2), we will re-scan all for stale check (fast)\n        # but only INDEX changed_files (slow).\n\n        # Optimization: collect_files is fast (just os.walk). The heavy part is index_file (parsing).\n        # So we can still do collect_files() to find stale ones.\n        all_files_current = []\n        for root in self.all_project_roots:\n            idx = CodeIndexer(root)\n            all_files_current.extend(idx.collect_files())\n\n        stale_files_rel = self.index_state.get_stale_files(all_files_current)\n\n        # But files_to_index should only be the changed ones from git diff\n        # Note: get_changed_files from code_indexer uses git diff.\n        # But we passed `self.indexer` which is initialized with project_root.\n        # If changed_files are returned, we use them.\n        # What if files_to_index is empty? means nothing changed content-wise.\n        pass\n    else:\n        # Full scan fallback\n        files_to_index = all_files\n        stale_files_rel = []\n\n    if not files_to_index and not stale_files_rel and (last_commit == current_commit):\n        logger.info(\"Index is up to date (commit match).\")\n        # We still need to load chunks into memory for graph building\n        self._load_chunks_from_db()\n        return existing_count\n\n    # 4. Handle Deletions\n    for rel_path in stale_files_rel:\n        chunk_ids = self.index_state.state.get(rel_path, {}).get(\"chunks\", [])\n        if chunk_ids:\n            try:\n                self.collection.delete(ids=chunk_ids)\n            except Exception:\n                pass\n        self.index_state.remove(rel_path)\n        logger.info(f\"Removed stale file: {rel_path}\")\n\n    # 5. Handle Indexing\n    new_chunks_buffer = []\n    total_indexed = 0\n\n    # Reset indexer stats for accurate reporting\n    self.indexer.stats = IndexStats()\n\n    for file_path in files_to_index:\n        # Clear old chunks for modified file\n        rel_path = self.index_state._get_rel_path(file_path)\n        old_ids = self.index_state.get_chunks_for_file(file_path)\n        if old_ids:\n            try:\n                self.collection.delete(ids=old_ids)\n            except Exception:\n                pass\n\n        # Generate new chunks\n        try:\n            chunks = list(self.indexer.index_file(file_path))\n        except Exception as e:\n            logger.warning(f\"Failed to index {file_path}: {e}\")\n            self.indexer.stats.skipped_files += 1\n            continue\n\n        if not chunks:\n            continue\n\n        # Track stats per file\n        self.indexer.stats.total_files += 1\n        for chunk in chunks:\n            self.indexer.stats.total_chunks += 1\n            if chunk.chunk_type == \"function\":\n                self.indexer.stats.functions += 1\n            elif chunk.chunk_type == \"class\":\n                self.indexer.stats.classes += 1\n            elif chunk.chunk_type == \"method\":\n                self.indexer.stats.methods += 1\n            elif chunk.chunk_type == \"script\":\n                self.indexer.stats.script_chunks += 1\n\n        # Batch upsert logic preparation\n        new_chunks_buffer.extend(chunks)\n\n        # Update state with new IDs\n        ids = [c.chunk_id for c in chunks]\n        self.index_state.update(file_path, ids)\n        total_indexed += len(chunks)\n\n    # 6. Bulk Upsert to Chroma\n    if new_chunks_buffer:\n        ids = [c.chunk_id for c in new_chunks_buffer]\n        documents = [self._chunk_to_document(c) for c in new_chunks_buffer]\n        metadatas = [self._chunk_to_metadata(c) for c in new_chunks_buffer]\n\n        batch_size = 100\n        for i in range(0, len(new_chunks_buffer), batch_size):\n            end = min(i + batch_size, len(new_chunks_buffer))\n            try:\n                self.collection.upsert(\n                    ids=ids[i:end], documents=documents[i:end], metadatas=metadatas[i:end]\n                )\n            except Exception as e:\n                logger.error(f\"Failed to upsert batch: {e}\")\n\n    # 7. Persist State\n    if current_commit:\n        self.index_state.update_commit(current_commit)\n    self.index_state.save()\n\n    # 8. Reload fully for graph building (Hybrid RAG needs graph)\n    # Note: In a huge repo, loading all chunks might be heavy.\n    # Ideally we load only necessary graph data.\n    # For V10 we load all instructions.\n    self._load_chunks_from_db()\n\n    # Update graph with new/all chunks\n    # _load_chunks_from_db handles rebuilding self._chunks and self.graph\n\n    logger.info(\n        f\"Indexed {len(files_to_index)} files ({total_indexed} chunks). Removed {len(stale_files_rel)} stale files.\"\n    )\n\n    return self.collection.count()\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.retrieve","title":"<code>retrieve(query, n_results=10, expand_graph=True, file_filter=None, chunk_types=None, threshold=0.0, use_hyde=True, use_rerank=True)</code>","text":"<p>Retrieve relevant code chunks with caching.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Natural language query or error message</p> required <code>n_results</code> <code>int</code> <p>Maximum results to return</p> <code>10</code> <code>expand_graph</code> <code>bool</code> <p>Whether to include 1-layer dependency context</p> <code>True</code> <code>file_filter</code> <code>str | None</code> <p>Filter by file path substring (e.g., \"auth\")</p> <code>None</code> <code>chunk_types</code> <code>list[str] | None</code> <p>Filter by chunk types (e.g., [\"function\", \"class\"])</p> <code>None</code> <code>threshold</code> <code>float</code> <p>Minimum relevance score (0.0 to 1.0)</p> <code>0.0</code> <code>use_hyde</code> <code>bool</code> <p>Whether to use HyDE query expansion (V10.24+)</p> <code>True</code> <code>use_rerank</code> <code>bool</code> <p>Whether to use Cross-Encoder reranking (V10.24+)</p> <code>True</code> <p>Returns:</p> Type Description <code>list[RetrievalResult]</code> <p>List of RetrievalResult sorted by relevance</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def retrieve(\n    self,\n    query: str,\n    n_results: int = 10,\n    expand_graph: bool = True,\n    file_filter: str | None = None,\n    chunk_types: list[str] | None = None,\n    threshold: float = 0.0,\n    use_hyde: bool = True,\n    use_rerank: bool = True,\n) -&gt; list[RetrievalResult]:\n    \"\"\"\n    Retrieve relevant code chunks with caching.\n\n    Args:\n        query: Natural language query or error message\n        n_results: Maximum results to return\n        expand_graph: Whether to include 1-layer dependency context\n        file_filter: Filter by file path substring (e.g., \"auth\")\n        chunk_types: Filter by chunk types (e.g., [\"function\", \"class\"])\n        threshold: Minimum relevance score (0.0 to 1.0)\n        use_hyde: Whether to use HyDE query expansion (V10.24+)\n        use_rerank: Whether to use Cross-Encoder reranking (V10.24+)\n\n    Returns:\n        List of RetrievalResult sorted by relevance\n    \"\"\"\n    if not self.is_available:\n        return []\n\n    # Generate cache key\n    cache_key = f\"{query}:{n_results}:{expand_graph}:{file_filter}:{chunk_types}:{threshold}:{use_hyde}:{use_rerank}\"\n\n    # Check cache\n    with _cache_lock:\n        if cache_key in _query_cache:\n            cached_results, cache_time = _query_cache[cache_key]\n            if time.time() - cache_time &lt; _QUERY_CACHE_TTL:\n                return cached_results\n\n    # Perform actual retrieval\n    results = self._retrieve_impl(\n        query,\n        n_results,\n        expand_graph,\n        file_filter,\n        chunk_types,\n        threshold,\n        use_hyde=use_hyde,\n        use_rerank=use_rerank,\n    )\n\n    # Update cache\n    with _cache_lock:\n        _query_cache[cache_key] = (results, time.time())\n\n    return results\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.record_user_selection","title":"<code>record_user_selection(chunk_id, query, session_id='')</code>","text":"<p>Record that a user selected a specific chunk from results.</p> <p>This feedback improves future ranking for similar queries.</p> <p>Parameters:</p> Name Type Description Default <code>chunk_id</code> <code>str</code> <p>The chunk that was selected</p> required <code>query</code> <code>str</code> <p>The query that produced the results</p> required <code>session_id</code> <code>str</code> <p>Optional session identifier</p> <code>''</code> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def record_user_selection(self, chunk_id: str, query: str, session_id: str = \"\"):\n    \"\"\"\n    Record that a user selected a specific chunk from results.\n\n    This feedback improves future ranking for similar queries.\n\n    Args:\n        chunk_id: The chunk that was selected\n        query: The query that produced the results\n        session_id: Optional session identifier\n    \"\"\"\n    ranker = _get_intelligent_ranker(self.project_root)\n    if ranker:\n        ranker.record_selection(chunk_id, query, session_id=session_id)\n        logger.debug(f\"Recorded selection: {chunk_id} for query: {query[:50]}\")\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.retrieve_async","title":"<code>retrieve_async(query, n_results=10, expand_graph=True, file_filter=None, chunk_types=None)</code>  <code>async</code>","text":"<p>Async version of retrieve for non-blocking operations.</p> <p>Wraps ChromaDB calls in asyncio.to_thread for async compatibility.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>async def retrieve_async(\n    self,\n    query: str,\n    n_results: int = 10,\n    expand_graph: bool = True,\n    file_filter: str | None = None,\n    chunk_types: list[str] | None = None,\n) -&gt; list[RetrievalResult]:\n    \"\"\"\n    Async version of retrieve for non-blocking operations.\n\n    Wraps ChromaDB calls in asyncio.to_thread for async compatibility.\n    \"\"\"\n    import asyncio\n\n    def _sync_retrieve():\n        return self.retrieve(query, n_results, expand_graph, file_filter, chunk_types)\n\n    return await asyncio.to_thread(_sync_retrieve)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.get_modification_context","title":"<code>get_modification_context(file_path, function_name=None, class_name=None)</code>","text":"<p>Get comprehensive context for modifying a specific code location.</p> <p>This is the \"smart\" entry point that returns: - The target chunk itself - Its callers (might break) - Its callees (need to understand interface) - Sibling methods (if in a class)</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>Relative path to the file</p> required <code>function_name</code> <code>str | None</code> <p>Name of function (optional)</p> <code>None</code> <code>class_name</code> <code>str | None</code> <p>Name of class (optional)</p> <code>None</code> <p>Returns:</p> Type Description <code>dict[str, list[RetrievalResult]]</code> <p>Dict with categorized context</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def get_modification_context(\n    self, file_path: str, function_name: str | None = None, class_name: str | None = None\n) -&gt; dict[str, list[RetrievalResult]]:\n    \"\"\"\n    Get comprehensive context for modifying a specific code location.\n\n    This is the \"smart\" entry point that returns:\n    - The target chunk itself\n    - Its callers (might break)\n    - Its callees (need to understand interface)\n    - Sibling methods (if in a class)\n\n    Args:\n        file_path: Relative path to the file\n        function_name: Name of function (optional)\n        class_name: Name of class (optional)\n\n    Returns:\n        Dict with categorized context\n    \"\"\"\n    result = {\"target\": [], \"callers\": [], \"callees\": [], \"siblings\": []}\n\n    if not self.graph:\n        return result\n\n    # Find target chunk\n    target_name = function_name or class_name\n    if not target_name:\n        return result\n\n    # Look up by name\n    candidates = self.graph.get_chunks_by_name(target_name)\n\n    # Filter by file path if provided\n    if file_path:\n        candidates = [c for c in candidates if file_path in c.file_path]\n\n    if not candidates:\n        return result\n\n    target = candidates[0]\n    result[\"target\"] = [RetrievalResult(chunk=target, score=1.0, retrieval_method=\"direct\")]\n\n    # Get context from graph\n    context = self.graph.get_context_for_modification(target.chunk_id)\n\n    for caller in context[\"callers\"]:\n        result[\"callers\"].append(\n            RetrievalResult(chunk=caller, score=0.8, retrieval_method=\"graph\")\n        )\n\n    for callee in context[\"callees\"]:\n        result[\"callees\"].append(\n            RetrievalResult(chunk=callee, score=0.7, retrieval_method=\"graph\")\n        )\n\n    for sibling in context[\"siblings\"]:\n        result[\"siblings\"].append(\n            RetrievalResult(chunk=sibling, score=0.6, retrieval_method=\"graph\")\n        )\n\n    return result\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.smart_expand","title":"<code>smart_expand(chunk_id, depth=2)</code>","text":"<p>On-demand deeper graph traversal (Agent-triggered \"smart jump\").</p> <p>When 1-layer expansion isn't enough, the agent can request deeper traversal for specific chunks.</p> <p>Parameters:</p> Name Type Description Default <code>chunk_id</code> <code>str</code> <p>The chunk to expand from</p> required <code>depth</code> <code>int</code> <p>How many layers to expand (default 2)</p> <code>2</code> <p>Returns:</p> Type Description <code>list[RetrievalResult]</code> <p>Additional context chunks</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def smart_expand(self, chunk_id: str, depth: int = 2) -&gt; list[RetrievalResult]:\n    \"\"\"\n    On-demand deeper graph traversal (Agent-triggered \"smart jump\").\n\n    When 1-layer expansion isn't enough, the agent can request\n    deeper traversal for specific chunks.\n\n    Args:\n        chunk_id: The chunk to expand from\n        depth: How many layers to expand (default 2)\n\n    Returns:\n        Additional context chunks\n    \"\"\"\n    if not self.graph:\n        return []\n\n    chunk = self.graph.get_chunk(chunk_id)\n    if not chunk:\n        return []\n\n    related = self.graph.get_related_chunks([chunk], depth=depth)\n\n    return [\n        RetrievalResult(\n            chunk=c,\n            score=0.4,  # Lower score for deep expansion\n            retrieval_method=\"smart_jump\",\n        )\n        for c in related\n    ]\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.generate_context_injection","title":"<code>generate_context_injection(query, max_tokens=4000, include_signatures_only=False)</code>","text":"<p>Generate context string for AI prompt injection.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>The current task or error</p> required <code>max_tokens</code> <code>int</code> <p>Maximum tokens (estimate: 4 chars = 1 token)</p> <code>4000</code> <code>include_signatures_only</code> <code>bool</code> <p>If True, only include function signatures</p> <code>False</code> <p>Returns:</p> Type Description <code>str</code> <p>Formatted context string ready for prompt injection</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>    def generate_context_injection(\n        self, query: str, max_tokens: int = 4000, include_signatures_only: bool = False\n    ) -&gt; str:\n        \"\"\"\n        Generate context string for AI prompt injection.\n\n        Args:\n            query: The current task or error\n            max_tokens: Maximum tokens (estimate: 4 chars = 1 token)\n            include_signatures_only: If True, only include function signatures\n\n        Returns:\n            Formatted context string ready for prompt injection\n        \"\"\"\n        results = self.retrieve(query, n_results=15, expand_graph=True)\n\n        if not results:\n            return \"\"\n\n        parts = [\"## \ud83d\udcda Relevant Code Context (RAG)\", \"\"]\n        current_chars = 0\n        max_chars = max_tokens * 4\n\n        for result in results:\n            chunk = result.chunk\n\n            # Use signature if available and requested\n            if include_signatures_only and chunk.signature:\n                content = chunk.signature\n            else:\n                content = chunk.content\n\n            # Format chunk\n            method_tag = f\"[{result.retrieval_method.upper()}]\"\n            location = f\"`{chunk.file_path}` \u2192 `{chunk.name}`\"\n            lines = f\"L{chunk.start_line}-{chunk.end_line}\"\n\n            chunk_content = f\"\"\"### {method_tag} {location} ({lines})\n```python\n{content}\n```\n\"\"\"\n            # Check token budget\n            chunk_chars = len(chunk_content)\n            if current_chars + chunk_chars &gt; max_chars:\n                break\n\n            parts.append(chunk_content)\n            current_chars += chunk_chars\n\n        return \"\\n\".join(parts)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.get_stats","title":"<code>get_stats()</code>","text":"<p>Get combined RAG statistics.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def get_stats(self) -&gt; RAGStats:\n    \"\"\"Get combined RAG statistics.\"\"\"\n    return RAGStats(\n        index_stats=self.indexer.get_stats() if self.indexer else None,\n        graph_stats=self.graph.get_stats() if self.graph else None,\n        total_chunks_indexed=len(self._chunks),\n        last_index_time=datetime.now().isoformat() if self._chunks else None,\n        chroma_available=CHROMA_AVAILABLE,\n    )\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.update_file","title":"<code>update_file(file_path)</code>","text":"<p>Incrementally update index for a single changed file.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>Path</code> <p>Path to the modified file</p> required <p>Returns:</p> Type Description <code>int</code> <p>Number of chunks updated</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def update_file(self, file_path: Path) -&gt; int:\n    \"\"\"\n    Incrementally update index for a single changed file.\n\n    Args:\n        file_path: Path to the modified file\n\n    Returns:\n        Number of chunks updated\n    \"\"\"\n    if not self.is_available:\n        return 0\n\n    try:\n        rel_path = str(file_path.relative_to(self.project_root))\n        # Normalize to forward slashes for cross-platform consistency\n        rel_path = rel_path.replace(\"\\\\\", \"/\")\n    except ValueError:\n        rel_path = str(file_path).replace(\"\\\\\", \"/\")\n\n    # Remove old chunks for this file\n    old_chunk_ids = self._file_to_chunks.get(rel_path, [])\n    if old_chunk_ids:\n        try:\n            self.collection.delete(ids=old_chunk_ids)\n        except Exception as e:\n            logger.warning(f\"Failed to delete old chunks: {e}\")\n\n    # Re-index the file\n    try:\n        new_chunks = list(self.indexer.index_file(file_path))\n    except Exception as e:\n        logger.warning(f\"Failed to index {file_path}: {e}\")\n        return 0\n\n    if not new_chunks:\n        return 0\n\n    # Update in-memory structures\n    for chunk in new_chunks:\n        self._chunks[chunk.chunk_id] = chunk\n        if self.graph:\n            self.graph.add_chunk(chunk)\n\n    self._file_to_chunks[rel_path] = [c.chunk_id for c in new_chunks]\n\n    # Upsert to ChromaDB\n    try:\n        self.collection.upsert(\n            ids=[c.chunk_id for c in new_chunks],\n            documents=[self._chunk_to_document(c) for c in new_chunks],\n            metadatas=[self._chunk_to_metadata(c) for c in new_chunks],\n        )\n    except Exception as e:\n        logger.error(f\"Failed to upsert chunks: {e}\")\n        return 0\n\n    return len(new_chunks)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGRetriever.clear","title":"<code>clear()</code>","text":"<p>Clear all indexed data.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def clear(self) -&gt; None:\n    \"\"\"Clear all indexed data.\"\"\"\n    if self.client and self.collection:\n        try:\n            self.client.delete_collection(self.collection_name)\n            self.collection = self.client.create_collection(\n                name=self.collection_name, metadata={\"hnsw:space\": \"cosine\"}\n            )\n        except Exception as e:\n            logger.error(f\"Failed to clear collection: {e}\")\n\n    self._chunks.clear()\n    self._file_to_chunks.clear()\n    self.graph = None\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RAGStats","title":"<code>RAGStats</code>  <code>dataclass</code>","text":"<p>Combined statistics for RAG system.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>@dataclass\nclass RAGStats:\n    \"\"\"Combined statistics for RAG system.\"\"\"\n\n    index_stats: IndexStats | None = None\n    graph_stats: GraphStats | None = None\n    total_chunks_indexed: int = 0\n    last_index_time: str | None = None\n    chroma_available: bool = CHROMA_AVAILABLE\n    # V10.23: Session stats\n    session_context_active: bool = False\n    session_boosts_applied: int = 0\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RetrievalResult","title":"<code>RetrievalResult</code>  <code>dataclass</code>","text":"<p>A retrieved code chunk with relevance info.</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>@dataclass\nclass RetrievalResult:\n    \"\"\"A retrieved code chunk with relevance info.\"\"\"\n\n    chunk: CodeChunk\n    score: float\n    retrieval_method: str  # \"vector\", \"graph\", \"keyword\", \"session\"\n    distance: float | None = None\n    # V10.23: Enhanced metadata\n    session_boost: float = 0.0  # Boost from session context\n    task_relevance: float = 0.0  # Task-type relevance score\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CrossEncoderReranker","title":"<code>CrossEncoderReranker</code>","text":"<p>Cross-encoder based reranker for high-precision code retrieval.</p> <p>Cross-encoders process query-document pairs jointly, allowing for deeper semantic understanding than bi-encoder approaches.</p> <p>Models: - ms-marco-MiniLM-L-6-v2: Fast, good for general text (default) - cross-encoder/ms-marco-TinyBERT-L-2: Ultra-fast - cross-encoder/stsb-roberta-base: Good for semantic similarity</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>class CrossEncoderReranker:\n    \"\"\"\n    Cross-encoder based reranker for high-precision code retrieval.\n\n    Cross-encoders process query-document pairs jointly, allowing for\n    deeper semantic understanding than bi-encoder approaches.\n\n    Models:\n    - ms-marco-MiniLM-L-6-v2: Fast, good for general text (default)\n    - cross-encoder/ms-marco-TinyBERT-L-2: Ultra-fast\n    - cross-encoder/stsb-roberta-base: Good for semantic similarity\n    \"\"\"\n\n    # Available models for different use cases\n    MODELS = {\n        \"fast\": \"cross-encoder/ms-marco-TinyBERT-L-2\",\n        \"balanced\": \"cross-encoder/ms-marco-MiniLM-L-6-v2\",\n        \"accurate\": \"cross-encoder/stsb-roberta-base\",\n    }\n\n    def __init__(self, model_name: str = \"balanced\", device: str = \"cpu\"):\n        \"\"\"\n        Initialize cross-encoder reranker.\n\n        Args:\n            model_name: Model preset (\"fast\", \"balanced\", \"accurate\") or HuggingFace model name\n            device: Device to use (\"cpu\", \"cuda\", \"mps\")\n        \"\"\"\n        self.model_name = self.MODELS.get(model_name, model_name)\n        self.device = device\n        self._model: Any | None = None\n        self._initialized = False\n\n    def _ensure_model(self) -&gt; bool:\n        \"\"\"Lazily initialize the model.\"\"\"\n        if self._initialized:\n            return self._model is not None\n\n        self._initialized = True\n\n        if not DependencyManager.check_chroma():\n            logger.debug(\n                \"CrossEncoder not available (sentence-transformers missing), using heuristic reranking\"\n            )\n            return False\n\n        try:\n            from sentence_transformers import CrossEncoder\n\n            self._model = CrossEncoder(self.model_name, device=self.device)\n            logger.info(f\"CrossEncoder initialized: {self.model_name}\")\n            return True\n        except Exception as e:\n            logger.warning(f\"Failed to load CrossEncoder: {e}\")\n            return False\n\n    def rerank(\n        self,\n        query: str,\n        documents: list[str],\n        original_scores: list[float],\n        top_k: int = 10,\n        weight_original: float = 0.3,\n    ) -&gt; list[tuple[int, RerankScore]]:\n        \"\"\"\n        Rerank documents using cross-encoder.\n\n        Args:\n            query: Search query\n            documents: List of document texts\n            original_scores: Original retrieval scores\n            top_k: Number of results to return\n            weight_original: Weight for original score in combination\n\n        Returns:\n            List of (original_index, RerankScore) sorted by combined score\n        \"\"\"\n        if not documents:\n            return []\n\n        if self._ensure_model():\n            return self._rerank_with_model(\n                query, documents, original_scores, top_k, weight_original\n            )\n        else:\n            return self._rerank_heuristic(query, documents, original_scores, top_k, weight_original)\n\n    def _rerank_with_model(\n        self,\n        query: str,\n        documents: list[str],\n        original_scores: list[float],\n        top_k: int,\n        weight_original: float,\n    ) -&gt; list[tuple[int, RerankScore]]:\n        \"\"\"Rerank using actual cross-encoder model.\"\"\"\n        # Create query-document pairs\n        pairs = [(query, doc) for doc in documents]\n\n        # Get cross-encoder scores\n        try:\n            scores = self._model.predict(pairs, show_progress_bar=False)\n        except Exception as e:\n            logger.warning(f\"Cross-encoder prediction failed: {e}\")\n            return self._rerank_heuristic(query, documents, original_scores, top_k, weight_original)\n\n        # Normalize scores to [0, 1]\n        min_score = min(scores)\n        max_score = max(scores)\n        range_score = max_score - min_score if max_score &gt; min_score else 1.0\n        normalized_scores = [(s - min_score) / range_score for s in scores]\n\n        # Combine with original scores\n        results = []\n        for i, (rerank_score, orig_score) in enumerate(\n            zip(normalized_scores, original_scores, strict=True)\n        ):\n            combined = (1 - weight_original) * rerank_score + weight_original * orig_score\n            results.append(\n                (\n                    i,\n                    RerankScore(\n                        original_score=orig_score,\n                        rerank_score=rerank_score,\n                        combined_score=combined,\n                        confidence=0.9,\n                        method=\"cross_encoder\",\n                    ),\n                )\n            )\n\n        # Sort by combined score\n        results.sort(key=lambda x: x[1].combined_score, reverse=True)\n        return results[:top_k]\n\n    def _rerank_heuristic(\n        self,\n        query: str,\n        documents: list[str],\n        original_scores: list[float],\n        top_k: int,\n        weight_original: float,\n    ) -&gt; list[tuple[int, RerankScore]]:\n        \"\"\"Heuristic reranking when cross-encoder unavailable.\"\"\"\n        query_lower = query.lower()\n        query_terms = set(query_lower.split())\n\n        results = []\n        for i, (doc, orig_score) in enumerate(zip(documents, original_scores, strict=True)):\n            doc_lower = doc.lower()\n\n            # Heuristic scoring factors\n            factors = []\n\n            # 1. Exact phrase match (strongest signal)\n            if query_lower in doc_lower:\n                factors.append(0.4)\n\n            # 2. Term coverage\n            matching_terms = sum(1 for term in query_terms if term in doc_lower)\n            term_coverage = matching_terms / len(query_terms) if query_terms else 0\n            factors.append(term_coverage * 0.3)\n\n            # 3. Position of first match (earlier is better)\n            first_match_pos = min(\n                (doc_lower.find(term) for term in query_terms if term in doc_lower),\n                default=len(doc_lower),\n            )\n            position_score = 1.0 - (first_match_pos / len(doc_lower)) if doc_lower else 0\n            factors.append(position_score * 0.2)\n\n            # 4. Length penalty (very long docs might be less relevant)\n            length_penalty = min(1.0, 500 / max(len(doc), 1))\n            factors.append(length_penalty * 0.1)\n\n            # Combine factors\n            rerank_score = sum(factors)\n            combined = (1 - weight_original) * rerank_score + weight_original * orig_score\n\n            results.append(\n                (\n                    i,\n                    RerankScore(\n                        original_score=orig_score,\n                        rerank_score=rerank_score,\n                        combined_score=combined,\n                        confidence=0.6,\n                        method=\"heuristic\",\n                    ),\n                )\n            )\n\n        results.sort(key=lambda x: x[1].combined_score, reverse=True)\n        return results[:top_k]\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CrossEncoderReranker.__init__","title":"<code>__init__(model_name='balanced', device='cpu')</code>","text":"<p>Initialize cross-encoder reranker.</p> <p>Parameters:</p> Name Type Description Default <code>model_name</code> <code>str</code> <p>Model preset (\"fast\", \"balanced\", \"accurate\") or HuggingFace model name</p> <code>'balanced'</code> <code>device</code> <code>str</code> <p>Device to use (\"cpu\", \"cuda\", \"mps\")</p> <code>'cpu'</code> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def __init__(self, model_name: str = \"balanced\", device: str = \"cpu\"):\n    \"\"\"\n    Initialize cross-encoder reranker.\n\n    Args:\n        model_name: Model preset (\"fast\", \"balanced\", \"accurate\") or HuggingFace model name\n        device: Device to use (\"cpu\", \"cuda\", \"mps\")\n    \"\"\"\n    self.model_name = self.MODELS.get(model_name, model_name)\n    self.device = device\n    self._model: Any | None = None\n    self._initialized = False\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.CrossEncoderReranker.rerank","title":"<code>rerank(query, documents, original_scores, top_k=10, weight_original=0.3)</code>","text":"<p>Rerank documents using cross-encoder.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Search query</p> required <code>documents</code> <code>list[str]</code> <p>List of document texts</p> required <code>original_scores</code> <code>list[float]</code> <p>Original retrieval scores</p> required <code>top_k</code> <code>int</code> <p>Number of results to return</p> <code>10</code> <code>weight_original</code> <code>float</code> <p>Weight for original score in combination</p> <code>0.3</code> <p>Returns:</p> Type Description <code>list[tuple[int, RerankScore]]</code> <p>List of (original_index, RerankScore) sorted by combined score</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def rerank(\n    self,\n    query: str,\n    documents: list[str],\n    original_scores: list[float],\n    top_k: int = 10,\n    weight_original: float = 0.3,\n) -&gt; list[tuple[int, RerankScore]]:\n    \"\"\"\n    Rerank documents using cross-encoder.\n\n    Args:\n        query: Search query\n        documents: List of document texts\n        original_scores: Original retrieval scores\n        top_k: Number of results to return\n        weight_original: Weight for original score in combination\n\n    Returns:\n        List of (original_index, RerankScore) sorted by combined score\n    \"\"\"\n    if not documents:\n        return []\n\n    if self._ensure_model():\n        return self._rerank_with_model(\n            query, documents, original_scores, top_k, weight_original\n        )\n    else:\n        return self._rerank_heuristic(query, documents, original_scores, top_k, weight_original)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.EnsembleReranker","title":"<code>EnsembleReranker</code>","text":"<p>Ensemble reranker combining multiple signals.</p> <p>Combines: 1. Cross-encoder/heuristic scores 2. Keyword matching 3. Code structure analysis 4. Usage patterns (from IntelligentRanker)</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>class EnsembleReranker:\n    \"\"\"\n    Ensemble reranker combining multiple signals.\n\n    Combines:\n    1. Cross-encoder/heuristic scores\n    2. Keyword matching\n    3. Code structure analysis\n    4. Usage patterns (from IntelligentRanker)\n    \"\"\"\n\n    def __init__(self, weights: dict[str, float] | None = None):\n        \"\"\"\n        Initialize ensemble reranker.\n\n        Args:\n            weights: Custom weights for each signal\n        \"\"\"\n        self.weights = weights or {\n            \"semantic\": 0.35,\n            \"keyword\": 0.25,\n            \"structure\": 0.20,\n            \"usage\": 0.20,\n        }\n        self.cross_encoder = CrossEncoderReranker()\n\n    def rerank(\n        self,\n        query: str,\n        chunks: list,  # list of CodeChunk or similar\n        original_scores: list[float],\n        usage_scores: dict[str, float] | None = None,\n        top_k: int = 10,\n    ) -&gt; list[tuple[int, float]]:\n        \"\"\"\n        Rerank using ensemble of signals.\n\n        Args:\n            query: Search query\n            chunks: List of code chunks with content and metadata\n            original_scores: Original retrieval scores\n            usage_scores: Optional usage-based scores from IntelligentRanker\n            top_k: Number of results to return\n\n        Returns:\n            List of (original_index, final_score) sorted by score\n        \"\"\"\n        if not chunks:\n            return []\n\n        documents = [self._chunk_to_text(chunk) for chunk in chunks]\n\n        # 1. Get semantic/cross-encoder scores\n        ce_results = self.cross_encoder.rerank(query, documents, original_scores, top_k=len(chunks))\n        semantic_scores = {idx: score.rerank_score for idx, score in ce_results}\n\n        # 2. Keyword matching scores\n        keyword_scores = self._compute_keyword_scores(query, chunks)\n\n        # 3. Structure scores\n        structure_scores = self._compute_structure_scores(query, chunks)\n\n        # 4. Usage scores (if provided)\n        usage_scores = usage_scores or {}\n\n        # Combine all signals\n        final_scores = []\n        for i, chunk in enumerate(chunks):\n            chunk_id = getattr(chunk, \"chunk_id\", str(i))\n\n            combined = (\n                self.weights[\"semantic\"] * semantic_scores.get(i, 0)\n                + self.weights[\"keyword\"] * keyword_scores.get(i, 0)\n                + self.weights[\"structure\"] * structure_scores.get(i, 0)\n                + self.weights[\"usage\"] * usage_scores.get(chunk_id, 0.5)\n            )\n\n            final_scores.append((i, combined))\n\n        final_scores.sort(key=lambda x: x[1], reverse=True)\n        return final_scores[:top_k]\n\n    def _chunk_to_text(self, chunk) -&gt; str:\n        \"\"\"Convert chunk to searchable text.\"\"\"\n        parts = []\n\n        if hasattr(chunk, \"name\") and chunk.name:\n            parts.append(f\"Name: {chunk.name}\")\n\n        if hasattr(chunk, \"signature\") and chunk.signature:\n            parts.append(f\"Signature: {chunk.signature}\")\n\n        if hasattr(chunk, \"docstring\") and chunk.docstring:\n            parts.append(f\"Doc: {chunk.docstring}\")\n\n        if hasattr(chunk, \"content\") and chunk.content:\n            # Limit content length\n            content = chunk.content[:500]\n            parts.append(f\"Code: {content}\")\n\n        return \"\\n\".join(parts)\n\n    def _compute_keyword_scores(self, query: str, chunks: list) -&gt; dict[int, float]:\n        \"\"\"Compute keyword matching scores.\"\"\"\n        query_terms = set(query.lower().split())\n        scores = {}\n\n        for i, chunk in enumerate(chunks):\n            text = self._chunk_to_text(chunk).lower()\n\n            matching = sum(1 for term in query_terms if term in text)\n            scores[i] = matching / len(query_terms) if query_terms else 0\n\n        return scores\n\n    def _compute_structure_scores(self, query: str, chunks: list) -&gt; dict[int, float]:\n        \"\"\"Compute code structure relevance scores.\"\"\"\n        scores = {}\n        query_lower = query.lower()\n\n        # Determine expected chunk types from query\n        expected_types = []\n        if any(kw in query_lower for kw in [\"class\", \"model\", \"schema\"]):\n            expected_types.append(\"class\")\n        if any(kw in query_lower for kw in [\"function\", \"method\", \"def\"]):\n            expected_types.extend([\"function\", \"method\"])\n        if any(kw in query_lower for kw in [\"test\", \"spec\"]):\n            expected_types.append(\"function\")  # Tests are usually functions\n\n        for i, chunk in enumerate(chunks):\n            score = 0.5  # Default\n\n            chunk_type = getattr(chunk, \"chunk_type\", \"\")\n\n            # Boost for matching chunk type\n            if expected_types and chunk_type in expected_types:\n                score += 0.3\n\n            # Boost for docstring presence\n            if hasattr(chunk, \"docstring\") and chunk.docstring:\n                score += 0.1\n\n            # Boost for reasonable size\n            if hasattr(chunk, \"content\"):\n                length = len(chunk.content)\n                if 50 &lt; length &lt; 500:  # Sweet spot\n                    score += 0.1\n\n            scores[i] = min(1.0, score)\n\n        return scores\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.EnsembleReranker.__init__","title":"<code>__init__(weights=None)</code>","text":"<p>Initialize ensemble reranker.</p> <p>Parameters:</p> Name Type Description Default <code>weights</code> <code>dict[str, float] | None</code> <p>Custom weights for each signal</p> <code>None</code> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def __init__(self, weights: dict[str, float] | None = None):\n    \"\"\"\n    Initialize ensemble reranker.\n\n    Args:\n        weights: Custom weights for each signal\n    \"\"\"\n    self.weights = weights or {\n        \"semantic\": 0.35,\n        \"keyword\": 0.25,\n        \"structure\": 0.20,\n        \"usage\": 0.20,\n    }\n    self.cross_encoder = CrossEncoderReranker()\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.EnsembleReranker.rerank","title":"<code>rerank(query, chunks, original_scores, usage_scores=None, top_k=10)</code>","text":"<p>Rerank using ensemble of signals.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Search query</p> required <code>chunks</code> <code>list</code> <p>List of code chunks with content and metadata</p> required <code>original_scores</code> <code>list[float]</code> <p>Original retrieval scores</p> required <code>usage_scores</code> <code>dict[str, float] | None</code> <p>Optional usage-based scores from IntelligentRanker</p> <code>None</code> <code>top_k</code> <code>int</code> <p>Number of results to return</p> <code>10</code> <p>Returns:</p> Type Description <code>list[tuple[int, float]]</code> <p>List of (original_index, final_score) sorted by score</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>def rerank(\n    self,\n    query: str,\n    chunks: list,  # list of CodeChunk or similar\n    original_scores: list[float],\n    usage_scores: dict[str, float] | None = None,\n    top_k: int = 10,\n) -&gt; list[tuple[int, float]]:\n    \"\"\"\n    Rerank using ensemble of signals.\n\n    Args:\n        query: Search query\n        chunks: List of code chunks with content and metadata\n        original_scores: Original retrieval scores\n        usage_scores: Optional usage-based scores from IntelligentRanker\n        top_k: Number of results to return\n\n    Returns:\n        List of (original_index, final_score) sorted by score\n    \"\"\"\n    if not chunks:\n        return []\n\n    documents = [self._chunk_to_text(chunk) for chunk in chunks]\n\n    # 1. Get semantic/cross-encoder scores\n    ce_results = self.cross_encoder.rerank(query, documents, original_scores, top_k=len(chunks))\n    semantic_scores = {idx: score.rerank_score for idx, score in ce_results}\n\n    # 2. Keyword matching scores\n    keyword_scores = self._compute_keyword_scores(query, chunks)\n\n    # 3. Structure scores\n    structure_scores = self._compute_structure_scores(query, chunks)\n\n    # 4. Usage scores (if provided)\n    usage_scores = usage_scores or {}\n\n    # Combine all signals\n    final_scores = []\n    for i, chunk in enumerate(chunks):\n        chunk_id = getattr(chunk, \"chunk_id\", str(i))\n\n        combined = (\n            self.weights[\"semantic\"] * semantic_scores.get(i, 0)\n            + self.weights[\"keyword\"] * keyword_scores.get(i, 0)\n            + self.weights[\"structure\"] * structure_scores.get(i, 0)\n            + self.weights[\"usage\"] * usage_scores.get(chunk_id, 0.5)\n        )\n\n        final_scores.append((i, combined))\n\n    final_scores.sort(key=lambda x: x[1], reverse=True)\n    return final_scores[:top_k]\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.RerankScore","title":"<code>RerankScore</code>  <code>dataclass</code>","text":"<p>Score from cross-encoder reranking.</p> Source code in <code>src/boring/rag/reranker.py</code> <pre><code>@dataclass\nclass RerankScore:\n    \"\"\"Score from cross-encoder reranking.\"\"\"\n\n    original_score: float\n    rerank_score: float\n    combined_score: float\n    confidence: float\n    method: str  # \"cross_encoder\", \"heuristic\", \"ensemble\"\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.expand_query_with_hyde","title":"<code>expand_query_with_hyde(query, use_llm=False)</code>","text":"<p>Convenience function to expand a query using HyDE.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>str</code> <p>Natural language query</p> required <code>use_llm</code> <code>bool</code> <p>Whether to use LLM for generation</p> <code>False</code> <p>Returns:</p> Type Description <code>HyDEResult</code> <p>HyDEResult with hypothetical document</p> Source code in <code>src/boring/rag/hyde.py</code> <pre><code>def expand_query_with_hyde(query: str, use_llm: bool = False) -&gt; HyDEResult:\n    \"\"\"\n    Convenience function to expand a query using HyDE.\n\n    Args:\n        query: Natural language query\n        use_llm: Whether to use LLM for generation\n\n    Returns:\n        HyDEResult with hypothetical document\n    \"\"\"\n    expander = get_hyde_expander(use_llm)\n    return expander.expand_query(query)\n</code></pre>"},{"location":"api/rag_zh/#boring.rag.create_rag_retriever","title":"<code>create_rag_retriever(project_root=None, persist_dir=None)</code>","text":"<p>Factory function to create RAGRetriever with standard project paths.</p> <p>Parameters:</p> Name Type Description Default <code>project_root</code> <code>Path | None</code> <p>Project root directory</p> <code>None</code> <code>persist_dir</code> <code>Path | None</code> <p>Optional custom persist directory</p> <code>None</code> <p>Returns:</p> Type Description <code>RAGRetriever</code> <p>RAGRetriever instance</p> Source code in <code>src/boring/rag/rag_retriever.py</code> <pre><code>def create_rag_retriever(\n    project_root: Path | None = None, persist_dir: Path | None = None\n) -&gt; RAGRetriever:\n    \"\"\"\n    Factory function to create RAGRetriever with standard project paths.\n\n    Args:\n        project_root: Project root directory\n        persist_dir: Optional custom persist directory\n\n    Returns:\n        RAGRetriever instance\n    \"\"\"\n    if project_root is None:\n        project_root = Path.cwd()\n\n    return RAGRetriever(project_root=project_root, persist_dir=persist_dir)\n</code></pre>"},{"location":"api/resources_zh/","title":"MCP Resources API \u53c3\u8003","text":""},{"location":"api/resources_zh/#boring.mcp.resources","title":"<code>boring.mcp.resources</code>","text":""},{"location":"api/resources_zh/#boring.mcp.resources.get_project_status","title":"<code>get_project_status()</code>","text":"<p>Get the current status of the autonomous loop (JSON).</p> Source code in <code>src/boring/mcp/resources.py</code> <pre><code>@mcp.resource(\"boring://project/status\")\ndef get_project_status() -&gt; str:\n    \"\"\"Get the current status of the autonomous loop (JSON).\"\"\"\n    root = detect_project_root()\n    if not root:\n        return '{\"status\": \"error\", \"message\": \"No project detected\"}'\n\n    from ..intelligence import MemoryManager\n\n    # Ensure log dir is set\n    logs = root / \"logs\"\n    logs.mkdir(exist_ok=True)\n\n    memory = MemoryManager(root)\n    return str(memory.get_project_state())\n</code></pre>"},{"location":"api/resources_zh/#boring.mcp.resources.get_prompt","title":"<code>get_prompt()</code>","text":"<p>Read the current PROMPT.md file.</p> Source code in <code>src/boring/mcp/resources.py</code> <pre><code>@mcp.resource(\"boring://project/prompt\")\ndef get_prompt() -&gt; str:\n    \"\"\"Read the current PROMPT.md file.\"\"\"\n    root = detect_project_root()\n    if not root:\n        return \"No project detected.\"\n\n    prompt_file = root / \"PROMPT.md\"\n    if prompt_file.exists():\n        return prompt_file.read_text(encoding=\"utf-8\")\n    return \"PROMPT.md not found.\"\n</code></pre>"},{"location":"api/resources_zh/#boring.mcp.resources.get_workflows","title":"<code>get_workflows()</code>","text":"<p>List available workflows (JSON).</p> Source code in <code>src/boring/mcp/resources.py</code> <pre><code>@mcp.resource(\"boring://workflows/list\")\ndef get_workflows() -&gt; str:\n    \"\"\"List available workflows (JSON).\"\"\"\n    root = detect_project_root()\n    if not root:\n        return \"[]\"\n\n    workflows_dir = root / \".agent\" / \"workflows\"\n    if not workflows_dir.exists():\n        return \"[]\"\n\n    workflows = [f.stem for f in workflows_dir.glob(\"*.md\")]\n    return str(workflows)\n</code></pre>"},{"location":"api/resources_zh/#boring.mcp.resources.get_project_config","title":"<code>get_project_config()</code>","text":"<p>Get project configuration (JSON). Includes Boring settings, verification levels, and feature flags.</p> Source code in <code>src/boring/mcp/resources.py</code> <pre><code>@mcp.resource(\"boring://project/config\")\ndef get_project_config() -&gt; str:\n    \"\"\"Get project configuration (JSON). Includes Boring settings, verification levels, and feature flags.\"\"\"\n    root = detect_project_root()\n    if not root:\n        return '{\"status\": \"error\", \"message\": \"No project detected\"}'\n\n    import json\n\n    config = {\n        \"project_root\": str(root),\n        \"boring_config_exists\": (root / \".boring\" / \"config.yaml\").exists(),\n        \"smithery_config_exists\": (root / \"smithery.yaml\").exists(),\n    }\n\n    # Try to read .boring/config.yaml if it exists\n    boring_config = root / \".boring\" / \"config.yaml\"\n    if boring_config.exists():\n        try:\n            import yaml\n\n            with open(boring_config, encoding=\"utf-8\") as f:\n                boring_data = yaml.safe_load(f)\n                config[\"boring_config\"] = boring_data\n        except Exception:\n            pass\n\n    return json.dumps(config, indent=2)\n</code></pre>"},{"location":"api/resources_zh/#boring.mcp.resources.get_project_tasks","title":"<code>get_project_tasks()</code>","text":"<p>Get current project tasks from task.md (JSON). Returns completed and pending tasks.</p> Source code in <code>src/boring/mcp/resources.py</code> <pre><code>@mcp.resource(\"boring://project/tasks\")\ndef get_project_tasks() -&gt; str:\n    \"\"\"Get current project tasks from task.md (JSON). Returns completed and pending tasks.\"\"\"\n    root = detect_project_root()\n    if not root:\n        return '{\"status\": \"error\", \"message\": \"No project detected\"}'\n\n    import json\n    import re\n\n    task_file = root / \"task.md\"\n    if not task_file.exists():\n        return json.dumps(\n            {\n                \"status\": \"not_found\",\n                \"message\": \"task.md not found\",\n                \"tasks\": [],\n                \"completed\": 0,\n                \"pending\": 0,\n            }\n        )\n\n    try:\n        content = task_file.read_text(encoding=\"utf-8\")\n        # Simple markdown task list parser\n        completed_tasks = len(\n            re.findall(r\"^\\s*-\\s*\\[x\\]\", content, re.MULTILINE | re.IGNORECASE)\n        )\n        pending_tasks = len(\n            re.findall(r\"^\\s*-\\s*\\[\\s\\]\", content, re.MULTILINE | re.IGNORECASE)\n        )\n\n        return json.dumps(\n            {\n                \"status\": \"success\",\n                \"file\": str(task_file),\n                \"completed\": completed_tasks,\n                \"pending\": pending_tasks,\n                \"total\": completed_tasks + pending_tasks,\n            },\n            indent=2,\n        )\n    except Exception as e:\n        return json.dumps({\"status\": \"error\", \"message\": str(e)})\n</code></pre>"},{"location":"api/security_zh/","title":"Security API \u53c3\u8003 (Security Scanner)","text":""},{"location":"api/security_zh/#boring.security","title":"<code>boring.security</code>","text":""},{"location":"api/security_zh/#boring.security.PathValidationResult","title":"<code>PathValidationResult</code>  <code>dataclass</code>","text":"<p>Result of path validation.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>@dataclass\nclass PathValidationResult:\n    \"\"\"Result of path validation.\"\"\"\n\n    is_valid: bool\n    reason: str | None = None\n    normalized_path: str | None = None\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityIssue","title":"<code>SecurityIssue</code>  <code>dataclass</code>","text":"<p>Represents a security issue found during scanning.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>@dataclass\nclass SecurityIssue:\n    \"\"\"Represents a security issue found during scanning.\"\"\"\n\n    severity: str  # CRITICAL, HIGH, MEDIUM, LOW\n    category: str  # secret, vulnerability, dependency\n    file_path: str\n    line_number: int\n    description: str\n    recommendation: str\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityReport","title":"<code>SecurityReport</code>  <code>dataclass</code>","text":"<p>Security scan report.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>@dataclass\nclass SecurityReport:\n    \"\"\"Security scan report.\"\"\"\n\n    issues: list = None\n    scanned_files: int = 0\n    secrets_found: int = 0\n    vulnerabilities_found: int = 0\n    dependency_issues: int = 0\n\n    def __post_init__(self):\n        if self.issues is None:\n            self.issues = []\n\n    @property\n    def total_issues(self) -&gt; int:\n        return len(self.issues)\n\n    @property\n    def passed(self) -&gt; bool:\n        return not any(i.severity in (\"CRITICAL\", \"HIGH\") for i in self.issues)\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityScanner","title":"<code>SecurityScanner</code>","text":"<p>Comprehensive security scanner for code and dependencies.</p> <p>Features: - Secret detection (API keys, tokens, passwords) - SAST via bandit (if installed) - Dependency vulnerability scanning via pip-audit</p> Source code in <code>src/boring/services/security.py</code> <pre><code>class SecurityScanner:\n    \"\"\"\n    Comprehensive security scanner for code and dependencies.\n\n    Features:\n    - Secret detection (API keys, tokens, passwords)\n    - SAST via bandit (if installed)\n    - Dependency vulnerability scanning via pip-audit\n    \"\"\"\n\n    def __init__(self, project_root: Path):\n        self.project_root = Path(project_root)\n        self.report = SecurityReport()\n\n    def scan_secrets(self, extensions: list = None) -&gt; list:\n        \"\"\"Scan files for hardcoded secrets and credentials.\"\"\"\n        if extensions is None:\n            # Comprehensive list covering all common text file types\n            extensions = [\n                \".py\",\n                \".js\",\n                \".ts\",\n                \".jsx\",\n                \".tsx\",  # Code\n                \".json\",\n                \".yaml\",\n                \".yml\",\n                \".toml\",\n                \".ini\",\n                \".cfg\",\n                \".conf\",  # Config\n                \".env\",\n                \".env.example\",\n                \".env.local\",  # Environment files\n                \".txt\",\n                \".md\",\n                \".rst\",  # Documentation &amp; Text\n                \".sh\",\n                \".bash\",\n                \".zsh\",\n                \".ps1\",\n                \".bat\",\n                \".cmd\",  # Shell scripts\n                \".xml\",\n                \".html\",\n                \".properties\",  # Other configs\n                \".sql\",  # Database files\n            ]\n\n        issues = []\n        files_scanned = 0\n\n        for ext in extensions:\n            for file_path in self.project_root.rglob(f\"*{ext}\"):\n                if any(\n                    part in file_path.parts\n                    for part in [\n                        \".git\",\n                        \"node_modules\",\n                        \"__pycache__\",\n                        \".venv\",\n                        \"venv\",\n                        \".boring_cache\",\n                    ]\n                ):\n                    continue\n\n                files_scanned += 1\n                try:\n                    content = file_path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n                    lines = content.split(\"\\n\")\n\n                    for pattern_name, pattern in SECRET_SCAN_PATTERNS.items():\n                        for line_num, line in enumerate(lines, 1):\n                            if re.search(pattern, line):\n                                issue = SecurityIssue(\n                                    severity=\"HIGH\",\n                                    category=\"secret\",\n                                    file_path=str(file_path.relative_to(self.project_root)),\n                                    line_number=line_num,\n                                    description=f\"Potential {pattern_name} detected\",\n                                    recommendation=\"Move to environment variable or secrets manager\",\n                                )\n                                issues.append(issue)\n                except Exception:\n                    pass\n\n        self.report.scanned_files = files_scanned\n        self.report.secrets_found = len(issues)\n        self.report.issues.extend(issues)\n        return issues\n\n    def scan_vulnerabilities(self, target: str = \"src/\") -&gt; list:\n        \"\"\"Run bandit SAST scanner on Python code.\"\"\"\n        import subprocess\n\n        issues = []\n        target_path = self.project_root / target\n\n        if not target_path.exists():\n            return issues\n\n        try:\n            result = subprocess.run(\n                [\"bandit\", \"-r\", str(target_path), \"-f\", \"json\", \"-q\"],\n                capture_output=True,\n                text=True,\n                timeout=30,  # Reduced from 120 to prevent long hangs\n            )\n\n            if result.stdout:\n                import json\n\n                try:\n                    data = json.loads(result.stdout)\n                    for vuln in data.get(\"results\", []):\n                        issue = SecurityIssue(\n                            severity=vuln.get(\"issue_severity\", \"LOW\"),\n                            category=\"vulnerability\",\n                            file_path=vuln.get(\"filename\", \"unknown\"),\n                            line_number=vuln.get(\"line_number\", 0),\n                            description=vuln.get(\"issue_text\", \"Unknown vulnerability\"),\n                            recommendation=f\"CWE: {vuln.get('issue_cwe', {}).get('id', 'N/A')}\",\n                        )\n                        issues.append(issue)\n                except Exception:\n                    pass\n\n        except FileNotFoundError:\n            pass  # bandit not installed\n        except Exception:\n            pass\n\n        self.report.vulnerabilities_found = len(issues)\n        self.report.issues.extend(issues)\n        return issues\n\n    def scan_dependencies(self) -&gt; list:\n        \"\"\"Check dependencies for known vulnerabilities.\"\"\"\n        import subprocess\n\n        issues = []\n\n        # Run pip-audit for Python\n        try:\n            result = subprocess.run(\n                [\"pip-audit\", \"--format\", \"json\", \"--progress-spinner\", \"off\"],\n                capture_output=True,\n                text=True,\n                cwd=self.project_root,\n                timeout=30,\n            )\n            if result.stdout:\n                import json\n\n                try:\n                    data = json.loads(result.stdout)\n                    for vuln in data:\n                        issue = SecurityIssue(\n                            severity=\"HIGH\" if vuln.get(\"fix_versions\") else \"MEDIUM\",\n                            category=\"dependency\",\n                            file_path=\"pyproject.toml/requirements.txt\",\n                            line_number=0,\n                            description=f\"{vuln.get('name')}: {vuln.get('vulns', [{}])[0].get('id', 'Unknown')}\",\n                            recommendation=f\"Upgrade to {vuln['fix_versions'][0]}\"\n                            if vuln.get(\"fix_versions\")\n                            else \"Update dependency\",\n                        )\n                        issues.append(issue)\n                except Exception:\n                    pass\n        except (FileNotFoundError, Exception):\n            pass\n\n        # Run npm audit for JS/TS if package.json exists\n        if (self.project_root / \"package.json\").exists():\n            try:\n                # Check if npm is available first\n                import shutil\n\n                if shutil.which(\"npm\"):\n                    result = subprocess.run(\n                        [\"npm\", \"audit\", \"--json\"],\n                        capture_output=True,\n                        text=True,\n                        cwd=self.project_root,\n                        timeout=30,\n                    )\n                    if result.stdout:\n                        import json\n\n                        try:\n                            # npm audit exits with 1 if vulns found, but still prints JSON\n                            data = json.loads(result.stdout)\n                            if \"advisories\" in data:  # npm 6\n                                vulns = data[\"advisories\"].values()\n                            elif \"vulnerabilities\" in data:  # npm 7+\n                                vulns = data[\"vulnerabilities\"].values()\n                            else:\n                                vulns = []\n\n                            for vuln in vulns:\n                                # Normalize npm 7 structure if nested\n                                if isinstance(vuln, dict):\n                                    severity = vuln.get(\"severity\", \"low\").upper()\n                                    pkg_name = (\n                                        vuln.get(\"name\") or vuln.get(\"module_name\") or \"unknown\"\n                                    )\n                                    # Map npm severity\n                                    if severity in [\"CRITICAL\", \"HIGH\"]:\n                                        sec_severity = severity\n                                    else:\n                                        sec_severity = \"MEDIUM\" if severity == \"MODERATE\" else \"LOW\"\n\n                                    issue = SecurityIssue(\n                                        severity=sec_severity,\n                                        category=\"dependency\",\n                                        file_path=\"package.json\",\n                                        line_number=0,\n                                        description=f\"npm: {pkg_name} ({vuln.get('title', 'Vulnerability')})\",\n                                        recommendation=\"Run 'npm audit fix'\",\n                                    )\n                                    issues.append(issue)\n                        except Exception:\n                            pass\n            except Exception:\n                pass\n\n        self.report.dependency_issues = len(issues)\n        self.report.issues.extend(issues)\n        return issues\n\n    def full_scan(self) -&gt; SecurityReport:\n        \"\"\"\n        Run all security scans in parallel for better performance.\n\n        V10.22: Uses ThreadPoolExecutor for parallel scanning.\n        \"\"\"\n        import concurrent.futures\n\n        # Run all scans in parallel\n        with concurrent.futures.ThreadPoolExecutor(max_workers=3) as executor:\n            futures = {\n                executor.submit(self.scan_secrets): \"secrets\",\n                executor.submit(self.scan_vulnerabilities): \"vulnerabilities\",\n                executor.submit(self.scan_dependencies): \"dependencies\",\n            }\n\n            # Wait for all to complete (results are stored in self.report)\n            for future in concurrent.futures.as_completed(futures):\n                futures[future]\n                try:\n                    future.result()  # Raises exception if scan failed\n                except Exception:\n                    pass  # Individual scan failures are handled internally\n\n        return self.report\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityScanner.scan_secrets","title":"<code>scan_secrets(extensions=None)</code>","text":"<p>Scan files for hardcoded secrets and credentials.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def scan_secrets(self, extensions: list = None) -&gt; list:\n    \"\"\"Scan files for hardcoded secrets and credentials.\"\"\"\n    if extensions is None:\n        # Comprehensive list covering all common text file types\n        extensions = [\n            \".py\",\n            \".js\",\n            \".ts\",\n            \".jsx\",\n            \".tsx\",  # Code\n            \".json\",\n            \".yaml\",\n            \".yml\",\n            \".toml\",\n            \".ini\",\n            \".cfg\",\n            \".conf\",  # Config\n            \".env\",\n            \".env.example\",\n            \".env.local\",  # Environment files\n            \".txt\",\n            \".md\",\n            \".rst\",  # Documentation &amp; Text\n            \".sh\",\n            \".bash\",\n            \".zsh\",\n            \".ps1\",\n            \".bat\",\n            \".cmd\",  # Shell scripts\n            \".xml\",\n            \".html\",\n            \".properties\",  # Other configs\n            \".sql\",  # Database files\n        ]\n\n    issues = []\n    files_scanned = 0\n\n    for ext in extensions:\n        for file_path in self.project_root.rglob(f\"*{ext}\"):\n            if any(\n                part in file_path.parts\n                for part in [\n                    \".git\",\n                    \"node_modules\",\n                    \"__pycache__\",\n                    \".venv\",\n                    \"venv\",\n                    \".boring_cache\",\n                ]\n            ):\n                continue\n\n            files_scanned += 1\n            try:\n                content = file_path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n                lines = content.split(\"\\n\")\n\n                for pattern_name, pattern in SECRET_SCAN_PATTERNS.items():\n                    for line_num, line in enumerate(lines, 1):\n                        if re.search(pattern, line):\n                            issue = SecurityIssue(\n                                severity=\"HIGH\",\n                                category=\"secret\",\n                                file_path=str(file_path.relative_to(self.project_root)),\n                                line_number=line_num,\n                                description=f\"Potential {pattern_name} detected\",\n                                recommendation=\"Move to environment variable or secrets manager\",\n                            )\n                            issues.append(issue)\n            except Exception:\n                pass\n\n    self.report.scanned_files = files_scanned\n    self.report.secrets_found = len(issues)\n    self.report.issues.extend(issues)\n    return issues\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityScanner.scan_vulnerabilities","title":"<code>scan_vulnerabilities(target='src/')</code>","text":"<p>Run bandit SAST scanner on Python code.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def scan_vulnerabilities(self, target: str = \"src/\") -&gt; list:\n    \"\"\"Run bandit SAST scanner on Python code.\"\"\"\n    import subprocess\n\n    issues = []\n    target_path = self.project_root / target\n\n    if not target_path.exists():\n        return issues\n\n    try:\n        result = subprocess.run(\n            [\"bandit\", \"-r\", str(target_path), \"-f\", \"json\", \"-q\"],\n            capture_output=True,\n            text=True,\n            timeout=30,  # Reduced from 120 to prevent long hangs\n        )\n\n        if result.stdout:\n            import json\n\n            try:\n                data = json.loads(result.stdout)\n                for vuln in data.get(\"results\", []):\n                    issue = SecurityIssue(\n                        severity=vuln.get(\"issue_severity\", \"LOW\"),\n                        category=\"vulnerability\",\n                        file_path=vuln.get(\"filename\", \"unknown\"),\n                        line_number=vuln.get(\"line_number\", 0),\n                        description=vuln.get(\"issue_text\", \"Unknown vulnerability\"),\n                        recommendation=f\"CWE: {vuln.get('issue_cwe', {}).get('id', 'N/A')}\",\n                    )\n                    issues.append(issue)\n            except Exception:\n                pass\n\n    except FileNotFoundError:\n        pass  # bandit not installed\n    except Exception:\n        pass\n\n    self.report.vulnerabilities_found = len(issues)\n    self.report.issues.extend(issues)\n    return issues\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityScanner.scan_dependencies","title":"<code>scan_dependencies()</code>","text":"<p>Check dependencies for known vulnerabilities.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def scan_dependencies(self) -&gt; list:\n    \"\"\"Check dependencies for known vulnerabilities.\"\"\"\n    import subprocess\n\n    issues = []\n\n    # Run pip-audit for Python\n    try:\n        result = subprocess.run(\n            [\"pip-audit\", \"--format\", \"json\", \"--progress-spinner\", \"off\"],\n            capture_output=True,\n            text=True,\n            cwd=self.project_root,\n            timeout=30,\n        )\n        if result.stdout:\n            import json\n\n            try:\n                data = json.loads(result.stdout)\n                for vuln in data:\n                    issue = SecurityIssue(\n                        severity=\"HIGH\" if vuln.get(\"fix_versions\") else \"MEDIUM\",\n                        category=\"dependency\",\n                        file_path=\"pyproject.toml/requirements.txt\",\n                        line_number=0,\n                        description=f\"{vuln.get('name')}: {vuln.get('vulns', [{}])[0].get('id', 'Unknown')}\",\n                        recommendation=f\"Upgrade to {vuln['fix_versions'][0]}\"\n                        if vuln.get(\"fix_versions\")\n                        else \"Update dependency\",\n                    )\n                    issues.append(issue)\n            except Exception:\n                pass\n    except (FileNotFoundError, Exception):\n        pass\n\n    # Run npm audit for JS/TS if package.json exists\n    if (self.project_root / \"package.json\").exists():\n        try:\n            # Check if npm is available first\n            import shutil\n\n            if shutil.which(\"npm\"):\n                result = subprocess.run(\n                    [\"npm\", \"audit\", \"--json\"],\n                    capture_output=True,\n                    text=True,\n                    cwd=self.project_root,\n                    timeout=30,\n                )\n                if result.stdout:\n                    import json\n\n                    try:\n                        # npm audit exits with 1 if vulns found, but still prints JSON\n                        data = json.loads(result.stdout)\n                        if \"advisories\" in data:  # npm 6\n                            vulns = data[\"advisories\"].values()\n                        elif \"vulnerabilities\" in data:  # npm 7+\n                            vulns = data[\"vulnerabilities\"].values()\n                        else:\n                            vulns = []\n\n                        for vuln in vulns:\n                            # Normalize npm 7 structure if nested\n                            if isinstance(vuln, dict):\n                                severity = vuln.get(\"severity\", \"low\").upper()\n                                pkg_name = (\n                                    vuln.get(\"name\") or vuln.get(\"module_name\") or \"unknown\"\n                                )\n                                # Map npm severity\n                                if severity in [\"CRITICAL\", \"HIGH\"]:\n                                    sec_severity = severity\n                                else:\n                                    sec_severity = \"MEDIUM\" if severity == \"MODERATE\" else \"LOW\"\n\n                                issue = SecurityIssue(\n                                    severity=sec_severity,\n                                    category=\"dependency\",\n                                    file_path=\"package.json\",\n                                    line_number=0,\n                                    description=f\"npm: {pkg_name} ({vuln.get('title', 'Vulnerability')})\",\n                                    recommendation=\"Run 'npm audit fix'\",\n                                )\n                                issues.append(issue)\n                    except Exception:\n                        pass\n        except Exception:\n            pass\n\n    self.report.dependency_issues = len(issues)\n    self.report.issues.extend(issues)\n    return issues\n</code></pre>"},{"location":"api/security_zh/#boring.security.SecurityScanner.full_scan","title":"<code>full_scan()</code>","text":"<p>Run all security scans in parallel for better performance.</p> <p>V10.22: Uses ThreadPoolExecutor for parallel scanning.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def full_scan(self) -&gt; SecurityReport:\n    \"\"\"\n    Run all security scans in parallel for better performance.\n\n    V10.22: Uses ThreadPoolExecutor for parallel scanning.\n    \"\"\"\n    import concurrent.futures\n\n    # Run all scans in parallel\n    with concurrent.futures.ThreadPoolExecutor(max_workers=3) as executor:\n        futures = {\n            executor.submit(self.scan_secrets): \"secrets\",\n            executor.submit(self.scan_vulnerabilities): \"vulnerabilities\",\n            executor.submit(self.scan_dependencies): \"dependencies\",\n        }\n\n        # Wait for all to complete (results are stored in self.report)\n        for future in concurrent.futures.as_completed(futures):\n            futures[future]\n            try:\n                future.result()  # Raises exception if scan failed\n            except Exception:\n                pass  # Individual scan failures are handled internally\n\n    return self.report\n</code></pre>"},{"location":"api/security_zh/#boring.security.log_status","title":"<code>log_status(log_dir, level, message, **kwargs)</code>","text":"<p>Logs status messages using structlog with console and file output.</p> <p>Parameters:</p> Name Type Description Default <code>log_dir</code> <code>Any</code> <p>Directory for log files (Path or str). If None/False, only logs to console.</p> required <code>level</code> <code>str</code> <p>Log level (INFO, WARN, ERROR, SUCCESS, LOOP)</p> required <code>message</code> <code>str</code> <p>Message to log</p> required <code>**kwargs</code> <code>Any</code> <p>Additional structured fields</p> <code>{}</code> Source code in <code>src/boring/core/logger.py</code> <pre><code>def log_status(log_dir: Any, level: str, message: str, **kwargs: Any):\n    \"\"\"\n    Logs status messages using structlog with console and file output.\n\n    Args:\n        log_dir: Directory for log files (Path or str). If None/False, only logs to console.\n        level: Log level (INFO, WARN, ERROR, SUCCESS, LOOP)\n        message: Message to log\n        **kwargs: Additional structured fields\n    \"\"\"\n    timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n\n    # Setup file logging lazily if needed\n    if log_dir:\n        if isinstance(log_dir, str):\n            log_dir = Path(log_dir)\n\n        # Check if handlers need setup (simple check to avoid adding multiple handlers)\n        has_file_handler = any(isinstance(h, logging.FileHandler) for h in _logger.handlers)\n        if not has_file_handler:\n            setup_file_logging(log_dir)\n\n    # Console output with Rich colors\n    color_map = {\n        \"INFO\": \"blue\",\n        \"WARN\": \"yellow\",\n        \"ERROR\": \"red\",\n        \"SUCCESS\": \"green\",\n        \"LOOP\": \"purple\",\n        \"DEBUG\": \"dim\",\n        \"CRITICAL\": \"bold red\",\n        \"PLAN\": \"cyan\",  # New level for Vibe Coder planning\n        \"VIBE\": \"magenta\",  # New level for Vibe Coder interactions\n    }\n\n    # Emoji mapping for Vibe Coder\n    emoji_map = {\n        \"INFO\": \"\u2139\ufe0f \",\n        \"WARN\": \"\u26a0\ufe0f \",\n        \"ERROR\": \"\u274c \",\n        \"SUCCESS\": \"\u2705 \",\n        \"LOOP\": \"\ud83d\udd04 \",\n        \"DEBUG\": \"\ud83d\udc1b \",\n        \"CRITICAL\": \"\ud83d\udea8 \",\n        \"PLAN\": \"\ud83d\uddfa\ufe0f \",\n        \"VIBE\": \"\u2728 \",\n    }\n\n    style = color_map.get(level.upper(), \"default\")\n    emoji = emoji_map.get(level.upper(), \"\")\n\n    # Format extra fields for display\n    extra_str = \"\"\n    if kwargs:\n        extra_str = \" \" + \" \".join(f\"{k}={v}\" for k, v in kwargs.items())\n\n    console.print(f\"[{timestamp}] [[{level.upper()}]] {emoji}{message}{extra_str}\", style=style)\n\n    # Log to standard python logger (handled by file handlers)\n    # We pass kwargs as 'props' to be picked up by JSONFormatter\n    level_int = getattr(logging, level.upper(), logging.INFO)\n    if level.upper() in [\"SUCCESS\", \"LOOP\", \"PLAN\", \"VIBE\"]:\n        level_int = logging.INFO  # Map custom levels to INFO for standardized handling\n\n    record = logging.LogRecord(\"boring\", level_int, \"\", 0, message, args=(), exc_info=None)\n    record.props = kwargs\n    record.created = datetime.now().timestamp()  # Sync time\n    _logger.handle(record)\n</code></pre>"},{"location":"api/security_zh/#boring.security.validate_file_path","title":"<code>validate_file_path(path, project_root, allowed_extensions=None, log_dir=Path('logs'))</code>","text":"<p>Validate a file path for security concerns.</p> <p>Checks: 1. No path traversal (../) 2. Path is within project root 3. Extension is in whitelist 4. Not in blocked directories 5. Not a blocked filename</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>Relative path to validate</p> required <code>project_root</code> <code>Path</code> <p>Project root directory</p> required <code>allowed_extensions</code> <code>set[str]</code> <p>Custom allowed extensions (defaults to ALLOWED_EXTENSIONS)</p> <code>None</code> <code>log_dir</code> <code>Path</code> <p>Directory for logging</p> <code>Path('logs')</code> <p>Returns:</p> Type Description <code>PathValidationResult</code> <p>PathValidationResult with validation status and details</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def validate_file_path(\n    path: str, project_root: Path, allowed_extensions: set[str] = None, log_dir: Path = Path(\"logs\")\n) -&gt; PathValidationResult:\n    \"\"\"\n    Validate a file path for security concerns.\n\n    Checks:\n    1. No path traversal (../)\n    2. Path is within project root\n    3. Extension is in whitelist\n    4. Not in blocked directories\n    5. Not a blocked filename\n\n    Args:\n        path: Relative path to validate\n        project_root: Project root directory\n        allowed_extensions: Custom allowed extensions (defaults to ALLOWED_EXTENSIONS)\n        log_dir: Directory for logging\n\n    Returns:\n        PathValidationResult with validation status and details\n    \"\"\"\n    if not path or not path.strip():\n        return PathValidationResult(False, \"Empty path\")\n\n    # Normalize path\n    path = path.strip().strip('\"').strip(\"'\")\n\n    # Check for obvious path traversal\n    if \"..\" in path:\n        log_status(log_dir, \"WARN\", f\"Path traversal attempt blocked: {path}\")\n        return PathValidationResult(False, \"Path traversal not allowed\")\n\n    # Check for absolute paths\n    if path.startswith(\"/\") or path.startswith(\"\\\\\") or (len(path) &gt; 1 and path[1] == \":\"):\n        log_status(log_dir, \"WARN\", f\"Absolute path blocked: {path}\")\n        return PathValidationResult(False, \"Absolute paths not allowed\")\n\n    # Resolve to absolute and check containment\n    try:\n        full_path = (project_root / path).resolve()\n        project_root_resolved = project_root.resolve()\n\n        # Ensure path is within project root (case-insensitive on Windows)\n        import os\n\n        if os.name == \"nt\":  # Windows\n            # Use case-insensitive string comparison\n            full_str = str(full_path).lower()\n            root_str = str(project_root_resolved).lower()\n            if not full_str.startswith(root_str):\n                log_status(log_dir, \"WARN\", f\"Path outside project root: {path}\")\n                return PathValidationResult(False, \"Path must be within project root\")\n        else:\n            if not full_path.is_relative_to(project_root_resolved):\n                log_status(log_dir, \"WARN\", f\"Path outside project root: {path}\")\n                return PathValidationResult(False, \"Path must be within project root\")\n    except Exception as e:\n        return PathValidationResult(False, f\"Invalid path: {e}\")\n\n    # Check blocked directories\n    path_parts = Path(path).parts\n    for blocked in BLOCKED_DIRECTORIES:\n        if blocked in path_parts:\n            log_status(log_dir, \"WARN\", f\"Blocked directory access: {path}\")\n            return PathValidationResult(False, f\"Cannot write to {blocked}/\")\n\n    # Check blocked filenames\n    if full_path.name in BLOCKED_FILENAMES:\n        log_status(log_dir, \"WARN\", f\"Blocked filename: {path}\")\n        return PathValidationResult(False, f\"Cannot modify {full_path.name}\")\n\n    # Check extension\n    extensions = allowed_extensions or ALLOWED_EXTENSIONS\n    if full_path.suffix.lower() not in extensions:\n        return PathValidationResult(\n            False,\n            f\"Extension '{full_path.suffix}' not allowed. Allowed: {', '.join(sorted(extensions)[:10])}...\",\n        )\n\n    # Get normalized relative path (Windows-compatible)\n    try:\n        if os.name == \"nt\":  # Windows\n            # Manual relative path calculation for case differences\n            full_str = str(full_path)\n            root_str = str(project_root_resolved)\n            if full_str.lower().startswith(root_str.lower()):\n                # Strip root and any leading separator\n                normalized = full_str[len(root_str) :].lstrip(\"\\\\\").lstrip(\"/\")\n            else:\n                normalized = path\n        else:\n            normalized = str(full_path.relative_to(project_root_resolved))\n    except ValueError:\n        normalized = path\n\n    return PathValidationResult(True, None, normalized)\n</code></pre>"},{"location":"api/security_zh/#boring.security.is_safe_path","title":"<code>is_safe_path(path, project_root)</code>","text":"<p>Quick check if a path is safe to write to.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def is_safe_path(path: str, project_root: Path) -&gt; bool:\n    \"\"\"Quick check if a path is safe to write to.\"\"\"\n    result = validate_file_path(path, project_root)\n    return result.is_valid\n</code></pre>"},{"location":"api/security_zh/#boring.security.mask_sensitive_data","title":"<code>mask_sensitive_data(text)</code>","text":"<p>Mask sensitive data in text before logging.</p> <p>Parameters:</p> Name Type Description Default <code>text</code> <code>str</code> <p>Text that may contain sensitive data</p> required <p>Returns:</p> Type Description <code>str</code> <p>Text with sensitive data masked</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def mask_sensitive_data(text: str) -&gt; str:\n    \"\"\"\n    Mask sensitive data in text before logging.\n\n    Args:\n        text: Text that may contain sensitive data\n\n    Returns:\n        Text with sensitive data masked\n    \"\"\"\n    if not text:\n        return text\n\n    masked = text\n    for pattern, replacement in SENSITIVE_PATTERNS:\n        masked = re.sub(pattern, replacement, masked)\n\n    return masked\n</code></pre>"},{"location":"api/security_zh/#boring.security.safe_log","title":"<code>safe_log(log_dir, level, message)</code>","text":"<p>Log message with sensitive data masked.</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def safe_log(log_dir: Path, level: str, message: str):\n    \"\"\"Log message with sensitive data masked.\"\"\"\n    from boring.core.logger import log_status\n\n    masked_message = mask_sensitive_data(message)\n    log_status(log_dir, level, masked_message)\n</code></pre>"},{"location":"api/security_zh/#boring.security.sanitize_filename","title":"<code>sanitize_filename(filename)</code>","text":"<p>Sanitize a filename by removing potentially dangerous characters.</p> <p>Parameters:</p> Name Type Description Default <code>filename</code> <code>str</code> <p>Raw filename</p> required <p>Returns:</p> Type Description <code>str</code> <p>Sanitized filename</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def sanitize_filename(filename: str) -&gt; str:\n    \"\"\"\n    Sanitize a filename by removing potentially dangerous characters.\n\n    Args:\n        filename: Raw filename\n\n    Returns:\n        Sanitized filename\n    \"\"\"\n    # Remove path separators\n    filename = filename.replace(\"/\", \"_\").replace(\"\\\\\", \"_\")\n\n    # Remove null bytes and other control characters\n    filename = re.sub(r\"[\\x00-\\x1f\\x7f]\", \"\", filename)\n\n    # Remove leading/trailing dots and spaces\n    filename = filename.strip(\". \")\n\n    # Limit length\n    if len(filename) &gt; 255:\n        name, ext = filename.rsplit(\".\", 1) if \".\" in filename else (filename, \"\")\n        filename = name[:250] + (\".\" + ext if ext else \"\")\n\n    return filename or \"unnamed\"\n</code></pre>"},{"location":"api/security_zh/#boring.security.sanitize_content","title":"<code>sanitize_content(content, max_length=1000000)</code>","text":"<p>Sanitize content before writing to files.</p> <p>Parameters:</p> Name Type Description Default <code>content</code> <code>str</code> <p>Raw content</p> required <code>max_length</code> <code>int</code> <p>Maximum allowed length</p> <code>1000000</code> <p>Returns:</p> Type Description <code>str</code> <p>Sanitized content</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def sanitize_content(content: str, max_length: int = 1_000_000) -&gt; str:\n    \"\"\"\n    Sanitize content before writing to files.\n\n    Args:\n        content: Raw content\n        max_length: Maximum allowed length\n\n    Returns:\n        Sanitized content\n    \"\"\"\n    if not content:\n        return \"\"\n\n    # Truncate if too long\n    if len(content) &gt; max_length:\n        content = content[:max_length] + \"\\n# ... content truncated ...\\n\"\n\n    return content\n</code></pre>"},{"location":"api/security_zh/#boring.security.run_security_scan","title":"<code>run_security_scan(project_path=None)</code>","text":"<p>Run security scan on a project.</p> <p>Returns:</p> Type Description <code>dict</code> <p>Security scan results as dict</p> Source code in <code>src/boring/services/security.py</code> <pre><code>def run_security_scan(project_path: str = None) -&gt; dict:\n    \"\"\"\n    Run security scan on a project.\n\n    Returns:\n        Security scan results as dict\n    \"\"\"\n    from boring.core.config import settings\n\n    path = Path(project_path) if project_path else settings.PROJECT_ROOT\n    scanner = SecurityScanner(path)\n    report = scanner.full_scan()\n\n    return {\n        \"passed\": report.passed,\n        \"total_issues\": report.total_issues,\n        \"secrets_found\": report.secrets_found,\n        \"vulnerabilities_found\": report.vulnerabilities_found,\n        \"dependency_issues\": report.dependency_issues,\n        \"issues\": [\n            {\n                \"severity\": i.severity,\n                \"category\": i.category,\n                \"file\": i.file_path,\n                \"line\": i.line_number,\n                \"description\": i.description,\n                \"recommendation\": i.recommendation,\n            }\n            for i in report.issues\n        ],\n    }\n</code></pre>"},{"location":"api/speckit_zh/","title":"SpecKit API \u53c3\u8003","text":""},{"location":"api/speckit_zh/#boring.mcp.speckit_tools","title":"<code>boring.mcp.speckit_tools</code>","text":"<p>SpecKit MCP Tools - Spec-Driven Development workflow tools.</p> <p>This module contains tools for structured development: - boring_speckit_plan: Create implementation plans - boring_speckit_tasks: Break plans into tasks - boring_speckit_analyze: Consistency analysis - boring_speckit_clarify: Requirement clarification - boring_speckit_checklist: Quality checklists - boring_speckit_constitution: Project principles</p>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.boring_speckit_plan","title":"<code>boring_speckit_plan(context=None, project_path=None)</code>","text":"<p>Execute SpecKit Plan workflow - Create technical implementation plan from requirements.</p> <p>Analyzes project requirements and generates a structured implementation plan including file changes, dependencies, and step-by-step instructions.</p> Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def boring_speckit_plan(\n    context: Annotated[\n        str,\n        Field(\n            description=\"Additional context or requirements for plan generation. Can include user stories, technical constraints, or specific implementation goals. If not provided, uses existing project specification files.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str,\n        Field(\n            description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory.\"\n        ),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Execute SpecKit Plan workflow - Create technical implementation plan from requirements.\n\n    Analyzes project requirements and generates a structured implementation plan\n    including file changes, dependencies, and step-by-step instructions.\n    \"\"\"\n    # [ONE DRAGON GAP FIX] Inject Mastered Skills (Cognitive Evolution)\n    try:\n        from .utils import detect_project_root\n\n        root = detect_project_root(project_path)\n        if root:\n            skills_file = root / \"skills\" / \"mastered_skills.md\"\n            if skills_file.exists():\n                skills = skills_file.read_text(encoding=\"utf-8\")\n                context = f\"{context or ''}\\n\\n## \ud83e\udde0 Mastered Skills (MUST FOLLOW)\\n{skills}\"\n    except Exception:\n        pass\n\n    return _execute_workflow(\"speckit-plan\", context, project_path)\n</code></pre>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.boring_speckit_tasks","title":"<code>boring_speckit_tasks(context=None, project_path=None)</code>","text":"<p>Execute SpecKit Tasks workflow - Break implementation plan into actionable tasks.</p> <p>Converts the implementation plan into a prioritized task checklist with clear acceptance criteria.</p> Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def boring_speckit_tasks(\n    context: Annotated[\n        str,\n        Field(\n            description=\"Additional context for task generation. Can specify task granularity, priorities, or dependencies. If not provided, uses existing implementation plan.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str,\n        Field(\n            description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory.\"\n        ),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Execute SpecKit Tasks workflow - Break implementation plan into actionable tasks.\n\n    Converts the implementation plan into a prioritized task checklist\n    with clear acceptance criteria.\n    \"\"\"\n    return _execute_workflow(\"speckit-tasks\", context, project_path)\n</code></pre>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.boring_speckit_analyze","title":"<code>boring_speckit_analyze(context=None, project_path=None)</code>","text":"<p>Execute SpecKit Analyze workflow - Analyze consistency between specs and code.</p> <p>Compares specifications against implementation to identify gaps, inconsistencies, and missing coverage areas.</p> Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def boring_speckit_analyze(\n    context: Annotated[\n        str,\n        Field(\n            description=\"Additional context for analysis. Can specify focus areas (specs, code, tests) or specific artifacts to compare. If not provided, analyzes all project artifacts.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str,\n        Field(\n            description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory.\"\n        ),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Execute SpecKit Analyze workflow - Analyze consistency between specs and code.\n\n    Compares specifications against implementation to identify gaps,\n    inconsistencies, and missing coverage areas.\n    \"\"\"\n    return _execute_workflow(\"speckit-analyze\", context, project_path)\n</code></pre>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.boring_speckit_clarify","title":"<code>boring_speckit_clarify(context=None, project_path=None)</code>","text":"<p>Execute SpecKit Clarify workflow - Identify and clarify ambiguous requirements.</p> <p>Generates targeted questions to resolve ambiguities in requirements before implementation begins.</p> Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def boring_speckit_clarify(\n    context: Annotated[\n        str,\n        Field(\n            description=\"Additional context for clarification. Can include specific areas of uncertainty or questions to focus on. If not provided, analyzes entire specification for ambiguities.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str,\n        Field(\n            description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory.\"\n        ),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Execute SpecKit Clarify workflow - Identify and clarify ambiguous requirements.\n\n    Generates targeted questions to resolve ambiguities in requirements\n    before implementation begins.\n    \"\"\"\n    return _execute_workflow(\"speckit-clarify\", context, project_path)\n</code></pre>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.boring_speckit_constitution","title":"<code>boring_speckit_constitution(context=None, project_path=None)</code>","text":"<p>Execute SpecKit Constitution workflow - Create project guiding principles.</p> <p>Establishes core principles, architectural decisions, and constraints that guide all implementation decisions.</p> Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def boring_speckit_constitution(\n    context: Annotated[\n        str,\n        Field(\n            description=\"Additional context for constitution creation. Can include architectural preferences, coding standards, or organizational constraints. If not provided, analyzes existing project patterns.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str,\n        Field(\n            description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory.\"\n        ),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Execute SpecKit Constitution workflow - Create project guiding principles.\n\n    Establishes core principles, architectural decisions, and constraints\n    that guide all implementation decisions.\n    \"\"\"\n    return _execute_workflow(\"speckit-constitution\", context, project_path)\n</code></pre>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.boring_speckit_checklist","title":"<code>boring_speckit_checklist(context=None, project_path=None)</code>","text":"<p>Execute SpecKit Checklist workflow - Generate quality validation checklist.</p> <p>Creates a comprehensive checklist for validating implementation quality and requirement coverage.</p> Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def boring_speckit_checklist(\n    context: Annotated[\n        str,\n        Field(\n            description=\"Additional context for checklist generation. Can specify quality dimensions (security, performance, maintainability) or specific requirements to validate. If not provided, generates comprehensive default checklist.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str,\n        Field(\n            description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory.\"\n        ),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Execute SpecKit Checklist workflow - Generate quality validation checklist.\n\n    Creates a comprehensive checklist for validating implementation quality\n    and requirement coverage.\n    \"\"\"\n    return _execute_workflow(\"speckit-checklist\", context, project_path)\n</code></pre>"},{"location":"api/speckit_zh/#boring.mcp.speckit_tools.register_speckit_tools","title":"<code>register_speckit_tools(mcp, audited, helpers)</code>","text":"<p>Register SpecKit tools with the MCP server.</p> <p>Parameters:</p> Name Type Description Default <code>mcp</code> <code>Any</code> <p>FastMCP server instance</p> required <code>audited</code> <code>Any</code> <p>Audit decorator function</p> required <code>helpers</code> <code>dict</code> <p>Dict of helper functions</p> required Source code in <code>src/boring/mcp/speckit_tools.py</code> <pre><code>def register_speckit_tools(mcp: Any, audited: Any, helpers: dict):\n    \"\"\"\n    Register SpecKit tools with the MCP server.\n\n    Args:\n        mcp: FastMCP server instance\n        audited: Audit decorator function\n        helpers: Dict of helper functions\n    \"\"\"\n\n    mcp.tool(\n        description=\"\u898f\u5283\u600e\u9ebc\u505a\u3001\u8a2d\u8a08\u5be6\u4f5c\u8a08\u756b (Create plan). \u9069\u5408: '\u5e6b\u6211\u898f\u5283\u600e\u9ebc\u505a', 'Design implementation', '\u6211\u60f3\u505a XXX \u529f\u80fd', 'Plan this feature'.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )(audited(boring_speckit_plan))\n\n    mcp.tool(\n        description=\"\u628a\u8a08\u756b\u62c6\u6210\u5177\u9ad4\u7684\u4efb\u52d9\u6e05\u55ae (Break into tasks). \u9069\u5408: '\u62c6\u6210\u6b65\u9a5f', 'Break into tasks', '\u7d66\u6211\u4e00\u500b\u6e05\u55ae', 'What should I do first?'.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )(audited(boring_speckit_tasks))\n\n    mcp.tool(\n        description=\"\u6aa2\u67e5\u9700\u6c42\u548c\u7a0b\u5f0f\u78bc\u662f\u5426\u4e00\u81f4 (Check consistency). \u9069\u5408: '\u5c0d\u7167\u4e00\u4e0b\u9700\u6c42', 'Check if code matches spec', '\u6709\u6c92\u6709\u6f0f\u6389\u4ec0\u9ebc'.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )(audited(boring_speckit_analyze))\n\n    mcp.tool(\n        description=\"\u91d0\u6e05\u6a21\u7cca\u7684\u9700\u6c42\u3001\u554f\u6211\u554f\u984c (Clarify requirements). \u9069\u5408: '\u6709\u4ec0\u9ebc\u4e0d\u6e05\u695a\u7684\u55ce', 'Ask me questions', '\u91d0\u6e05\u9700\u6c42', 'What do you need to know?'.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )(audited(boring_speckit_clarify))\n\n    mcp.tool(\n        description=\"\u5efa\u7acb\u5c08\u6848\u7684\u6307\u5c0e\u539f\u5247\u548c\u898f\u7bc4 (Set project rules). \u9069\u5408: '\u5b9a\u7fa9\u898f\u7bc4', 'Set coding standards', '\u9019\u500b\u5c08\u6848\u7684\u898f\u5247'.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )(audited(boring_speckit_constitution))\n\n    mcp.tool(\n        description=\"\u5efa\u7acb\u54c1\u8cea\u9a57\u6536\u6e05\u55ae (Create quality checklist). \u9069\u5408: '\u505a\u5b8c\u8981\u6aa2\u67e5\u4ec0\u9ebc', 'Quality checklist', '\u9a57\u6536\u6a19\u6e96'.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )(audited(boring_speckit_checklist))\n\n    return {\n        \"boring_speckit_plan\": boring_speckit_plan,\n        \"boring_speckit_tasks\": boring_speckit_tasks,\n        \"boring_speckit_analyze\": boring_speckit_analyze,\n        \"boring_speckit_clarify\": boring_speckit_clarify,\n        \"boring_speckit_constitution\": boring_speckit_constitution,\n        \"boring_speckit_checklist\": boring_speckit_checklist,\n    }\n</code></pre>"},{"location":"api/tools_zh/","title":"MCP \u5de5\u5177\u8a73\u7d30\u53c3\u8003","text":"<p>\u6b64\u9801\u9762\u5217\u51fa\u4e86 <code>boring.mcp.tools</code> \u5305\u4e2d\u7684\u6838\u5fc3\u6a21\u7d44\u3002</p>"},{"location":"api/tools_zh/#core-tools","title":"Core Tools (\u6838\u5fc3\u5de5\u5177)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.core","title":"<code>boring.mcp.tools.core</code>","text":""},{"location":"api/tools_zh/#boring.mcp.tools.core.run_boring","title":"<code>run_boring(task_description, verification_level='STANDARD', max_loops=5, use_cli=None, project_path=None, interactive=None)</code>","text":"<p>Return CLI commands for autonomous development (Pure CLI Mode).</p> <p>In MCP mode, this tool CANNOT execute the StatefulAgentLoop directly because it requires external AI (SDK or CLI) which conflicts with the MCP environment.</p> <p>Instead, it returns a structured workflow template with: 1. The suggested CLI command to run the Boring agent 2. A step-by-step guide for manual execution 3. Project and task information</p> <p>For TRUE autonomous execution, use the <code>boring start</code> CLI command directly.</p> <p>Parameters:</p> Name Type Description Default <code>task_description</code> <code>Annotated[str, Field(description=\"Description of the development task to complete (e.g., 'Fix login validation bug')\")]</code> <p>Description of the development task to complete</p> required <code>verification_level</code> <code>Annotated[str, Field(description='Verification level: BASIC (syntax), STANDARD (lint), FULL (tests), SEMANTIC (judge)')]</code> <p>Verification level (BASIC, STANDARD, FULL)</p> <code>'STANDARD'</code> <code>max_loops</code> <code>Annotated[int, Field(description='Maximum number of loop iterations (1-20)')]</code> <p>Maximum number of loop iterations</p> <code>5</code> <code>use_cli</code> <code>Annotated[bool, Field(description='Whether to use Gemini CLI (supports extensions). Defaults to auto-detect.')]</code> <p>Whether to use Gemini CLI</p> <code>None</code> <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Workflow template with CLI commands for external execution</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@audited\ndef run_boring(\n    task_description: Annotated[\n        str,\n        Field(\n            description=\"Description of the development task to complete (e.g., 'Fix login validation bug')\"\n        ),\n    ],\n    verification_level: Annotated[\n        str,\n        Field(\n            description=\"Verification level: BASIC (syntax), STANDARD (lint), FULL (tests), SEMANTIC (judge)\"\n        ),\n    ] = \"STANDARD\",\n    max_loops: Annotated[int, Field(description=\"Maximum number of loop iterations (1-20)\")] = 5,\n    use_cli: Annotated[\n        bool,\n        Field(\n            description=\"Whether to use Gemini CLI (supports extensions). Defaults to auto-detect.\"\n        ),\n    ] = None,\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n    interactive: Annotated[\n        bool, Field(description=\"Whether to run in interactive mode (auto-detected usually)\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Return CLI commands for autonomous development (Pure CLI Mode).\n\n    In MCP mode, this tool CANNOT execute the StatefulAgentLoop directly because\n    it requires external AI (SDK or CLI) which conflicts with the MCP environment.\n\n    Instead, it returns a structured workflow template with:\n    1. The suggested CLI command to run the Boring agent\n    2. A step-by-step guide for manual execution\n    3. Project and task information\n\n    For TRUE autonomous execution, use the `boring start` CLI command directly.\n\n    Args:\n        task_description: Description of the development task to complete\n        verification_level: Verification level (BASIC, STANDARD, FULL)\n        max_loops: Maximum number of loop iterations\n        use_cli: Whether to use Gemini CLI\n        project_path: Optional explicit path to project root\n\n    Returns:\n        Workflow template with CLI commands for external execution\n    \"\"\"\n    # --- Input Validation ---\n    if not task_description or not task_description.strip():\n        return {\n            \"status\": \"ERROR\",\n            \"message\": \"task_description cannot be empty.\",\n            \"suggestion\": \"Provide a clear description of the task, e.g., 'Fix login validation bug'.\",\n        }\n\n    valid_levels = (\"BASIC\", \"STANDARD\", \"FULL\", \"SEMANTIC\")\n    if verification_level.upper() not in valid_levels:\n        return {\n            \"status\": \"ERROR\",\n            \"message\": f\"Invalid verification_level: '{verification_level}'.\",\n            \"suggestion\": f\"Use one of: {', '.join(valid_levels)}\",\n        }\n    verification_level = verification_level.upper()\n\n    if not (1 &lt;= max_loops &lt;= 20):\n        return {\n            \"status\": \"ERROR\",\n            \"message\": f\"max_loops must be between 1 and 20, got {max_loops}.\",\n            \"suggestion\": \"Use a reasonable value like 5 (default) or 10 for complex tasks.\",\n        }\n\n    # Resolve project root\n    project_root, error = get_project_root_or_error(project_path)\n    if error:\n        return error\n\n    # Check if we're in MCP mode - if so, return template\n    is_mcp = os.environ.get(\"BORING_MCP_MODE\") == \"1\"\n\n    # Build the CLI command\n    cli_parts = [\"boring\", \"start\"]\n    if max_loops != 5:\n        cli_parts.append(f\"--calls {max_loops}\")\n    if verification_level != \"STANDARD\":\n        cli_parts.append(f\"--verification {verification_level.lower()}\")\n    if use_cli:\n        cli_parts.append(\"--cli\")\n\n    cli_command = \" \".join(cli_parts)\n\n    # Create PROMPT.md content\n    prompt_content = f\"# Task\\n\\n{task_description}\\n\"\n\n    # Alternative: Gemini CLI direct execution\n    gemini_command = f'gemini --prompt \"{task_description[:200]}...\"'\n\n    # Build suggested prompt for the AI to guide the user\n    suggested_prompt = (\n        f\"I have prepared the autonomous development workflow for: '{task_description}'. \"\n        f\"To proceed, please execute the following command in your terminal: `{cli_command}`. \"\n        \"I will wait for you to run it and then we can verify the results.\"\n    )\n\n    return {\n        \"status\": \"WORKFLOW_TEMPLATE\",\n        \"workflow\": \"run_boring\",\n        \"project_root\": str(project_root),\n        \"task_description\": task_description,\n        \"verification_level\": verification_level,\n        \"max_loops\": max_loops,\n        \"is_mcp_mode\": is_mcp,\n        \"cli_command\": cli_command,\n        \"gemini_command\": gemini_command,\n        \"suggested_prompt\": suggested_prompt,\n        \"prompt_md_content\": prompt_content,\n        \"message\": (\n            \"\ud83e\udd16 **Autonomous Developer Loop Template**\\n\\n\"\n            \"In MCP mode, `run_boring` cannot execute the agent loop directly due to \"\n            \"technical constraints with external AI SDKs/CLIs.\\n\\n\"\n            \"**Recommended Action:**\\n\"\n            f\"Run this command in your terminal to start the autonomous agent:\\n\"\n            f\"```bash\\n{cli_command}\\n```\\n\\n\"\n            \"**Alternative (Direct AI):**\\n\"\n            f\"Use the Gemini CLI directly:\\n\"\n            f\"```bash\\n{gemini_command}\\n```\\n\\n\"\n            \"**Manual Setup:**\\n\"\n            \"1. Save your task to `PROMPT.md`\\n\"\n            \"2. Run `boring start`\"\n        ),\n        \"manual_steps\": [\n            \"1. Create PROMPT.md in the project with your task description\",\n            f\"2. Run: {cli_command}\",\n            \"3. Monitor the terminal for the agent's progress\",\n            \"4. Use boring_verify to check results after execution\",\n        ],\n        \"note\": \"The boring agent runs OUTSIDE MCP to avoid timeouts and communication conflicts.\",\n    }\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_health_check","title":"<code>boring_health_check(project_path=None)</code>","text":"<p>Check Boring system health.</p> <p>Parameters:</p> Name Type Description Default <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root (to load .env)</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Health check results including API key status, dependencies, etc.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@audited\ndef boring_health_check(\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Check Boring system health.\n\n    Args:\n        project_path: Optional explicit path to project root (to load .env)\n\n    Returns:\n        Health check results including API key status, dependencies, etc.\n    \"\"\"\n    try:\n        import os\n        import shutil\n\n        from ...health import run_health_check\n\n        # Load env if project path provided\n        if project_path:\n            try:\n                root = Path(project_path)\n                configure_runtime_for_project(root)\n            except Exception:\n                pass\n\n        # Detection logic is now centralized in GeminiClient, but for health report:\n        has_key = \"GOOGLE_API_KEY\" in os.environ and os.environ[\"GOOGLE_API_KEY\"]\n        has_cli = shutil.which(\"gemini\") is not None\n\n        backend = \"api\"\n        if not has_key and has_cli:\n            backend = \"cli\"\n        elif not has_key and not has_cli:\n            backend = \"none\"\n\n        report = run_health_check(backend=backend if backend != \"none\" else \"api\")\n\n        checks = []\n        for check in report.checks:\n            checks.append(\n                {\n                    \"name\": check.name,\n                    \"status\": check.status.name,\n                    \"message\": check.message,\n                    \"suggestion\": check.suggestion,\n                }\n            )\n\n        return {\n            \"healthy\": report.is_healthy,\n            \"passed\": report.passed,\n            \"warnings\": report.warnings,\n            \"failed\": report.failed,\n            \"checks\": checks,\n            \"backend\": backend,\n        }\n\n    except ImportError as e:\n        return {\n            \"healthy\": False,\n            \"error\": f\"Missing dependency: {e}\",\n            \"suggestion\": \"Run: pip install boring-gemini[health]\",\n        }\n    except Exception as e:\n        return {\"healthy\": False, \"error\": str(e), \"error_type\": type(e).__name__}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_quickstart","title":"<code>boring_quickstart(project_path=None)</code>","text":"<p>Get a comprehensive quick start guide for new users.</p> <p>Returns recommended first steps, available tools, and common workflows. Perfect for onboarding and exploring Boring capabilities.</p> <p>Parameters:</p> Name Type Description Default <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root.           If not provided, auto-detects from CWD.</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Dict containing:</p> <code>dict</code> <ul> <li>welcome: Welcome message with version</li> </ul> <code>dict</code> <ul> <li>project_detected: Whether a valid project was found</li> </ul> <code>dict</code> <ul> <li>recommended_first_steps: Ordered list of getting started steps</li> </ul> <code>dict</code> <ul> <li>available_workflows: Categorized tools (spec_driven, evolution, verification)</li> </ul> <code>dict</code> <ul> <li>tips: Helpful usage tips</li> </ul> Example <p>boring_quickstart()</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@audited\ndef boring_quickstart(\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Get a comprehensive quick start guide for new users.\n\n    Returns recommended first steps, available tools, and common workflows.\n    Perfect for onboarding and exploring Boring capabilities.\n\n    Args:\n        project_path: Optional explicit path to project root.\n                      If not provided, auto-detects from CWD.\n\n    Returns:\n        Dict containing:\n        - welcome: Welcome message with version\n        - project_detected: Whether a valid project was found\n        - recommended_first_steps: Ordered list of getting started steps\n        - available_workflows: Categorized tools (spec_driven, evolution, verification)\n        - tips: Helpful usage tips\n\n    Example:\n        boring_quickstart()\n        # Returns: {\"welcome\": \"...\", \"project_detected\": true, ...}\n    \"\"\"\n    try:\n        project_root, error = get_project_root_or_error(project_path)\n        has_project = project_root is not None\n\n        guide = {\n            \"welcome\": \"\ud83d\udc4b Welcome to Boring for Gemini V5.2!\",\n            \"project_detected\": has_project,\n            \"recommended_first_steps\": [],\n            \"available_workflows\": {\n                \"spec_driven\": [\n                    \"speckit_plan - Create implementation plan from requirements\",\n                    \"speckit_tasks - Break plan into actionable tasks\",\n                    \"speckit_analyze - Check code vs spec consistency\",\n                ],\n                \"evolution\": [\n                    \"speckit_evolve_workflow - Adapt workflows to project needs\",\n                    \"speckit_reset_workflow - Rollback to base template\",\n                ],\n                \"verification\": [\n                    \"boring_verify - Run lint, tests, and import checks\",\n                    \"boring_verify_file - Quick single-file validation\",\n                ],\n            },\n            \"tips\": [\n                \"\ud83d\udca1 Use speckit_clarify when requirements are unclear\",\n                \"\ud83d\udca1 Check boring_health_check before starting\",\n                \"\ud83d\udca1 Workflows are dynamic - evolve them for your project!\",\n            ],\n        }\n\n        if has_project:\n            guide[\"recommended_first_steps\"] = [\n                \"1. boring_health_check - Verify system is ready\",\n                \"2. speckit_plan - Create implementation plan\",\n                \"3. speckit_tasks - Generate task checklist\",\n                \"4. run_boring - Start autonomous development\",\n            ]\n        else:\n            guide[\"recommended_first_steps\"] = [\n                \"1. Create a project directory with PROMPT.md\",\n                \"2. Run boring-setup &lt;project-name&gt; to initialize\",\n                \"3. boring_health_check - Verify system is ready\",\n            ]\n\n        return guide\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_quickstart--returns","title":"Returns:","text":""},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_status","title":"<code>boring_status(project_path=None)</code>","text":"<p>Get current Boring project status.</p> <p>Parameters:</p> Name Type Description Default <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Project status including loop count, success rate, etc.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@audited\ndef boring_status(\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Get current Boring project status.\n\n    Args:\n        project_path: Optional explicit path to project root\n\n    Returns:\n        Project status including loop count, success rate, etc.\n    \"\"\"\n    try:\n        from ...memory import MemoryManager\n\n        # Resolve project root\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error\n\n        # CRITICAL: Update global settings for dependencies\n        configure_runtime_for_project(project_root)\n\n        memory = MemoryManager(project_root)\n        state = memory.get_project_state()\n\n        return {\n            \"project_name\": state.get(\"project_name\", \"Unknown\"),\n            \"total_loops\": state.get(\"total_loops\", 0),\n            \"successful_loops\": state.get(\"successful_loops\", 0),\n            \"failed_loops\": state.get(\"failed_loops\", 0),\n            \"last_activity\": state.get(\"last_activity\", \"Never\"),\n        }\n\n    except Exception as e:\n        return {\"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_done","title":"<code>boring_done(message)</code>","text":"<p>Report task completion to the user with desktop notification.</p> <p>Use this tool when you have finished your work and want to show a final message.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@audited\ndef boring_done(\n    message: Annotated[str, Field(description=\"The completion message to display to the user\")],\n) -&gt; str:\n    \"\"\"\n    Report task completion to the user with desktop notification.\n\n    Use this tool when you have finished your work and want to show a final message.\n    \"\"\"\n    # Send Windows desktop notification\n    notification_sent = False\n    try:\n        # Try win10toast first (most reliable on Windows)\n        from win10toast import ToastNotifier\n\n        toaster = ToastNotifier()\n        toaster.show_toast(\n            \"\ud83e\udd16 Boring Agent\",\n            message[:200],  # Truncate long messages\n            duration=5,\n            threaded=True,\n        )\n        notification_sent = True\n    except ImportError:\n        try:\n            # Fallback to plyer (cross-platform)\n            from plyer import notification\n\n            notification.notify(title=\"\ud83e\udd16 Boring Agent\", message=message[:200], timeout=5)\n            notification_sent = True\n        except ImportError:\n            pass  # No notification library available\n    except Exception:\n        pass  # Notification failed, continue anyway\n\n    status = \"\u2705 Task done\"\n    if notification_sent:\n        status += \" (Desktop notification sent)\"\n\n    return f\"{status}. Message: {message}\"\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_forget_all","title":"<code>boring_forget_all(keep_current_task=True)</code>","text":"<p>Signal to clear the LLM context (Context Hygiene).</p> <p>This tool doesn't modify files but sends a strong signal to the IDE or Agent to clear previous conversation history to reduce hallucinations.</p> <p>Parameters:</p> Name Type Description Default <code>keep_current_task</code> <code>Annotated[bool, Field(description='Whether to keep the current task definition in context')]</code> <p>Whether to keep the current task definition in context.</p> <code>True</code> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@audited\ndef boring_forget_all(\n    keep_current_task: Annotated[\n        bool, Field(description=\"Whether to keep the current task definition in context\")\n    ] = True,\n) -&gt; dict:\n    \"\"\"\n    Signal to clear the LLM context (Context Hygiene).\n\n    This tool doesn't modify files but sends a strong signal to the IDE or Agent\n    to clear previous conversation history to reduce hallucinations.\n\n    Args:\n        keep_current_task: Whether to keep the current task definition in context.\n    \"\"\"\n    message = \"\ud83e\uddf9 **Context Cleanup Signal**\\n\\n\"\n    message += (\n        \"I have requested a context cleanup to maintain accuracy and reduce hallucinations.\\n\"\n    )\n\n    if keep_current_task:\n        message += \"\u2705 **Preserving:** Current task definition and critical context.\\n\"\n    else:\n        message += \"\u26a0\ufe0f **Wiping:** Full context reset.\\n\"\n\n    message += \"\\n**For IDE Users (Cursor/VS Code):**\\n\"\n    message += \"- Please click 'New Chat' or 'Clear Context' if available.\\n\"\n    message += \"- This ensures I don't get confused by old code snippets.\"\n\n    return {\n        \"status\": \"CONTEXT_CLEAR_SIGNAL\",\n        \"action\": \"forget_all\",\n        \"keep_current_task\": keep_current_task,\n        \"message\": message,\n    }\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_call","title":"<code>boring_call(tool_name, arguments=None)</code>","text":"<p>Execute an internal Boring tool by name and arguments.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@mcp.tool(\n    description=\"Execute an internal Boring tool by name and arguments.\",\n    annotations={\"readOnlyHint\": False, \"openWorldHint\": True},\n)\ndef boring_call(tool_name: str, arguments: dict = None) -&gt; any:\n    \"\"\"Execute an internal Boring tool by name and arguments.\"\"\"\n    if arguments is None:\n        arguments = {}\n    tool = internal_registry.get_tool(tool_name)\n    if not tool:\n        return f\"Error: Tool '{tool_name}' not found.\"\n    return tool.func(**arguments)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_inspect_tool","title":"<code>boring_inspect_tool(tool_name)</code>","text":"<p>Get the full JSON schema and usage for an internal tool.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@mcp.tool(\n    description=\"Get the full JSON schema and usage for an internal tool.\",\n    annotations={\"readOnlyHint\": True},\n)\ndef boring_inspect_tool(tool_name: str) -&gt; dict:\n    \"\"\"Get the full JSON schema and usage for an internal tool.\"\"\"\n    tool = internal_registry.get_tool(tool_name)\n    if not tool:\n        return {\"error\": f\"Tool '{tool_name}' not found.\"}\n    return {\n        \"name\": tool.name,\n        \"description\": tool.description,\n        \"category\": tool.category,\n        \"schema\": tool.schema,\n    }\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_active_skill","title":"<code>boring_active_skill(skill_name)</code>","text":"<p>Activate a specific skill set and inject tools into the active context.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@mcp.tool(\n    description=\"Activate a specific skill set to optimize the tool environment. Injects relevant tools dynamically.\",\n    annotations={\"readOnlyHint\": False},\n)\ndef boring_active_skill(skill_name: str) -&gt; dict:\n    \"\"\"Activate a specific skill set and inject tools into the active context.\"\"\"\n    import os\n\n    from ..instance import mcp as smart_mcp\n\n    os.environ[\"BORING_ACTIVE_SKILL\"] = skill_name\n\n    # Renaissance V2: Filter by category (Skill)\n    matching_tools = [\n        t for t in internal_registry.tools.values() if t.category.lower() == skill_name.lower()\n    ]\n\n    if not matching_tools:\n        return {\n            \"status\": \"error\",\n            \"message\": f\"Skill set '{skill_name}' not found.\",\n            \"available_skills\": list(internal_registry.categories.keys()),\n        }\n\n    injected = []\n    for tool in matching_tools:\n        if smart_mcp.inject_tool(tool.name):\n            injected.append(tool.name)\n\n    return {\n        \"status\": \"success\",\n        \"message\": f\"\u2705 Skill **{skill_name}** activated. {len(injected)} tools injected.\",\n        \"injected_tools\": injected,\n        \"instruction\": \"These tools may now be available in your tool list. If not visible, you can still use them via boring_call().\",\n    }\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_reset_skills","title":"<code>boring_reset_skills()</code>","text":"<p>Reset the tool environment by removing all dynamically injected tools.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@mcp.tool(\n    description=\"Reset the tool environment by removing all dynamically injected tools. Useful for Context Hygiene.\",\n)\ndef boring_reset_skills() -&gt; str:\n    \"\"\"Reset the tool environment by removing all dynamically injected tools.\"\"\"\n    from ..instance import mcp as smart_mcp\n\n    count = smart_mcp.reset_injected_tools()\n    return f\"\ud83e\uddf9 Tool environment reset. {count} injected tools cleared from profile tracking.\"\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.core.boring_orchestrate","title":"<code>boring_orchestrate(goal)</code>","text":"<p>Execute a multi-step objective by orchestrating internal tools.</p> Source code in <code>src/boring/mcp/tools/core.py</code> <pre><code>@mcp.tool(\n    description=\"Execute a multi-step objective by orchestrating internal tools.\",\n)\ndef boring_orchestrate(goal: str) -&gt; str:\n    \"\"\"Execute a multi-step objective by orchestrating internal tools.\"\"\"\n    return f\"Orchestrating goal: '{goal}'. [Coming soon]\"\n</code></pre>"},{"location":"api/tools_zh/#git-tools","title":"Git Tools (\u7248\u672c\u63a7\u5236)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.git","title":"<code>boring.mcp.tools.git</code>","text":""},{"location":"api/tools_zh/#boring.mcp.tools.git.boring_hooks_install","title":"<code>boring_hooks_install(project_path=None)</code>","text":"<p>Install Boring Git hooks (pre-commit, pre-push) for local code quality enforcement.</p> <p>This is the \"Local Teams\" feature - automatic verification before every commit/push.</p> <p>Parameters:</p> Name Type Description Default <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root.</p> <code>None</code> <p>Returns:</p> Type Description <code>BoringResult</code> <p>Installation result as dict with status, message, and suggestion.</p> Source code in <code>src/boring/mcp/tools/git.py</code> <pre><code>@audited\ndef boring_hooks_install(\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    Install Boring Git hooks (pre-commit, pre-push) for local code quality enforcement.\n\n    This is the \"Local Teams\" feature - automatic verification before every commit/push.\n\n    Args:\n        project_path: Optional explicit path to project root.\n\n    Returns:\n        Installation result as dict with status, message, and suggestion.\n    \"\"\"\n    try:\n        root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Invalid project root\"))\n\n        # Configure runtime\n        configure_runtime_for_project(root)\n\n        manager = HooksManager(root)\n\n        # --- Idempotency Check ---\n        status = manager.status()\n        if status.get(\"is_git_repo\"):\n            hooks_info = status.get(\"hooks\", {})\n            all_boring = all(\n                h.get(\"is_boring_hook\", False)\n                for h in hooks_info.values()\n                if h.get(\"installed\", False)\n            )\n            any_installed = any(h.get(\"installed\", False) for h in hooks_info.values())\n            if any_installed and all_boring:\n                return create_success_result(\n                    message=\"Hooks already installed.\",\n                    data={\"hooks\": hooks_info, \"status\": \"SKIPPED\"},\n                )\n        # --- End Idempotency Check ---\n\n        success, msg = manager.install_all()\n        if success:\n            return create_success_result(\n                message=\"Hooks installed successfully! Your commits and pushes will now be verified automatically.\",\n                data={\"details\": msg},\n            )\n        return create_error_result(message=msg)\n    except Exception as e:\n        return create_error_result(message=str(e))\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.git.boring_hooks_uninstall","title":"<code>boring_hooks_uninstall(project_path=None)</code>","text":"<p>Remove Boring Git hooks.</p> <p>Parameters:</p> Name Type Description Default <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root.</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Uninstallation result as dict with status and message.</p> Source code in <code>src/boring/mcp/tools/git.py</code> <pre><code>@audited\ndef boring_hooks_uninstall(\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Remove Boring Git hooks.\n\n    Args:\n        project_path: Optional explicit path to project root.\n\n    Returns:\n        Uninstallation result as dict with status and message.\n    \"\"\"\n    try:\n        root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Invalid root\"))\n\n        configure_runtime_for_project(root)\n\n        manager = HooksManager(root)\n\n        success, msg = manager.uninstall_all()\n        if success:\n            return create_success_result(message=msg)\n        return create_error_result(message=msg)\n    except Exception as e:\n        return create_error_result(message=str(e))\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.git.boring_hooks_status","title":"<code>boring_hooks_status(project_path=None)</code>","text":"<p>Get status of installed Git hooks.</p> <p>Parameters:</p> Name Type Description Default <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root.</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Dict with hook installation status.</p> Source code in <code>src/boring/mcp/tools/git.py</code> <pre><code>@audited\ndef boring_hooks_status(\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Get status of installed Git hooks.\n\n    Args:\n        project_path: Optional explicit path to project root.\n\n    Returns:\n        Dict with hook installation status.\n    \"\"\"\n    try:\n        root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Invalid root\"))\n\n        configure_runtime_for_project(root)\n\n        manager = HooksManager(root)\n\n        status_data = manager.status()\n        return create_success_result(\n            message=f\"Git hooks status retrieved. Repo: {status_data.get('is_git_repo')}\",\n            data=status_data,\n        )\n    except Exception as e:\n        return create_error_result(message=str(e))\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.git.boring_commit","title":"<code>boring_commit(task_file='task.md', commit_type='auto', scope=None, project_path=None)</code>","text":"<p>Generate a semantic Git commit message from completed tasks in task.md.</p> <p>Parses task.md for completed items ([x]) and generates a Conventional Commits format message. Returns the commit command for you to execute.</p> <p>Parameters:</p> Name Type Description Default <code>task_file</code> <code>Annotated[str, Field(description='Path to task.md file (default: task.md)')]</code> <p>Path to task.md file (default: task.md)</p> <code>'task.md'</code> <code>commit_type</code> <code>Annotated[str, Field(description='Commit type: auto, feat, fix, refactor, docs, chore')]</code> <p>Commit type (auto, feat, fix, refactor, docs, chore)</p> <code>'auto'</code> <code>scope</code> <code>Annotated[str, Field(description=\"Optional scope for commit message (e.g., 'rag', 'auth')\")]</code> <p>Optional scope for commit message</p> <code>None</code> <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root</p> <code>None</code> <p>Returns:</p> Type Description <code>BoringResult</code> <p>Generated commit message and command</p> Source code in <code>src/boring/mcp/tools/git.py</code> <pre><code>@audited\ndef boring_commit(\n    task_file: Annotated[\n        str, Field(description=\"Path to task.md file (default: task.md)\")\n    ] = \"task.md\",\n    commit_type: Annotated[\n        str, Field(description=\"Commit type: auto, feat, fix, refactor, docs, chore\")\n    ] = \"auto\",\n    scope: Annotated[\n        str, Field(description=\"Optional scope for commit message (e.g., 'rag', 'auth')\")\n    ] = None,\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    Generate a semantic Git commit message from completed tasks in task.md.\n\n    Parses task.md for completed items ([x]) and generates a Conventional Commits\n    format message. Returns the commit command for you to execute.\n\n    Args:\n        task_file: Path to task.md file (default: task.md)\n        commit_type: Commit type (auto, feat, fix, refactor, docs, chore)\n        scope: Optional scope for commit message\n        project_path: Optional explicit path to project root\n\n    Returns:\n        Generated commit message and command\n    \"\"\"\n    project_root, error = get_project_root_or_error(project_path)\n    if error:\n        return create_error_result(error.get(\"message\", \"Invalid root\"))\n\n    # Find task file in common locations\n    task_path = project_root / task_file\n\n    if not task_path.exists():\n        for alt_path in [\n            project_root / \".gemini\" / \"task.md\",\n            project_root / \"openspec\" / \"task.md\",\n            project_root / \".agent\" / \"task.md\",\n        ]:\n            if alt_path.exists():\n                task_path = alt_path\n                break\n\n    if not task_path.exists():\n        return create_error_result(\n            message=f\"Task file not found: {task_file}\",\n            error_details=f\"Searched: {[str(project_root / task_file)]}\",\n        )\n\n    try:\n        content = task_path.read_text(encoding=\"utf-8\")\n    except Exception as e:\n        return create_error_result(message=f\"Cannot read task file: {e}\")\n\n    # Parse completed tasks (lines with [x])\n    completed_pattern = r\"^\\s*-\\s*\\[x\\]\\s*(.+)$\"\n    completed_tasks = re.findall(completed_pattern, content, re.MULTILINE | re.IGNORECASE)\n\n    if not completed_tasks:\n        return create_success_result(\n            message=\"No completed tasks found in task.md\",\n            data={\n                \"status\": \"NO_COMPLETED_TASKS\",\n                \"hint\": \"Mark tasks as complete with [x] before generating commit\",\n            },\n        )\n\n    # Detect commit type from tasks if auto\n    detected_type = commit_type\n    if commit_type == \"auto\":\n        task_text = \" \".join(completed_tasks).lower()\n        if any(word in task_text for word in [\"fix\", \"bug\", \"error\", \"issue\"]):\n            detected_type = \"fix\"\n        elif any(word in task_text for word in [\"add\", \"new\", \"implement\", \"create\"]):\n            detected_type = \"feat\"\n        elif any(word in task_text for word in [\"refactor\", \"clean\", \"improve\"]):\n            detected_type = \"refactor\"\n        elif any(word in task_text for word in [\"doc\", \"readme\", \"comment\"]):\n            detected_type = \"docs\"\n        else:\n            detected_type = \"feat\"\n\n    # Detect scope from task keywords\n    detected_scope = scope\n    if not detected_scope:\n        scope_keywords = {\n            \"rag\": [\"rag\", \"index\", \"search\", \"retrieve\"],\n            \"mcp\": [\"mcp\", \"tool\", \"server\"],\n            \"verify\": [\"verify\", \"lint\", \"test\"],\n        }\n        task_text = \" \".join(completed_tasks).lower()\n        for scope_name, keywords in scope_keywords.items():\n            if any(kw in task_text for kw in keywords):\n                detected_scope = scope_name\n                break\n\n    # Build commit message from first task\n    main_task = completed_tasks[0].strip()\n    main_task = re.sub(r\"`([^`]+)`\", r\"\\1\", main_task)  # Remove backticks\n    main_task = re.sub(r\"\\*\\*([^*]+)\\*\\*\", r\"\\1\", main_task)  # Remove bold\n    main_task = main_task.lower().rstrip(\".\")\n\n    scope_str = f\"({detected_scope})\" if detected_scope else \"\"\n    commit_line = f\"{detected_type}{scope_str}: {main_task}\"\n\n    # Escape quotes for shell\n    escaped_message = commit_line.replace('\"', '\\\\\"')\n\n    return create_success_result(\n        message=f\"Ready to commit: {commit_line}\",\n        data={\n            \"commit_type\": detected_type,\n            \"scope\": detected_scope,\n            \"message\": commit_line,\n            \"completed_tasks\": len(completed_tasks),\n            \"command\": f'git commit -m \"{escaped_message}\"',\n        },\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.git.boring_visualize","title":"<code>boring_visualize(scope='module', output_format='mermaid', project_path=None)</code>","text":"<p>Generate architecture visualization from codebase structure.</p> <p>Scans Python files and generates a Mermaid.js diagram showing module dependencies and relationships.</p> <p>Parameters:</p> Name Type Description Default <code>scope</code> <code>Annotated[str, Field(description='Visualization scope: module, class, or full')]</code> <p>Visualization scope (module, class, full)</p> <code>'module'</code> <code>output_format</code> <code>Annotated[str, Field(description='Output format: mermaid, json')]</code> <p>Output format (mermaid, json)</p> <code>'mermaid'</code> <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional explicit path to project root</p> <code>None</code> <p>Returns:</p> Type Description <code>BoringResult</code> <p>Generated diagram or structure data</p> Source code in <code>src/boring/mcp/tools/git.py</code> <pre><code>@audited\ndef boring_visualize(\n    scope: Annotated[\n        str, Field(description=\"Visualization scope: module, class, or full\")\n    ] = \"module\",\n    output_format: Annotated[str, Field(description=\"Output format: mermaid, json\")] = \"mermaid\",\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    Generate architecture visualization from codebase structure.\n\n    Scans Python files and generates a Mermaid.js diagram showing\n    module dependencies and relationships.\n\n    Args:\n        scope: Visualization scope (module, class, full)\n        output_format: Output format (mermaid, json)\n        project_path: Optional explicit path to project root\n\n    Returns:\n        Generated diagram or structure data\n    \"\"\"\n    project_root, error = get_project_root_or_error(project_path)\n    if error:\n        return create_error_result(error.get(\"message\", \"Invalid root\"))\n\n    # Find Python files\n    src_dir = project_root / \"src\"\n    if not src_dir.exists():\n        src_dir = project_root\n\n    # Build module graph\n    modules = {}\n    imports = []\n\n    for py_file in src_dir.rglob(\"*.py\"):\n        if \"__pycache__\" in str(py_file):\n            continue\n\n        try:\n            rel_path = py_file.relative_to(src_dir)\n            module_name = str(rel_path.with_suffix(\"\")).replace(\"/\", \".\").replace(\"\\\\\", \".\")\n            modules[module_name] = str(rel_path)\n\n            content = py_file.read_text(encoding=\"utf-8\", errors=\"ignore\")\n            from_imports = re.findall(r\"^from\\s+([\\w.]+)\\s+import\", content, re.MULTILINE)\n\n            for imp in from_imports:\n                if imp.startswith(\".\") or any(imp.startswith(m.split(\".\")[0]) for m in modules):\n                    imports.append((module_name, imp))\n        except Exception:\n            continue\n\n    if output_format == \"json\":\n        return create_success_result(\n            message=f\"Analyzed {len(modules)} modules.\",\n            data={\"modules\": modules, \"total\": len(modules)},\n        )\n\n    # Generate Mermaid diagram\n    mermaid_lines = [\"graph TD\"]\n    node_ids = {}\n\n    for i, (mod_name, _) in enumerate(list(modules.items())[:15]):\n        node_id = f\"M{i}\"\n        node_ids[mod_name] = node_id\n        short_name = mod_name.split(\".\")[-1]\n        mermaid_lines.append(f\"    {node_id}[{short_name}]\")\n\n    for source, target in imports[:20]:\n        src_id = node_ids.get(source)\n        tgt_id = None\n        for mod_name, mod_id in node_ids.items():\n            if target.endswith(mod_name) or mod_name.endswith(target.lstrip(\".\")):\n                tgt_id = mod_id\n                break\n        if src_id and tgt_id and src_id != tgt_id:\n            mermaid_lines.append(f\"    {src_id} --&gt; {tgt_id}\")\n\n    return create_success_result(\n        message=\"Generated Mermaid diagram.\",\n        data={\n            \"format\": \"mermaid\",\n            \"diagram\": \"\\n\".join(mermaid_lines),\n            \"total_modules\": len(modules),\n        },\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.git.boring_checkpoint","title":"<code>boring_checkpoint(action='list', name=None, stash_changes=True, project_path=None)</code>","text":"<p>Manage project checkpoints (save states) via Git tags.</p> <p>Use this to save your work before risky operations and restore it if things go wrong.</p> <p>Actions: - create: Create a new checkpoint (git tag checkpoint/{name}) - restore: Restore a checkpoint (git reset --hard checkpoint/{name}) - list: List all available checkpoints</p> <p>Parameters:</p> Name Type Description Default <code>action</code> <code>Annotated[str, Field(description='Action to perform: create, restore, list')]</code> <p>create, restore, or list</p> <code>'list'</code> <code>name</code> <code>Annotated[str, Field(description='Name of the checkpoint (required for create/restore)')]</code> <p>Name of the checkpoint (e.g. 'refactor-auth', 'pre-migration')</p> <code>None</code> <code>stash_changes</code> <code>Annotated[bool, Field(description='Whether to stash changes before restoring (default: True)')]</code> <p>If restoring, stash current changes first (default: True)</p> <code>True</code> <code>project_path</code> <code>Annotated[str, Field(description='Optional explicit path to project root')]</code> <p>Optional project root</p> <code>None</code> Source code in <code>src/boring/mcp/tools/git.py</code> <pre><code>@audited\ndef boring_checkpoint(\n    action: Annotated[str, Field(description=\"Action to perform: create, restore, list\")] = \"list\",\n    name: Annotated[\n        str, Field(description=\"Name of the checkpoint (required for create/restore)\")\n    ] = None,\n    stash_changes: Annotated[\n        bool, Field(description=\"Whether to stash changes before restoring (default: True)\")\n    ] = True,\n    project_path: Annotated[\n        str, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    Manage project checkpoints (save states) via Git tags.\n\n    Use this to save your work before risky operations and restore it if things go wrong.\n\n    Actions:\n    - create: Create a new checkpoint (git tag checkpoint/{name})\n    - restore: Restore a checkpoint (git reset --hard checkpoint/{name})\n    - list: List all available checkpoints\n\n    Args:\n        action: create, restore, or list\n        name: Name of the checkpoint (e.g. 'refactor-auth', 'pre-migration')\n        stash_changes: If restoring, stash current changes first (default: True)\n        project_path: Optional project root\n    \"\"\"\n    project_root, error = get_project_root_or_error(project_path)\n    if error:\n        return create_error_result(error.get(\"message\", \"Invalid root\"))\n\n    configure_runtime_for_project(project_root)\n\n    import subprocess\n\n    def git_cmd(args):\n        try:\n            result = subprocess.run(\n                [\"git\"] + args, cwd=project_root, capture_output=True, text=True, check=True\n            )\n            return True, result.stdout.strip()\n        except subprocess.CalledProcessError as e:\n            err = e.stderr.strip() if e.stderr else str(e)\n            return False, err\n\n    # Validate inputs\n    if action in [\"create\", \"restore\"] and not name:\n        return create_error_result(message=\"Checkpoint name is required for create/restore\")\n\n    prefix = \"checkpoint/\"\n\n    if action == \"create\":\n        tag_name = f\"{prefix}{name}\"\n        # Check if exists\n        ok, _ = git_cmd([\"rev-parse\", tag_name])\n        if ok:\n            return create_error_result(\n                message=f\"Checkpoint '{name}' already exists. Choose a different name.\"\n            )\n\n        success, output = git_cmd([\"tag\", tag_name])\n        if success:\n            return create_success_result(\n                message=f\"Checkpoint '{name}' created.\",\n                data={\n                    \"details\": f\"Created git tag {tag_name}. Use action='restore' name='{name}' to revert matching state.\"\n                },\n            )\n        return create_error_result(message=f\"Failed to create checkpoint: {output}\")\n\n    elif action == \"restore\":\n        tag_name = f\"{prefix}{name}\"\n        # detailed check\n        ok, _ = git_cmd([\"rev-parse\", tag_name])\n        if not ok:\n            return create_error_result(message=f\"Checkpoint '{name}' not found.\")\n\n        # Stash if requested\n        stash_msg = \"\"\n        if stash_changes:\n            # check for modifications\n            ok, status = git_cmd([\"status\", \"--porcelain\"])\n            if ok and status:\n                ok_stash, out_stash = git_cmd(\n                    [\"stash\", \"save\", f\"Auto-stash before restore {name}\"]\n                )\n                if ok_stash:\n                    stash_msg = \" (Current changes stashed)\"\n                else:\n                    return create_error_result(message=f\"Failed to stash changes: {out_stash}\")\n\n        # Reset hard\n        success, output = git_cmd([\"reset\", \"--hard\", tag_name])\n        if success:\n            return create_success_result(\n                message=f\"Restored to checkpoint '{name}'{stash_msg}.\", data={\"details\": output}\n            )\n        return create_error_result(message=f\"Failed to restore: {output}\")\n\n    elif action == \"list\":\n        success, output = git_cmd([\"tag\", \"-l\", f\"{prefix}*\"])\n        if not success:\n            return create_error_result(message=f\"Failed to list checkpoints: {output}\")\n\n        tags = output.splitlines()\n        checkpoints = [t[len(prefix) :] for t in tags if t.strip() and t.startswith(prefix)]\n        return create_success_result(\n            message=f\"Found {len(checkpoints)} checkpoints.\",\n            data={\"checkpoints\": checkpoints, \"count\": len(checkpoints)},\n        )\n\n    return create_error_result(message=f\"Unknown action: {action}\")\n</code></pre>"},{"location":"api/tools_zh/#rag-tools","title":"RAG Tools (\u77e5\u8b58\u6aa2\u7d22)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.rag","title":"<code>boring.mcp.tools.rag</code>","text":"<p>MCP Tools for RAG System</p> <p>Exposes RAG functionality as MCP tools for AI agents.</p>"},{"location":"api/tools_zh/#boring.mcp.tools.rag.reload_rag_dependencies","title":"<code>reload_rag_dependencies()</code>","text":"<p>Attempt to reload RAG dependencies at runtime.</p> <p>This allows the MCP server to pick up newly installed packages without a full process restart.</p> <p>Returns:</p> Type Description <code>dict</code> <p>dict with status and message</p> Source code in <code>src/boring/mcp/tools/rag.py</code> <pre><code>def reload_rag_dependencies() -&gt; dict:\n    \"\"\"\n    Attempt to reload RAG dependencies at runtime.\n\n    This allows the MCP server to pick up newly installed packages\n    without a full process restart.\n\n    Returns:\n        dict with status and message\n    \"\"\"\n    global _RAG_IMPORT_ERROR, RAGRetriever, create_rag_retriever\n\n    import site\n    import sys\n\n    # Step 1: Refresh user site packages\n    try:\n        user_site = site.getusersitepackages()\n        if isinstance(user_site, str) and user_site not in sys.path:\n            sys.path.insert(0, user_site)\n    except Exception:\n        pass\n\n    # Step 2: Clear any cached import errors\n    for mod_name in [\"chromadb\", \"sentence_transformers\", \"boring.rag\"]:\n        if mod_name in sys.modules:\n            del sys.modules[mod_name]\n\n    # Step 3: Check again via DependencyManager\n    # Reset cached availability first\n    if hasattr(DependencyManager, \"_chroma_available\"):\n        DependencyManager._chroma_available = None\n\n    if DependencyManager.check_chroma():\n        try:\n            from boring.rag import RAGRetriever as _RAGRetriever\n            from boring.rag import create_rag_retriever as _create_rag_retriever\n\n            global RAGRetriever, create_rag_retriever\n            RAGRetriever = _RAGRetriever\n            create_rag_retriever = _create_rag_retriever\n            _retrievers.clear()  # Clear cached retrievers\n\n            return {\n                \"status\": \"SUCCESS\",\n                \"message\": \"\u2705 RAG dependencies reloaded successfully! You can now use boring_rag_index and boring_rag_search.\",\n            }\n        except ImportError as e:\n            return {\"status\": \"ERROR\", \"message\": f\"\u274c Error importing RAG modules: {e}\"}\n\n    pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n    return {\n        \"status\": \"ERROR\",\n        \"message\": \"\u274c RAG dependencies still missing via DependencyManager.\",\n        \"fix_command\": pip_cmd,\n        \"hint\": f\"Run this command first:\\n    {pip_cmd}\",\n    }\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.rag.get_retriever","title":"<code>get_retriever(project_root)</code>","text":"<p>Get or create RAG retriever for a project. Returns None if RAG is not available.</p> Source code in <code>src/boring/mcp/tools/rag.py</code> <pre><code>def get_retriever(project_root: Path) -&gt; \"RAGRetriever | None\":\n    \"\"\"Get or create RAG retriever for a project. Returns None if RAG is not available.\"\"\"\n    if create_rag_retriever is None:\n        return None\n    key = str(project_root)\n    if key not in _retrievers:\n        _retrievers[key] = create_rag_retriever(project_root)\n    return _retrievers[key]\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.rag.register_rag_tools","title":"<code>register_rag_tools(mcp, helpers)</code>","text":"<p>Register RAG tools with the MCP server.</p> <p>Parameters:</p> Name Type Description Default <code>mcp</code> <code>Any</code> <p>FastMCP instance</p> required <code>helpers</code> <code>dict</code> <p>Dict with helper functions (get_project_root_or_error, etc.)</p> required Source code in <code>src/boring/mcp/tools/rag.py</code> <pre><code>def register_rag_tools(mcp: Any, helpers: dict):\n    \"\"\"\n    Register RAG tools with the MCP server.\n\n    Args:\n        mcp: FastMCP instance\n        helpers: Dict with helper functions (get_project_root_or_error, etc.)\n    \"\"\"\n    get_project_root_or_error = helpers.get(\"get_project_root_or_error\")\n\n    @mcp.tool(\n        description=\"Reload RAG dependencies after pip install.\",\n        annotations={\"readOnlyHint\": False, \"idempotentHint\": True},\n    )\n    def boring_rag_reload() -&gt; BoringResult:\n        \"\"\"\n        Attempt to reload RAG dependencies at runtime.\n\n        Use this after installing chromadb/sentence-transformers to enable\n        RAG features without restarting the MCP server.\n\n        Returns:\n            Status and message indicating success or required actions\n        \"\"\"\n        res = reload_rag_dependencies()\n        if res[\"status\"] == \"SUCCESS\":\n            return create_success_result(res[\"message\"], data=res)\n        return create_error_result(res[\"message\"], error_details=res.get(\"hint\"))\n\n    @mcp.tool(\n        description=\"Index codebase for semantic search.\",\n        annotations={\"readOnlyHint\": False, \"idempotentHint\": True, \"openWorldHint\": False},\n    )\n    def boring_rag_index(\n        force: Annotated[\n            bool,\n            Field(\n                description=\"If True, rebuild index even if it exists. Use when codebase structure changed significantly or index appears corrupted. Default: False (skips if index exists).\"\n            ),\n        ] = False,\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        Index the codebase for RAG retrieval.\n\n        Creates vector embeddings and dependency graph for semantic code search.\n        Run this once per project, or with force=True to rebuild.\n\n        Args:\n            force: If True, rebuild index even if it exists\n            project_path: Optional explicit path to project root\n\n        Returns:\n            Status message with indexing statistics\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\"))\n        retriever = get_retriever(project_root)\n        if retriever is None or not retriever.is_available:\n            pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n            return create_error_result(\n                \"\u274c RAG module not available.\\n\\n\"\n                f\"[AUTO-FIX] Run: {pip_cmd}\\n\\n\"\n                \"Then run `boring_rag_reload` to enable RAG.\\n\\n\"\n                \"\ud83d\udca1 [AI Action]: Execute the pip install command above, then call boring_rag_reload.\"\n            )\n\n        count = retriever.build_index(force=force)\n        stats = retriever.get_stats()\n\n        if stats.index_stats:\n            idx = stats.index_stats\n            msg = (\n                f\"\u2705 RAG Index {'rebuilt' if force else 'ready'}\\n\\n\"\n                f\"\ud83d\udcca Statistics:\\n\"\n                f\"- Files indexed: {idx.total_files}\\n\"\n                f\"- Total chunks: {idx.total_chunks}\\n\"\n                f\"- Functions: {idx.functions}\\n\"\n                f\"- Classes: {idx.classes}\\n\"\n                f\"- Methods: {idx.methods}\\n\"\n                f\"- Script chunks: {getattr(idx, 'script_chunks', 0)}\\n\"\n                f\"- Skipped: {idx.skipped_files}\\n\\n\"\n                f\"\ud83d\udca1 Project root: {project_root}\"\n            )\n            return create_success_result(\n                msg, data={\"stats\": idx.model_dump() if hasattr(idx, \"model_dump\") else str(idx)}\n            )\n\n        return create_success_result(\n            f\"\u2705 RAG Index ready with {count} chunks for `{project_root}`\", data={\"chunks\": count}\n        )\n\n    @mcp.tool(\n        description=\"Semantic code search with RAG.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    def boring_rag_search(\n        query: Annotated[\n            str,\n            Field(\n                description=\"Natural language query describing what code you're looking for. Uses semantic similarity search. Examples: 'authentication error handling', 'database connection pool', 'user login validation'. Be specific for better results.\"\n            ),\n        ],\n        max_results: Annotated[\n            int,\n            Field(\n                description=\"Maximum number of search results to return. Range: 1-50. Default: 10. Higher values provide more context but may include less relevant results.\"\n            ),\n        ] = 10,\n        expand_graph: Annotated[\n            bool,\n            Field(\n                description=\"If True, includes related code via dependency graph (callers/callees). Provides more comprehensive context. Default: True. Set to False for faster searches with only direct matches.\"\n            ),\n        ] = True,\n        file_filter: Annotated[\n            str,\n            Field(\n                description=\"Optional substring to filter results by file path. Only files containing this substring will be included. Examples: 'auth' (matches auth.py, authentication.py), 'src/api' (matches files in src/api/). Case-sensitive.\"\n            ),\n        ] = None,\n        threshold: Annotated[\n            float,\n            Field(\n                description=\"Minimum relevance score (0.0 to 1.0) for results. Higher values return only highly relevant matches. Default: 0.0 (all results). Recommended: 0.3-0.5 for quality filtering.\"\n            ),\n        ] = 0.0,\n        verbosity: Annotated[\n            str,\n            Field(\n                description=\"Output verbosity level. 'minimal': only file paths and scores (~20 tokens/result), 'standard': paths + truncated code snippets (~125 tokens/result), 'verbose': full code snippets (~200-500 tokens/result). Default: 'standard'.\"\n            ),\n        ] = \"standard\",\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n        use_hyde: Annotated[\n            bool,\n            Field(\n                description=\"Enable HyDE query expansion for better semantic alignment. Default: True.\"\n            ),\n        ] = True,\n        use_rerank: Annotated[\n            bool,\n            Field(description=\"Enable high-precision Cross-Encoder reranking. Default: True.\"),\n        ] = True,\n    ) -&gt; BoringResult:\n        \"\"\"\n        Search the codebase using semantic RAG retrieval.\n\n        Combines vector similarity search with dependency graph expansion\n        to find the most relevant code for your query.\n\n        Args:\n            query: What you're looking for (e.g., \"authentication error handling\")\n            max_results: Maximum number of results (default 10)\n            expand_graph: Include related code via dependency graph (default True)\n            file_filter: Filter by file path substring (e.g., \"auth\" or \"src/api\")\n            threshold: Minimum relevance score (0.0 to 1.0)\n            verbosity: Output detail level (minimal/standard/verbose)\n            project_path: Optional explicit path to project root\n            use_hyde: Enable HyDE expansion (default True)\n            use_rerank: Enable Cross-Encoder reranking (default True)\n\n        Returns:\n            Formatted search results with code snippets\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\"))\n        retriever = get_retriever(project_root)\n        if retriever is None or not retriever.is_available:\n            pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n            return create_error_result(\n                \"\u274c RAG module not available.\\n\\n\"\n                f\"[AUTO-FIX] Run: {pip_cmd}\\n\\n\"\n                \"Then run `boring_rag_reload` to enable RAG.\\n\\n\"\n                \"\ud83d\udca1 [AI Action]: Execute the pip install command above, then call boring_rag_reload.\"\n            )\n\n        # Enhanced index health check with diagnostics\n        if retriever.collection:\n            chunk_count = retriever.collection.count()\n            if chunk_count == 0:\n                return create_error_result(\n                    \"\u274c RAG index is empty.\\n\\n\"\n                    \"**Solution:** Run `boring_rag_index` first to index your codebase:\\n\"\n                    \"```\\n\"\n                    \"boring_rag_index(force=True)\\n\"\n                    \"```\\n\\n\"\n                    \"**Tip:** Use `boring_rag_status` to check index health.\"\n                )\n        else:\n            return create_error_result(\n                \"\u274c RAG collection not initialized.\\n\\n\"\n                \"**Solution:** Run `boring_rag_index` to create the index.\"\n            )\n\n        # Normalize file_filter for cross-platform compatibility\n        if file_filter:\n            file_filter = file_filter.replace(\"\\\\\", \"/\")\n\n        results = retriever.retrieve(\n            query=query,\n            n_results=max_results,\n            expand_graph=expand_graph,\n            file_filter=file_filter,\n            threshold=threshold,\n            use_hyde=use_hyde,\n            use_rerank=use_rerank,\n        )\n\n        if not results:\n            return create_success_result(\n                message=f\"\ud83d\udd0d No results found for: **{query}**\\n\\n\"\n                f\"**Suggestions:**\\n\"\n                f\"- Try a different query\\n\"\n                f\"- Check if code exists in indexed files\\n\"\n                f\"- Run `boring_rag_status` to verify index health\",\n                data={\"query\": query, \"results_count\": 0, \"results\": []},\n            )\n\n        # Import verbosity helpers\n        from boring.mcp.verbosity import Verbosity, get_verbosity\n\n        verb_level = get_verbosity(verbosity)\n        parts = [f\"\ud83d\udd0d Found {len(results)} results for: **{query}**\\n\"]\n\n        # Prepare structured data for tool consumer\n        structured_results = []\n\n        for i, result in enumerate(results, 1):\n            chunk = result.chunk\n            method = result.retrieval_method.upper()\n            score = f\"{result.score:.2f}\"\n\n            structured_results.append(\n                {\n                    \"file\": chunk.file_path,\n                    \"name\": chunk.name,\n                    \"line_start\": chunk.start_line,\n                    \"line_end\": chunk.end_line,\n                    \"score\": result.score,\n                    \"type\": chunk.chunk_type,\n                    \"method\": method,\n                }\n            )\n\n            if verb_level == Verbosity.MINIMAL:\n                # MINIMAL: Only file path, function name, and score\n                parts.append(f\"{i}. `{chunk.file_path}::{chunk.name}` (score: {score})\\n\")\n            elif verb_level == Verbosity.STANDARD:\n                # STANDARD: Current behavior (truncated at 500 chars)\n                parts.append(\n                    f\"### {i}. [{method}] `{chunk.file_path}` \u2192 `{chunk.name}` (score: {score})\\n\"\n                    f\"Lines {chunk.start_line}-{chunk.end_line} | Type: {chunk.chunk_type}\\n\"\n                    f\"```python\\n{chunk.content[:500]}{'...' if len(chunk.content) &gt; 500 else ''}\\n```\\n\"\n                )\n            else:  # VERBOSE\n                # VERBOSE: Full code snippet (no truncation)\n                parts.append(\n                    f\"### {i}. [{method}] `{chunk.file_path}` \u2192 `{chunk.name}` (score: {score})\\n\"\n                    f\"Lines {chunk.start_line}-{chunk.end_line} | Type: {chunk.chunk_type}\\n\"\n                    f\"**Full Code:**\\n```python\\n{chunk.content}\\n```\\n\"\n                )\n\n        # Add verbosity hint for minimal mode\n        if verb_level == Verbosity.MINIMAL:\n            parts.append(\"\\n\ud83d\udca1 Use verbosity='standard' or 'verbose' to see code snippets.\")\n\n        return create_success_result(\n            message=\"\\n\".join(parts),\n            data={\"query\": query, \"results_count\": len(results), \"results\": structured_results},\n        )\n\n    @mcp.tool(\n        description=\"Check RAG index health and statistics.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    def boring_rag_status(\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        Check RAG index health and provide diagnostic information.\n\n        Use this to verify the index is properly built and contains expected data.\n\n        Args:\n            project_path: Optional explicit path to project root\n\n        Returns:\n            Comprehensive index health report\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\"))\n\n        report = []  # Initialize report list\n        retriever = get_retriever(project_root)\n        if retriever is None or not retriever.is_available:\n            pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n            report.append(\"## \u274c RAG Not Available\\n\")\n            report.append(f\"[AUTO-FIX] Run:\\n```bash\\n{pip_cmd}\\n```\\n\")\n            report.append(\n                \"\\n\ud83d\udca1 [AI Action]: Execute the pip install command above, then call boring_rag_reload.\"\n            )\n            return create_error_result(\"\\n\".join(report))\n\n        report.append(\"## \u2705 ChromaDB Available\\n\")\n\n        # Check collection status\n        if retriever.collection:\n            chunk_count = retriever.collection.count()\n            report.append(f\"**Indexed Chunks:** {chunk_count}\\n\")\n\n            if chunk_count == 0:\n                report.append(\"\\n## \u26a0\ufe0f Index Empty\\n\")\n                report.append(\"Run `boring_rag_index(force=True)` to build the index.\\n\")\n            else:\n                report.append(\"\\n## \u2705 Index Healthy\\n\")\n\n                # Get detailed stats\n                stats = retriever.get_stats()\n                if stats.index_stats:\n                    idx = stats.index_stats\n                    report.append(f\"- **Files indexed:** {idx.total_files}\\n\")\n                    report.append(f\"- **Functions:** {idx.functions}\\n\")\n                    report.append(f\"- **Classes:** {idx.classes}\\n\")\n                    report.append(f\"- **Methods:** {idx.methods}\\n\")\n                    report.append(f\"- **Skipped:** {idx.skipped_files}\\n\")\n\n                if stats.graph_stats:\n                    graph = stats.graph_stats\n                    report.append(\"\\n**Dependency Graph:**\\n\")\n                    report.append(f\"- Nodes: {graph.total_nodes}\\n\")\n                    report.append(f\"- Edges: {graph.total_edges}\\n\")\n        else:\n            report.append(\"## \u274c Collection Not Initialized\\n\")\n            report.append(\"Run `boring_rag_index` to create the index.\\n\")\n\n        # Check persist directory\n        if retriever.persist_dir.exists():\n            report.append(f\"\\n**Persist Directory:** `{retriever.persist_dir}`\\n\")\n\n        return create_success_result(\n            \"\\n\".join(report),\n            data={\"available\": True, \"chunk_count\": chunk_count if retriever.collection else 0},\n        )\n\n    @mcp.tool(\n        description=\"Get callers and callees for a function.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    def boring_rag_context(\n        file_path: Annotated[\n            str,\n            Field(\n                description=\"Path to the file relative to project root. Example: 'src/auth/login.py' or 'app/models/user.py'. Must be a valid file path in the indexed codebase.\"\n            ),\n        ],\n        function_name: Annotated[\n            str,\n            Field(\n                description=\"Optional name of the function to get context for. If provided, returns callers and callees for this specific function. Example: 'authenticate_user' or 'process_payment'. Leave empty to get file-level context.\"\n            ),\n        ] = None,\n        class_name: Annotated[\n            str,\n            Field(\n                description=\"Optional name of the class if getting class-level context. Use when function_name is a method. Example: 'UserService' or 'PaymentProcessor'. Required when function_name is a class method.\"\n            ),\n        ] = None,\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        Get comprehensive context for modifying a specific code location.\n\n        Returns the target code plus:\n        - Callers: Code that calls this (might break if you change it)\n        - Callees: Code this depends on (need to understand the interface)\n        - Siblings: Other methods in the same class\n\n        Args:\n            file_path: Path to the file (relative to project root)\n            function_name: Name of the function to get context for\n            class_name: Name of the class (if getting class context)\n            project_path: Optional explicit path to project root\n\n        Returns:\n            Categorized code context for safe modification\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\"))\n        retriever = get_retriever(project_root)\n        if retriever is None or not retriever.is_available:\n            pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n            return create_error_result(\n                \"\u274c RAG module not available.\\n\\n\"\n                f\"[AUTO-FIX] Run: {pip_cmd}\\n\\n\"\n                \"Then run `boring_rag_reload` to enable RAG.\\n\\n\"\n                \"\ud83d\udca1 [AI Action]: Execute the pip install command above, then call boring_rag_reload.\"\n            )\n\n        context = retriever.get_modification_context(\n            file_path=file_path, function_name=function_name, class_name=class_name\n        )\n\n        parts = [f\"\ud83d\udccd Context for `{function_name or class_name}` in `{file_path}`\\n\"]\n\n        # Target\n        if context[\"target\"]:\n            chunk = context[\"target\"][0].chunk\n            parts.append(f\"## \ud83c\udfaf Target\\n```python\\n{chunk.content}\\n```\\n\")\n        else:\n            return create_error_result(\n                f\"\u274c Could not find `{function_name or class_name}` in `{file_path}`\"\n            )\n\n        # Callers (might break)\n        if context[\"callers\"]:\n            parts.append(\n                f\"## \u26a0\ufe0f Callers ({len(context['callers'])} - might break if you change the interface)\\n\"\n            )\n            for r in context[\"callers\"][:5]:\n                c = r.chunk\n                parts.append(f\"- `{c.file_path}` \u2192 `{c.name}` (L{c.start_line})\\n\")\n\n        # Callees (dependencies)\n        if context[\"callees\"]:\n            parts.append(\n                f\"## \ud83d\udce6 Dependencies ({len(context['callees'])} - understand these interfaces)\\n\"\n            )\n            for r in context[\"callees\"][:5]:\n                c = r.chunk\n                sig = c.signature or c.content[:100]\n                parts.append(f\"- `{c.name}`: `{sig[:80]}...`\\n\")\n\n        # Siblings\n        if context[\"siblings\"]:\n            parts.append(f\"## \ud83d\udc65 Sibling Methods ({len(context['siblings'])})\\n\")\n            for r in context[\"siblings\"][:5]:\n                c = r.chunk\n                parts.append(f\"- `{c.name}` (L{c.start_line}-{c.end_line})\\n\")\n\n        return create_success_result(\"\\n\".join(parts), data=context)\n\n    @mcp.tool(\n        description=\"Expand dependency context for a chunk.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    def boring_rag_expand(\n        chunk_id: Annotated[\n            str,\n            Field(\n                description=\"The chunk ID to expand from, obtained from boring_rag_search results. Format: string identifier. Example: 'chunk_abc123' or 'func:auth:login'. Use this to get deeper dependency context for a specific code location.\"\n            ),\n        ],\n        depth: Annotated[\n            int,\n            Field(\n                description=\"Number of dependency layers to expand recursively. Range: 1-5. Default: 2. Higher values provide more comprehensive context but may include less relevant code. Use 1 for immediate dependencies only, 3-5 for deep dependency analysis.\"\n            ),\n        ] = 2,\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        Smart expand: Get deeper dependency context for a specific chunk.\n\n        Use this when 1-layer expansion isn't enough. The AI can request\n        deeper traversal on-demand.\n\n        Args:\n            chunk_id: The chunk ID to expand from (from search results)\n            depth: How many layers to expand (default 2)\n            project_path: Optional explicit path to project root\n\n        Returns:\n            Additional related code chunks\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\"))\n        retriever = get_retriever(project_root)\n        if retriever is None or not retriever.is_available:\n            pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n            return create_error_result(\n                \"\u274c RAG module not available.\\n\\n\"\n                f\"[AUTO-FIX] Run: {pip_cmd}\\n\\n\"\n                \"Then run `boring_rag_reload` to enable RAG.\\n\\n\"\n                \"\ud83d\udca1 [AI Action]: Execute the pip install command above, then call boring_rag_reload.\"\n            )\n\n        results = retriever.smart_expand(chunk_id, depth=depth)\n\n        if not results:\n            return create_success_result(\n                f\"\ud83d\udd0d No additional context found for chunk {chunk_id}\", data={\"results\": []}\n            )\n\n        parts = [f\"\ud83d\udd17 Smart Expand: +{len(results)} related chunks (depth={depth})\\n\"]\n\n        for result in results[:10]:\n            chunk = result.chunk\n            parts.append(\n                f\"### `{chunk.file_path}` \u2192 `{chunk.name}`\\n\"\n                f\"```python\\n{chunk.content[:300]}...\\n```\\n\"\n            )\n\n        return create_success_result(\"\\n\".join(parts), data={\"results_count\": len(results)})\n\n    @mcp.tool(\n        description=\"Visualize the code dependency graph.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    def boring_rag_graph(\n        format: Annotated[\n            str,\n            Field(\n                description=\"Output format: 'mermaid' (for diagrams) or 'json' (for data analysis). Default: 'mermaid'.\"\n            ),\n        ] = \"mermaid\",\n        max_nodes: Annotated[\n            int,\n            Field(\n                description=\"Maximum number of nodes to include in visualization to prevent overcrowding. Default: 50.\"\n            ),\n        ] = 50,\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        Visualize the dependency graph.\n\n        Returns a Mermaid diagram (flowchart) or JSON structure representing\n        the relationship between code chunks (callers/callees).\n        Useful for understanding system architecture.\n\n        Args:\n            format: \"mermaid\" or \"json\"\n            max_nodes: Limit nodes for readability\n            project_path: Optional project root\n\n        Returns:\n            Visualization string\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\"))\n        retriever = get_retriever(project_root)\n        if retriever is None or not retriever.is_available:\n            pip_cmd = f\"{sys.executable} -m pip install boring-aicoding[vector]\"\n            return create_error_result(\n                \"\u274c RAG module not available.\\n\\n\"\n                f\"[AUTO-FIX] Run: {pip_cmd}\\n\\n\"\n                \"Then run `boring_rag_reload` to enable RAG.\\n\\n\"\n                \"\ud83d\udca1 [AI Action]: Execute the pip install command above, then call boring_rag_reload.\"\n            )\n\n        if not retriever.graph:\n            # Force load if graph usage is requested\n            retriever._load_chunks_from_db()\n            if not retriever.graph:\n                return create_error_result(\n                    \"\u274c Graph not initialized or empty. Run `boring_rag_index` first.\"\n                )\n\n        viz = retriever.graph.visualize(format=format, max_nodes=max_nodes)\n\n        if format == \"mermaid\":\n            msg = (\n                f\"## \ud83d\udd78\ufe0f Dependency Graph ({retriever.graph.get_stats().total_nodes} nodes)\\n\\n{viz}\"\n            )\n            return create_success_result(msg, data={\"format\": \"mermaid\"})\n        else:\n            return create_success_result(\"Graph data generated.\", data={\"json\": viz})\n</code></pre>"},{"location":"api/tools_zh/#shadow-mode","title":"Shadow Mode (\u5f71\u5b50\u6a21\u5f0f)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.shadow","title":"<code>boring.mcp.tools.shadow</code>","text":"<p>MCP Tools for Shadow Mode</p> <p>Exposes Shadow Mode human-in-the-loop protection as MCP tools.</p>"},{"location":"api/tools_zh/#boring.mcp.tools.shadow.get_shadow_guard","title":"<code>get_shadow_guard(project_root, mode='ENABLED')</code>","text":"<p>Get or create Shadow Mode guard for a project.</p> Source code in <code>src/boring/mcp/tools/shadow.py</code> <pre><code>def get_shadow_guard(project_root: Path, mode: str = \"ENABLED\") -&gt; ShadowModeGuard:\n    \"\"\"Get or create Shadow Mode guard for a project.\"\"\"\n    # Normalize key to handle case/path variations\n    key = str(project_root.resolve().absolute()).lower()\n    if key not in _guards:\n        _guards[key] = create_shadow_guard(project_root, mode=mode)\n    return _guards[key]\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.shadow.register_shadow_tools","title":"<code>register_shadow_tools(mcp, helpers)</code>","text":"<p>Register Shadow Mode tools with the MCP server.</p> <p>Parameters:</p> Name Type Description Default <code>mcp</code> <code>Any</code> <p>FastMCP instance</p> required <code>helpers</code> <code>dict</code> <p>Dict with helper functions</p> required Source code in <code>src/boring/mcp/tools/shadow.py</code> <pre><code>def register_shadow_tools(mcp: Any, helpers: dict):\n    \"\"\"\n    Register Shadow Mode tools with the MCP server.\n\n    Args:\n        mcp: FastMCP instance\n        helpers: Dict with helper functions\n    \"\"\"\n    get_project_root_or_error = helpers.get(\"get_project_root_or_error\")\n\n    @mcp.tool(\n        description=\"Get Shadow Mode status and pending operations\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_status(\n        project_path: Annotated[\n            str, Field(description=\"Optional explicit path to project root\")\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Get Shadow Mode status and pending approvals.\n\n        Shows:\n        - Current protection level\n        - Number of pending operations\n        - Details of each pending operation\n\n        Args:\n            project_path: Optional explicit path to project root\n\n        Returns:\n            Shadow Mode status summary\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n        guard = get_shadow_guard(project_root)\n\n        pending = guard.get_pending_operations()\n\n        output = [\n            \"# \ud83d\udee1\ufe0f Shadow Mode Status\",\n            \"\",\n            f\"**Mode:** {guard.mode.value}\",\n            f\"**Pending Operations:** {len(pending)}\",\n            \"\",\n        ]\n\n        if guard.mode == ShadowModeLevel.ENABLED:\n            output.insert(\n                3,\n                \"&gt; \u2139\ufe0f **Note:** In ENABLED mode, low-risk operations (e.g. file reads, minor edits) are **automatically approved**.\",\n            )\n\n        if pending:\n            output.append(\"## Pending Approvals\")\n            for op in pending:\n                severity_icon = {\"critical\": \"\ud83d\udd34\", \"high\": \"\ud83d\udfe0\", \"medium\": \"\ud83d\udfe1\", \"low\": \"\ud83d\udfe2\"}.get(\n                    op.severity.value, \"\u26aa\"\n                )\n\n                output.append(\n                    f\"\\n### {severity_icon} `{op.operation_id}`\\n\"\n                    f\"- **Type:** {op.operation_type}\\n\"\n                    f\"- **File:** `{op.file_path}`\\n\"\n                    f\"- **Severity:** {op.severity.value}\\n\"\n                    f\"- **Description:** {op.description}\\n\"\n                    f\"- **Time:** {op.timestamp}\"\n                )\n        else:\n            output.append(\"\u2705 No pending operations\")\n\n        return \"\\n\".join(output)\n\n    @mcp.tool(\n        description=\"Approve a pending Shadow Mode operation\",\n        annotations={\"readOnlyHint\": False, \"idempotentHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_approve(\n        operation_id: Annotated[\n            str,\n            Field(\n                description=\"Unique identifier of the operation to approve. Get this from boring_shadow_status output. Format: UUID string. Example: '550e8400-e29b-41d4-a716-446655440000'.\"\n            ),\n        ],\n        note: Annotated[\n            str,\n            Field(\n                description=\"Optional human-readable note explaining why this operation is approved. Stored in operation history for audit trail. Example: 'Reviewed changes, safe to proceed'.\"\n            ),\n        ] = None,\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Approve a pending Shadow Mode operation.\n\n        The operation will be allowed to proceed after approval.\n\n        Args:\n            operation_id: ID of the operation to approve\n            note: Optional note explaining the approval\n            project_path: Optional explicit path to project root\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n        guard = get_shadow_guard(project_root)\n\n        if guard.approve_operation(operation_id, note):\n            return f\"\u2705 Operation `{operation_id}` approved\" + (\n                f\" with note: {note}\" if note else \"\"\n            )\n        else:\n            return f\"\u274c Operation `{operation_id}` not found\"\n\n    @mcp.tool(\n        description=\"Reject a pending Shadow Mode operation\",\n        annotations={\"readOnlyHint\": False, \"idempotentHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_reject(\n        operation_id: Annotated[\n            str,\n            Field(\n                description=\"Unique identifier of the operation to reject. Get this from boring_shadow_status output. Format: UUID string. Example: '550e8400-e29b-41d4-a716-446655440000'.\"\n            ),\n        ],\n        note: Annotated[\n            str,\n            Field(\n                description=\"Optional human-readable note explaining why this operation is rejected. Stored in operation history for audit trail. Example: 'Operation too risky, requires manual review'.\"\n            ),\n        ] = None,\n        project_path: Annotated[\n            str,\n            Field(\n                description=\"Optional explicit path to project root. If not provided, automatically detects project root by searching for common markers (pyproject.toml, package.json, etc.) starting from current directory. Example: '.' or '/path/to/project'.\"\n            ),\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Reject a pending Shadow Mode operation.\n\n        The operation will be blocked and removed from the queue.\n\n        Args:\n            operation_id: ID of the operation to reject\n            note: Optional note explaining the rejection\n            project_path: Optional explicit path to project root\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n        guard = get_shadow_guard(project_root)\n\n        if guard.reject_operation(operation_id, note):\n            return f\"\u274c Operation `{operation_id}` rejected\" + (\n                f\" with note: {note}\" if note else \"\"\n            )\n        else:\n            return f\"\u2753 Operation `{operation_id}` not found\"\n\n    @mcp.tool(\n        description=\"Change Shadow Mode protection level\",\n        annotations={\"readOnlyHint\": False, \"idempotentHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_mode(\n        mode: Annotated[\n            str,\n            Field(\n                description=\"New protection level. Options: 'DISABLED' (no protection, not recommended), 'ENABLED' (auto-approve low-risk, require approval for high-risk, recommended default), 'STRICT' (require approval for all writes, recommended for production).\"\n            ),\n        ],\n        project_path: Annotated[\n            str, Field(description=\"Optional explicit path to project root\")\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Change Shadow Mode protection level.\n\n        Modes:\n        - **DISABLED**: All operations auto-approved (\u26a0\ufe0f dangerous)\n        - **ENABLED**: Only HIGH/CRITICAL ops require approval (default)\n        - **STRICT**: ALL write operations require approval\n\n        Args:\n            mode: New mode (DISABLED, ENABLED, or STRICT)\n            project_path: Optional explicit path to project root\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n\n        # Validate mode\n        mode_upper = mode.upper()\n        if mode_upper not in (\"DISABLED\", \"ENABLED\", \"STRICT\"):\n            return \"\u274c Invalid mode. Choose: DISABLED, ENABLED, or STRICT\"\n\n        # Update existing guard or create new one via singleton accessor\n        try:\n            level = ShadowModeLevel[mode_upper]\n            # FIX: Use get_shadow_guard to ensure correct singleton key is used\n            guard = get_shadow_guard(project_root)\n            guard.mode = level\n\n            mode_icons = {\"DISABLED\": \"\u26a0\ufe0f\", \"ENABLED\": \"\ud83d\udee1\ufe0f\", \"STRICT\": \"\ud83d\udd12\"}\n\n            return f\"{mode_icons.get(mode_upper, '\u2705')} Shadow Mode set to **{mode_upper}**\"\n        except Exception as e:\n            return f\"\u274c Failed to set mode: {e}\"\n\n    @mcp.tool(\n        description=\"Clear all pending Shadow Mode operations\",\n        annotations={\"readOnlyHint\": False, \"destructiveHint\": True},\n    )\n    def boring_shadow_clear(\n        project_path: Annotated[\n            str, Field(description=\"Optional explicit path to project root\")\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Clear all pending Shadow Mode operations.\n\n        Use this to reset the approval queue if operations are stale.\n\n        Args:\n            project_path: Optional explicit path to project root\n\n        Returns:\n            Count of cleared operations\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n        guard = get_shadow_guard(project_root)\n\n        count = guard.clear_pending()\n        return f\"\u2705 Cleared {count} pending operations\"\n\n    @mcp.tool(\n        description=\"Add or update a trust rule for auto-approving operations\",\n        annotations={\"readOnlyHint\": False, \"idempotentHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_trust(\n        tool_name: Annotated[\n            str,\n            Field(\n                description=\"Tool name to trust, e.g., 'boring_commit'. Use '*' to trust all tools (dangerous).\"\n            ),\n        ],\n        auto_approve: Annotated[\n            bool,\n            Field(description=\"Whether to auto-approve matching operations. Default: True\"),\n        ] = True,\n        path_pattern: Annotated[\n            str,\n            Field(\n                description=\"Optional glob pattern to limit trust to specific paths, e.g., 'src/*'. Leave empty for all paths.\"\n            ),\n        ] = None,\n        max_severity: Annotated[\n            str,\n            Field(\n                description=\"Maximum severity to auto-approve: 'low', 'medium', 'high'. Default: 'high'. Use 'critical' with extreme caution.\"\n            ),\n        ] = \"high\",\n        description: Annotated[\n            str,\n            Field(description=\"Optional description for this rule\"),\n        ] = \"\",\n        project_path: Annotated[\n            str, Field(description=\"Optional explicit path to project root\")\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Add a trust rule to auto-approve specific operations.\n\n        Trust rules let you bypass approval prompts for operations you trust.\n        Rules are persisted in `.boring_brain/trust_rules.json`.\n\n        Examples:\n        - Trust all commit operations: boring_shadow_trust(\"boring_commit\")\n        - Trust file writes in src/: boring_shadow_trust(\"boring_write_file\", path_pattern=\"src/*\")\n\n        Args:\n            tool_name: Tool to trust\n            auto_approve: Whether to auto-approve (True) or explicitly block (False)\n            path_pattern: Optional glob pattern for path filtering\n            max_severity: Maximum severity level to auto-approve\n            description: Optional description\n            project_path: Optional explicit path to project root\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n\n        try:\n            from boring.trust_rules import get_trust_manager\n\n            manager = get_trust_manager(project_root)\n\n            manager.add_rule(\n                tool_name=tool_name,\n                auto_approve=auto_approve,\n                path_pattern=path_pattern or None,\n                max_severity=max_severity,\n                description=description,\n            )\n\n            action = \"trusted\" if auto_approve else \"blocked\"\n            icon = \"\u2705\" if auto_approve else \"\ud83d\udeab\"\n            path_info = f\" (path: `{path_pattern}`)\" if path_pattern else \"\"\n\n            return f\"{icon} Tool `{tool_name}` is now {action}{path_info} up to severity `{max_severity}`\"\n        except Exception as e:\n            return f\"\u274c Failed to add trust rule: {e}\"\n\n    @mcp.tool(\n        description=\"List all trust rules\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_trust_list(\n        project_path: Annotated[\n            str, Field(description=\"Optional explicit path to project root\")\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        List all trust rules configured for this project.\n\n        Returns:\n            List of trust rules with their settings\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n\n        try:\n            from boring.trust_rules import get_trust_manager\n\n            manager = get_trust_manager(project_root)\n\n            rules = manager.list_rules()\n\n            if not rules:\n                return \"\ud83d\udccb No trust rules configured. Use `boring_shadow_trust` to add rules.\"\n\n            output = [\"# \ud83d\udccb Trust Rules\", \"\"]\n            for i, rule in enumerate(rules, 1):\n                icon = \"\u2705\" if rule.get(\"auto_approve\") else \"\ud83d\udeab\"\n                path = f\" (path: `{rule.get('path_pattern')}`)\" if rule.get(\"path_pattern\") else \"\"\n                desc = f\" \u2014 {rule.get('description')}\" if rule.get(\"description\") else \"\"\n                output.append(\n                    f\"{i}. {icon} **`{rule.get('tool_name')}`**{path} \"\n                    f\"[max: {rule.get('max_severity')}]{desc}\"\n                )\n\n            return \"\\n\".join(output)\n        except Exception as e:\n            return f\"\u274c Failed to list trust rules: {e}\"\n\n    @mcp.tool(\n        description=\"Remove a trust rule\",\n        annotations={\"readOnlyHint\": False, \"destructiveHint\": True, \"openWorldHint\": False},\n    )\n    def boring_shadow_trust_remove(\n        tool_name: Annotated[\n            str,\n            Field(description=\"Tool name of the rule to remove\"),\n        ],\n        path_pattern: Annotated[\n            str,\n            Field(description=\"Path pattern of the rule to remove (must match exactly)\"),\n        ] = None,\n        project_path: Annotated[\n            str, Field(description=\"Optional explicit path to project root\")\n        ] = None,\n    ) -&gt; str:\n        \"\"\"\n        Remove a trust rule.\n\n        Args:\n            tool_name: Tool name of the rule to remove\n            path_pattern: Path pattern to match (if rule has one)\n            project_path: Optional explicit path to project root\n        \"\"\"\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error.get(\"message\")\n\n        try:\n            from boring.trust_rules import get_trust_manager\n\n            manager = get_trust_manager(project_root)\n\n            if manager.remove_rule(tool_name, path_pattern or None):\n                return f\"\u2705 Removed trust rule for `{tool_name}`\"\n            else:\n                return f\"\u2753 No matching trust rule found for `{tool_name}`\"\n        except Exception as e:\n            return f\"\u274c Failed to remove trust rule: {e}\"\n</code></pre>"},{"location":"api/tools_zh/#vibe-tools","title":"Vibe Tools (\u7a0b\u5f0f\u78bc\u611f\u77e5)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.vibe","title":"<code>boring.mcp.tools.vibe</code>","text":"<p>Vibe Coder Pro Tools - \u8b93 Vibe Coder \u7a0b\u5f0f\u78bc\u9054\u5230\u5de5\u7a0b\u5e2b\u6c34\u6e96\u3002</p> <p>\u5305\u542b: - boring_test_gen: \u81ea\u52d5\u751f\u6210\u55ae\u5143\u6e2c\u8a66 (\u652f\u63f4\u591a\u8a9e\u8a00) + RAG \u98a8\u683c\u53c3\u8003 - boring_code_review: AI \u7a0b\u5f0f\u78bc\u5be9\u67e5 (\u652f\u63f4\u591a\u8a9e\u8a00) + BrainManager Pattern \u6574\u5408 - boring_vibe_check: \u904a\u6232\u5316\u5065\u6aa2 (\u6574\u5408 Lint, Security, Doc) + Storage \u6b77\u53f2\u8ffd\u8e64 - boring_impact_check: \u885d\u64ca\u5206\u6790 (\u591a\u5c64\u4f9d\u8cf4\u8ffd\u8e64) + RAG \u8a9e\u7fa9\u5206\u6790</p> <p>V10.21 \u6574\u5408: - BrainManager: \u53c3\u8003\u5df2\u5b78\u7fd2\u7684 Pattern \u9032\u884c\u5be9\u67e5 - RAG: \u8a9e\u7fa9\u641c\u5c0b\u73fe\u6709\u6e2c\u8a66\u98a8\u683c\u3001\u4f9d\u8cf4\u5206\u6790 - Storage: \u8a18\u9304 Vibe Score \u6b77\u53f2\u8da8\u52e2</p> <p>\u79fb\u690d\u81ea vibe_tools.py (V10.26.0)</p>"},{"location":"api/tools_zh/#boring.mcp.tools.vibe.get_vibe_engine","title":"<code>get_vibe_engine()</code>","text":"<p>Get the VibeEngine singleton, initializing it lazily.</p> Source code in <code>src/boring/mcp/tools/vibe.py</code> <pre><code>def get_vibe_engine():\n    \"\"\"Get the VibeEngine singleton, initializing it lazily.\"\"\"\n    global _vibe_engine\n    if _vibe_engine is None:\n        from ...vibe.engine import VibeEngine\n        from ...vibe.handlers.generic import GenericHandler\n        from ...vibe.handlers.javascript import JavascriptHandler\n        from ...vibe.handlers.python import PythonHandler\n\n        _vibe_engine = VibeEngine()\n        _vibe_engine.register_handler(PythonHandler())\n        _vibe_engine.register_handler(JavascriptHandler())\n        _vibe_engine.register_handler(GenericHandler())\n\n    return _vibe_engine\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.vibe.run_vibe_check","title":"<code>run_vibe_check(target_path='.', project_path=None, max_files=10, verbosity='standard')</code>","text":"<p>Module-level Vibe Check implementation. Can be called directly by FlowEngine or other components.</p> Source code in <code>src/boring/mcp/tools/vibe.py</code> <pre><code>def run_vibe_check(\n    target_path: str = \".\",\n    project_path: str | None = None,\n    max_files: int = 10,\n    verbosity: str = \"standard\",\n) -&gt; BoringResult:\n    \"\"\"\n    Module-level Vibe Check implementation.\n    Can be called directly by FlowEngine or other components.\n    \"\"\"\n    root_str, error = _get_project_root_or_error_impl(project_path)\n    if error:\n        return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n    project_root = Path(root_str)\n    # Handle both absolute and relative paths\n    if target_path.startswith(\"/\") or (len(target_path) &gt; 1 and target_path[1] == \":\"):\n        # Absolute path (Unix-style or Windows-style)\n        target = Path(target_path)\n    elif target_path == \".\":\n        target = project_root\n    else:\n        # Relative path\n        target = project_root / target_path\n\n    if not target.exists():\n        return create_error_result(f\"\u274c \u627e\u4e0d\u5230\u76ee\u6a19: {target}\")\n\n    # 1. \u6536\u96c6\u6a94\u6848\n    files_to_check = []\n    if target.is_file():\n        files_to_check.append(target)\n    else:\n        candidates = [\n            p\n            for p in target.rglob(\"*\")\n            if p.is_file()\n            and p.suffix in [\".py\", \".js\", \".ts\"]\n            and not any(x in p.parts for x in [\"node_modules\", \".git\", \"venv\"])\n        ][:max_files]\n        files_to_check.extend(candidates)\n\n    if not files_to_check:\n        return create_error_result(\"\u26a0\ufe0f \u627e\u4e0d\u5230\u53ef\u5206\u6790\u7684\u7a0b\u5f0f\u78bc\u6a94\u6848 (.py, .js, .ts)\")\n\n    # Scoring Variables\n    base_score = 100\n    deductions = 0\n    issues_found = []\n    doc_missing = 0\n    security_issues = []\n\n    # Lazy load engine\n    engine = get_vibe_engine()\n\n    # 2. \u9010\u6a94\u5206\u6790\n    for f in files_to_check:\n        try:\n            content = f.read_text(encoding=\"utf-8\", errors=\"ignore\")\n\n            # A. Code Review (Lint/Quality)\n            rev_res = engine.perform_code_review(str(f), content, focus=\"all\")\n            for issue in rev_res.issues:\n                deduction = (\n                    5 if issue.severity == \"low\" else 10 if issue.severity == \"medium\" else 15\n                )\n                deductions += deduction\n                issues_found.append(f\"[{f.name}:{issue.line}] {issue.message}\")\n\n            # B. Doc Check\n            doc_res = engine.extract_documentation(str(f), content)\n            for item in doc_res.items:\n                if not item.docstring:\n                    deductions += 5\n                    doc_missing += 1\n\n        except Exception:\n            continue\n\n    # 3. Security Scan (Phase 14 Enhancement)\n    try:\n        scanner = SecurityScanner(project_root)\n        sec_report = scanner.scan_for_secrets(target if target.is_dir() else target.parent)\n        for sec_issue in sec_report.issues:\n            severity_deduction = (\n                20\n                if sec_issue.severity == \"CRITICAL\"\n                else 15\n                if sec_issue.severity == \"HIGH\"\n                else 10\n            )\n            deductions += severity_deduction\n            security_issues.append(\n                f\"\ud83d\udd12 [{sec_issue.severity}] {sec_issue.description} ({sec_issue.file_path}:{sec_issue.line_number})\"\n            )\n    except Exception:\n        pass  # Security scan is optional enhancement\n\n    # 3.5 Memory Injection (Phase 20 Enhancement)\n    brain_advice = []\n    try:\n        from ...intelligence import BrainManager\n\n        brain = BrainManager(project_root)\n\n        seen_patterns = set()\n        for issue in issues_found:\n            msg_part = issue.split(\"] \", 1)[-1] if \"] \" in issue else issue\n            patterns = brain.match_error_pattern(msg_part)\n            if patterns:\n                best_match = patterns[0]\n                if best_match.pattern_id not in seen_patterns:\n                    brain_advice.append(\n                        f\"\ud83e\udde0 Brain Recall: For '{msg_part}', previously solving by: {best_match.solution}\"\n                    )\n                    seen_patterns.add(best_match.pattern_id)\n                    deductions -= 5\n    except Exception as e:\n        logger.debug(\"Brain pattern matching failed: %s\", e)\n\n    # 4. \u8a08\u7b97\u5206\u6578\n    final_score = max(0, base_score - deductions)\n\n    # 5. \u8a55\u7d1a\n    if final_score &gt;= 95:\n        tier = \"S-Tier (God Like) \ud83c\udfc6\"\n    elif final_score &gt;= 85:\n        tier = \"A-Tier (Professional) \ud83e\udd47\"\n    elif final_score &gt;= 75:\n        tier = \"B-Tier (Solid) \ud83e\udd48\"\n    elif final_score &gt;= 60:\n        tier = \"C-Tier (Meh) \ud83e\udd49\"\n    else:\n        tier = \"F-Tier (Spaghetti) \ud83c\udf5d\"\n\n    # 6. \u751f\u6210 One-Click Fix Prompt\n    fix_prompt = \"\"\n    if final_score &lt; 100:\n        fix_prompt = f\"Please act as a Senior Engineer to fix the low Vibe Score ({final_score}) for the following files:\\n\"\n        fix_prompt += f\"Target: `{target_path}`\\n\\n\"\n        fix_prompt += \"Tasks:\\n\"\n\n        if issues_found:\n            fix_prompt += \"1. Fix the following code quality issues:\\n\"\n            for i in issues_found[:10]:\n                fix_prompt += f\"   - {i}\\n\"\n            if len(issues_found) &gt; 10:\n                fix_prompt += f\"   - ... and {len(issues_found) - 10} more issues.\\n\"\n\n        if doc_missing &gt; 0:\n            fix_prompt += f\"2. Add missing docstrings/JSDoc to {doc_missing} functions/classes to meet Google Style Guide.\\n\"\n\n        if security_issues:\n            fix_prompt += \"3. \u26a0\ufe0f CRITICAL: Remove or rotate the following exposed secrets:\\n\"\n            for sec in security_issues[:5]:\n                fix_prompt += f\"   - {sec}\\n\"\n\n        fix_prompt += \"\\nReturn the corrected code directly.\"\n    else:\n        fix_prompt = \"\ud83c\udf89 Perfect Score! No fixes needed. Maybe go touch some grass? \ud83c\udf31\"\n\n    # 7. V10.21: Storage \u6b77\u53f2\u8ffd\u8e64\n    score_trend = \"\"\n    previous_score = None\n    storage = _get_storage(project_root)\n    if storage:\n        try:\n            # \u8a18\u9304\u672c\u6b21\u5206\u6578\n            storage.record_metric(\n                name=\"vibe_score\",\n                value=float(final_score),\n                metadata={\n                    \"target\": target_path,\n                    \"issues\": len(issues_found),\n                    \"doc_missing\": doc_missing,\n                    \"security_issues\": len(security_issues),\n                    \"tier\": tier,\n                },\n            )\n\n            # \u53d6\u5f97\u6b77\u53f2\u5206\u6578\n            history = storage.get_metrics(\"vibe_score\", limit=5)\n            if len(history) &gt; 1:\n                previous_score = history[1].get(\"metric_value\")\n                if previous_score is not None:\n                    diff = final_score - previous_score\n                    if diff &gt; 0:\n                        score_trend = f\"\ud83d\udcc8 +{diff:.0f} (vs \u4e0a\u6b21 {previous_score:.0f})\"\n                    elif diff &lt; 0:\n                        score_trend = f\"\ud83d\udcc9 {diff:.0f} (vs \u4e0a\u6b21 {previous_score:.0f})\"\n                    else:\n                        score_trend = f\"\u27a1\ufe0f \u7dad\u6301 {previous_score:.0f}\"\n        except Exception as e:\n            logger.debug(\"Failed to track vibe score history: %s\", e)\n\n    storage_status = \"\u2705 \u5206\u6578\u5df2\u8a18\u9304\" if storage else \"\u26a0\ufe0f Storage \u672a\u555f\u7528\"\n\n    # Import verbosity control\n    from boring.mcp.verbosity import Verbosity, get_verbosity\n\n    verb_level = get_verbosity(verbosity)\n\n    # Generate vibe_summary based on verbosity\n    if verb_level == Verbosity.MINIMAL:\n        # MINIMAL: Only score and tier (~50 tokens)\n        vibe_summary = f\"\ud83d\udcca Vibe Score: {final_score}/100 | {tier}\"\n        if score_trend:\n            vibe_summary += f\"\\n{score_trend}\"\n        vibe_summary += \"\\n\ud83d\udca1 Use verbosity='standard' for details\"\n\n    elif verb_level == Verbosity.VERBOSE:\n        # VERBOSE: Full detailed report (~800+ tokens)\n        summary_lines = [\n            f\"\ud83d\udcca Vibe Check: `{target_path}`\",\n            f\"Score: {final_score}/100 | {tier}\",\n            \"\",\n        ]\n\n        if score_trend:\n            summary_lines.append(f\"{score_trend}\\n\")\n\n        # Code Quality Issues\n        if issues_found:\n            summary_lines.append(f\"\ud83d\udd0d Code Quality Issues ({len(issues_found)}):\")\n            for issue in issues_found[:20]:  # Show up to 20\n                summary_lines.append(f\"  - {issue}\")\n            if len(issues_found) &gt; 20:\n                summary_lines.append(f\"  ... and {len(issues_found) - 20} more\")\n            summary_lines.append(\"\")\n\n        # Security Issues\n        if security_issues:\n            summary_lines.append(f\"\ud83d\udd12 Security Issues ({len(security_issues)}):\")\n            for sec in security_issues[:10]:\n                summary_lines.append(f\"  - {sec}\")\n            if len(security_issues) &gt; 10:\n                summary_lines.append(f\"  ... and {len(security_issues) - 10} more\")\n            summary_lines.append(\"\")\n\n        # Documentation\n        if doc_missing &gt; 0:\n            summary_lines.append(f\"\ud83d\udcdd Documentation: {doc_missing} missing docstrings\")\n            summary_lines.append(\"\")\n\n        summary_lines.append(f\"\ud83d\udd17 {storage_status}\")\n        vibe_summary = \"\\n\".join(summary_lines)\n\n    else:  # STANDARD\n        # STANDARD: Score + top issues (~300 tokens)\n        summary_lines = [f\"\ud83d\udcca Vibe Score: {final_score}/100 | {tier}\", \"\"]\n\n        if score_trend:\n            summary_lines.append(f\"{score_trend}\\n\")\n\n        # Top 5 quality issues\n        if issues_found:\n            summary_lines.append(\n                f\"\ud83d\udd0d Top Issues ({min(5, len(issues_found))}/{len(issues_found)}):\"\n            )\n            for issue in issues_found[:5]:\n                summary_lines.append(f\"  - {issue}\")\n            if len(issues_found) &gt; 5:\n                summary_lines.append(f\"  ... and {len(issues_found) - 5} more\")\n            summary_lines.append(\"\")\n\n        # Critical security issues\n        if security_issues:\n            critical_sec = [s for s in security_issues if \"CRITICAL\" in s or \"HIGH\" in s]\n            if critical_sec:\n                summary_lines.append(f\"\ud83d\udd12 Critical Security ({len(critical_sec)}):\")\n                for sec in critical_sec[:3]:\n                    summary_lines.append(f\"  - {sec}\")\n                summary_lines.append(\"\")\n\n        if doc_missing &gt; 0:\n            summary_lines.append(f\"\ud83d\udcdd {doc_missing} missing docstrings\\n\")\n\n        summary_lines.append(f\"\ud83d\udd17 {storage_status}\")\n        summary_lines.append(\"\\n\ud83d\udca1 Use verbosity='verbose' for full report\")\n        vibe_summary = \"\\n\".join(summary_lines)\n\n    return create_success_result(\n        message=vibe_summary,\n        data={\n            \"vibe_score\": final_score,\n            \"tier\": tier,\n            \"vibe_summary\": vibe_summary,\n        },\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.vibe.run_predict_errors","title":"<code>run_predict_errors(file_path, limit=5, project_path=None)</code>","text":"<p>\ud83d\udd2e \u9810\u6e2c\u932f\u8aa4 - \u6839\u64da\u6b77\u53f2\u6a21\u5f0f\u9810\u6e2c\u53ef\u80fd\u767c\u751f\u7684\u932f\u8aa4\u3002 Implementation for boring_predict_errors tool and CLI.</p> <p>V10.22 Intelligence: - \u5206\u6790\u6a94\u6848\u985e\u578b\u8207\u904e\u53bb\u932f\u8aa4\u7684\u95dc\u806f - \u63d0\u4f9b\u4fe1\u5fc3\u5206\u6578\u548c\u9810\u9632\u5efa\u8b70 - \u5b78\u7fd2\u5c08\u6848\u7279\u5b9a\u7684\u932f\u8aa4\u6a21\u5f0f</p> Source code in <code>src/boring/mcp/tools/vibe.py</code> <pre><code>def run_predict_errors(\n    file_path: str,\n    limit: int = 5,\n    project_path: str | None = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \ud83d\udd2e \u9810\u6e2c\u932f\u8aa4 - \u6839\u64da\u6b77\u53f2\u6a21\u5f0f\u9810\u6e2c\u53ef\u80fd\u767c\u751f\u7684\u932f\u8aa4\u3002\n    Implementation for boring_predict_errors tool and CLI.\n\n    V10.22 Intelligence:\n    - \u5206\u6790\u6a94\u6848\u985e\u578b\u8207\u904e\u53bb\u932f\u8aa4\u7684\u95dc\u806f\n    - \u63d0\u4f9b\u4fe1\u5fc3\u5206\u6578\u548c\u9810\u9632\u5efa\u8b70\n    - \u5b78\u7fd2\u5c08\u6848\u7279\u5b9a\u7684\u932f\u8aa4\u6a21\u5f0f\n    \"\"\"\n    project_root_str, error = _get_project_root_or_error_impl(project_path)\n    if error:\n        return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n    project_root = Path(project_root_str)\n    # Ensure file_path is a string (fix for OptionInfo crash)\n    file_path = str(file_path or \".\")\n\n    # Fast-Fail Auth Check (V14.0.1)\n    try:\n        from ...llm.sdk import create_gemini_client\n\n        # This will raise ValueError if no auth is found\n        _ = create_gemini_client(log_dir=project_root / \"logs\")\n    except (ValueError, RuntimeError) as e:\n        return create_error_result(\n            f\"\ud83d\udeab Authentication required for Predictive Intelligence.\\n{str(e)}\",\n            error_details=\"AUTH_REQUIRED\",\n        )\n\n    # Try to use PredictiveAnalyzer\n    predictions = []\n    try:\n        from ...intelligence import PredictiveAnalyzer\n\n        analyzer = PredictiveAnalyzer(project_root)\n        predictions = analyzer.predict_errors(file_path, limit)\n    except ImportError as e:\n        logger.debug(\"PredictiveAnalyzer not available: %s\", e)\n\n    # Fallback to storage-based prediction\n    if not predictions:\n        storage = _get_storage(project_root)\n        if storage:\n            predictions_data = storage.get_error_predictions(file_path, limit)\n            for p in predictions_data:\n                predictions.append(type(\"Prediction\", (), p)())\n\n    if not predictions:\n        return create_error_result(\n            f\"\ud83d\udcca \u5c1a\u7121\u8db3\u5920\u6b77\u53f2\u8cc7\u6599\u9032\u884c\u9810\u6e2c\u3002\u7e7c\u7e8c\u4f7f\u7528\u7cfb\u7d71\u7d2f\u7a4d\u8cc7\u6599\uff01\\n\u6a94\u6848: {file_path}\",\n            error_details=\"NO_DATA\",\n        )\n\n    # Format results\n    result_items = []\n    for p in predictions:\n        result_items.append(\n            {\n                \"error_type\": p.error_type\n                if hasattr(p, \"error_type\")\n                else p.get(\"error_type\", \"Unknown\"),\n                \"confidence\": getattr(p, \"confidence\", p.get(\"confidence\", 0.5)),\n                \"message\": getattr(p, \"predicted_message\", p.get(\"message\", \"\")),\n                \"prevention_tip\": getattr(p, \"prevention_tip\", p.get(\"prevention_tip\", \"\")),\n                \"frequency\": getattr(p, \"historical_frequency\", p.get(\"frequency\", 0)),\n            }\n        )\n\n    # Static analysis (Predictor)\n    static_items = []\n    try:\n        from ...intelligence.predictor import Predictor\n\n        predictor = Predictor(project_root)\n        static_issues = predictor.analyze_file(Path(file_path))\n\n        for issue in static_issues:\n            static_items.append(\n                {\n                    \"severity\": issue.severity,\n                    \"category\": issue.category,\n                    \"message\": issue.message,\n                    \"file_path\": issue.file_path,\n                    \"line_number\": issue.line_number,\n                    \"code_snippet\": issue.code_snippet,\n                    \"confidence\": issue.confidence,\n                    \"pattern_id\": issue.pattern_id,\n                    \"suggested_fix\": issue.suggested_fix,\n                }\n            )\n    except Exception:\n        static_items = []\n\n    # Build summary\n    top = result_items[0] if result_items else None\n    summary = f\"\ud83d\udd2e **Error Predictions for** `{file_path}`\\n\\n\"\n    for i, item in enumerate(result_items[:5], 1):\n        conf_bar = (\n            \"\ud83d\udfe2\" if item[\"confidence\"] &gt;= 0.7 else \"\ud83d\udfe1\" if item[\"confidence\"] &gt;= 0.4 else \"\u26aa\"\n        )\n        summary += f\"{i}. {conf_bar} **{item['error_type']}** ({item['confidence'] * 100:.0f}% confidence)\\n\"\n        summary += f\"   \ud83d\udca1 {item['prevention_tip']}\\n\"\n    if static_items:\n        summary += f\"\\n\ud83e\udde0 **Static Findings**: {len(static_items)} issue(s) detected.\"\n\n    return create_success_result(\n        message=summary,\n        data={\n            \"predictions\": result_items,\n            \"top_prediction\": top,\n            \"file_path\": file_path,\n            \"static_issues\": static_items,\n            \"vibe_summary\": summary,\n        },\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.vibe.register_vibe_tools","title":"<code>register_vibe_tools(mcp, audited, helpers, engine=None, brain_manager_factory=None)</code>","text":"<p>Register Vibe Coder Pro tools with the MCP server.</p> Source code in <code>src/boring/mcp/tools/vibe.py</code> <pre><code>def register_vibe_tools(mcp, audited, helpers, engine=None, brain_manager_factory=None):\n    \"\"\"\n    Register Vibe Coder Pro tools with the MCP server.\n    \"\"\"\n    _get_project_root_or_error = helpers[\"get_project_root_or_error\"]\n    global_engine = engine or get_vibe_engine()\n    _get_brain = brain_manager_factory or _get_brain_manager\n\n    # === boring_test_gen ===\n    @mcp.tool(\n        description=\"\u81ea\u52d5\u751f\u6210\u55ae\u5143\u6e2c\u8a66 (Auto-generate unit tests). \"\n        \"\u8aaa: '\u5e6b\u6211\u5beb\u6e2c\u8a66', '\u751f\u6210 auth.py \u7684\u6e2c\u8a66', 'Generate tests for api.ts'. \"\n        \"\u6211\u6703\u5206\u6790\u7a0b\u5f0f\u78bc\u4e26\u751f\u6210 pytest/jest \u6e2c\u8a66\u6848\u4f8b\uff01\u652f\u63f4 Python, JS, TS. \"\n        \"\ud83c\udd95 V10.21: \u6574\u5408 RAG \u53c3\u8003\u73fe\u6709\u6e2c\u8a66\u98a8\u683c\uff01\",\n        annotations={\"readOnlyHint\": False, \"openWorldHint\": False, \"idempotentHint\": False},\n    )\n    @audited\n    def boring_test_gen(\n        file_path: Annotated[str, Field(description=\"\u8981\u751f\u6210\u6e2c\u8a66\u7684\u6a94\u6848\u8def\u5f91 (\u76f8\u5c0d\u6216\u7d55\u5c0d)\")],\n        output_dir: Annotated[\n            str | None, Field(description=\"\u6e2c\u8a66\u8f38\u51fa\u76ee\u9304 (\u9810\u8a2d: tests/unit/ \u6216 tests/)\")\n        ] = None,\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304 (\u81ea\u52d5\u5075\u6e2c)\")] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83e\uddea \u81ea\u52d5\u751f\u6210\u55ae\u5143\u6e2c\u8a66 - \u5206\u6790\u6a94\u6848\u4e26\u751f\u6210\u5efa\u8b70\u6e2c\u8a66\u7a0b\u5f0f\u78bc\u3002\n        \u652f\u63f4\u5e73\u53f0: Python (pytest), JavaScript/TypeScript (jest/vitest)\n\n        V10.21 \u6574\u5408:\n        - RAG \u641c\u5c0b\u73fe\u6709\u6e2c\u8a66\uff0c\u53c3\u8003\u5c08\u6848\u6e2c\u8a66\u98a8\u683c\n        - \u751f\u6210\u4e00\u81f4\u6027\u66f4\u9ad8\u7684\u6e2c\u8a66\u7a0b\u5f0f\u78bc\n        \"\"\"\n        project_root, error = _get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n        # \u89e3\u6790\u6a94\u6848\u8def\u5f91\n        target_file = Path(file_path)\n        if not target_file.is_absolute():\n            target_file = project_root / file_path\n\n        if not target_file.exists():\n            return create_error_result(f\"\u274c \u627e\u4e0d\u5230\u6a94\u6848: {file_path}\")\n\n        try:\n            # 1. \u4f7f\u7528 Engine \u5206\u6790\n            source = target_file.read_text(encoding=\"utf-8\")\n            result = global_engine.analyze_for_test_gen(str(target_file), source)\n\n            if not result.functions and not result.classes:\n                return create_success_result(\n                    message=\"\ud83d\ude05 \u6c92\u6709\u627e\u5230\u53ef\u6e2c\u8a66\u7684\u5c0e\u51fa\u51fd\u5f0f\u6216\u985e\u5225\", data={\"file\": str(target_file)}\n                )\n\n            # 2. V10.21: RAG \u641c\u5c0b\u73fe\u6709\u6e2c\u8a66\u98a8\u683c\n            test_style_hints = []\n            rag = _get_rag_retriever(project_root)\n            if rag:\n                try:\n                    # \u641c\u5c0b\u73fe\u6709\u6e2c\u8a66\u6a94\u6848\n                    existing_tests = rag.retrieve(\n                        query=f\"test {target_file.stem} pytest unittest\",\n                        top_k=3,\n                        chunk_types=[\"function\"],\n                    )\n                    if existing_tests:\n                        for r in existing_tests[:2]:\n                            if \"test_\" in r.chunk.name.lower():\n                                test_style_hints.append(f\"# \u53c3\u8003\u73fe\u6709\u6e2c\u8a66: {r.chunk.name}\")\n                except Exception:\n                    pass  # RAG is optional enhancement\n\n            # 3. \u751f\u6210\u6e2c\u8a66\u7a0b\u5f0f\u78bc (with style hints)\n            test_code = global_engine.generate_test_code(result, str(project_root))\n\n            # Prepend style hints if available\n            if test_style_hints:\n                style_comment = \"\\n\".join(test_style_hints)\n                test_code = f\"# V10.21: \u5df2\u53c3\u8003\u73fe\u6709\u6e2c\u8a66\u98a8\u683c\\n{style_comment}\\n\\n{test_code}\"\n\n            # 4. \u6c7a\u5b9a\u8f38\u51fa\u8def\u5f91\n            if output_dir:\n                test_dir = project_root / output_dir\n            else:\n                # \u81ea\u52d5\u5224\u65b7\u9810\u8a2d\u76ee\u9304\n                if result.source_language == \"python\":\n                    test_dir = project_root / \"tests\" / \"unit\"\n                else:\n                    test_dir = project_root / \"tests\"\n\n            test_dir.mkdir(parents=True, exist_ok=True)\n            test_filename = (\n                f\"test_{target_file.stem}.py\"\n                if result.source_language == \"python\"\n                else f\"{target_file.stem}.test{target_file.suffix}\"\n            )\n            test_file = test_dir / test_filename\n\n            # 5. \u5beb\u5165\u6e2c\u8a66\u6a94\u6848\n            test_file.write_text(test_code, encoding=\"utf-8\")\n\n            rag_status = \"\u2705 RAG \u98a8\u683c\u53c3\u8003\" if test_style_hints else \"\u26a0\ufe0f RAG \u672a\u555f\u7528\"\n\n            return create_success_result(\n                message=f\"\u2705 \u5df2\u751f\u6210 {result.source_language} \u6e2c\u8a66\uff01\\n\u6a94\u6848: {test_file.relative_to(project_root)}\\n{rag_status}\",\n                data={\n                    \"test_file\": str(test_file),\n                    \"functions_count\": len(result.functions),\n                    \"classes_count\": len(result.classes),\n                    \"rag_enhanced\": bool(test_style_hints),\n                    \"vibe_summary\": f\"\ud83e\uddea \u70ba `{target_file.name}` \u751f\u6210\u4e86 {len(result.functions)} \u500b\u6e2c\u8a66\\n\"\n                    f\"\ud83d\udcc1 \u6e2c\u8a66\u6a94\u6848: `{test_file.relative_to(project_root)}`\\n\"\n                    f\"\ud83c\udf10 \u8a9e\u8a00: {result.source_language}\\n\"\n                    f\"\ud83d\udd17 {rag_status}\",\n                },\n            )\n\n        except ValueError as e:\n            return create_error_result(\n                f\"\u274c \u4e0d\u652f\u63f4\u7684\u6a94\u6848\u985e\u578b: {target_file.suffix}\", error_details=str(e)\n            )\n        except Exception as e:\n            return create_error_result(f\"\u274c \u5206\u6790\u5931\u6557: {str(e)}\")\n\n    # === boring_code_review ===\n    @mcp.tool(\n        description=\"AI \u7a0b\u5f0f\u78bc\u5be9\u67e5 (AI Code Review). \"\n        \"\u8aaa: '\u5be9\u67e5\u6211\u7684\u7a0b\u5f0f\u78bc', 'Review my code', '\u5e6b\u6211\u770b\u770b\u54ea\u88e1\u53ef\u4ee5\u6539\u9032'. \"\n        \"\u6211\u6703\u5206\u6790\u7a0b\u5f0f\u78bc\u54c1\u8cea\u4e26\u7d66\u51fa\u6539\u5584\u5efa\u8b70\uff01\u652f\u63f4 Python, JS, TS. \"\n        \"\ud83c\udd95 V10.21: \u6574\u5408 BrainManager \u53c3\u8003\u5df2\u5b78\u7fd2\u7684 Pattern\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_code_review(\n        file_path: Annotated[str, Field(description=\"\u8981\u5be9\u67e5\u7684\u6a94\u6848\u8def\u5f91\")],\n        focus: Annotated[\n            str | None,\n            Field(\n                description=\"\u5be9\u67e5\u91cd\u9ede: 'all', 'naming', 'error_handling', 'performance', 'security'\"\n            ),\n        ] = \"all\",\n        verbosity: Annotated[\n            str,\n            Field(\n                description=\"Output verbosity: 'minimal' (summary only ~100 tokens), 'standard' (categorized issues ~500 tokens), 'verbose' (full details with brain patterns ~1000+ tokens). Default: 'standard'.\"\n            ),\n        ] = \"standard\",\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304 (\u81ea\u52d5\u5075\u6e2c)\")] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83d\udd0d AI \u7a0b\u5f0f\u78bc\u5be9\u67e5 - \u5206\u6790\u7a0b\u5f0f\u78bc\u54c1\u8cea\u4e26\u7d66\u51fa\u6539\u5584\u5efa\u8b70\u3002\n        \u652f\u63f4\u5e73\u53f0: Python, JavaScript, TypeScript\n\n        V10.21 \u6574\u5408:\n        - BrainManager: \u53c3\u8003\u5c08\u6848\u5df2\u5b78\u7fd2\u7684 Pattern\uff0c\u5be9\u67e5\u66f4\u7cbe\u6e96\n        - \u6b77\u53f2\u932f\u8aa4\u6a21\u5f0f: \u8b58\u5225\u66fe\u7d93\u72af\u904e\u7684\u932f\u8aa4\n        \"\"\"\n        project_root, error = _get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n        target_file = Path(file_path)\n        if not target_file.is_absolute():\n            target_file = project_root / file_path\n\n        if not target_file.exists():\n            return create_error_result(f\"\u274c \u627e\u4e0d\u5230\u6a94\u6848: {file_path}\")\n\n        try:\n            source = target_file.read_text(encoding=\"utf-8\")\n            result = global_engine.perform_code_review(str(target_file), source, focus)\n\n            # V10.21: BrainManager \u6574\u5408 - \u53d6\u5f97\u76f8\u95dc Pattern\n            brain_patterns = []\n            brain = _get_brain(project_root)\n            if brain:\n                try:\n                    # \u641c\u5c0b\u8207\u5be9\u67e5\u76f8\u95dc\u7684 Pattern\n                    patterns = brain.get_relevant_patterns(\n                        context=f\"{focus} review {target_file.name}\", limit=3\n                    )\n                    for p in patterns:\n                        if p.get(\"pattern_type\") in [\"code_style\", \"error_solution\", \"code_fix\"]:\n                            brain_patterns.append(\n                                {\n                                    \"type\": p.get(\"pattern_type\"),\n                                    \"description\": p.get(\"description\", \"\")[:100],\n                                    \"suggestion\": p.get(\"solution\", \"\")[:150],\n                                }\n                            )\n                except Exception:\n                    pass  # BrainManager is optional enhancement\n\n            if not result.issues:\n                brain_status = (\n                    f\"\\n\ud83e\udde0 \u5df2\u53c3\u8003 {len(brain_patterns)} \u500b\u5c08\u6848 Pattern\" if brain_patterns else \"\"\n                )\n                message = f\"\u2705 \u7a0b\u5f0f\u78bc\u54c1\u8cea\u826f\u597d\uff01\u6c92\u6709\u767c\u73fe\u660e\u986f\u554f\u984c\u3002{brain_status}\"\n\n                if is_minimal(verbosity):\n                    message = f\"\u2705 {target_file.name}: \u7121\u554f\u984c\"\n\n                return create_success_result(\n                    message=message,\n                    data={\n                        \"file\": str(target_file),\n                        \"issues_count\": 0,\n                        \"brain_patterns_used\": len(brain_patterns),\n                        \"vibe_summary\": message,\n                    },\n                )\n\n            # \u6309\u56b4\u91cd\u7a0b\u5ea6\u6392\u5e8f\n            result.issues.sort(key=lambda x: {\"high\": 0, \"medium\": 1, \"low\": 2}.get(x.severity, 3))\n\n            # Format output based on verbosity\n            if is_minimal(verbosity):\n                # MINIMAL: Only summary statistics\n                severity_counts = {\"high\": 0, \"medium\": 0, \"low\": 0}\n                for issue in result.issues:\n                    severity_counts[issue.severity] = severity_counts.get(issue.severity, 0) + 1\n\n                summary_lines = [\n                    f\"\ud83d\udd0d {target_file.name}: {len(result.issues)} \u554f\u984c\",\n                    f\"\ud83d\udd34 High: {severity_counts['high']} | \ud83d\udfe1 Medium: {severity_counts['medium']} | \ud83d\udfe2 Low: {severity_counts['low']}\",\n                ]\n                if brain_patterns:\n                    summary_lines.append(f\"\ud83e\udde0 {len(brain_patterns)} patterns\")\n\n                summary_lines.append(\"\ud83d\udca1 Use verbosity='standard' for details\")\n\n            elif is_verbose(verbosity):\n                # VERBOSE: Full details with brain patterns\n                summary_lines = [f\"\ud83d\udd0d Code Review: `{target_file.name}`\", \"\"]\n                for i, issue in enumerate(result.issues, 1):  # Show ALL issues in verbose\n                    severity_icon = {\"high\": \"\ud83d\udd34\", \"medium\": \"\ud83d\udfe1\", \"low\": \"\ud83d\udfe2\"}.get(\n                        issue.severity, \"\u26aa\"\n                    )\n                    summary_lines.append(\n                        f\"{i}. {severity_icon} **{issue.category}** (Line {issue.line}): {issue.message}\"\n                    )\n                    if issue.suggestion:\n                        summary_lines.append(f\"   \ud83d\udca1 \u5efa\u8b70: {issue.suggestion}\")\n\n                # Include all brain patterns in verbose\n                if brain_patterns:\n                    summary_lines.append(\"\")\n                    summary_lines.append(\n                        f\"\ud83e\udde0 **\u5c08\u6848 Pattern \u5efa\u8b70** ({len(brain_patterns)} patterns):\"\n                    )\n                    for bp in brain_patterns:\n                        summary_lines.append(f\"   - [{bp['type']}] {bp['description']}\")\n                        summary_lines.append(f\"     \u2192 {bp['suggestion']}\")\n            else:\n                # STANDARD: Current behavior (top 10 issues)\n                summary_lines = [f\"\ud83d\udd0d Code Review: `{target_file.name}`\", \"\"]\n                for i, issue in enumerate(result.issues[:10], 1):\n                    severity_icon = {\"high\": \"\ud83d\udd34\", \"medium\": \"\ud83d\udfe1\", \"low\": \"\ud83d\udfe2\"}.get(\n                        issue.severity, \"\u26aa\"\n                    )\n                    summary_lines.append(\n                        f\"{i}. {severity_icon} **{issue.category}**: {issue.message}\"\n                    )\n                    if issue.suggestion:\n                        summary_lines.append(f\"   \ud83d\udca1 \u5efa\u8b70: {issue.suggestion}\")\n\n                # V10.21: \u52a0\u5165 Brain Pattern \u5efa\u8b70\n                if brain_patterns:\n                    summary_lines.append(\"\")\n                    summary_lines.append(\"\ud83e\udde0 **\u5c08\u6848 Pattern \u5efa\u8b70**:\")\n                    for bp in brain_patterns[:2]:\n                        summary_lines.append(f\"   - {bp['description']}: {bp['suggestion']}\")\n\n            # Generate Fix Prompt\n            fix_prompt = f\"Please review `{target_file.name}` and fix the following {len(result.issues)} issues:\\n\"\n            for issue in result.issues:\n                fix_prompt += f\"- [{issue.severity.upper()}] {issue.category}: {issue.message}\\n\"\n                if issue.suggestion:\n                    fix_prompt += f\"  (Suggestion: {issue.suggestion})\\n\"\n\n            # \u52a0\u5165 Brain Pattern \u5230 Fix Prompt\n            if brain_patterns:\n                fix_prompt += \"\\n\ud83e\udde0 Project-specific patterns to follow:\\n\"\n                for bp in brain_patterns:\n                    fix_prompt += f\"- {bp['description']}: {bp['suggestion']}\\n\"\n\n            fix_prompt += \"\\nReturn the fixed specific functions or class code blocks.\"\n\n            brain_status = \"\u2705 Brain Pattern \u6574\u5408\" if brain_patterns else \"\u26a0\ufe0f BrainManager \u672a\u555f\u7528\"\n\n            return create_success_result(\n                message=\"\\n\".join(summary_lines) + f\"\\n\\n\ud83d\udd17 {brain_status}\",\n                data={\n                    \"file\": str(target_file),\n                    \"issues_count\": len(result.issues),\n                    \"brain_patterns_used\": len(brain_patterns),\n                    \"brain_enhanced\": bool(brain_patterns),\n                    \"issues\": [\n                        {\n                            \"category\": i.category,\n                            \"severity\": i.severity,\n                            \"message\": i.message,\n                            \"line\": i.line,\n                        }\n                        for i in result.issues\n                    ],\n                    \"brain_patterns\": brain_patterns,\n                    \"suggested_fix_prompt\": fix_prompt,\n                },\n            )\n\n        except ValueError:\n            return create_error_result(f\"\u274c \u4e0d\u652f\u63f4\u7684\u683c\u5f0f: {target_file.suffix}\")\n        except Exception as e:\n            return create_error_result(f\"\u274c \u5be9\u67e5\u5931\u6557: {str(e)}\")\n\n    # === boring_perf_tips ===\n    @mcp.tool(\n        description=\"\u6548\u80fd\u5206\u6790\u63d0\u793a (Performance Tips). \"\n        \"\u8aaa: '\u5206\u6790\u6548\u80fd', '\u6548\u80fd\u512a\u5316\u5efa\u8b70', 'Check performance of api.py'. \"\n        \"\u6211\u6703\u5c08\u6ce8\u6aa2\u67e5\u6548\u80fd\u74f6\u9838 (\u5982 N+1 query, I/O in loop) \u4e26\u63d0\u4f9b\u512a\u5316\u5efa\u8b70\uff01\u652f\u63f4 Py, JS, TS.\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_perf_tips(\n        file_path: Annotated[str, Field(description=\"\u8981\u5206\u6790\u7684\u6a94\u6848\u8def\u5f91\")],\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304 (\u81ea\u52d5\u5075\u6e2c)\")] = None,\n        verbosity: Annotated[\n            str,\n            Field(description=\"\u8f38\u51fa\u8a73\u7d30\u7a0b\u5ea6: 'minimal', 'standard' (\u9810\u8a2d), 'verbose'\"),\n        ] = \"standard\",\n    ) -&gt; BoringResult:\n        \"\"\"\n        \u26a1 \u6548\u80fd\u5206\u6790\u63d0\u793a - \u5c08\u6ce8\u65bc\u7a0b\u5f0f\u78bc\u6548\u80fd\u74f6\u9838\u6aa2\u6e2c\u3002\n        \u652f\u63f4\u5e73\u53f0: Python, JavaScript, TypeScript\n        \"\"\"\n        project_root, error = _get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n        target_file = Path(file_path)\n        if not target_file.is_absolute():\n            target_file = project_root / file_path\n\n        if not target_file.exists():\n            return create_error_result(f\"\u274c \u627e\u4e0d\u5230\u6a94\u6848: {file_path}\")\n\n        try:\n            source = target_file.read_text(encoding=\"utf-8\")\n            # \u50c5\u5c08\u6ce8\u65bc performance\n            result = global_engine.perform_code_review(\n                str(target_file), source, focus=\"performance\"\n            )\n\n            if not result.issues:\n                msg = \"\u26a1 \u6548\u80fd\u5206\u6790\u5b8c\u6210\uff1a\u672a\u767c\u73fe\u660e\u986f\u74f6\u9838\u3002\"\n                if is_minimal(verbosity):\n                    msg = f\"\u26a1 {target_file.name}: \u7121\u6548\u80fd\u554f\u984c\"\n\n                return create_success_result(\n                    message=msg,\n                    data={\n                        \"file\": str(target_file),\n                        \"tips_count\": 0,\n                        \"vibe_summary\": msg,\n                    },\n                )\n\n            # Generate Perf Fix Prompt\n            fix_prompt = f\"Please analyze performance bottlenecks in `{target_file.name}` and apply the following optimizations:\\n\"\n            for issue in result.issues:\n                fix_prompt += f\"- {issue.message} (Line {issue.line})\\n\"\n                if issue.suggestion:\n                    fix_prompt += f\"  Tip: {issue.suggestion}\\n\"\n\n            # --- Verbosity Logic ---\n\n            # 1. MINIMAL: Summary only\n            if is_minimal(verbosity):\n                severity_counts = {\"high\": 0, \"medium\": 0, \"low\": 0}\n                for issue in result.issues:\n                    severity_counts[issue.severity] = severity_counts.get(issue.severity, 0) + 1\n\n                return create_success_result(\n                    message=f\"\u26a1 {target_file.name}: {len(result.issues)} \u6548\u80fd\u554f\u984c\",\n                    data={\n                        \"vibe_summary\": (\n                            f\"\u26a1 {target_file.name}: {len(result.issues)} \u6548\u80fd\u554f\u984c\\n\"\n                            f\"\ud83d\udc0c High: {severity_counts['high']} | \ud83d\udc22 Medium/Low: {severity_counts['medium'] + severity_counts['low']}\\n\"\n                            f\"\ud83d\udca1 Use verbosity='standard' for tips\"\n                        ),\n                        \"file\": str(target_file),\n                        \"tips_count\": len(result.issues),\n                    },\n                )\n\n            # 2. STANDARD: Top 5 issues\n            if is_standard(verbosity):\n                summary_lines = [f\"\u26a1 Performance Tips: `{target_file.name}`\", \"\"]\n                # Show top 5\n                for i, issue in enumerate(result.issues[:5], 1):\n                    icon = \"\ud83d\udc0c\" if issue.severity == \"high\" else \"\ud83d\udc22\"\n                    summary_lines.append(f\"{i}. {icon} **{issue.message}** (Line {issue.line})\")\n                    if issue.suggestion:\n                        summary_lines.append(f\"   \ud83d\ude80 \u512a\u5316: {issue.suggestion}\")\n\n                if len(result.issues) &gt; 5:\n                    summary_lines.append(f\"\\n... and {len(result.issues) - 5} more issues.\")\n                    summary_lines.append(\"\ud83d\udca1 Use verbosity='verbose' for full list.\")\n\n                return create_success_result(\n                    message=\"\\n\".join(summary_lines),\n                    data={\n                        \"file\": str(target_file),\n                        \"tips_count\": len(result.issues),\n                        \"vibe_summary\": \"\\n\".join(summary_lines),\n                        \"suggested_fix_prompt\": fix_prompt,\n                    },\n                )\n\n            # 3. VERBOSE: Full list (Legacy behavior)\n            summary_lines = [f\"\u26a1 Performance Tips: `{target_file.name}`\", \"\"]\n            for i, issue in enumerate(result.issues, 1):\n                icon = \"\ud83d\udc0c\" if issue.severity == \"high\" else \"\ud83d\udc22\"\n                summary_lines.append(f\"{i}. {icon} **{issue.message}** (Line {issue.line})\")\n                if issue.suggestion:\n                    summary_lines.append(f\"   \ud83d\ude80 \u512a\u5316: {issue.suggestion}\")\n\n            return create_success_result(\n                message=\"\\n\".join(summary_lines),\n                data={\n                    \"file\": str(target_file),\n                    \"tips_count\": len(result.issues),\n                    \"tips\": [\n                        {\"message\": i.message, \"line\": i.line, \"suggestion\": i.suggestion}\n                        for i in result.issues\n                    ],\n                    \"vibe_summary\": \"\\n\".join(summary_lines),\n                    \"suggested_fix_prompt\": fix_prompt,\n                },\n            )\n\n        except ValueError:\n            return create_error_result(f\"\u274c \u4e0d\u652f\u63f4\u7684\u683c\u5f0f: {target_file.suffix}\")\n        except Exception as e:\n            return create_error_result(f\"\u274c \u5206\u6790\u5931\u6557: {str(e)}\")\n\n    # === boring_arch_check ===\n    @mcp.tool(\n        description=\"\u67b6\u69cb\u5206\u6790 (Architecture Analysis). \"\n        \"\u8aaa: '\u5206\u6790\u5c08\u6848\u67b6\u69cb', 'Show me the dependencies', '\u770b\u770b\u8ab0\u5f15\u7528\u8ab0', '\u8a72\u5982\u4f55\u91cd\u69cb'. \"\n        \"\u6211\u6703\u751f\u6210 Mermaid \u4f9d\u8cf4\u5716\uff0c\u8b93\u4f60\u4e00\u76ee\u4e86\u7136\u5c08\u6848\u7d50\u69cb\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_arch_check(\n        target_path: Annotated[str, Field(description=\"File or directory to scan.\")] = \".\",\n        output_format: Annotated[\n            str, Field(description=\"Output format: 'mermaid' or 'json'.\")\n        ] = \"mermaid\",\n    ) -&gt; BoringResult:\n        \"\"\"\n        Analyze project dependencies and architecture.\n\n        Generates a dependency graph showing how files import each other.\n        Use this to understand the structure of a codebase.\n        \"\"\"\n        root_str, error = _get_project_root_or_error(\n            None\n        )  # project_path is now optional and handled by get_root\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n        project_root = Path(root_str)\n        # Handle both absolute and relative paths\n        if target_path != \".\" and (\n            target_path.startswith(\"/\") or (len(target_path) &gt; 1 and target_path[1] == \":\")\n        ):\n            target = Path(target_path)\n        elif target_path == \".\":\n            target = project_root\n        else:\n            target = project_root / target_path\n\n        files_to_scan = []\n        if target.is_file():\n            files_to_scan.append(target)\n        elif target.is_dir():\n            files_to_scan.extend(\n                [\n                    p\n                    for p in target.rglob(\"*\")\n                    if p.is_file()\n                    and p.suffix.lower() in [\".py\", \".js\", \".ts\", \".jsx\", \".tsx\"]\n                    and not any(\n                        x in p.parts for x in [\"node_modules\", \".git\", \"__pycache__\", \"venv\"]\n                    )\n                ]\n            )\n        else:\n            return create_error_result(f\"\u274c Target not found: {target}\")\n\n        edges = []\n        nodes = set()\n\n        for file_path in files_to_scan:\n            try:\n                rel_path = file_path.relative_to(project_root).as_posix()\n                content = file_path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n\n                vibe_engine = get_vibe_engine()\n                deps = vibe_engine.extract_dependencies(str(file_path), content)\n\n                if deps:\n                    nodes.add(rel_path)\n                    for dep in deps:\n                        # Simple normalization\n                        dep_name = dep\n                        if dep.startswith(\".\"):\n                            # Attempt simple resolve?\n                            # For visualization, generic name is arguably better than huge guess\n                            pass\n\n                        edge = (rel_path, dep_name)\n                        edges.append(edge)\n            except Exception:\n                continue\n\n        if output_format == \"json\":\n            return create_success_result(\n                message=\"\u2705 Dependency analysis complete (JSON)\",\n                data={\"nodes\": list(nodes), \"edges\": edges},\n            )\n\n        # Mermaid format\n        lines = [\"graph TD\"]\n        max_edges = 100\n\n        # Limit edges to avoid explosion\n        processed_count = 0\n        for src, dst in edges:\n            if processed_count &gt;= max_edges:\n                lines.append(f\"    %% Truncated after {max_edges} edges\")\n                break\n\n            # Simple sanitization for Mermaid IDs\n            def clean_id(s):\n                return s.replace(\"/\", \"_\").replace(\".\", \"_\").replace(\"-\", \"_\").replace(\"@\", \"\")\n\n            s_id = clean_id(src)\n            d_id = clean_id(dst)\n\n            # Add node labels\n            lines.append(f'    {s_id}[\"{src}\"] --&gt; {d_id}[\"{dst}\"]')\n            processed_count += 1\n\n        mermaid_graph = \"\\n\".join(lines)\n        return create_success_result(\n            message=mermaid_graph,\n            data={\"mermaid\": mermaid_graph, \"node_count\": len(nodes), \"edge_count\": len(edges)},\n        )\n\n    # === boring_doc_gen ===\n    @mcp.tool(\n        description=\"\u81ea\u52d5\u751f\u6210\u6587\u6a94 (Auto-generate Documentation). \"\n        \"\u8aaa: '\u5e6b\u6211\u5beb\u6587\u6a94', 'Generate docs for api.py', 'API \u6587\u6a94', '\u81ea\u52d5\u8a3b\u89e3'. \"\n        \"\u6211\u6703\u64f7\u53d6 Docstrings/JSDoc \u4e26\u751f\u6210 Markdown \u53c3\u8003\u6587\u6a94\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_doc_gen(\n        target_path: Annotated[str, Field(description=\"File or directory to scan.\")] = \".\",\n    ) -&gt; BoringResult:\n        \"\"\"\n        Extract documentation comments and generate an API reference.\n\n        Supports:\n        - Python Docstrings (Module, Class, Function)\n        - JavaScript/TypeScript JSDoc (/** ... */)\n\n        Returns Markdown content.\n        \"\"\"\n        root_str, error = _get_project_root_or_error(None)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n        project_root = Path(root_str)\n        # Handle both absolute and relative paths\n        if target_path != \".\" and (\n            target_path.startswith(\"/\") or (len(target_path) &gt; 1 and target_path[1] == \":\")\n        ):\n            target = Path(target_path)\n        elif target_path == \".\":\n            target = project_root\n        else:\n            target = project_root / target_path\n\n        files_to_scan = []\n        if target.is_file():\n            files_to_scan.append(target)\n        elif target.is_dir():\n            files_to_scan.extend(\n                [\n                    p\n                    for p in target.rglob(\"*\")\n                    if p.is_file()\n                    and p.suffix.lower() in [\".py\", \".js\", \".ts\", \".jsx\", \".tsx\"]\n                    and not any(\n                        x in p.parts\n                        for x in [\"node_modules\", \".git\", \"__pycache__\", \"venv\", \"dist\", \"build\"]\n                    )\n                ]\n            )\n        else:\n            return create_error_result(f\"\u274c Target not found: {target}\")\n\n        doc_output = [f\"# API Documentation\\n\\nGenerated for: `{target_path}`\\n\"]\n\n        for file_path in sorted(files_to_scan):\n            try:\n                content = file_path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n                rel_path = file_path.relative_to(project_root).as_posix()\n\n                vibe_engine = get_vibe_engine()\n                result = vibe_engine.extract_documentation(str(file_path), content)\n\n                if not result.items and not result.module_doc:\n                    continue\n\n                doc_output.append(f\"## File: `{rel_path}`\\n\")\n                if result.module_doc:\n                    doc_output.append(f\"&gt; {result.module_doc.strip()}\\n\")\n\n                doc_output.append(\"\")\n\n                for item in result.items:\n                    icon = \"\ud83d\udce6\" if item.type == \"class\" else \"\u0192\"\n                    doc_output.append(f\"### {icon} `{item.name}`\")\n                    doc_output.append(f\"**Signature:** `{item.signature}`\\n\")\n                    if item.docstring:\n                        doc_output.append(f\"{item.docstring}\\n\")\n                    else:\n                        doc_output.append(\"*No documentation.*\\n\")\n                    doc_output.append(\"---\\n\")\n\n            except Exception as e:\n                doc_output.append(f\"&lt;!-- Error processing {file_path.name}: {e} --&gt;\\n\")\n\n        doc_content = \"\\n\".join(doc_output)\n        return create_success_result(\n            message=doc_content,\n            data={\"documentation\": doc_content, \"files_scanned\": len(files_to_scan)},\n        )\n\n    # === boring_vibe_check ===\n    @mcp.tool(\n        description=\"Vibe Score \u5065\u6aa2 (Gamified Health Check). \"\n        \"\u8aaa: 'Vibe Check my project', '\u5065\u6aa2 utils.py', 'Give me a vibe score'. \"\n        \"\u6211\u6703\u6574\u5408 Lint, Security, Doc \u6aa2\u67e5\uff0c\u8a08\u7b97 0-100 \u5206\u6578\uff0c\u4e26\u63d0\u4f9b\u4e00\u9375\u4fee\u5fa9 Prompt\uff01 \"\n        \"\ud83c\udd95 V10.21: \u6574\u5408 Storage \u8a18\u9304\u6b77\u53f2\u5206\u6578\u8da8\u52e2\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_vibe_check(\n        target_path: Annotated[str, Field(description=\"\u8981\u5065\u6aa2\u7684\u6a94\u6848\u6216\u76ee\u9304\")] = \".\",\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304 (\u81ea\u52d5\u5075\u6e2c)\")] = None,\n        max_files: Annotated[int, Field(description=\"\u6700\u5927\u6383\u63cf\u6a94\u6848\u6578 (\u9810\u8a2d 10)\")] = 10,\n        verbosity: Annotated[\n            str,\n            Field(\n                description=\"Output verbosity: 'minimal' (score + tier only ~50 tokens), 'standard' (score + top issues ~300 tokens), 'verbose' (full report ~800+ tokens). Default: 'standard'.\"\n            ),\n        ] = \"standard\",\n    ) -&gt; BoringResult:  # Forward reference or use BoringResult directly if imported\n        \"\"\"\n        \ud83d\udcca Vibe Check - \u5168\u9762\u5065\u5eb7\u5ea6\u6aa2\u67e5\u8207\u8a55\u5206\u3002\n        \u6574\u5408\u591a\u9805\u6307\u6a19 (Lint, Security, Doc)\uff0c\u63d0\u4f9b\u904a\u6232\u5316\u8a55\u5206\u8207\u4e00\u9375\u4fee\u5fa9 Prompt\u3002\n\n        V10.21 \u6574\u5408:\n        - Storage: \u8a18\u9304 Vibe Score \u6b77\u53f2\uff0c\u8ffd\u8e64\u5c08\u6848\u5065\u5eb7\u8da8\u52e2\n        - \u986f\u793a\u8207\u4e0a\u6b21\u5206\u6578\u7684\u5c0d\u6bd4\n        \"\"\"\n        return run_vibe_check(target_path, project_path, max_files, verbosity)\n\n    # === boring_impact_check ===\n    @mcp.tool(\n        description=\"\u885d\u64ca\u5206\u6790 (Impact Analysis). \"\n        \"\u8aaa: 'Check impact of modifying utils.py', '\u6539\u9019\u96bb\u6a94\u6848\u6703\u5f71\u97ff\u8ab0', 'Impact check'. \"\n        \"\u6211\u6703\u5206\u6790\u53cd\u5411\u4f9d\u8cf4 (\u652f\u63f4\u591a\u5c64\u8ffd\u8e64)\uff0c\u544a\u8a34\u4f60\u4fee\u6539\u6b64\u6a94\u6848\u6703\u5f71\u97ff\u54ea\u4e9b\u6a21\u7d44\uff0c\u4e26\u7d66\u51fa\u9a57\u8b49 Prompt\uff01 \"\n        \"\ud83c\udd95 V10.21: \u6574\u5408 RAG \u8a9e\u7fa9\u5206\u6790\u66f4\u7cbe\u6e96\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_impact_check(\n        target_path: Annotated[str, Field(description=\"\u8a08\u756b\u4fee\u6539\u7684\u76ee\u6a19\u6a94\u6848\")],\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304 (\u81ea\u52d5\u5075\u6e2c)\")] = None,\n        max_depth: Annotated[\n            int, Field(description=\"\u8ffd\u8e64\u6df1\u5ea6 (1=\u76f4\u63a5\u4f9d\u8cf4, 2=\u9593\u63a5\u4f9d\u8cf4, \u9810\u8a2d 2)\")\n        ] = 2,\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83d\udce1 Impact Analysis - \u9810\u5224\u4fee\u6539\u5e36\u4f86\u7684\u5168\u5c40\u885d\u64ca\u3002\n        Reverse Dependency Analysis with multi-level tracking (Phase 15 Enhancement).\n\n        V10.21 \u6574\u5408:\n        - RAG \u8a9e\u7fa9\u641c\u5c0b: \u627e\u51fa\u8a9e\u7fa9\u76f8\u95dc\u7684\u6a94\u6848\uff08\u4e0d\u53ea\u662f import\uff09\n        - \u66f4\u7cbe\u6e96\u7684\u885d\u64ca\u5206\u6790\n        \"\"\"\n        root_str, error = _get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n\n        project_root = Path(root_str)\n        # Handle both absolute and relative paths\n        if target_path != \".\" and (\n            target_path.startswith(\"/\") or (len(target_path) &gt; 1 and target_path[1] == \":\")\n        ):\n            target = Path(target_path)\n        elif target_path == \".\":\n            target = project_root\n        else:\n            target = project_root / target_path\n\n        if not target.exists() or not target.is_file():\n            return create_error_result(f\"\u274c \u627e\u4e0d\u5230\u76ee\u6a19\u6a94\u6848: {target_path}\")\n\n        # 1. \u8b58\u5225\u76ee\u6a19\u7279\u5fb5 for fuzzy matching\n        target_stem = target.stem  # e.g., \"utils\"\n        rel_target = target.relative_to(project_root).as_posix()\n\n        # V10.21: RAG \u8a9e\u7fa9\u5206\u6790 - \u627e\u51fa\u8a9e\u7fa9\u76f8\u95dc\u7684\u6a94\u6848\n        semantic_related = []\n        rag = _get_rag_retriever(project_root)\n        if rag:\n            try:\n                # \u8b80\u53d6\u76ee\u6a19\u6a94\u6848\u5167\u5bb9\uff0c\u63d0\u53d6\u95dc\u9375\u8a5e\n                target_content = target.read_text(encoding=\"utf-8\", errors=\"ignore\")[:500]\n\n                # \u8a9e\u7fa9\u641c\u5c0b\u76f8\u95dc\u51fd\u6578/\u985e\u5225\n                results = rag.retrieve(\n                    query=f\"{target_stem} {target_content[:100]}\",\n                    top_k=5,\n                    chunk_types=[\"function\", \"class\"],\n                )\n                for r in results:\n                    if r.chunk.file_path != str(target):\n                        rel_path = Path(r.chunk.file_path).relative_to(project_root).as_posix()\n                        if rel_path not in semantic_related:\n                            semantic_related.append(rel_path)\n            except Exception:\n                pass  # RAG is optional enhancement\n\n        # 2. \u5168\u5c08\u6848\u6383\u63cf\u5efa\u7acb\u5b8c\u6574\u4f9d\u8cf4\u5716\n        files_to_scan = [\n            p\n            for p in project_root.rglob(\"*\")\n            if p.is_file()\n            and p.suffix in [\".py\", \".js\", \".ts\", \".jsx\", \".tsx\"]\n            and not any(\n                x in p.parts\n                for x in [\"node_modules\", \".git\", \"venv\", \"__pycache__\", \"dist\", \"build\"]\n            )\n        ]\n\n        # Build dependency graph: { file_rel_path -&gt; [dependencies] }\n        dep_graph = {}\n        file_stems = {}  # stem -&gt; [rel_paths]\n\n        vibe_engine = get_vibe_engine()\n        for f in files_to_scan:\n            try:\n                content = f.read_text(encoding=\"utf-8\", errors=\"ignore\")\n                deps = vibe_engine.extract_dependencies(str(f), content)\n                f_rel = f.relative_to(project_root).as_posix()\n                dep_graph[f_rel] = deps\n\n                # Index by stem for fuzzy matching\n                stem = f.stem\n                if stem not in file_stems:\n                    file_stems[stem] = []\n                file_stems[stem].append(f_rel)\n            except Exception:\n                continue\n\n        # 3. Fuzzy matching helper\n        def matches_target(dep: str, target_stem: str) -&gt; bool:\n            if target_stem == dep:\n                return True\n            if dep.endswith(f\".{target_stem}\"):\n                return True\n            if dep.endswith(f\"/{target_stem}\"):\n                return True\n            return False\n\n        # 4. Build reverse dependency graph (who imports what)\n        # direct_dependents: files that directly import target\n        direct_dependents = set()\n        for f_rel, deps in dep_graph.items():\n            if f_rel == rel_target:\n                continue\n            for dep in deps:\n                if matches_target(dep, target_stem):\n                    direct_dependents.add(f_rel)\n                    break\n\n        # 5. Multi-level impact tracking (Phase 15 Enhancement)\n        all_affected = set(direct_dependents)\n        indirect_dependents = set()\n\n        if max_depth &gt;= 2:\n            # Level 2: Find files that import direct_dependents\n            for direct_dep in direct_dependents:\n                direct_stem = Path(direct_dep).stem\n                for f_rel, deps in dep_graph.items():\n                    if f_rel in all_affected or f_rel == rel_target:\n                        continue\n                    for dep in deps:\n                        if matches_target(dep, direct_stem):\n                            indirect_dependents.add(f_rel)\n                            all_affected.add(f_rel)\n                            break\n\n        # Level 3 (if max_depth &gt;= 3)\n        level3_dependents = set()\n        if max_depth &gt;= 3:\n            for indirect_dep in indirect_dependents:\n                indirect_stem = Path(indirect_dep).stem\n                for f_rel, deps in dep_graph.items():\n                    if f_rel in all_affected or f_rel == rel_target:\n                        continue\n                    for dep in deps:\n                        if matches_target(dep, indirect_stem):\n                            level3_dependents.add(f_rel)\n                            all_affected.add(f_rel)\n                            break\n\n        # 6. \u8a55\u4f30\u885d\u64ca\u7b49\u7d1a\n        impact_level = \"Low\"\n        if len(all_affected) &gt; 10:\n            impact_level = \"Critical\"\n        elif len(all_affected) &gt; 5:\n            impact_level = \"High\"\n        elif len(all_affected) &gt; 0:\n            impact_level = \"Medium\"\n\n        # 7. Mermaid \u5716\u5f62\u8f38\u51fa\n        mermaid_lines = [\"graph TD\", f'    Target[\"{rel_target}\"]:::target']\n\n        # Direct impacts\n        for imp in list(direct_dependents)[:15]:\n            sanitized_imp = imp.replace(\"/\", \"_\").replace(\".\", \"_\").replace(\"-\", \"_\")\n            mermaid_lines.append(f'    {sanitized_imp}[\"{imp}\"]:::direct --&gt;|L1| Target')\n\n        # Indirect impacts\n        for imp in list(indirect_dependents)[:10]:\n            sanitized_imp = imp.replace(\"/\", \"_\").replace(\".\", \"_\").replace(\"-\", \"_\")\n            mermaid_lines.append(f'    {sanitized_imp}[\"{imp}\"]:::indirect --&gt;|L2| ...')\n\n        mermaid_lines.append(\"    classDef target fill:#f96,stroke:#333\")\n        mermaid_lines.append(\"    classDef direct fill:#ff9,stroke:#333\")\n        mermaid_lines.append(\"    classDef indirect fill:#9ff,stroke:#333\")\n        mermaid_graph = \"\\n\".join(mermaid_lines)\n\n        # 8. Fix/Verification Prompt\n        verify_prompt = \"\"\n        if all_affected:\n            verify_prompt = (\n                f\"\u26a0\ufe0f Impact Warning: Modifying `{rel_target}` affects {len(all_affected)} files.\\n\\n\"\n            )\n\n            if direct_dependents:\n                verify_prompt += (\n                    f\"\ud83d\udd34 **Direct Dependents (L1)** - {len(direct_dependents)} files:\\n\"\n                )\n                for aff in list(direct_dependents)[:5]:\n                    verify_prompt += f\"   - `{aff}`\\n\"\n                if len(direct_dependents) &gt; 5:\n                    verify_prompt += f\"   - ... and {len(direct_dependents) - 5} more.\\n\"\n\n            if indirect_dependents:\n                verify_prompt += (\n                    f\"\\n\ud83d\udfe1 **Indirect Dependents (L2)** - {len(indirect_dependents)} files:\\n\"\n                )\n                for aff in list(indirect_dependents)[:5]:\n                    verify_prompt += f\"   - `{aff}`\\n\"\n                if len(indirect_dependents) &gt; 5:\n                    verify_prompt += f\"   - ... and {len(indirect_dependents) - 5} more.\\n\"\n\n            # V10.21: \u52a0\u5165 RAG \u8a9e\u7fa9\u76f8\u95dc\u6a94\u6848\n            if semantic_related:\n                verify_prompt += (\n                    f\"\\n\ud83e\udde0 **Semantically Related (RAG)** - {len(semantic_related)} files:\\n\"\n                )\n                for sem in semantic_related[:3]:\n                    verify_prompt += f\"   - `{sem}`\\n\"\n\n            verify_prompt += (\n                \"\\n\ud83d\udccb **Action Required**: Run tests for these files after your changes.\"\n            )\n        else:\n            verify_prompt = f\"\u2705 Low Impact: `{rel_target}` appears to have no internal dependents.\"\n\n        rag_status = (\n            f\"\u2705 RAG \u8a9e\u7fa9\u5206\u6790 ({len(semantic_related)} \u76f8\u95dc)\"\n            if semantic_related\n            else \"\u26a0\ufe0f RAG \u672a\u555f\u7528\"\n        )\n\n        return create_success_result(\n            message=f\"\ud83d\udce1 Impact Analysis: {rel_target}\\nImpact Level: {impact_level}\\nDirect Dependent Count: {len(direct_dependents)}\\nIndirect Dependent Count: {len(indirect_dependents)}\\n{rag_status}\\n\\n{verify_prompt}\",\n            data={\n                \"impact_level\": impact_level,\n                \"affected_count\": len(all_affected),\n                \"direct_count\": len(direct_dependents),\n                \"indirect_count\": len(indirect_dependents),\n                \"semantic_related_count\": len(semantic_related),\n                \"rag_enhanced\": bool(semantic_related),\n                \"affected_files\": list(all_affected),\n                \"direct_dependents\": list(direct_dependents),\n                \"indirect_dependents\": list(indirect_dependents),\n                \"semantic_related\": semantic_related,\n                \"mermaid\": mermaid_graph,\n                \"vibe_summary\": f\"\ud83d\udce1 **Impact Analysis**: `{rel_target}`\\n\"\n                f\"\u26a0\ufe0f **Impact Level**: {impact_level}\\n\"\n                f\"\ud83d\udd17 **Direct (L1)**: {len(direct_dependents)}\\n\"\n                f\"\ud83d\udd17 **Indirect (L2+)**: {len(indirect_dependents)}\\n\"\n                f\"\ud83e\udde0 **Semantic (RAG)**: {len(semantic_related)}\\n\"\n                f\"\ud83d\udd17 {rag_status}\",\n                \"suggested_fix_prompt\": verify_prompt,\n            },\n        )\n\n    # =========================================================================\n    # V10.22: Intelligence Tools\n    # =========================================================================\n\n    @mcp.tool(\n        description=\"\u9810\u6e2c\u53ef\u80fd\u7684\u932f\u8aa4 (Predict likely errors before running). \"\n        \"\u8aaa: '\u9810\u6e2c\u9019\u500b\u6a94\u6848\u6703\u6709\u4ec0\u9ebc\u932f\u8aa4', 'predict errors for auth.py'. \"\n        \"\u6211\u6703\u5206\u6790\u6b77\u53f2\u6a21\u5f0f\uff0c\u9810\u6e2c\u6700\u53ef\u80fd\u767c\u751f\u7684\u932f\u8aa4\u4e26\u63d0\u4f9b\u9810\u9632\u5efa\u8b70\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_predict_errors(\n        file_path: Annotated[str, Field(description=\"\u8981\u9810\u6e2c\u932f\u8aa4\u7684\u6a94\u6848\u8def\u5f91\")],\n        limit: Annotated[int, Field(description=\"\u6700\u591a\u8fd4\u56de\u5e7e\u500b\u9810\u6e2c\")] = 5,\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304\")] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83d\udd2e \u9810\u6e2c\u932f\u8aa4 - \u6839\u64da\u6b77\u53f2\u6a21\u5f0f\u9810\u6e2c\u53ef\u80fd\u767c\u751f\u7684\u932f\u8aa4\u3002\n\n\n        V10.22 Intelligence:\n        - \u5206\u6790\u6a94\u6848\u985e\u578b\u8207\u904e\u53bb\u932f\u8aa4\u7684\u95dc\u806f\n        - \u63d0\u4f9b\u4fe1\u5fc3\u5206\u6578\u548c\u9810\u9632\u5efa\u8b70\n        - \u5b78\u7fd2\u5c08\u6848\u7279\u5b9a\u7684\u932f\u8aa4\u6a21\u5f0f\n        \"\"\"\n        return run_predict_errors(file_path, limit, project_path)\n\n    @mcp.tool(\n        description=\"\ud83d\udcca \u5c08\u6848\u5065\u5eb7\u8a55\u5206 (Project health score). \"\n        \"\u8aaa: '\u5c08\u6848\u5065\u5eb7\u72c0\u6cc1', '\u7d66\u6211\u5065\u5eb7\u5831\u544a', 'project health score'. \"\n        \"\u6211\u6703\u5206\u6790\u6210\u529f\u7387\u3001\u932f\u8aa4\u8da8\u52e2\u3001\u89e3\u6c7a\u7387\uff0c\u7d66\u51fa\u7d9c\u5408\u5065\u5eb7\u8a55\u5206\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_health_score(\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304\")] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83d\udcca \u5c08\u6848\u5065\u5eb7\u8a55\u5206 - \u7d9c\u5408\u5206\u6790\u5c08\u6848\u72c0\u614b\u3002\n\n        V10.22 Intelligence:\n        - \u6210\u529f\u7387\u5206\u6790 (40% \u6b0a\u91cd)\n        - \u932f\u8aa4\u89e3\u6c7a\u7387 (30% \u6b0a\u91cd)\n        - \u57f7\u884c\u6548\u7387 (30% \u6b0a\u91cd)\n        - \u8da8\u52e2\u5206\u6790\u548c\u5efa\u8b70\n        \"\"\"\n        root_str, error = _get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n        project_root = Path(root_str)\n\n        storage = _get_storage(project_root)\n        if not storage:\n            return create_error_result(\"Storage \u672a\u521d\u59cb\u5316\")\n\n        # Get health score\n        health = storage.get_health_score()\n\n        # Get error trend\n        trend = storage.get_error_trend(days=7)\n\n        # Build detailed report\n        score = health[\"score\"]\n        grade = health[\"grade\"]\n\n        # Emoji for grade\n        grade_emoji = {\n            \"A+\": \"\ud83c\udfc6\",\n            \"A\": \"\ud83c\udf1f\",\n            \"B\": \"\u2705\",\n            \"C\": \"\ud83d\udc4d\",\n            \"D\": \"\u26a0\ufe0f\",\n            \"F\": \"\ud83d\udea8\",\n            \"N/A\": \"\ud83d\udcca\",\n        }.get(grade, \"\ud83d\udcca\")\n\n        breakdown = health.get(\"breakdown\", {})\n\n        summary = f\"\"\"# {grade_emoji} \u5c08\u6848\u5065\u5eb7\u5831\u544a\n\n## \u7d9c\u5408\u8a55\u5206: **{score}/100** (\u7b49\u7d1a: {grade})\n\n{health[\"message\"]}\n\n## \ud83d\udcc8 \u6307\u6a19\u5206\u89e3\n- \u6210\u529f\u7387: **{breakdown.get(\"success_rate\", \"N/A\")}%**\n- \u932f\u8aa4\u89e3\u6c7a\u7387: **{breakdown.get(\"resolution_rate\", \"N/A\")}%**\n- \u5e73\u5747\u57f7\u884c\u6642\u9593: **{breakdown.get(\"avg_loop_duration\", \"N/A\")}s**\n\n## \ud83d\udcca \u932f\u8aa4\u8da8\u52e2 (7\u5929)\n- \u8da8\u52e2\u65b9\u5411: {trend.get(\"emoji\", \"\u27a1\ufe0f\")} {trend.get(\"trend\", \"N/A\")}\n- \u8b8a\u5316\u5e45\u5ea6: {trend.get(\"change_percent\", 0)}%\n- {trend.get(\"recommendation\", \"\")}\n\"\"\"\n\n        return create_success_result(\n            message=summary,\n            data={\n                \"score\": score,\n                \"grade\": grade,\n                \"breakdown\": breakdown,\n                \"trend\": trend,\n                \"vibe_summary\": summary,\n            },\n        )\n\n    @mcp.tool(\n        description=\"\ud83e\udde0 \u512a\u5316\u4e0a\u4e0b\u6587 (Optimize context for LLM). \"\n        \"\u8aaa: '\u5e6b\u6211\u58d3\u7e2e\u9019\u4e9b\u7a0b\u5f0f\u78bc', 'optimize context'. \"\n        \"\u6211\u6703\u667a\u80fd\u58d3\u7e2e\u7a0b\u5f0f\u78bc\u4e0a\u4e0b\u6587\uff0c\u6e1b\u5c11 token \u4f7f\u7528\u540c\u6642\u4fdd\u7559\u95dc\u9375\u8cc7\u8a0a\uff01\",\n        annotations={\"readOnlyHint\": True, \"openWorldHint\": False, \"idempotentHint\": True},\n    )\n    @audited\n    def boring_optimize_context(\n        file_paths: Annotated[list[str], Field(description=\"\u8981\u512a\u5316\u7684\u6a94\u6848\u8def\u5f91\u5217\u8868\")],\n        max_tokens: Annotated[int, Field(description=\"\u6700\u5927 token \u9650\u5236\")] = 8000,\n        error_message: Annotated[str | None, Field(description=\"\u76f8\u95dc\u932f\u8aa4\u8a0a\u606f (\u6700\u9ad8\u512a\u5148\u7d1a)\")] = None,\n        project_path: Annotated[str | None, Field(description=\"\u5c08\u6848\u6839\u76ee\u9304\")] = None,\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83e\udde0 \u4e0a\u4e0b\u6587\u512a\u5316 - \u667a\u80fd\u58d3\u7e2e\u7a0b\u5f0f\u78bc\u4ee5\u6e1b\u5c11 token \u4f7f\u7528\u3002\n\n        V10.22 Intelligence:\n        - \u53bb\u91cd\u8907\u5167\u5bb9\n        - \u512a\u5148\u4fdd\u7559\u95dc\u9375\u7a0b\u5f0f\u78bc\n        - \u58d3\u7e2e\u6587\u6a94\u548c\u8a3b\u91cb\n        - \u4fdd\u6301\u8a9e\u7fa9\u5b8c\u6574\u6027\n        \"\"\"\n        root_str, error = _get_project_root_or_error(project_path)\n        if error:\n            return create_error_result(error.get(\"message\", \"Unknown error\"))\n        project_root = Path(root_str)\n\n        try:\n            from ..intelligence import SmartContextBuilder\n\n            builder = SmartContextBuilder(max_tokens=max_tokens, project_root=project_root)\n        except ImportError:\n            return create_error_result(\"Intelligence \u6a21\u7d44\u672a\u5b89\u88dd\")\n\n        # Add error context (highest priority)\n        if error_message:\n            builder.with_error(error_message, priority=1.0)\n\n        # Add code files\n        for fp in file_paths:\n            try:\n                path = Path(project_root) / fp if not Path(fp).is_absolute() else Path(fp)\n                if path.exists():\n                    content = path.read_text(encoding=\"utf-8\", errors=\"ignore\")\n                    rel_path = (\n                        str(path.relative_to(project_root))\n                        if path.is_relative_to(project_root)\n                        else str(path)\n                    )\n                    builder.with_code_file(rel_path, content, priority=0.8)\n            except Exception:\n                continue\n\n        # Build optimized context\n        optimized = builder.build()\n        report = builder.get_compression_report()\n        stats = builder.stats\n\n        return create_success_result(\n            message=report,\n            data={\n                \"optimized_context\": optimized,\n                \"stats\": {\n                    \"original_tokens\": stats.original_tokens if stats else 0,\n                    \"optimized_tokens\": stats.optimized_tokens if stats else 0,\n                    \"compression_ratio\": stats.compression_ratio if stats else 1.0,\n                    \"sections_removed\": stats.sections_removed if stats else 0,\n                    \"duplicates_merged\": stats.duplicates_merged if stats else 0,\n                },\n                \"vibe_summary\": report,\n            },\n        )\n\n    # === boring_done (BoringDone Notification) ===\n    @mcp.tool(\n        description=\"\ud83d\udd14 \u5b8c\u6210\u901a\u77e5 (Completion Notification). \"\n        \"\u8aaa: '\u4efb\u52d9\u5b8c\u6210\u901a\u77e5\u6211', 'Notify me when done', '\u597d\u4e86\u53eb\u6211'. \"\n        \"\u6211\u6703\u767c\u9001\u684c\u9762\u901a\u77e5\u3001\u97f3\u6548\u63d0\u9192\uff0c\u8b93\u4f60\u4e0d\u7528\u76ef\u8457\u87a2\u5e55\uff01\",\n        annotations={\"readOnlyHint\": False, \"openWorldHint\": False, \"idempotentHint\": False},\n    )\n    @audited\n    def boring_done(\n        task_name: Annotated[str, Field(description=\"\u4efb\u52d9\u540d\u7a31\")] = \"AI Task\",\n        success: Annotated[bool, Field(description=\"\u4efb\u52d9\u662f\u5426\u6210\u529f\")] = True,\n        details: Annotated[str, Field(description=\"\u984d\u5916\u8a73\u60c5\")] = \"\",\n    ) -&gt; BoringResult:\n        \"\"\"\n        \ud83d\udd14 BoringDone - \u5b8c\u6210\u901a\u77e5\u7cfb\u7d71\u3002\n\n        \u7576 AI \u4efb\u52d9\u5b8c\u6210\u6642\u767c\u9001\u901a\u77e5:\n        - \u684c\u9762\u5f48\u7a97 (Windows Toast / macOS / Linux)\n        - \u97f3\u6548\u63d0\u9192\n        - Terminal Bell\n\n        \u8b93\u4f7f\u7528\u8005\u53ef\u4ee5\u653e\u5fc3\u505a\u5176\u4ed6\u4e8b\uff0c\u5b8c\u6210\u5f8c\u6703\u6536\u5230\u901a\u77e5\uff01\n        \"\"\"\n        try:\n            from ...services.notifier import done as notify_done\n\n            result = notify_done(task_name=task_name, success=success, details=details)\n            return create_success_result(\n                message=f\"\ud83d\udd14 \u5df2\u767c\u9001\u901a\u77e5: {result['title']}\",\n                data=result,\n            )\n        except ImportError:\n            # Fallback: simple terminal bell\n            print(\"\\a\", end=\"\", flush=True)\n            return create_success_result(\n                message=f\"\ud83d\udd14 Terminal Bell: {task_name} {'\u2705 Complete' if success else '\u274c Failed'}\",\n                data={\"fallback\": True},\n            )\n        except Exception as e:\n            return create_error_result(f\"\u274c \u901a\u77e5\u5931\u6557: {str(e)}\")\n\n    return {\n        \"boring_test_gen\": boring_test_gen,\n        \"boring_code_review\": boring_code_review,\n        \"boring_perf_tips\": boring_perf_tips,\n        \"boring_arch_check\": boring_arch_check,\n        \"boring_doc_gen\": boring_doc_gen,\n        \"boring_vibe_check\": boring_vibe_check,\n        \"boring_impact_check\": boring_impact_check,\n        # V10.22 Intelligence Tools\n        \"boring_predict_errors\": boring_predict_errors,\n        \"boring_health_score\": boring_health_score,\n        \"boring_optimize_context\": boring_optimize_context,\n        # V12.2 BoringDone\n        \"boring_done\": boring_done,\n    }\n</code></pre>"},{"location":"api/tools_zh/#security-advanced","title":"Security &amp; Advanced (\u5b89\u5168\u8207\u9032\u968e)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.advanced","title":"<code>boring.mcp.tools.advanced</code>","text":"<p>Advanced MCP Tools for Boring V10.16.</p> <p>Consolidated tools to reduce context usage: - boring_security_scan - boring_transaction (start/commit/rollback/status) - boring_task (submit/status/list) - boring_context (save/load/list) - boring_profile (get/learn)</p>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_security_scan","title":"<code>boring_security_scan(project_path=None, scan_type='full', verbosity='standard')</code>","text":"<p>Run comprehensive security scan.</p> <p>Detects: - Hardcoded secrets - Code vulnerabilities (SAST) - Dependency CVEs</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_security_scan(\n    project_path: Annotated[\n        str | None,\n        Field(default=None, description=\"Path to project root (default: current directory)\"),\n    ] = None,\n    scan_type: Annotated[\n        str,\n        Field(\n            default=\"full\",\n            description=\"Scan type: 'full', 'secrets', 'vulnerabilities', 'dependencies'\",\n        ),\n    ] = \"full\",\n    verbosity: Annotated[\n        str,\n        Field(description=\"Output detail level: 'minimal', 'standard' (default), 'verbose'\"),\n    ] = \"standard\",\n) -&gt; dict:\n    \"\"\"\n    Run comprehensive security scan.\n\n    Detects:\n    - Hardcoded secrets\n    - Code vulnerabilities (SAST)\n    - Dependency CVEs\n    \"\"\"\n    from pathlib import Path\n\n    from boring.core.config import settings\n    from boring.mcp.verbosity import get_verbosity, is_minimal, is_standard\n    from boring.security import SecurityScanner\n\n    # Resolve verbosity\n    verbosity_level = get_verbosity(verbosity)\n\n    path = Path(project_path) if project_path else settings.PROJECT_ROOT\n    scanner = SecurityScanner(path)\n\n    if scan_type == \"secrets\":\n        scanner.scan_secrets()\n    elif scan_type == \"vulnerabilities\":\n        scanner.scan_vulnerabilities()\n    elif scan_type == \"dependencies\":\n        scanner.scan_dependencies()\n    else:\n        scanner.full_scan()\n\n    report = scanner.report\n\n    # --- Verbosity Logic ---\n\n    # 1. MINIMAL: Just summary counts\n    if is_minimal(verbosity_level):\n        return {\n            \"status\": \"passed\" if report.passed else \"failed\",\n            \"summary\": (\n                f\"\ud83d\udee1\ufe0f Scan completed. Found {report.total_issues} issues. \"\n                f\"(Secrets: {report.secrets_found}, SAST: {report.vulnerabilities_found}, \"\n                f\"Deps: {report.dependency_issues})\"\n            ),\n            \"hint\": \"\ud83d\udca1 Use `verbosity='standard'` to see critical issues.\",\n        }\n\n    # 2. STANDARD: Summary + Top 5 Issues\n    if is_standard(verbosity_level):\n        top_issues = report.issues[:5]\n        return {\n            \"status\": \"passed\" if report.passed else \"failed\",\n            \"total_issues\": report.total_issues,\n            \"breakdown\": {\n                \"secrets\": report.secrets_found,\n                \"sast\": report.vulnerabilities_found,\n                \"dependencies\": report.dependency_issues,\n            },\n            \"top_issues\": [\n                {\n                    \"severity\": i.severity,\n                    \"category\": i.category,\n                    \"file\": f\"{i.file_path}:{i.line_number}\",\n                    \"description\": i.description,\n                }\n                for i in top_issues\n            ],\n            \"message\": (\n                f\"Found {report.total_issues} issues. Showing top {len(top_issues)}.\"\n                if report.issues\n                else \"No issues found.\"\n            ),\n            \"hint\": \"\ud83d\udca1 Use `verbosity='verbose'` for full report and recommendations.\",\n        }\n\n    # 3. VERBOSE: Full Report (Legacy Format)\n    return {\n        \"passed\": report.passed,\n        \"checked_categories\": [\n            \"Secrets Detection\",\n            \"SAST (Code Vulnerabilities)\",\n            \"Dependency Scan\",\n        ],\n        \"total_issues\": report.total_issues,\n        \"secrets_found\": report.secrets_found,\n        \"vulnerabilities_found\": report.vulnerabilities_found,\n        \"dependency_issues\": report.dependency_issues,\n        \"issues\": [\n            {\n                \"severity\": i.severity,\n                \"category\": i.category,\n                \"file\": i.file_path,\n                \"line\": i.line_number,\n                \"description\": i.description,\n                \"recommendation\": i.recommendation,\n            }\n            # Still cap at 50 for safety, but effectively \"all\" for most cases\n            for i in report.issues[:50]\n        ],\n        \"message\": \"Scan completed. No issues found.\"\n        if report.passed\n        else f\"Scan failed. Found {report.total_issues} issues.\",\n    }\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_transaction","title":"<code>boring_transaction(action, description='Boring transaction', project_path=None)</code>","text":"<p>Manage atomic transactions with Git checkpoints.</p> <p>Actions: - start: Create a checkpoint (stash changes) - commit: Confirm changes (drop stash) - rollback: Revert code to checkpoint - status: Check if a transaction is active</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_transaction(\n    action: Annotated[\n        Literal[\"start\", \"commit\", \"rollback\", \"status\"],\n        Field(description=\"Action to perform: start, commit, rollback, status\"),\n    ],\n    description: Annotated[\n        str,\n        Field(default=\"Boring transaction\", description=\"Description for 'start' action\"),\n    ] = \"Boring transaction\",\n    project_path: Annotated[\n        str | None,\n        Field(default=None, description=\"Path to project root\"),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Manage atomic transactions with Git checkpoints.\n\n    Actions:\n    - start: Create a checkpoint (stash changes)\n    - commit: Confirm changes (drop stash)\n    - rollback: Revert code to checkpoint\n    - status: Check if a transaction is active\n    \"\"\"\n    from boring.loop.transactions import (\n        commit_transaction,\n        rollback_transaction,\n        start_transaction,\n        transaction_status,\n    )\n\n    if action == \"start\":\n        return start_transaction(project_path, description)\n    elif action == \"commit\":\n        return commit_transaction(project_path)\n    elif action == \"rollback\":\n        return rollback_transaction(project_path)\n    elif action == \"status\":\n        return transaction_status(project_path)\n    else:\n        return {\"status\": \"error\", \"message\": f\"Unknown action: {action}\"}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_task","title":"<code>boring_task(action, task_type=None, task_id=None, task_args=None, project_path=None)</code>","text":"<p>Manage background tasks (async execution).</p> <p>Actions: - submit: Start a new background task (requires task_type) - status: Check task progress (requires task_id) - list: List all tasks</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_task(\n    action: Annotated[\n        Literal[\"submit\", \"status\", \"list\"],\n        Field(description=\"Action: submit a task, check status, or list tasks\"),\n    ],\n    task_type: Annotated[\n        str | None,\n        Field(\n            default=None, description=\"Task type for 'submit': verify, test, lint, security_scan\"\n        ),\n    ] = None,\n    task_id: Annotated[\n        str | None,\n        Field(default=None, description=\"Task ID for 'status' action\"),\n    ] = None,\n    task_args: Annotated[\n        dict | None,\n        Field(default=None, description=\"Arguments for 'submit' action\"),\n    ] = None,\n    project_path: Annotated[\n        str | None,\n        Field(default=None, description=\"Path to project root\"),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Manage background tasks (async execution).\n\n    Actions:\n    - submit: Start a new background task (requires task_type)\n    - status: Check task progress (requires task_id)\n    - list: List all tasks\n    \"\"\"\n    from boring.loop.background_agent import (\n        get_task_status,\n        list_background_tasks,\n        submit_background_task,\n    )\n\n    if action == \"submit\":\n        if not task_type:\n            return {\"status\": \"error\", \"message\": \"task_type is required for submit action\"}\n        return submit_background_task(task_type, task_args or {}, project_path)\n    elif action == \"status\":\n        if not task_id:\n            return {\"status\": \"error\", \"message\": \"task_id is required for status action\"}\n        return get_task_status(task_id)\n    elif action == \"list\":\n        return list_background_tasks()\n    else:\n        return {\"status\": \"error\", \"message\": f\"Unknown action: {action}\"}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_background_task","title":"<code>boring_background_task(task_type, task_args=None, project_path=None)</code>","text":"<p>Legacy alias: submit a background task.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_background_task(\n    task_type: Annotated[str, Field(description=\"Task type: verify, test, lint, security_scan\")],\n    task_args: Annotated[\n        dict | None, Field(default=None, description=\"Arguments for submit action\")\n    ] = None,\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: submit a background task.\"\"\"\n    return boring_task(\n        \"submit\",\n        task_type=task_type,\n        task_args=task_args,\n        project_path=project_path,\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_task_status","title":"<code>boring_task_status(task_id)</code>","text":"<p>Legacy alias: check background task status.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_task_status(\n    task_id: Annotated[str, Field(description=\"Task ID to check\")],\n) -&gt; dict:\n    \"\"\"Legacy alias: check background task status.\"\"\"\n    return boring_task(\"status\", task_id=task_id)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_list_tasks","title":"<code>boring_list_tasks(status=None)</code>","text":"<p>Legacy alias: list background tasks.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_list_tasks(\n    status: Annotated[str | None, Field(default=None, description=\"Optional status filter\")] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: list background tasks.\"\"\"\n    from boring.loop.background_agent import list_background_tasks\n\n    return list_background_tasks(status)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_context","title":"<code>boring_context(action, context_id=None, summary='', project_path=None)</code>","text":"<p>Manage conversation context (Cross-Session Memory).</p> <p>Actions: - save: Save current context (requires context_id, summary) - load: Load a saved context (requires context_id) - list: List all saved contexts</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_context(\n    action: Annotated[\n        Literal[\"save\", \"load\", \"list\"],\n        Field(description=\"Action: save context, load context, or list saved contexts\"),\n    ],\n    context_id: Annotated[\n        str | None,\n        Field(default=None, description=\"Context ID for save/load\"),\n    ] = None,\n    summary: Annotated[\n        str,\n        Field(default=\"\", description=\"Summary for 'save' action\"),\n    ] = \"\",\n    project_path: Annotated[\n        str | None,\n        Field(default=None, description=\"Path to project root\"),\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Manage conversation context (Cross-Session Memory).\n\n    Actions:\n    - save: Save current context (requires context_id, summary)\n    - load: Load a saved context (requires context_id)\n    - list: List all saved contexts\n    \"\"\"\n    from boring.context_sync import list_contexts, load_context, save_context\n\n    if action == \"save\":\n        if not context_id or not summary:\n            return {\"status\": \"error\", \"message\": \"context_id and summary are required for save\"}\n        return save_context(context_id, summary, project_path)\n    elif action == \"load\":\n        if not context_id:\n            return {\"status\": \"error\", \"message\": \"context_id is required for load\"}\n        return load_context(context_id, project_path)\n    elif action == \"list\":\n        return list_contexts(project_path)\n    else:\n        return {\"status\": \"error\", \"message\": f\"Unknown action: {action}\"}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_save_context","title":"<code>boring_save_context(context_name, data, project_path=None)</code>","text":"<p>Legacy alias: save context summary.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_save_context(\n    context_name: Annotated[str, Field(description=\"Context name to save\")],\n    data: Annotated[str | dict, Field(description=\"Summary or payload to store for the context\")],\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: save context summary.\"\"\"\n    summary = data if isinstance(data, str) else str(data)\n    return boring_context(\n        \"save\", context_id=context_name, summary=summary, project_path=project_path\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_load_context","title":"<code>boring_load_context(context_name, project_path=None)</code>","text":"<p>Legacy alias: load saved context.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_load_context(\n    context_name: Annotated[str, Field(description=\"Context name to load\")],\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: load saved context.\"\"\"\n    return boring_context(\"load\", context_id=context_name, project_path=project_path)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_list_contexts","title":"<code>boring_list_contexts(project_path=None)</code>","text":"<p>Legacy alias: list saved contexts.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_list_contexts(\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: list saved contexts.\"\"\"\n    return boring_context(\"list\", project_path=project_path)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_profile","title":"<code>boring_profile(action, error_pattern=None, fix_pattern=None, context='')</code>","text":"<p>Manage user profile (Cross-Project Memory).</p> <p>Actions: - get: Get user profile and preferences - learn: Record a learned fix (requires error_pattern, fix_pattern)</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_profile(\n    action: Annotated[\n        Literal[\"get\", \"learn\"],\n        Field(description=\"Action: get profile or learn a fix\"),\n    ],\n    error_pattern: Annotated[\n        str | None,\n        Field(default=None, description=\"Error pattern for 'learn' action\"),\n    ] = None,\n    fix_pattern: Annotated[\n        str | None,\n        Field(default=None, description=\"Fix pattern for 'learn' action\"),\n    ] = None,\n    context: Annotated[\n        str,\n        Field(default=\"\", description=\"Context for 'learn' action\"),\n    ] = \"\",\n) -&gt; dict:\n    \"\"\"\n    Manage user profile (Cross-Project Memory).\n\n    Actions:\n    - get: Get user profile and preferences\n    - learn: Record a learned fix (requires error_pattern, fix_pattern)\n    \"\"\"\n    from boring.context_sync import get_user_profile, learn_fix\n\n    if action == \"get\":\n        return get_user_profile()\n    elif action == \"learn\":\n        if not error_pattern or not fix_pattern:\n            return {\n                \"status\": \"error\",\n                \"message\": \"error_pattern and fix_pattern required for learn\",\n            }\n        return learn_fix(error_pattern, fix_pattern, context)\n    else:\n        return {\"status\": \"error\", \"message\": f\"Unknown action: {action}\"}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_get_profile","title":"<code>boring_get_profile()</code>","text":"<p>Legacy alias: get user profile.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_get_profile() -&gt; dict:\n    \"\"\"Legacy alias: get user profile.\"\"\"\n    return boring_profile(\"get\")\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_learn_fix","title":"<code>boring_learn_fix(error_pattern, fix_pattern, context='')</code>","text":"<p>Legacy alias: learn a fix pattern.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_learn_fix(\n    error_pattern: Annotated[str, Field(description=\"Error pattern to learn\")],\n    fix_pattern: Annotated[str, Field(description=\"Fix pattern to learn\")],\n    context: Annotated[str, Field(default=\"\", description=\"Optional context\")] = \"\",\n) -&gt; dict:\n    \"\"\"Legacy alias: learn a fix pattern.\"\"\"\n    return boring_profile(\n        \"learn\",\n        error_pattern=error_pattern,\n        fix_pattern=fix_pattern,\n        context=context,\n    )\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_transaction_start","title":"<code>boring_transaction_start(message='Boring transaction', project_path=None)</code>","text":"<p>Legacy alias: start a transaction.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_transaction_start(\n    message: Annotated[\n        str, Field(default=\"Boring transaction\", description=\"Checkpoint message\")\n    ] = (\"Boring transaction\"),\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: start a transaction.\"\"\"\n    return boring_transaction(\"start\", description=message, project_path=project_path)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_transaction_commit","title":"<code>boring_transaction_commit(project_path=None)</code>","text":"<p>Legacy alias: commit a transaction.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_transaction_commit(\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: commit a transaction.\"\"\"\n    return boring_transaction(\"commit\", project_path=project_path)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_transaction_rollback","title":"<code>boring_transaction_rollback(project_path=None)</code>","text":"<p>Legacy alias: rollback a transaction.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_transaction_rollback(\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: rollback a transaction.\"\"\"\n    return boring_transaction(\"rollback\", project_path=project_path)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.boring_rollback","title":"<code>boring_rollback(project_path=None)</code>","text":"<p>Legacy alias: rollback a transaction.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def boring_rollback(\n    project_path: Annotated[\n        str | None, Field(default=None, description=\"Path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"Legacy alias: rollback a transaction.\"\"\"\n    return boring_transaction(\"rollback\", project_path=project_path)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.advanced.register_advanced_tools","title":"<code>register_advanced_tools(mcp)</code>","text":"<p>Register consolidated advanced tools.</p> Source code in <code>src/boring/mcp/tools/advanced.py</code> <pre><code>def register_advanced_tools(mcp):\n    \"\"\"Register consolidated advanced tools.\"\"\"\n    # Security (1 tool)\n    mcp.tool(\n        description=\"Run security scan (secrets, SAST, dependencies)\",\n        annotations={\"readOnlyHint\": True},\n    )(boring_security_scan)\n\n    # Transactions (1 tool)\n    mcp.tool(description=\"Manage atomic transactions (start/commit/rollback)\")(boring_transaction)\n\n    # Background Tasks (1 tool)\n    mcp.tool(description=\"Manage background tasks (submit/status/list)\")(boring_task)\n    mcp.tool(description=\"Legacy alias: submit background task\")(boring_background_task)\n    mcp.tool(description=\"Legacy alias: check background task status\")(boring_task_status)\n    mcp.tool(description=\"Legacy alias: list background tasks\")(boring_list_tasks)\n\n    # Context (1 tool)\n    mcp.tool(description=\"Manage conversation context (save/load/list)\")(boring_context)\n    mcp.tool(description=\"Legacy alias: save context\")(boring_save_context)\n    mcp.tool(description=\"Legacy alias: load context\")(boring_load_context)\n    mcp.tool(description=\"Legacy alias: list contexts\")(boring_list_contexts)\n\n    # Profile (1 tool)\n    mcp.tool(description=\"Manage user profile and learned memory\")(boring_profile)\n    mcp.tool(description=\"Legacy alias: get profile\")(boring_get_profile)\n    mcp.tool(description=\"Legacy alias: learn fix patterns\")(boring_learn_fix)\n\n    # Transaction aliases\n    mcp.tool(description=\"Legacy alias: start transaction\")(boring_transaction_start)\n    mcp.tool(description=\"Legacy alias: commit transaction\")(boring_transaction_commit)\n    mcp.tool(description=\"Legacy alias: rollback transaction\")(boring_transaction_rollback)\n    mcp.tool(description=\"Legacy alias: rollback transaction\")(boring_rollback)\n</code></pre>"},{"location":"api/tools_zh/#session-management","title":"Session Management (\u6703\u8a71\u7ba1\u7406)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.session","title":"<code>boring.mcp.tools.session</code>","text":"<p>Vibe Session Tools - Human-Aligned AI Coding Workflow (V10.25)</p> <p>Provides stateful session management for complete AI-human collaboration. Solves the core AI Coding problems: 1. AI vs Human expectation gap 2. Architecture drift during development 3. Quality degradation over time 4. Lack of confirmation checkpoints</p> Usage <p>boring_session_start(goal=\"Build login feature\")</p>"},{"location":"api/tools_zh/#boring.mcp.tools.session---returns-session_id-and-enters-phase-1","title":"-&gt; Returns session_id and enters Phase 1","text":"<p>boring_session_confirm()</p>"},{"location":"api/tools_zh/#boring.mcp.tools.session---confirms-current-phase-and-moves-to-next","title":"-&gt; Confirms current phase and moves to next","text":"<p>boring_session_status()</p>"},{"location":"api/tools_zh/#boring.mcp.tools.session---shows-current-progress","title":"-&gt; Shows current progress","text":""},{"location":"api/tools_zh/#boring.mcp.tools.session.SessionPhase","title":"<code>SessionPhase</code>","text":"<p>               Bases: <code>str</code>, <code>Enum</code></p> <p>Vibe Session phases.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>class SessionPhase(str, Enum):\n    \"\"\"Vibe Session phases.\"\"\"\n\n    ALIGNMENT = \"alignment\"  # Phase 1: Requirement gathering\n    PLANNING = \"planning\"  # Phase 2: Plan creation\n    IMPLEMENTATION = \"implementation\"  # Phase 3: Step-by-step coding\n    VERIFICATION = \"verification\"  # Phase 4: Final verification\n    COMPLETED = \"completed\"  # Session done\n    PAUSED = \"paused\"  # Session paused\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.SessionStep","title":"<code>SessionStep</code>  <code>dataclass</code>","text":"<p>A single implementation step.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@dataclass\nclass SessionStep:\n    \"\"\"A single implementation step.\"\"\"\n\n    id: int\n    description: str\n    status: str = \"pending\"  # pending, in_progress, completed, failed\n    score: float | None = None\n    output: str | None = None\n    created_at: str = \"\"\n    completed_at: str | None = None\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSession","title":"<code>VibeSession</code>  <code>dataclass</code>","text":"<p>Complete Vibe Session state.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@dataclass\nclass VibeSession:\n    \"\"\"Complete Vibe Session state.\"\"\"\n\n    session_id: str\n    goal: str\n    phase: SessionPhase\n    created_at: str\n    updated_at: str\n\n    # Phase 1: Alignment\n    requirements: dict = field(default_factory=dict)\n    tech_stack: str = \"\"\n    quality_level: str = \"production\"  # prototype, production, enterprise\n    constraints: list = field(default_factory=list)\n    exclusions: list = field(default_factory=list)\n\n    # Phase 2: Planning\n    plan: dict = field(default_factory=dict)\n    checklist: list = field(default_factory=list)\n    architecture_notes: list = field(default_factory=list)\n\n    # Phase 3: Implementation\n    steps: list = field(default_factory=list)\n    current_step: int = 0\n    auto_mode: bool = False\n\n    # Phase 4: Verification\n    verification_results: dict = field(default_factory=dict)\n    final_score: float | None = None\n\n    # Learning\n    learned_patterns: list = field(default_factory=list)\n\n    def to_dict(self) -&gt; dict:\n        \"\"\"Convert to dictionary.\"\"\"\n        data = asdict(self)\n        data[\"phase\"] = self.phase.value\n        return data\n\n    @classmethod\n    def from_dict(cls, data: dict) -&gt; \"VibeSession\":\n        \"\"\"Create from dictionary.\"\"\"\n        data[\"phase\"] = SessionPhase(data[\"phase\"])\n        return cls(**data)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSession.to_dict","title":"<code>to_dict()</code>","text":"<p>Convert to dictionary.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def to_dict(self) -&gt; dict:\n    \"\"\"Convert to dictionary.\"\"\"\n    data = asdict(self)\n    data[\"phase\"] = self.phase.value\n    return data\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSession.from_dict","title":"<code>from_dict(data)</code>  <code>classmethod</code>","text":"<p>Create from dictionary.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@classmethod\ndef from_dict(cls, data: dict) -&gt; \"VibeSession\":\n    \"\"\"Create from dictionary.\"\"\"\n    data[\"phase\"] = SessionPhase(data[\"phase\"])\n    return cls(**data)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager","title":"<code>VibeSessionManager</code>","text":"<p>Manages Vibe Session state persistence.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>class VibeSessionManager:\n    \"\"\"Manages Vibe Session state persistence.\"\"\"\n\n    def __init__(self, project_root: Path):\n        self.project_root = Path(project_root)\n        self.session_dir = self.project_root / \".boring_memory\" / \"sessions\"\n        self.session_dir.mkdir(parents=True, exist_ok=True)\n        self._current_session: VibeSession | None = None\n\n    def _session_path(self, session_id: str) -&gt; Path:\n        return self.session_dir / f\"{session_id}.json\"\n\n    def create_session(self, goal: str) -&gt; VibeSession:\n        \"\"\"Create a new Vibe Session.\"\"\"\n        session_id = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n        now = datetime.now().isoformat()\n\n        session = VibeSession(\n            session_id=session_id,\n            goal=goal,\n            phase=SessionPhase.ALIGNMENT,\n            created_at=now,\n            updated_at=now,\n        )\n\n        self._current_session = session\n        self.save_session(session)\n        return session\n\n    def save_session(self, session: VibeSession):\n        \"\"\"Save session to disk.\"\"\"\n        session.updated_at = datetime.now().isoformat()\n        path = self._session_path(session.session_id)\n        with open(path, \"w\", encoding=\"utf-8\") as f:\n            json.dump(session.to_dict(), f, indent=2, ensure_ascii=False)\n\n    def load_session(self, session_id: str) -&gt; VibeSession | None:\n        \"\"\"Load session from disk.\"\"\"\n        path = self._session_path(session_id)\n        if not path.exists():\n            return None\n\n        with open(path, encoding=\"utf-8\") as f:\n            data = json.load(f)\n\n        session = VibeSession.from_dict(data)\n        self._current_session = session\n        return session\n\n    def get_current_session(self) -&gt; VibeSession | None:\n        \"\"\"Get current active session.\"\"\"\n        return self._current_session\n\n    def list_sessions(self) -&gt; list[dict]:\n        \"\"\"List all sessions.\"\"\"\n        sessions = []\n        for path in self.session_dir.glob(\"*.json\"):\n            try:\n                with open(path, encoding=\"utf-8\") as f:\n                    data = json.load(f)\n                sessions.append(\n                    {\n                        \"session_id\": data[\"session_id\"],\n                        \"goal\": data[\"goal\"][:50] + \"...\"\n                        if len(data[\"goal\"]) &gt; 50\n                        else data[\"goal\"],\n                        \"phase\": data[\"phase\"],\n                        \"created_at\": data[\"created_at\"][:10],\n                        \"updated_at\": data[\"updated_at\"][:10],\n                    }\n                )\n            except Exception:\n                continue\n        return sorted(sessions, key=lambda x: x[\"created_at\"], reverse=True)\n\n    def advance_phase(self, session: VibeSession) -&gt; VibeSession:\n        \"\"\"Move to next phase.\"\"\"\n        phase_order = [\n            SessionPhase.ALIGNMENT,\n            SessionPhase.PLANNING,\n            SessionPhase.IMPLEMENTATION,\n            SessionPhase.VERIFICATION,\n            SessionPhase.COMPLETED,\n        ]\n\n        current_idx = phase_order.index(session.phase)\n        if current_idx &lt; len(phase_order) - 1:\n            session.phase = phase_order[current_idx + 1]\n\n        self.save_session(session)\n        return session\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager.create_session","title":"<code>create_session(goal)</code>","text":"<p>Create a new Vibe Session.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def create_session(self, goal: str) -&gt; VibeSession:\n    \"\"\"Create a new Vibe Session.\"\"\"\n    session_id = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n    now = datetime.now().isoformat()\n\n    session = VibeSession(\n        session_id=session_id,\n        goal=goal,\n        phase=SessionPhase.ALIGNMENT,\n        created_at=now,\n        updated_at=now,\n    )\n\n    self._current_session = session\n    self.save_session(session)\n    return session\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager.save_session","title":"<code>save_session(session)</code>","text":"<p>Save session to disk.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def save_session(self, session: VibeSession):\n    \"\"\"Save session to disk.\"\"\"\n    session.updated_at = datetime.now().isoformat()\n    path = self._session_path(session.session_id)\n    with open(path, \"w\", encoding=\"utf-8\") as f:\n        json.dump(session.to_dict(), f, indent=2, ensure_ascii=False)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager.load_session","title":"<code>load_session(session_id)</code>","text":"<p>Load session from disk.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def load_session(self, session_id: str) -&gt; VibeSession | None:\n    \"\"\"Load session from disk.\"\"\"\n    path = self._session_path(session_id)\n    if not path.exists():\n        return None\n\n    with open(path, encoding=\"utf-8\") as f:\n        data = json.load(f)\n\n    session = VibeSession.from_dict(data)\n    self._current_session = session\n    return session\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager.get_current_session","title":"<code>get_current_session()</code>","text":"<p>Get current active session.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def get_current_session(self) -&gt; VibeSession | None:\n    \"\"\"Get current active session.\"\"\"\n    return self._current_session\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager.list_sessions","title":"<code>list_sessions()</code>","text":"<p>List all sessions.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def list_sessions(self) -&gt; list[dict]:\n    \"\"\"List all sessions.\"\"\"\n    sessions = []\n    for path in self.session_dir.glob(\"*.json\"):\n        try:\n            with open(path, encoding=\"utf-8\") as f:\n                data = json.load(f)\n            sessions.append(\n                {\n                    \"session_id\": data[\"session_id\"],\n                    \"goal\": data[\"goal\"][:50] + \"...\"\n                    if len(data[\"goal\"]) &gt; 50\n                    else data[\"goal\"],\n                    \"phase\": data[\"phase\"],\n                    \"created_at\": data[\"created_at\"][:10],\n                    \"updated_at\": data[\"updated_at\"][:10],\n                }\n            )\n        except Exception:\n            continue\n    return sorted(sessions, key=lambda x: x[\"created_at\"], reverse=True)\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.VibeSessionManager.advance_phase","title":"<code>advance_phase(session)</code>","text":"<p>Move to next phase.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def advance_phase(self, session: VibeSession) -&gt; VibeSession:\n    \"\"\"Move to next phase.\"\"\"\n    phase_order = [\n        SessionPhase.ALIGNMENT,\n        SessionPhase.PLANNING,\n        SessionPhase.IMPLEMENTATION,\n        SessionPhase.VERIFICATION,\n        SessionPhase.COMPLETED,\n    ]\n\n    current_idx = phase_order.index(session.phase)\n    if current_idx &lt; len(phase_order) - 1:\n        session.phase = phase_order[current_idx + 1]\n\n    self.save_session(session)\n    return session\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.get_session_manager","title":"<code>get_session_manager(project_root)</code>","text":"<p>Get or create session manager for project.</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>def get_session_manager(project_root: Path) -&gt; VibeSessionManager:\n    \"\"\"Get or create session manager for project.\"\"\"\n    key = str(project_root)\n    if key not in _session_managers:\n        _session_managers[key] = VibeSessionManager(project_root)\n    return _session_managers[key]\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.boring_session_start","title":"<code>boring_session_start(goal='', quality_level='production', project_path=None)</code>","text":"<p>\ud83c\udfaf \u555f\u52d5 Vibe Session - \u5b8c\u6574\u7684 AI \u5354\u4f5c\u6d41\u7a0b\u3002</p> <p>\u89e3\u6c7a AI Coding \u6838\u5fc3\u554f\u984c\uff1a - AI \u8207\u4eba\u985e\u671f\u671b\u843d\u5dee - \u67b6\u69cb\u907a\u5931 - \u54c1\u8cea\u4e0b\u964d - \u7f3a\u4e4f\u78ba\u8a8d\u9ede</p> <p>Returns:</p> Type Description <code>BoringResult</code> <p>Session \u555f\u52d5\u7d50\u679c\u548c Phase 1 \u554f\u984c</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@audited\ndef boring_session_start(\n    goal: Annotated[\n        str, PydanticField(description=\"\u4f60\u60f3\u9054\u6210\u4ec0\u9ebc\u76ee\u6a19\uff1f\u4f8b\u5982\uff1a'\u5efa\u7acb\u7528\u6236\u767b\u5165\u529f\u80fd'\")\n    ] = \"\",\n    quality_level: Annotated[\n        str,\n        PydanticField(\n            description=\"\u54c1\u8cea\u7b49\u7d1a: prototype(\u5feb\u901f\u539f\u578b), production(\u751f\u7522\u7d1a), enterprise(\u4f01\u696d\u7d1a)\"\n        ),\n    ] = \"production\",\n    project_path: Annotated[str, PydanticField(description=\"\u5c08\u6848\u8def\u5f91\uff08\u9078\u586b\uff09\")] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \ud83c\udfaf \u555f\u52d5 Vibe Session - \u5b8c\u6574\u7684 AI \u5354\u4f5c\u6d41\u7a0b\u3002\n\n    \u89e3\u6c7a AI Coding \u6838\u5fc3\u554f\u984c\uff1a\n    - AI \u8207\u4eba\u985e\u671f\u671b\u843d\u5dee\n    - \u67b6\u69cb\u907a\u5931\n    - \u54c1\u8cea\u4e0b\u964d\n    - \u7f3a\u4e4f\u78ba\u8a8d\u9ede\n\n    Returns:\n        Session \u555f\u52d5\u7d50\u679c\u548c Phase 1 \u554f\u984c\n    \"\"\"\n    allowed, msg = check_rate_limit(\"boring_session_start\")\n    if not allowed:\n        return create_error_result(f\"\u23f1\ufe0f Rate limited: {msg}\")\n\n    project_root = detect_project_root(project_path)\n    if not project_root:\n        return create_error_result(\"\u274c \u627e\u4e0d\u5230\u6709\u6548\u7684 Boring \u5c08\u6848\u3002\u8acb\u5728\u5c08\u6848\u6839\u76ee\u9304\u57f7\u884c\u3002\")\n\n    try:\n        manager = get_session_manager(project_root)\n        session = manager.create_session(goal if goal else \"\u5f85\u78ba\u8a8d\")\n        session.quality_level = quality_level\n        manager.save_session(session)\n\n        # Phase 1 prompt\n        goal_display = f\"**\u76ee\u6a19**: {goal}\" if goal else \"**\u76ee\u6a19**: \u5f85\u78ba\u8a8d\"\n\n        msg_content = f\"\"\"# \ud83c\udfaf Vibe Session \u5df2\u555f\u52d5\n\n**Session ID**: `{session.session_id}`\n{goal_display}\n**\u54c1\u8cea\u7b49\u7d1a**: {quality_level}\n**\u7576\u524d\u968e\u6bb5**: Phase 1 - \u9700\u6c42\u5c0d\u9f4a (Alignment)\n\n---\n\n## \ud83d\udccb Phase 1: \u9700\u6c42\u5c0d\u9f4a\n\n\u70ba\u4e86\u78ba\u4fdd\u6211 100% \u7406\u89e3\u4f60\u7684\u9700\u6c42\uff0c\u8acb\u56de\u7b54\u4ee5\u4e0b\u554f\u984c\uff1a\n\n### 1\ufe0f\u20e3 \u6838\u5fc3\u76ee\u6a19\n{f\"\u4f60\u8aaa\u60f3\u8981\u300c{goal}\u300d\uff0c\u53ef\u4ee5\u66f4\u5177\u9ad4\u63cf\u8ff0\u55ce\uff1f\u4f8b\u5982\uff1a\" if goal else \"\u4f60\u4eca\u5929\u60f3\u9054\u6210\u4ec0\u9ebc\uff1f\u4f8b\u5982\uff1a\"}\n- \u8981\u89e3\u6c7a\u4ec0\u9ebc\u554f\u984c\uff1f\n- \u9810\u671f\u7684\u7d50\u679c\u662f\u4ec0\u9ebc\uff1f\n\n### 2\ufe0f\u20e3 \u6280\u8853\u504f\u597d\n- \u6709\u6307\u5b9a\u7684\u8a9e\u8a00/\u6846\u67b6\u55ce\uff1f\n- \u6709\u9700\u8981\u6574\u5408\u7684\u73fe\u6709\u7cfb\u7d71\u55ce\uff1f\n\n### 3\ufe0f\u20e3 \u54c1\u8cea\u671f\u671b (\u5df2\u9078\u64c7: {quality_level})\n- \ud83d\ude80 prototype: \u5feb\u901f\u9a57\u8b49\uff0c\u53ef\u4ee5\u6709\u6280\u8853\u50b5\n- \ud83c\udfd7\ufe0f production: \u9700\u8981\u6e2c\u8a66\u3001\u6587\u6a94\u3001\u932f\u8aa4\u8655\u7406\n- \ud83c\udfe2 enterprise: \u9700\u8981\u5b89\u5168\u5be9\u8a08\u3001\u6027\u80fd\u512a\u5316\u3001\u76e3\u63a7\n\n### 4\ufe0f\u20e3 \u7d04\u675f\u689d\u4ef6\n- \u6709\u5fc5\u9808\u9075\u5b88\u7684\u67b6\u69cb\u898f\u7bc4\u55ce\uff1f\n- \u6709\u6642\u9593\u9650\u5236\u55ce\uff1f\n\n### 5\ufe0f\u20e3 \u660e\u78ba\u6392\u9664\n- \u6709\u4ec0\u9ebc\u662f\u4f60\u300c\u4e0d\u8981\u300d\u7684\uff1f\n\n---\n\n\ud83d\udcac \u8acb\u56de\u7b54\u4ee5\u4e0a\u554f\u984c\uff0c\u6216\u8005\u8aaa\uff1a\n- `\u78ba\u8a8d` - \u5982\u679c\u76ee\u6a19\u5df2\u7d93\u8db3\u5920\u6e05\u695a\n- `\u8abf\u6574\u76ee\u6a19 XXX` - \u4fee\u6539\u76ee\u6a19\n- `\u53d6\u6d88` - \u53d6\u6d88\u6b64 Session\n\"\"\"\n        return create_success_result(message=msg_content, data=session.to_dict())\n    except Exception as e:\n        logger.error(f\"Failed to start session: {e}\")\n        return create_error_result(f\"\u274c \u555f\u52d5 Session \u5931\u6557: {str(e)}\")\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.boring_session_confirm","title":"<code>boring_session_confirm(notes='', project_path=None)</code>","text":"<p>\u2705 \u78ba\u8a8d\u7576\u524d\u968e\u6bb5\u4e26\u9032\u5165\u4e0b\u4e00\u968e\u6bb5\u3002</p> <p>Returns:</p> Type Description <code>BoringResult</code> <p>\u4e0b\u4e00\u968e\u6bb5\u7684\u6307\u5f15</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@audited\ndef boring_session_confirm(\n    notes: Annotated[str, PydanticField(description=\"\u88dc\u5145\u8aaa\u660e\u6216\u78ba\u8a8d\u8a0a\u606f\")] = \"\",\n    project_path: Annotated[str, PydanticField(description=\"\u5c08\u6848\u8def\u5f91\uff08\u9078\u586b\uff09\")] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \u2705 \u78ba\u8a8d\u7576\u524d\u968e\u6bb5\u4e26\u9032\u5165\u4e0b\u4e00\u968e\u6bb5\u3002\n\n    Returns:\n        \u4e0b\u4e00\u968e\u6bb5\u7684\u6307\u5f15\n    \"\"\"\n    allowed, msg = check_rate_limit(\"boring_session_confirm\")\n    if not allowed:\n        return create_error_result(f\"\u23f1\ufe0f Rate limited: {msg}\")\n\n    project_root = detect_project_root(project_path)\n    if not project_root:\n        return create_error_result(\"\u274c \u627e\u4e0d\u5230\u6709\u6548\u7684 Boring \u5c08\u6848\u3002\")\n\n    try:\n        manager = get_session_manager(project_root)\n        session = manager.get_current_session()\n\n        if not session:\n            return create_error_result(\"\u274c \u6c92\u6709\u9032\u884c\u4e2d\u7684 Session\u3002\u8acb\u5148\u57f7\u884c `boring_session_start`\u3002\")\n\n        current_phase = session.phase\n\n        # Update notes if provided\n        if notes:\n            if current_phase == SessionPhase.ALIGNMENT:\n                session.requirements[\"user_notes\"] = notes\n            elif current_phase == SessionPhase.PLANNING:\n                session.architecture_notes.append(notes)\n\n        # Advance to next phase\n        session = manager.advance_phase(session)\n\n        # Return appropriate prompt for new phase\n        if session.phase == SessionPhase.PLANNING:\n            prompt = _get_planning_prompt(session)\n        elif session.phase == SessionPhase.IMPLEMENTATION:\n            prompt = _get_implementation_prompt(session)\n        elif session.phase == SessionPhase.VERIFICATION:\n            prompt = _get_verification_prompt(session)\n        elif session.phase == SessionPhase.COMPLETED:\n            prompt = _get_completion_prompt(session)\n        else:\n            prompt = f\"\u2705 \u5df2\u78ba\u8a8d\u3002\u7576\u524d\u968e\u6bb5: {session.phase.value}\"\n\n        return create_success_result(message=prompt, data=session.to_dict())\n\n    except Exception as e:\n        logger.error(f\"Failed to confirm session: {e}\")\n        return create_error_result(f\"\u274c \u78ba\u8a8d\u5931\u6557: {str(e)}\")\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.boring_session_status","title":"<code>boring_session_status(project_path=None)</code>","text":"<p>\ud83d\udcca \u67e5\u770b\u7576\u524d Vibe Session \u72c0\u614b\u3002</p> <p>Returns:</p> Type Description <code>BoringResult</code> <p>Session \u72c0\u614b\u5831\u544a</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@audited\ndef boring_session_status(\n    project_path: Annotated[str, PydanticField(description=\"\u5c08\u6848\u8def\u5f91\uff08\u9078\u586b\uff09\")] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \ud83d\udcca \u67e5\u770b\u7576\u524d Vibe Session \u72c0\u614b\u3002\n\n    Returns:\n        Session \u72c0\u614b\u5831\u544a\n    \"\"\"\n    allowed, msg = check_rate_limit(\"boring_session_status\")\n    if not allowed:\n        return create_error_result(f\"\u23f1\ufe0f Rate limited: {msg}\")\n\n    project_root = detect_project_root(project_path)\n    if not project_root:\n        return create_error_result(\"\u274c \u627e\u4e0d\u5230\u6709\u6548\u7684 Boring \u5c08\u6848\u3002\")\n\n    try:\n        manager = get_session_manager(project_root)\n        session = manager.get_current_session()\n\n        if not session:\n            # List available sessions\n            sessions = manager.list_sessions()\n            if not sessions:\n                return create_success_result(\n                    \"\ud83d\udced \u6c92\u6709\u4efb\u4f55 Session \u8a18\u9304\u3002\u4f7f\u7528 `boring_session_start` \u958b\u59cb\u65b0\u7684 Session\u3002\",\n                    data={\"sessions\": []},\n                )\n\n            session_list = \"\\n\".join(\n                [f\"  \u2022 `{s['session_id']}` - {s['goal']} ({s['phase']})\" for s in sessions[:5]]\n            )\n            msg_content = f\"\"\"# \ud83d\udcca Vibe Session \u5217\u8868\n\n\u6700\u8fd1\u7684 Sessions:\n{session_list}\n\n\u4f7f\u7528 `boring_session_load(session_id='...')` \u8f09\u5165\u7279\u5b9a Session\u3002\n\u6216\u4f7f\u7528 `boring_session_start` \u958b\u59cb\u65b0\u7684 Session\u3002\n\"\"\"\n            return create_success_result(message=msg_content, data={\"sessions\": sessions})\n\n        # Calculate progress\n        phase_progress = {\n            SessionPhase.ALIGNMENT: 20,\n            SessionPhase.PLANNING: 40,\n            SessionPhase.IMPLEMENTATION: 70,\n            SessionPhase.VERIFICATION: 90,\n            SessionPhase.COMPLETED: 100,\n            SessionPhase.PAUSED: 0,\n        }\n\n        progress = phase_progress.get(session.phase, 0)\n        if session.phase == SessionPhase.IMPLEMENTATION and session.steps:\n            total_steps = len(session.steps)\n            completed = sum(1 for s in session.steps if s.get(\"status\") == \"completed\")\n            progress = 40 + int(30 * completed / total_steps) if total_steps &gt; 0 else 40\n\n        progress_bar = \"\u2588\" * (progress // 10) + \"\u2591\" * (10 - progress // 10)\n\n        # Build status display\n        phase_emoji = {\n            SessionPhase.ALIGNMENT: \"\ud83d\udccb\",\n            SessionPhase.PLANNING: \"\ud83d\udcd0\",\n            SessionPhase.IMPLEMENTATION: \"\ud83d\udd28\",\n            SessionPhase.VERIFICATION: \"\u2705\",\n            SessionPhase.COMPLETED: \"\ud83c\udf89\",\n            SessionPhase.PAUSED: \"\u23f8\ufe0f\",\n        }\n\n        msg_content = f\"\"\"# \ud83d\udcca Vibe Session \u72c0\u614b\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \ud83c\udfaf \u76ee\u6a19: {session.goal[:40]}{\"...\" if len(session.goal) &gt; 40 else \"\"}\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  {phase_emoji.get(session.phase, \"\u2753\")} \u7576\u524d\u968e\u6bb5: {session.phase.value.upper()}\n\u2502  \ud83d\udcc8 \u9032\u5ea6: [{progress_bar}] {progress}%\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \ud83d\udcc5 \u5275\u5efa\u6642\u9593: {session.created_at[:10]}\n\u2502  \ud83d\udd04 \u66f4\u65b0\u6642\u9593: {session.updated_at[:16]}\n\u2502  \ud83c\udf9a\ufe0f \u54c1\u8cea\u7b49\u7d1a: {session.quality_level}\n\u2502  \ud83e\udd16 \u81ea\u52d5\u6a21\u5f0f: {\"\u958b\u555f\" if session.auto_mode else \"\u95dc\u9589\"}\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n**Session ID**: `{session.session_id}`\n\n---\n\n**\u53ef\u7528\u6307\u4ee4**:\n- `boring_session_confirm` - \u78ba\u8a8d\u4e26\u9032\u5165\u4e0b\u4e00\u968e\u6bb5\n- `boring_session_pause` - \u66ab\u505c Session\n- `boring_session_auto(enable=True)` - \u958b\u555f\u81ea\u52d5\u6a21\u5f0f\n\"\"\"\n        return create_success_result(message=msg_content, data=session.to_dict())\n\n    except Exception as e:\n        logger.error(f\"Failed to get session status: {e}\")\n        return create_error_result(f\"\u274c \u53d6\u5f97\u72c0\u614b\u5931\u6557: {str(e)}\")\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.boring_session_load","title":"<code>boring_session_load(session_id, project_path=None)</code>","text":"<p>\ud83d\udcc2 \u8f09\u5165\u4e4b\u524d\u7684 Vibe Session\u3002</p> <p>Returns:</p> Type Description <code>BoringResult</code> <p>Session \u72c0\u614b\u548c\u7e7c\u7e8c\u63d0\u793a</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@audited\ndef boring_session_load(\n    session_id: Annotated[str, PydanticField(description=\"\u8981\u8f09\u5165\u7684 Session ID\")],\n    project_path: Annotated[str, PydanticField(description=\"\u5c08\u6848\u8def\u5f91\uff08\u9078\u586b\uff09\")] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \ud83d\udcc2 \u8f09\u5165\u4e4b\u524d\u7684 Vibe Session\u3002\n\n    Returns:\n        Session \u72c0\u614b\u548c\u7e7c\u7e8c\u63d0\u793a\n    \"\"\"\n    allowed, msg = check_rate_limit(\"boring_session_load\")\n    if not allowed:\n        return create_error_result(f\"\u23f1\ufe0f Rate limited: {msg}\")\n\n    project_root = detect_project_root(project_path)\n    if not project_root:\n        return create_error_result(\"\u274c \u627e\u4e0d\u5230\u6709\u6548\u7684 Boring \u5c08\u6848\u3002\")\n\n    try:\n        manager = get_session_manager(project_root)\n        session = manager.load_session(session_id)\n\n        if not session:\n            return create_error_result(f\"\u274c \u627e\u4e0d\u5230 Session: {session_id}\")\n\n        msg_content = f\"\"\"# \ud83d\udcc2 Session \u5df2\u8f09\u5165\n\n**Session ID**: `{session.session_id}`\n**\u76ee\u6a19**: {session.goal}\n**\u7576\u524d\u968e\u6bb5**: {session.phase.value}\n**\u54c1\u8cea\u7b49\u7d1a**: {session.quality_level}\n\n---\n\n\u4f7f\u7528 `boring_session_status` \u67e5\u770b\u8a73\u7d30\u72c0\u614b\u3002\n\u4f7f\u7528 `boring_session_confirm` \u7e7c\u7e8c\u4e0b\u4e00\u6b65\u3002\n\"\"\"\n        return create_success_result(message=msg_content, data=session.to_dict())\n\n    except Exception as e:\n        logger.error(f\"Failed to load session: {e}\")\n        return create_error_result(f\"\u274c \u8f09\u5165\u5931\u6557: {str(e)}\")\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.boring_session_pause","title":"<code>boring_session_pause(project_path=None)</code>","text":"<p>\u23f8\ufe0f \u66ab\u505c\u7576\u524d Vibe Session\u3002</p> <p>Returns:</p> Type Description <code>BoringResult</code> <p>\u66ab\u505c\u78ba\u8a8d</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@audited\ndef boring_session_pause(\n    project_path: Annotated[str, PydanticField(description=\"\u5c08\u6848\u8def\u5f91\uff08\u9078\u586b\uff09\")] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \u23f8\ufe0f \u66ab\u505c\u7576\u524d Vibe Session\u3002\n\n    Returns:\n        \u66ab\u505c\u78ba\u8a8d\n    \"\"\"\n    allowed, msg = check_rate_limit(\"boring_session_pause\")\n    if not allowed:\n        return create_error_result(f\"\u23f1\ufe0f Rate limited: {msg}\")\n\n    project_root = detect_project_root(project_path)\n    if not project_root:\n        return create_error_result(\"\u274c \u627e\u4e0d\u5230\u6709\u6548\u7684 Boring \u5c08\u6848\u3002\")\n\n    try:\n        manager = get_session_manager(project_root)\n        session = manager.get_current_session()\n\n        if not session:\n            return create_error_result(\"\u274c \u6c92\u6709\u9032\u884c\u4e2d\u7684 Session\u3002\")\n\n        previous_phase = session.phase\n        session.phase = SessionPhase.PAUSED\n        manager.save_session(session)\n\n        msg_content = f\"\"\"# \u23f8\ufe0f Session \u5df2\u66ab\u505c\n\n**Session ID**: `{session.session_id}`\n**\u66ab\u505c\u524d\u968e\u6bb5**: {previous_phase.value}\n\n\u9032\u5ea6\u5df2\u4fdd\u5b58\u3002\u7a0d\u5f8c\u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u7e7c\u7e8c\uff1a\n```\nboring_session_load(session_id='{session.session_id}')\n```\n\"\"\"\n        return create_success_result(message=msg_content, data=session.to_dict())\n\n    except Exception as e:\n        logger.error(f\"Failed to pause session: {e}\")\n        return create_error_result(f\"\u274c \u66ab\u505c\u5931\u6557: {str(e)}\")\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.session.boring_session_auto","title":"<code>boring_session_auto(enable=True, project_path=None)</code>","text":"<p>\ud83e\udd16 \u5207\u63db\u81ea\u52d5\u6a21\u5f0f - \u81ea\u52d5\u78ba\u8a8d\u4e26\u57f7\u884c\u6240\u6709\u6b65\u9a5f\u3002</p> <p>Returns:</p> Type Description <code>BoringResult</code> <p>\u6a21\u5f0f\u5207\u63db\u78ba\u8a8d</p> Source code in <code>src/boring/mcp/tools/session.py</code> <pre><code>@audited\ndef boring_session_auto(\n    enable: Annotated[bool, PydanticField(description=\"\u662f\u5426\u555f\u7528\u81ea\u52d5\u6a21\u5f0f\")] = True,\n    project_path: Annotated[str, PydanticField(description=\"\u5c08\u6848\u8def\u5f91\uff08\u9078\u586b\uff09\")] = None,\n) -&gt; BoringResult:\n    \"\"\"\n    \ud83e\udd16 \u5207\u63db\u81ea\u52d5\u6a21\u5f0f - \u81ea\u52d5\u78ba\u8a8d\u4e26\u57f7\u884c\u6240\u6709\u6b65\u9a5f\u3002\n\n    Returns:\n        \u6a21\u5f0f\u5207\u63db\u78ba\u8a8d\n    \"\"\"\n    allowed, msg = check_rate_limit(\"boring_session_auto\")\n    if not allowed:\n        return create_error_result(f\"\u23f1\ufe0f Rate limited: {msg}\")\n\n    project_root = detect_project_root(project_path)\n    if not project_root:\n        return create_error_result(\"\u274c \u627e\u4e0d\u5230\u6709\u6548\u7684 Boring \u5c08\u6848\u3002\")\n\n    try:\n        manager = get_session_manager(project_root)\n        session = manager.get_current_session()\n\n        if not session:\n            return create_error_result(\"\u274c \u6c92\u6709\u9032\u884c\u4e2d\u7684 Session\u3002\")\n\n        session.auto_mode = enable\n        manager.save_session(session)\n\n        if enable:\n            msg_content = \"\"\"# \ud83e\udd16 \u81ea\u52d5\u6a21\u5f0f\u5df2\u555f\u7528\n\n\u26a0\ufe0f **\u8b66\u544a**: \u81ea\u52d5\u6a21\u5f0f\u4e0b\uff0c\u6211\u5c07\uff1a\n- \u81ea\u52d5\u78ba\u8a8d\u6bcf\u500b\u6b65\u9a5f\n- \u81ea\u52d5\u4fee\u5fa9\u9047\u5230\u7684\u554f\u984c\n- \u53ea\u5728\u56b4\u91cd\u932f\u8aa4\u6642\u66ab\u505c\n\n\u4f7f\u7528 `boring_session_auto(enable=False)` \u95dc\u9589\u81ea\u52d5\u6a21\u5f0f\u3002\n\"\"\"\n        else:\n            msg_content = \"\"\"# \ud83c\udfae \u624b\u52d5\u6a21\u5f0f\u5df2\u555f\u7528\n\n\u2705 \u6bcf\u500b\u6b65\u9a5f\u90fd\u6703\u7b49\u5f85\u4f60\u7684\u78ba\u8a8d\u5f8c\u624d\u57f7\u884c\u3002\n\"\"\"\n        return create_success_result(message=msg_content, data={\"auto_mode\": enable})\n\n    except Exception as e:\n        logger.error(f\"Failed to toggle auto mode: {e}\")\n        return create_error_result(f\"\u274c \u5207\u63db\u5931\u6557: {str(e)}\")\n</code></pre>"},{"location":"api/tools_zh/#knowledge-learning","title":"Knowledge &amp; Learning (\u77e5\u8b58\u8207\u5b78\u7fd2)","text":""},{"location":"api/tools_zh/#boring.mcp.tools.knowledge","title":"<code>boring.mcp.tools.knowledge</code>","text":""},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_learn","title":"<code>boring_learn(project_path=None)</code>","text":"<p>Trigger learning from .boring/memory to .boring/brain.</p> <p>Extracts successful patterns from loop history and error solutions, storing them in learned_patterns/ for future reference.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_learn(\n    project_path: Annotated[\n        str | None, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Trigger learning from .boring/memory to .boring/brain.\n\n    Extracts successful patterns from loop history and error solutions,\n    storing them in learned_patterns/ for future reference.\n    \"\"\"\n    try:\n        from ...config import settings\n        from ...intelligence.brain_manager import BrainManager\n        from ...services.storage import SQLiteStorage\n\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error\n\n        configure_runtime_for_project(project_root)\n\n        # Initialize storage and brain\n        storage = SQLiteStorage(project_root / \".boring/memory\", settings.LOG_DIR)\n        brain = BrainManager(project_root, settings.LOG_DIR)\n\n        # Learn from memory\n        return brain.learn_from_memory(storage)\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_create_rubrics","title":"<code>boring_create_rubrics(project_path=None)</code>","text":"<p>Create default evaluation rubrics in .boring/brain/rubrics/.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_create_rubrics(\n    project_path: Annotated[\n        str | None, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Create default evaluation rubrics in .boring/brain/rubrics/.\n    \"\"\"\n    try:\n        from ...config import settings\n        from ...intelligence.brain_manager import BrainManager\n\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error\n\n        configure_runtime_for_project(project_root)\n\n        brain = BrainManager(project_root, settings.LOG_DIR)\n        return brain.create_default_rubrics()\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_brain_status","title":"<code>boring_brain_status(project_path=None)</code>","text":"<p>Get status of .boring/brain and detected Project Context.</p> <p>Action 3: Brain Visualization Action 2: Dynamic Discovery (Context Reporting)</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_brain_status(\n    project_path: Annotated[\n        str | None, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Get status of .boring/brain and detected Project Context.\n\n    Action 3: Brain Visualization\n    Action 2: Dynamic Discovery (Context Reporting)\n    \"\"\"\n    try:\n        from ...config import settings\n        from ...intelligence.brain_manager import BrainManager\n\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error\n\n        configure_runtime_for_project(project_root)\n\n        brain = BrainManager(project_root, settings.LOG_DIR)\n        summary = brain.get_brain_summary()\n\n        # Action 2: Add Context Capabilities\n        context = detect_context_capabilities(project_root)\n\n        return {\n            \"status\": \"SUCCESS\",\n            \"brain_health\": \"Active\" if context[\"has_boring_brain\"] else \"Not Initialized\",\n            \"stats\": summary,\n            \"context\": context,\n            \"location\": str(project_root / \".boring/brain\"),\n        }\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_brain_sync","title":"<code>boring_brain_sync(remote_url=None)</code>","text":"<p>Sync global brain knowledge with a remote Git repository (Push/Pull).</p> <p>Enable 'Knowledge Swarm' by syncing your ~/.boring_brain/global_patterns.json.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_brain_sync(\n    remote_url: Annotated[\n        str | None, Field(description=\"Git remote URL. If None, uses configured origin.\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Sync global brain knowledge with a remote Git repository (Push/Pull).\n\n    Enable 'Knowledge Swarm' by syncing your ~/.boring_brain/global_patterns.json.\n    \"\"\"\n    try:\n        from ...intelligence.brain_manager import GlobalKnowledgeStore\n\n        store = GlobalKnowledgeStore()\n        return store.sync_with_remote(remote_url)\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_distill_skills","title":"<code>boring_distill_skills(min_success=3)</code>","text":"<p>Distill high-success patterns into Strategic Skills (Skill Compilation).</p> <p>Converts frequently successful learned patterns into compiled 'Skills' that are given higher priority in future reasoning iterations.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_distill_skills(\n    min_success: Annotated[\n        int, Field(description=\"Minimum success count to distill into a skill (default: 3)\")\n    ] = 3,\n) -&gt; dict:\n    \"\"\"\n    Distill high-success patterns into Strategic Skills (Skill Compilation).\n\n    Converts frequently successful learned patterns into compiled 'Skills' that\n    are given higher priority in future reasoning iterations.\n    \"\"\"\n    try:\n        from ...intelligence.brain_manager import get_global_store\n\n        store = get_global_store()\n        return store.distill_skills(min_success=min_success)\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_get_relevant_patterns","title":"<code>boring_get_relevant_patterns(limit=5, project_path=None)</code>","text":"<p>Get relevant patterns (Skills) for the current project context.</p> <p>Uses project capabilities (e.g., detected frameworks) to find matching learned patterns in the Brain.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_get_relevant_patterns(\n    limit: Annotated[int, Field(description=\"Maximum patterns to return\")] = 5,\n    project_path: Annotated[\n        str | None, Field(description=\"Optional explicit path to project root\")\n    ] = None,\n) -&gt; dict:\n    \"\"\"\n    Get relevant patterns (Skills) for the current project context.\n\n    Uses project capabilities (e.g., detected frameworks) to find matching\n    learned patterns in the Brain.\n    \"\"\"\n    try:\n        from ...config import settings\n        from ...intelligence.brain_manager import BrainManager\n\n        project_root, error = get_project_root_or_error(project_path)\n        if error:\n            return error\n\n        configure_runtime_for_project(project_root)\n\n        # Initialize Brain\n        brain = BrainManager(project_root, settings.LOG_DIR)\n\n        # Detected context tags\n        context_caps = detect_context_capabilities(project_root)\n\n        # Extract tags from context capabilities\n        tags = []\n        if context_caps.get(\"languages\"):\n            tags.extend(context_caps[\"languages\"])\n        if context_caps.get(\"frameworks\"):\n            tags.extend(context_caps[\"frameworks\"])\n\n        context_str = f\"Project: {project_root.name} \" + \" \".join(tags)\n\n        return brain.get_relevant_patterns(context=context_str, limit=limit)\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.boring_usage_stats","title":"<code>boring_usage_stats(limit=10)</code>","text":"<p>Show your personal tool usage statistics (Adaptive Profile Dashboard).</p> <p>Returns a formatted markdown report of your most frequently used tools, helping you understand your workflow patterns.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>@audited\ndef boring_usage_stats(\n    limit: Annotated[int, Field(description=\"Number of top tools to show (default: 10)\")] = 10,\n) -&gt; str:\n    \"\"\"\n    Show your personal tool usage statistics (Adaptive Profile Dashboard).\n\n    Returns a formatted markdown report of your most frequently used tools,\n    helping you understand your workflow patterns.\n    \"\"\"\n    import time\n    from datetime import datetime\n\n    try:\n        from ...intelligence.usage_tracker import get_tracker\n\n        tracker = get_tracker()\n        stats = tracker.stats\n\n        if stats.total_calls == 0:\n            return (\n                \"## \ud83d\udcca Usage Statistics\\n\\n\"\n                \"No usage data yet. Start using Boring tools to build your profile!\\n\\n\"\n                \"\ud83d\udca1 Enable `BORING_MCP_PROFILE=adaptive` to auto-personalize your toolset.\"\n            )\n\n        # Build markdown report\n        lines = [\"## \ud83d\udcca Usage Statistics\\n\"]\n\n        # Summary\n        last_updated = datetime.fromtimestamp(stats.last_updated).strftime(\"%Y-%m-%d %H:%M\")\n        lines.append(f\"**Total Calls:** {stats.total_calls}\")\n        lines.append(f\"**Last Activity:** {last_updated}\")\n        lines.append(f\"**Tools Tracked:** {len(stats.tools)}\\n\")\n\n        # Top tools table\n        lines.append(\"### \ud83c\udfc6 Top Tools\\n\")\n        lines.append(\"| Rank | Tool | Calls | Last Used |\")\n        lines.append(\"|------|------|-------|-----------|\")\n\n        top_tools = tracker.get_top_tools(limit=limit)\n\n        for i, tool_name in enumerate(top_tools, 1):\n            usage = stats.tools.get(tool_name)\n            if usage:\n                # Relative time\n                seconds_ago = time.time() - usage.last_used\n                if seconds_ago &lt; 60:\n                    relative = \"just now\"\n                elif seconds_ago &lt; 3600:\n                    relative = f\"{int(seconds_ago / 60)}m ago\"\n                elif seconds_ago &lt; 86400:\n                    relative = f\"{int(seconds_ago / 3600)}h ago\"\n                else:\n                    relative = f\"{int(seconds_ago / 86400)}d ago\"\n\n                lines.append(f\"| {i} | `{tool_name}` | {usage.count} | {relative} |\")\n\n        lines.append(\"\\n---\")\n        lines.append(\"\ud83d\udca1 Use `BORING_MCP_PROFILE=adaptive` to auto-include your top tools!\")\n\n        return \"\\n\".join(lines)\n\n    except Exception as e:\n        return f\"\u274c Failed to retrieve usage stats: {e}\"\n</code></pre>"},{"location":"api/tools_zh/#boring.mcp.tools.knowledge.register_knowledge_tools","title":"<code>register_knowledge_tools(mcp, audited, helpers)</code>","text":"<p>Refactored registration for knowledge tools.</p> Source code in <code>src/boring/mcp/tools/knowledge.py</code> <pre><code>def register_knowledge_tools(mcp, audited, helpers):\n    \"\"\"Refactored registration for knowledge tools.\"\"\"\n    mcp.tool(\n        description=\"Learn patterns from memory (brain).\",\n        annotations={\"readOnlyHint\": False, \"destructiveHint\": False},\n    )(boring_learn)\n\n    mcp.tool(description=\"Create evaluation rubrics.\", annotations={\"readOnlyHint\": False})(\n        boring_create_rubrics\n    )\n\n    mcp.tool(\n        description=\"Get Brain Status &amp; Context (Visualization).\",\n        annotations={\"readOnlyHint\": True},\n    )(boring_brain_status)\n\n    mcp.tool(\n        description=\"Sync global brain with Git (Knowledge Swarm).\",\n        annotations={\"readOnlyHint\": False, \"openWorldHint\": True},\n    )(boring_brain_sync)\n\n    mcp.tool(\n        description=\"Distill patterns into Strategic Skills (Skill Compilation).\",\n        annotations={\"readOnlyHint\": False},\n    )(boring_distill_skills)\n\n    mcp.tool(\n        description=\"Get relevant patterns (skills) for the current context.\",\n        annotations={\"readOnlyHint\": True},\n    )(boring_get_relevant_patterns)\n\n    # P4: Usage Analytics Dashboard\n    mcp.tool(\n        description=\"Show your personal tool usage statistics (Adaptive Profile Dashboard).\",\n        annotations={\"readOnlyHint\": True},\n    )(boring_usage_stats)\n</code></pre>"},{"location":"api/utils_zh/","title":"Utilities API \u53c3\u8003","text":""},{"location":"api/utils_zh/#boring.utils","title":"<code>boring.utils</code>","text":""},{"location":"api/utils_zh/#boring.utils.TransactionalFileWriter","title":"<code>TransactionalFileWriter</code>","text":"<p>Ensures atomic file writes using a temporary file. Prevents data corruption during concurrent access or crashes.</p> Source code in <code>src/boring/core/utils.py</code> <pre><code>class TransactionalFileWriter:\n    \"\"\"\n    Ensures atomic file writes using a temporary file.\n    Prevents data corruption during concurrent access or crashes.\n    \"\"\"\n\n    @staticmethod\n    def write_json(file_path: Path, data: dict, indent: int = 4) -&gt; bool:\n        \"\"\"Write a dictionary to a JSON file atomically.\"\"\"\n        file_path = Path(file_path)\n        file_path.parent.mkdir(parents=True, exist_ok=True)\n\n        # Create temporary file in the same directory\n        temp_fd, temp_path = tempfile.mkstemp(\n            suffix=\".tmp\", prefix=\".boring_\", dir=file_path.parent\n        )\n        try:\n            with os.fdopen(temp_fd, \"w\", encoding=\"utf-8\") as f:\n                json.dump(data, f, indent=indent, ensure_ascii=False)\n                f.flush()\n                # Ensure data is written to disk\n                os.fsync(f.fileno())\n\n            # Atomic replace with retry for Windows lock contention\n            for attempt in range(5):\n                try:\n                    os.replace(temp_path, file_path)\n                    return True\n                except (OSError, PermissionError) as e:\n                    # Windows Error 32: Sharing violation\n                    if attempt &lt; 4 and (getattr(e, \"errno\", 0) == 13 or \"WinError 32\" in str(e)):\n                        time.sleep(0.05 * (attempt + 1))\n                        continue\n                    raise\n\n            return False\n        except Exception as e:\n            if os.path.exists(temp_path):\n                try:\n                    os.unlink(temp_path)\n                except Exception:\n                    pass\n            logger.error(f\"Atomic JSON write failed for {file_path}: {e}\")\n            return False\n\n    @staticmethod\n    def write_text(file_path: Path, content: str) -&gt; bool:\n        \"\"\"Write a string to a file atomically.\"\"\"\n        file_path = Path(file_path)\n        file_path.parent.mkdir(parents=True, exist_ok=True)\n\n        temp_fd, temp_path = tempfile.mkstemp(\n            suffix=\".tmp\", prefix=\".boring_\", dir=file_path.parent\n        )\n        try:\n            with os.fdopen(temp_fd, \"w\", encoding=\"utf-8\") as f:\n                f.write(content)\n                f.flush()\n                os.fsync(f.fileno())\n\n            # Atomic replace with retry for Windows lock contention\n            for attempt in range(5):\n                try:\n                    os.replace(temp_path, file_path)\n                    return True\n                except (OSError, PermissionError) as e:\n                    if attempt &lt; 4 and (getattr(e, \"errno\", 0) == 13 or \"WinError 32\" in str(e)):\n                        time.sleep(0.05 * (attempt + 1))\n                        continue\n                    raise\n\n            return False\n        except Exception as e:\n            if os.path.exists(temp_path):\n                try:\n                    os.unlink(temp_path)\n                except Exception:\n                    pass\n            logger.error(f\"Atomic text write failed for {file_path}: {e}\")\n            return False\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.TransactionalFileWriter.write_json","title":"<code>write_json(file_path, data, indent=4)</code>  <code>staticmethod</code>","text":"<p>Write a dictionary to a JSON file atomically.</p> Source code in <code>src/boring/core/utils.py</code> <pre><code>@staticmethod\ndef write_json(file_path: Path, data: dict, indent: int = 4) -&gt; bool:\n    \"\"\"Write a dictionary to a JSON file atomically.\"\"\"\n    file_path = Path(file_path)\n    file_path.parent.mkdir(parents=True, exist_ok=True)\n\n    # Create temporary file in the same directory\n    temp_fd, temp_path = tempfile.mkstemp(\n        suffix=\".tmp\", prefix=\".boring_\", dir=file_path.parent\n    )\n    try:\n        with os.fdopen(temp_fd, \"w\", encoding=\"utf-8\") as f:\n            json.dump(data, f, indent=indent, ensure_ascii=False)\n            f.flush()\n            # Ensure data is written to disk\n            os.fsync(f.fileno())\n\n        # Atomic replace with retry for Windows lock contention\n        for attempt in range(5):\n            try:\n                os.replace(temp_path, file_path)\n                return True\n            except (OSError, PermissionError) as e:\n                # Windows Error 32: Sharing violation\n                if attempt &lt; 4 and (getattr(e, \"errno\", 0) == 13 or \"WinError 32\" in str(e)):\n                    time.sleep(0.05 * (attempt + 1))\n                    continue\n                raise\n\n        return False\n    except Exception as e:\n        if os.path.exists(temp_path):\n            try:\n                os.unlink(temp_path)\n            except Exception:\n                pass\n        logger.error(f\"Atomic JSON write failed for {file_path}: {e}\")\n        return False\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.TransactionalFileWriter.write_text","title":"<code>write_text(file_path, content)</code>  <code>staticmethod</code>","text":"<p>Write a string to a file atomically.</p> Source code in <code>src/boring/core/utils.py</code> <pre><code>@staticmethod\ndef write_text(file_path: Path, content: str) -&gt; bool:\n    \"\"\"Write a string to a file atomically.\"\"\"\n    file_path = Path(file_path)\n    file_path.parent.mkdir(parents=True, exist_ok=True)\n\n    temp_fd, temp_path = tempfile.mkstemp(\n        suffix=\".tmp\", prefix=\".boring_\", dir=file_path.parent\n    )\n    try:\n        with os.fdopen(temp_fd, \"w\", encoding=\"utf-8\") as f:\n            f.write(content)\n            f.flush()\n            os.fsync(f.fileno())\n\n        # Atomic replace with retry for Windows lock contention\n        for attempt in range(5):\n            try:\n                os.replace(temp_path, file_path)\n                return True\n            except (OSError, PermissionError) as e:\n                if attempt &lt; 4 and (getattr(e, \"errno\", 0) == 13 or \"WinError 32\" in str(e)):\n                    time.sleep(0.05 * (attempt + 1))\n                    continue\n                raise\n\n        return False\n    except Exception as e:\n        if os.path.exists(temp_path):\n            try:\n                os.unlink(temp_path)\n            except Exception:\n                pass\n        logger.error(f\"Atomic text write failed for {file_path}: {e}\")\n        return False\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.check_syntax","title":"<code>check_syntax(file_path)</code>","text":"<p>Checks if a Python file has valid syntax. Returns (is_valid, error_message).</p> Source code in <code>src/boring/core/utils.py</code> <pre><code>def check_syntax(file_path: Path) -&gt; tuple[bool, str]:\n    \"\"\"\n    Checks if a Python file has valid syntax.\n    Returns (is_valid, error_message).\n    \"\"\"\n    try:\n        with open(file_path, encoding=\"utf-8\") as f:\n            source = f.read()\n        ast.parse(source)\n        return True, \"\"\n    except SyntaxError as e:\n        return False, f\"SyntaxError in {file_path.name} line {e.lineno}: {e.msg}\"\n    except Exception as e:\n        return False, f\"Error checking syntax for {file_path.name}: {str(e)}\"\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.check_and_install_dependencies","title":"<code>check_and_install_dependencies(code_content)</code>","text":"<p>Scans code for imports and installs missing packages using pip. Note: This is a heuristics-based approach.</p> Source code in <code>src/boring/core/utils.py</code> <pre><code>def check_and_install_dependencies(code_content: str):\n    \"\"\"\n    Scans code for imports and installs missing packages using pip.\n    Note: This is a heuristics-based approach.\n    \"\"\"\n    # Regex to find 'import x' or 'from x import y'\n    # This is a simple regex, might need refinement for complex cases\n    imports = set()\n\n    # Analyze AST for robust import detection\n    try:\n        tree = ast.parse(code_content)\n        for node in ast.walk(tree):\n            if isinstance(node, ast.Import):\n                for alias in node.names:\n                    imports.add(alias.name.split(\".\")[0])\n            elif isinstance(node, ast.ImportFrom):\n                if node.module:\n                    imports.add(node.module.split(\".\")[0])\n    except Exception:\n        # If code is not parseable, we can't detect imports reliably\n        return\n\n    # Filter out standard library modules\n    # (This is hard to do perfectly without a huge list, relying on pip to handle it usually fine\n    # but to be safe we skip known built-ins if possible, or just accept that pip install sys fails gracefully)\n\n    # Just try to import. If fails, try install.\n    for module_name in imports:\n        if not module_name:\n            continue\n\n        try:\n            __import__(module_name)\n        except ImportError:\n            console.print(\n                f\"[yellow]Module '{module_name}' missing. Attempting to install...[/yellow]\"\n            )\n            try:\n                # Map module name to package name (basic common ones)\n                package_name = _map_module_to_package(module_name)\n                subprocess.check_call([sys.executable, \"-m\", \"pip\", \"install\", package_name])\n                console.print(f\"[green]Successfully installed {package_name}[/green]\")\n            except subprocess.CalledProcessError:\n                console.print(f\"[red]Failed to install {package_name}. Ignoring.[/red]\")\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.robust_write_file","title":"<code>robust_write_file(path, content)</code>","text":"<p>Write text to file with retries.</p> Source code in <code>src/boring/utils/__init__.py</code> <pre><code>@retry(stop=stop_after_attempt(3), wait=wait_fixed(0.5))\ndef robust_write_file(path: Path, content: str) -&gt; None:\n    \"\"\"Write text to file with retries.\"\"\"\n    path.write_text(content, encoding=\"utf-8\")\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.robust_read_file","title":"<code>robust_read_file(path)</code>","text":"<p>Read text from file with retries.</p> Source code in <code>src/boring/utils/__init__.py</code> <pre><code>@retry(stop=stop_after_attempt(3), wait=wait_fixed(0.5))\ndef robust_read_file(path: Path) -&gt; str:\n    \"\"\"Read text from file with retries.\"\"\"\n    return path.read_text(encoding=\"utf-8\")\n</code></pre>"},{"location":"api/utils_zh/#boring.utils.get_project_tree","title":"<code>get_project_tree(path, ignore_patterns=None, max_depth=-1, prefix='')</code>","text":"<p>Recursively lists the contents of a directory, similar to the <code>tree</code> command.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>Path</code> <p>The starting directory path.</p> required <code>ignore_patterns</code> <code>list</code> <p>A list of glob patterns to ignore.</p> <code>None</code> <code>max_depth</code> <code>int</code> <p>The maximum depth to traverse. -1 for no limit.</p> <code>-1</code> <code>prefix</code> <code>str</code> <p>Internal parameter for recursion, do not use.</p> <code>''</code> <p>Returns:</p> Type Description <code>str</code> <p>A string representing the directory tree.</p> Source code in <code>src/boring/utils/__init__.py</code> <pre><code>def get_project_tree(\n    path: Path, ignore_patterns: list = None, max_depth: int = -1, prefix: str = \"\"\n) -&gt; str:\n    \"\"\"\n    Recursively lists the contents of a directory, similar to the `tree` command.\n\n    Args:\n        path: The starting directory path.\n        ignore_patterns: A list of glob patterns to ignore.\n        max_depth: The maximum depth to traverse. -1 for no limit.\n        prefix: Internal parameter for recursion, do not use.\n\n    Returns:\n        A string representing the directory tree.\n    \"\"\"\n    if ignore_patterns is None:\n        ignore_patterns = []\n\n    tree_str = \"\"\n    if prefix == \"\":\n        tree_str += f\"{path.name}/\\n\"\n\n    if max_depth == 0:\n        return tree_str\n\n    entries = sorted(path.iterdir(), key=lambda e: (not e.is_dir(), e.name.lower()))\n\n    filtered_entries = []\n    for entry in entries:\n        is_ignored = any(entry.match(pattern) for pattern in ignore_patterns)\n        if not is_ignored:\n            filtered_entries.append(entry)\n\n    for i, entry in enumerate(filtered_entries):\n        connector = \"\u251c\u2500\u2500 \" if i &lt; len(entries) - 1 else \"\u2514\u2500\u2500 \"\n        entry_name = f\"{entry.name}/\" if entry.is_dir() else entry.name\n        tree_str += f\"{prefix}{connector}{entry_name}\\n\"\n\n        if entry.is_dir():\n            if max_depth != -1:\n                sub_max_depth = max_depth - 1\n            else:\n                sub_max_depth = -1\n            extension_prefix = \"\u2502   \" if i &lt; len(entries) - 1 else \"    \"\n            tree_str += get_project_tree(\n                entry, ignore_patterns, sub_max_depth, prefix + extension_prefix\n            )\n\n    return tree_str\n</code></pre>"},{"location":"api/verification/","title":"Verification API Reference","text":"<p>\u81ea\u52d5\u9a57\u8b49\u8207\u6e2c\u8a66\u57f7\u884c\u6a21\u7d44\u3002</p>"},{"location":"api/verification/#verifier","title":"Verifier (\u9a57\u8b49\u5668)","text":""},{"location":"api/verification/#boring.verification.verifier","title":"<code>boring.verification.verifier</code>","text":""},{"location":"api/verification/#boring.verification.verifier.CodeVerifier","title":"<code>CodeVerifier</code>","text":"<p>Polyglot code verification system. Refactored in V10.15 for better modularity.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>class CodeVerifier:\n    \"\"\"\n    Polyglot code verification system.\n    Refactored in V10.15 for better modularity.\n    \"\"\"\n\n    def __init__(\n        self, project_root: Path = None, log_dir: Path = None, judge=None, use_cache: bool = True\n    ):\n        self.project_root = project_root or settings.PROJECT_ROOT\n        self.log_dir = log_dir or settings.LOG_DIR\n        self.judge = judge\n        self.cache = VerificationCache(self.project_root) if use_cache else None\n\n        self.custom_rules = load_custom_rules(self.project_root)\n        self.tools = ToolManager()\n\n        # Dispatch configuration\n        self.handlers = {\n            \".py\": {\n                \"syntax\": handlers.verify_syntax_python,\n                \"lint\": handlers.verify_lint_python,\n                \"import\": handlers.verify_imports_python,\n            },\n            \".js\": {\n                \"syntax\": handlers.verify_syntax_node,\n                \"lint\": handlers.verify_lint_node,\n                \"import\": handlers.verify_imports_node,\n            },\n            \".jsx\": {\n                \"syntax\": handlers.verify_syntax_node,\n                \"lint\": handlers.verify_lint_node,\n                \"import\": handlers.verify_imports_node,\n            },\n            \".ts\": {\n                \"syntax\": handlers.verify_syntax_node,\n                \"lint\": handlers.verify_lint_node,\n                \"import\": handlers.verify_imports_node,\n            },\n            \".tsx\": {\n                \"syntax\": handlers.verify_syntax_node,\n                \"lint\": handlers.verify_lint_node,\n                \"import\": handlers.verify_imports_node,\n            },\n            \".go\": {\n                \"syntax\": handlers.verify_syntax_go,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": handlers.verify_imports_go,\n            },\n            \".rs\": {\n                \"syntax\": handlers.verify_syntax_rust,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": None,\n            },\n            \".java\": {\n                \"syntax\": handlers.verify_syntax_java,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": None,\n            },\n            \".c\": {\n                \"syntax\": handlers.verify_syntax_c,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": None,\n            },\n            \".cpp\": {\n                \"syntax\": handlers.verify_syntax_cpp,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": None,\n            },\n            \".h\": {\n                \"syntax\": handlers.verify_syntax_c,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": None,\n            },\n            \".hpp\": {\n                \"syntax\": handlers.verify_syntax_cpp,\n                \"lint\": handlers.verify_lint_generic,\n                \"import\": None,\n            },\n        }\n\n    def verify_syntax(self, file_path: Path) -&gt; VerificationResult:\n        \"\"\"Check syntax based on file extension.\"\"\"\n        ext = file_path.suffix.lower()\n        handler = self.handlers.get(ext)\n        if handler and handler.get(\"syntax\"):\n            return handler[\"syntax\"](file_path, self.project_root, self.tools)\n        return VerificationResult(\n            passed=True, check_type=\"syntax\", message=f\"Skipped: {ext}\", details=[], suggestions=[]\n        )\n\n    def verify_lint(self, file_path: Path, auto_fix: bool = False) -&gt; VerificationResult:\n        \"\"\"Run linter based on file extension.\"\"\"\n        ext = file_path.suffix.lower()\n        handler = self.handlers.get(ext)\n        if handler and handler.get(\"lint\"):\n            return handler[\"lint\"](file_path, self.project_root, self.tools, auto_fix=auto_fix)\n        return VerificationResult(\n            passed=True, check_type=\"lint\", message=\"Skipped\", details=[], suggestions=[]\n        )\n\n    def verify_imports(self, file_path: Path) -&gt; VerificationResult:\n        \"\"\"Check imports based on file extension.\"\"\"\n        ext = file_path.suffix.lower()\n        handler = self.handlers.get(ext)\n        if handler and handler.get(\"import\"):\n            func = handler[\"import\"]\n            if ext == \".go\":\n                return func(file_path, self.project_root, self.tools)\n            return func(file_path, self.project_root)\n        return VerificationResult(\n            passed=True, check_type=\"import\", message=\"Skipped\", details=[], suggestions=[]\n        )\n\n    def _verify_lint_generic(self, file_path: Path) -&gt; VerificationResult:\n        \"\"\"Compatibility wrapper for handlers.verify_lint_generic.\"\"\"\n        return handlers.verify_lint_generic(file_path, self.project_root, self.tools)\n\n    def verify_file(\n        self, file_path: Path, level: str = \"STANDARD\", auto_fix: bool = False\n    ) -&gt; list[VerificationResult]:\n        \"\"\"Run all applicable verifications on a file.\"\"\"\n        results = []\n        ext = file_path.suffix.lower()\n        if ext not in self.handlers:\n            return results\n\n        # Always run syntax check\n        results.append(self.verify_syntax(file_path))\n\n        # Standard level adds linting and imports\n        if level in [\"STANDARD\", \"FULL\", \"SEMANTIC\"]:\n            results.append(self.verify_lint(file_path, auto_fix=auto_fix))\n            results.append(self.verify_imports(file_path))\n\n        if level == \"SEMANTIC\" and self.judge:\n            results.append(self.verify_semantics(file_path))\n\n        return results\n\n    def verify_semantics(self, file_path: Path) -&gt; VerificationResult:\n        \"\"\"Run LLM Judge on file.\"\"\"\n        try:\n            content = file_path.read_text(encoding=\"utf-8\")\n            feedback = self.judge.grade_code(file_path.name, content, interactive=True)\n\n            if feedback.get(\"status\") == \"pending_manual_review\":\n                return VerificationResult(\n                    passed=False,\n                    check_type=\"semantic\",\n                    message=\"\u26a0\ufe0f Manual Review Required (Delegated to Cursor)\",\n                    details=[\"Copy the prompt below to Cursor AI:\"],\n                    suggestions=[feedback.get(\"prompt\", \"\")],\n                )\n\n            score = feedback.get(\"score\", 0)\n            passed = score &gt;= 4.0\n\n            details = []\n            dimensions = feedback.get(\"dimensions\") or feedback.get(\"breakdown\")\n            if dimensions:\n                for k, v in dimensions.items():\n                    details.append(f\"{k}: {v.get('score')}/5 - {v.get('comment')}\")\n\n            strategic = feedback.get(\"strategic_advice\")\n            first_step = feedback.get(\"first_step\")\n            if strategic:\n                details.append(f\"\\n\ud83e\udde0 Strategic Advice: {strategic}\")\n            if first_step:\n                details.append(f\"\ud83d\udc63 First Step: {first_step}\")\n\n            return VerificationResult(\n                passed=passed,\n                check_type=\"semantic\",\n                message=f\"Semantic Score: {score}/5.0 ({'PASS' if passed else 'FAIL'})\",\n                details=details,\n                suggestions=feedback.get(\"suggestions\", []),\n            )\n        except Exception as e:\n            return VerificationResult(\n                passed=False,\n                check_type=\"semantic\",\n                message=f\"Judge failed: {e}\",\n                details=[],\n                suggestions=[],\n            )\n\n    def run_tests(self, test_path: Path = None) -&gt; VerificationResult:\n        \"\"\"Run tests based on project type.\"\"\"\n        # Detect project type\n        if (self.project_root / \"Cargo.toml\").exists():\n            return test_runners.run_tests_rust(self.project_root, self.tools, test_path)\n        elif (self.project_root / \"pom.xml\").exists():\n            return test_runners.run_tests_maven(self.project_root, self.tools, test_path)\n        elif (self.project_root / \"build.gradle\").exists() or (\n            self.project_root / \"build.gradle.kts\"\n        ).exists():\n            return test_runners.run_tests_gradle(self.project_root, self.tools, test_path)\n        elif (self.project_root / \"package.json\").exists():\n            return test_runners.run_tests_node(self.project_root, self.tools, test_path)\n        elif (self.project_root / \"go.mod\").exists():\n            return test_runners.run_tests_go(self.project_root, self.tools, test_path)\n\n        return test_runners.run_tests_python(self.project_root, self.tools, test_path)\n\n    def _aggregate_results(\n        self, file_path: Path, results: list[VerificationResult]\n    ) -&gt; VerificationResult:\n        passed = all(r.passed for r in results)\n        details = []\n        suggestions = []\n        messages = []\n        for r in results:\n            if not r.passed:\n                messages.append(f\"{r.check_type}: {r.message}\")\n            details.extend(r.details)\n            suggestions.extend(r.suggestions)\n\n        return VerificationResult(\n            passed=passed,\n            check_type=\"file_comparison\",\n            message=\"; \".join(messages) if messages else f\"All checks passed: {file_path.name}\",\n            details=details,\n            suggestions=list(set(suggestions)),\n        )\n\n    def _get_git_changed_files(self) -&gt; list[Path]:\n        \"\"\"Get list of files changed in Git.\"\"\"\n        try:\n            staged = subprocess.run(\n                [\"git\", \"diff\", \"--cached\", \"--name-only\"],\n                cwd=self.project_root,\n                capture_output=True,\n                text=True,\n                timeout=10,\n            )\n            unstaged = subprocess.run(\n                [\"git\", \"diff\", \"--name-only\"],\n                cwd=self.project_root,\n                capture_output=True,\n                text=True,\n                timeout=10,\n            )\n            changed = set()\n            for output in [staged.stdout, unstaged.stdout]:\n                for line in output.strip().split(\"\\n\"):\n                    if line:\n                        changed.add(self.project_root / line)\n            return list(changed)\n        except Exception:\n            return []\n\n    def verify_project(\n        self,\n        level: str = \"STANDARD\",\n        auto_fix: bool = False,\n        max_workers: int = 4,\n        force: bool = False,\n        incremental: bool = False,\n    ) -&gt; tuple[bool, str]:\n        target_dir = self.project_root / \"src\"\n        if not target_dir.exists():\n            target_dir = self.project_root\n        if not target_dir.exists():\n            return True, \"Project directory not found\"\n\n        all_results: list[VerificationResult] = []\n        excludes = set(settings.VERIFICATION_EXCLUDES)\n\n        target_files = []\n        for root, dirs, files in os.walk(target_dir):\n            dirs[:] = [d for d in dirs if d not in excludes]\n            for file in files:\n                file_path = Path(root) / file\n                if file_path.suffix.lower() in list(self.handlers.keys()):\n                    target_files.append(file_path)\n\n        if incremental:\n            git_changed = self._get_git_changed_files()\n            if git_changed:\n                target_files = [f for f in target_files if f in git_changed]\n            if not target_files:\n                return True, \"No changed files to verify (incremental mode)\"\n\n        files_to_verify = []\n        if self.cache and not force:\n            for f in target_files:\n                cached = self.cache.get(f)\n                if cached:\n                    all_results.append(cached)\n                else:\n                    files_to_verify.append(f)\n        else:\n            files_to_verify = target_files\n\n        cache_updates = {}\n        if files_to_verify:\n            with Progress(\n                SpinnerColumn(),\n                TextColumn(\"[progress.description]{task.description}\"),\n                BarColumn(),\n                TextColumn(\"[progress.percentage]{task.percentage:&gt;3.0f}%\"),\n                transient=True,\n            ) as progress:\n                task_id = progress.add_task(\n                    f\"Verifying {len(files_to_verify)} files...\", total=len(files_to_verify)\n                )\n                with ThreadPoolExecutor(max_workers=max_workers) as executor:\n                    future_to_file = {\n                        executor.submit(self.verify_file, f, level, auto_fix=auto_fix): f\n                        for f in files_to_verify\n                    }\n                    for future in as_completed(future_to_file):\n                        file_path = future_to_file[future]\n                        progress.advance(task_id)\n                        try:\n                            results = future.result()\n                            all_results.extend(results)\n                            if self.cache:\n                                aggregate = self._aggregate_results(file_path, results)\n                                cache_updates[file_path] = aggregate\n                        except Exception as e:\n                            logger.error(f\"Error verifying {file_path}: {e}\")\n\n        if self.cache and cache_updates:\n            self.cache.bulk_update(cache_updates)\n\n        if level == \"FULL\":\n            all_results.append(self.run_tests())\n\n        failed = [r for r in all_results if not r.passed]\n        if not failed:\n            return True, f\"All {len(all_results)} checks passed\"\n\n        summary_parts = [\"## Verification Failed:\"]\n        for result in failed[:10]:\n            summary_parts.append(f\"\\n### {result.check_type.upper()}: {result.message}\")\n            for detail in result.details[:10]:\n                summary_parts.append(f\"- {detail}\")\n            if result.suggestions:\n                summary_parts.append(\"\\n\ud83d\udca1 **Suggestions:**\")\n                for suggestion in result.suggestions:\n                    summary_parts.append(f\"- {suggestion}\")\n\n        return False, \"\\n\".join(summary_parts)\n\n    def generate_feedback_prompt(self, results: list[VerificationResult]) -&gt; str:\n        failed = [r for r in results if not r.passed]\n        if not failed:\n            return \"\"\n        prompt_parts = [\"CRITICAL: Your code failed verification. You must fix these issues:\\n\"]\n        for result in failed:\n            prompt_parts.append(f\"\\n## {result.check_type.upper()} ERROR\")\n            prompt_parts.append(f\"**Problem:** {result.message}\")\n            if result.details:\n                prompt_parts.append(\"**Details:**\")\n                for detail in result.details:\n                    prompt_parts.append(f\"  - {detail}\")\n            if result.suggestions:\n                prompt_parts.append(f\"**Fix:** {result.suggestions[0]}\")\n        prompt_parts.append(\n            '\\nOutput the COMPLETE fixed file(s) using &lt;file path=\"...\"&gt;...&lt;/file&gt; format.'\n        )\n        return \"\\n\".join(prompt_parts)\n</code></pre>"},{"location":"api/verification/#boring.verification.verifier.CodeVerifier.verify_syntax","title":"<code>verify_syntax(file_path)</code>","text":"<p>Check syntax based on file extension.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>def verify_syntax(self, file_path: Path) -&gt; VerificationResult:\n    \"\"\"Check syntax based on file extension.\"\"\"\n    ext = file_path.suffix.lower()\n    handler = self.handlers.get(ext)\n    if handler and handler.get(\"syntax\"):\n        return handler[\"syntax\"](file_path, self.project_root, self.tools)\n    return VerificationResult(\n        passed=True, check_type=\"syntax\", message=f\"Skipped: {ext}\", details=[], suggestions=[]\n    )\n</code></pre>"},{"location":"api/verification/#boring.verification.verifier.CodeVerifier.verify_lint","title":"<code>verify_lint(file_path, auto_fix=False)</code>","text":"<p>Run linter based on file extension.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>def verify_lint(self, file_path: Path, auto_fix: bool = False) -&gt; VerificationResult:\n    \"\"\"Run linter based on file extension.\"\"\"\n    ext = file_path.suffix.lower()\n    handler = self.handlers.get(ext)\n    if handler and handler.get(\"lint\"):\n        return handler[\"lint\"](file_path, self.project_root, self.tools, auto_fix=auto_fix)\n    return VerificationResult(\n        passed=True, check_type=\"lint\", message=\"Skipped\", details=[], suggestions=[]\n    )\n</code></pre>"},{"location":"api/verification/#boring.verification.verifier.CodeVerifier.verify_imports","title":"<code>verify_imports(file_path)</code>","text":"<p>Check imports based on file extension.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>def verify_imports(self, file_path: Path) -&gt; VerificationResult:\n    \"\"\"Check imports based on file extension.\"\"\"\n    ext = file_path.suffix.lower()\n    handler = self.handlers.get(ext)\n    if handler and handler.get(\"import\"):\n        func = handler[\"import\"]\n        if ext == \".go\":\n            return func(file_path, self.project_root, self.tools)\n        return func(file_path, self.project_root)\n    return VerificationResult(\n        passed=True, check_type=\"import\", message=\"Skipped\", details=[], suggestions=[]\n    )\n</code></pre>"},{"location":"api/verification/#boring.verification.verifier.CodeVerifier.verify_file","title":"<code>verify_file(file_path, level='STANDARD', auto_fix=False)</code>","text":"<p>Run all applicable verifications on a file.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>def verify_file(\n    self, file_path: Path, level: str = \"STANDARD\", auto_fix: bool = False\n) -&gt; list[VerificationResult]:\n    \"\"\"Run all applicable verifications on a file.\"\"\"\n    results = []\n    ext = file_path.suffix.lower()\n    if ext not in self.handlers:\n        return results\n\n    # Always run syntax check\n    results.append(self.verify_syntax(file_path))\n\n    # Standard level adds linting and imports\n    if level in [\"STANDARD\", \"FULL\", \"SEMANTIC\"]:\n        results.append(self.verify_lint(file_path, auto_fix=auto_fix))\n        results.append(self.verify_imports(file_path))\n\n    if level == \"SEMANTIC\" and self.judge:\n        results.append(self.verify_semantics(file_path))\n\n    return results\n</code></pre>"},{"location":"api/verification/#boring.verification.verifier.CodeVerifier.verify_semantics","title":"<code>verify_semantics(file_path)</code>","text":"<p>Run LLM Judge on file.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>def verify_semantics(self, file_path: Path) -&gt; VerificationResult:\n    \"\"\"Run LLM Judge on file.\"\"\"\n    try:\n        content = file_path.read_text(encoding=\"utf-8\")\n        feedback = self.judge.grade_code(file_path.name, content, interactive=True)\n\n        if feedback.get(\"status\") == \"pending_manual_review\":\n            return VerificationResult(\n                passed=False,\n                check_type=\"semantic\",\n                message=\"\u26a0\ufe0f Manual Review Required (Delegated to Cursor)\",\n                details=[\"Copy the prompt below to Cursor AI:\"],\n                suggestions=[feedback.get(\"prompt\", \"\")],\n            )\n\n        score = feedback.get(\"score\", 0)\n        passed = score &gt;= 4.0\n\n        details = []\n        dimensions = feedback.get(\"dimensions\") or feedback.get(\"breakdown\")\n        if dimensions:\n            for k, v in dimensions.items():\n                details.append(f\"{k}: {v.get('score')}/5 - {v.get('comment')}\")\n\n        strategic = feedback.get(\"strategic_advice\")\n        first_step = feedback.get(\"first_step\")\n        if strategic:\n            details.append(f\"\\n\ud83e\udde0 Strategic Advice: {strategic}\")\n        if first_step:\n            details.append(f\"\ud83d\udc63 First Step: {first_step}\")\n\n        return VerificationResult(\n            passed=passed,\n            check_type=\"semantic\",\n            message=f\"Semantic Score: {score}/5.0 ({'PASS' if passed else 'FAIL'})\",\n            details=details,\n            suggestions=feedback.get(\"suggestions\", []),\n        )\n    except Exception as e:\n        return VerificationResult(\n            passed=False,\n            check_type=\"semantic\",\n            message=f\"Judge failed: {e}\",\n            details=[],\n            suggestions=[],\n        )\n</code></pre>"},{"location":"api/verification/#boring.verification.verifier.CodeVerifier.run_tests","title":"<code>run_tests(test_path=None)</code>","text":"<p>Run tests based on project type.</p> Source code in <code>src/boring/verification/verifier.py</code> <pre><code>def run_tests(self, test_path: Path = None) -&gt; VerificationResult:\n    \"\"\"Run tests based on project type.\"\"\"\n    # Detect project type\n    if (self.project_root / \"Cargo.toml\").exists():\n        return test_runners.run_tests_rust(self.project_root, self.tools, test_path)\n    elif (self.project_root / \"pom.xml\").exists():\n        return test_runners.run_tests_maven(self.project_root, self.tools, test_path)\n    elif (self.project_root / \"build.gradle\").exists() or (\n        self.project_root / \"build.gradle.kts\"\n    ).exists():\n        return test_runners.run_tests_gradle(self.project_root, self.tools, test_path)\n    elif (self.project_root / \"package.json\").exists():\n        return test_runners.run_tests_node(self.project_root, self.tools, test_path)\n    elif (self.project_root / \"go.mod\").exists():\n        return test_runners.run_tests_go(self.project_root, self.tools, test_path)\n\n    return test_runners.run_tests_python(self.project_root, self.tools, test_path)\n</code></pre>"},{"location":"api/verification/#test-runners","title":"Test Runners (\u6e2c\u8a66\u57f7\u884c)","text":""},{"location":"api/verification/#boring.verification.test_runners","title":"<code>boring.verification.test_runners</code>","text":""},{"location":"api/vibe_zh/","title":"Vibe Module API \u53c3\u8003","text":"<p>Boring \u7684\u6838\u5fc3\u611f\u77e5\u8207\u6c7a\u7b56\u5f15\u64ce\u3002</p>"},{"location":"api/vibe_zh/#vibe-engine","title":"Vibe Engine (\u6838\u5fc3\u5f15\u64ce)","text":""},{"location":"api/vibe_zh/#boring.vibe.engine","title":"<code>boring.vibe.engine</code>","text":"<p>Vibe Engine (V10.23 Enhanced).</p> <p>Core dispatcher that routes requests to appropriate language handlers.</p> <p>V10.23 Enhancements: - Performance tracking for all operations - Analysis result caching (LRU with TTL) - Handler performance statistics - Integration with AdaptiveCache for cross-request optimization</p>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibePerformanceStats","title":"<code>VibePerformanceStats</code>  <code>dataclass</code>","text":"<p>V10.23: Performance tracking for Vibe operations.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>@dataclass\nclass VibePerformanceStats:\n    \"\"\"V10.23: Performance tracking for Vibe operations.\"\"\"\n\n    total_analyses: int = 0\n    total_reviews: int = 0\n    total_test_gens: int = 0\n    cache_hits: int = 0\n    cache_misses: int = 0\n    total_time_ms: float = 0.0\n    handler_times: dict = field(default_factory=dict)  # handler_name -&gt; total_ms\n\n    @property\n    def cache_hit_rate(self) -&gt; float:\n        total = self.cache_hits + self.cache_misses\n        return self.cache_hits / total if total &gt; 0 else 0.0\n\n    @property\n    def avg_operation_time_ms(self) -&gt; float:\n        total_ops = self.total_analyses + self.total_reviews + self.total_test_gens\n        return self.total_time_ms / total_ops if total_ops &gt; 0 else 0.0\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine","title":"<code>VibeEngine</code>","text":"<p>Main engine for Vibe Coder Pro tools (V10.23 Enhanced). Uses Strategy Pattern to select the correct handler for a file.</p> <p>V10.23 Features: - LRU cache for analysis results (reduces repeated work) - Performance tracking per handler - Statistics for optimization insights</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>class VibeEngine:\n    \"\"\"\n    Main engine for Vibe Coder Pro tools (V10.23 Enhanced).\n    Uses Strategy Pattern to select the correct handler for a file.\n\n    V10.23 Features:\n    - LRU cache for analysis results (reduces repeated work)\n    - Performance tracking per handler\n    - Statistics for optimization insights\n    \"\"\"\n\n    # V10.23: Cache configuration\n    CACHE_MAX_SIZE = 50\n    CACHE_TTL_SECONDS = 300  # 5 minutes\n\n    def __init__(self):\n        self._handlers: dict[str, BaseHandler] = {}\n        self._default_handler: BaseHandler | None = None\n\n        # V10.23: Analysis cache (key -&gt; (result, timestamp))\n        self._analysis_cache: dict[str, tuple] = {}\n        self._review_cache: dict[str, tuple] = {}\n\n        # V10.23: Performance tracking\n        self._stats = VibePerformanceStats()\n\n    def register_handler(self, handler: BaseHandler):\n        \"\"\"Register a language handler.\"\"\"\n        for ext in handler.supported_extensions:\n            self._handlers[ext.lower()] = handler\n\n    def get_handler(self, file_path: str) -&gt; BaseHandler | None:\n        \"\"\"Get the appropriate handler for a file path.\"\"\"\n        ext = Path(file_path).suffix.lower()\n        return self._handlers.get(ext, self._default_handler)\n\n    def _cache_key(self, file_path: str, source_code: str, operation: str) -&gt; str:\n        \"\"\"V10.23: Generate cache key from file and content.\"\"\"\n        # Use sha256 for cache key (non-security)\n        content_hash = hashlib.sha256(source_code.encode()).hexdigest()[:16]\n        return f\"{operation}:{file_path}:{content_hash}\"\n\n    def _get_cached(self, cache: dict, key: str):\n        \"\"\"V10.23: Get from cache if not expired.\"\"\"\n        if key in cache:\n            result, timestamp = cache[key]\n            if time.time() - timestamp &lt; self.CACHE_TTL_SECONDS:\n                self._stats.cache_hits += 1\n                return result\n            else:\n                del cache[key]  # Expired\n        self._stats.cache_misses += 1\n        return None\n\n    def _set_cached(self, cache: dict, key: str, result):\n        \"\"\"V10.23: Add to cache with LRU eviction.\"\"\"\n        if len(cache) &gt;= self.CACHE_MAX_SIZE:\n            # Remove oldest entry\n            oldest_key = min(cache.keys(), key=lambda k: cache[k][1])\n            del cache[oldest_key]\n        cache[key] = (result, time.time())\n\n    def _track_time(self, handler_name: str, elapsed_ms: float):\n        \"\"\"V10.23: Track operation time per handler.\"\"\"\n        self._stats.total_time_ms += elapsed_ms\n        if handler_name not in self._stats.handler_times:\n            self._stats.handler_times[handler_name] = 0.0\n        self._stats.handler_times[handler_name] += elapsed_ms\n\n    def analyze_for_test_gen(self, file_path: str, source_code: str) -&gt; TestGenResult:\n        \"\"\"Route test generation analysis to appropriate handler (V10.23: cached).\"\"\"\n        handler = self.get_handler(file_path)\n        if not handler:\n            raise ValueError(\n                T(\n                    \"vibe_unsupported_file_type\",\n                    suffix=Path(file_path).suffix,\n                )\n            )\n\n        # V10.23: Check cache\n        cache_key = self._cache_key(file_path, source_code, \"test_gen\")\n        cached = self._get_cached(self._analysis_cache, cache_key)\n        if cached:\n            return cached\n\n        # Execute with timing\n        start = time.time()\n        result = handler.analyze_for_test_gen(file_path, source_code)\n        elapsed_ms = (time.time() - start) * 1000\n\n        # V10.23: Track stats\n        self._stats.total_analyses += 1\n        self._track_time(handler.language_name, elapsed_ms)\n\n        # V10.23: Cache result\n        self._set_cached(self._analysis_cache, cache_key, result)\n\n        return result\n\n    def perform_code_review(\n        self, file_path: str, source_code: str, focus: str = \"all\"\n    ) -&gt; ReviewResult:\n        \"\"\"Route code review to appropriate handler (V10.23: cached).\"\"\"\n        handler = self.get_handler(file_path)\n        if not handler:\n            raise ValueError(\n                T(\n                    \"vibe_unsupported_file_type\",\n                    suffix=Path(file_path).suffix,\n                )\n            )\n\n        # V10.23: Check cache (include focus in key)\n        cache_key = self._cache_key(file_path, source_code, f\"review_{focus}\")\n        cached = self._get_cached(self._review_cache, cache_key)\n        if cached:\n            return cached\n\n        # Execute with timing\n        start = time.time()\n        result = handler.perform_code_review(file_path, source_code, focus)\n        elapsed_ms = (time.time() - start) * 1000\n\n        # V10.23: Track stats\n        self._stats.total_reviews += 1\n        self._track_time(handler.language_name, elapsed_ms)\n\n        # V10.23: Cache result\n        self._set_cached(self._review_cache, cache_key, result)\n\n        return result\n\n    def generate_test_code(self, result: TestGenResult, project_root: str) -&gt; str:\n        \"\"\"Route test generation string creation.\"\"\"\n        handler = self.get_handler(result.file_path)\n        if not handler:\n            raise ValueError(T(\"vibe_no_handler_found\", file_path=result.file_path))\n\n        start = time.time()\n        code = handler.generate_test_code(result, project_root)\n        elapsed_ms = (time.time() - start) * 1000\n\n        # V10.23: Track stats\n        self._stats.total_test_gens += 1\n        self._track_time(handler.language_name, elapsed_ms)\n\n        return code\n\n    def extract_dependencies(self, file_path: str, source_code: str) -&gt; list[str]:\n        \"\"\"Route dependency extraction.\"\"\"\n        handler = self.get_handler(file_path)\n        if not handler:\n            return []\n        return handler.extract_dependencies(file_path, source_code)\n\n    def extract_documentation(self, file_path: str, source_code: str) -&gt; DocResult:\n        \"\"\"Identify documentation and comments in code.\"\"\"\n        handler = self.get_handler(file_path)\n        if not handler:\n            return DocResult(file_path=file_path, module_doc=\"\", items=[])\n        return handler.extract_documentation(file_path, source_code)\n\n    # =========================================================================\n    # V10.23: Statistics and Cache Management\n    # =========================================================================\n\n    def get_stats(self) -&gt; dict:\n        \"\"\"V10.23: Get performance statistics.\"\"\"\n        return {\n            \"total_analyses\": self._stats.total_analyses,\n            \"total_reviews\": self._stats.total_reviews,\n            \"total_test_gens\": self._stats.total_test_gens,\n            \"cache_hit_rate\": round(self._stats.cache_hit_rate, 3),\n            \"cache_hits\": self._stats.cache_hits,\n            \"cache_misses\": self._stats.cache_misses,\n            \"avg_operation_time_ms\": round(self._stats.avg_operation_time_ms, 2),\n            \"handler_times\": self._stats.handler_times,\n            \"analysis_cache_size\": len(self._analysis_cache),\n            \"review_cache_size\": len(self._review_cache),\n        }\n\n    def clear_cache(self):\n        \"\"\"V10.23: Clear all caches.\"\"\"\n        self._analysis_cache.clear()\n        self._review_cache.clear()\n\n    def get_stats_report(self) -&gt; str:\n        \"\"\"V10.23: Get human-readable performance report.\"\"\"\n        stats = self.get_stats()\n        lines = [\n            \"\ud83d\ude80 **Vibe Engine Performance (V10.23)**\",\n            f\"- Total Operations: {stats['total_analyses'] + stats['total_reviews'] + stats['total_test_gens']}\",\n            f\"- Cache Hit Rate: {stats['cache_hit_rate']:.1%}\",\n            f\"- Avg Operation Time: {stats['avg_operation_time_ms']:.1f}ms\",\n            \"\",\n            \"**Handler Breakdown:**\",\n        ]\n        for handler, time_ms in stats[\"handler_times\"].items():\n            lines.append(f\"  - {handler}: {time_ms:.1f}ms total\")\n\n        return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.register_handler","title":"<code>register_handler(handler)</code>","text":"<p>Register a language handler.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def register_handler(self, handler: BaseHandler):\n    \"\"\"Register a language handler.\"\"\"\n    for ext in handler.supported_extensions:\n        self._handlers[ext.lower()] = handler\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.get_handler","title":"<code>get_handler(file_path)</code>","text":"<p>Get the appropriate handler for a file path.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def get_handler(self, file_path: str) -&gt; BaseHandler | None:\n    \"\"\"Get the appropriate handler for a file path.\"\"\"\n    ext = Path(file_path).suffix.lower()\n    return self._handlers.get(ext, self._default_handler)\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.analyze_for_test_gen","title":"<code>analyze_for_test_gen(file_path, source_code)</code>","text":"<p>Route test generation analysis to appropriate handler (V10.23: cached).</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def analyze_for_test_gen(self, file_path: str, source_code: str) -&gt; TestGenResult:\n    \"\"\"Route test generation analysis to appropriate handler (V10.23: cached).\"\"\"\n    handler = self.get_handler(file_path)\n    if not handler:\n        raise ValueError(\n            T(\n                \"vibe_unsupported_file_type\",\n                suffix=Path(file_path).suffix,\n            )\n        )\n\n    # V10.23: Check cache\n    cache_key = self._cache_key(file_path, source_code, \"test_gen\")\n    cached = self._get_cached(self._analysis_cache, cache_key)\n    if cached:\n        return cached\n\n    # Execute with timing\n    start = time.time()\n    result = handler.analyze_for_test_gen(file_path, source_code)\n    elapsed_ms = (time.time() - start) * 1000\n\n    # V10.23: Track stats\n    self._stats.total_analyses += 1\n    self._track_time(handler.language_name, elapsed_ms)\n\n    # V10.23: Cache result\n    self._set_cached(self._analysis_cache, cache_key, result)\n\n    return result\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.perform_code_review","title":"<code>perform_code_review(file_path, source_code, focus='all')</code>","text":"<p>Route code review to appropriate handler (V10.23: cached).</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def perform_code_review(\n    self, file_path: str, source_code: str, focus: str = \"all\"\n) -&gt; ReviewResult:\n    \"\"\"Route code review to appropriate handler (V10.23: cached).\"\"\"\n    handler = self.get_handler(file_path)\n    if not handler:\n        raise ValueError(\n            T(\n                \"vibe_unsupported_file_type\",\n                suffix=Path(file_path).suffix,\n            )\n        )\n\n    # V10.23: Check cache (include focus in key)\n    cache_key = self._cache_key(file_path, source_code, f\"review_{focus}\")\n    cached = self._get_cached(self._review_cache, cache_key)\n    if cached:\n        return cached\n\n    # Execute with timing\n    start = time.time()\n    result = handler.perform_code_review(file_path, source_code, focus)\n    elapsed_ms = (time.time() - start) * 1000\n\n    # V10.23: Track stats\n    self._stats.total_reviews += 1\n    self._track_time(handler.language_name, elapsed_ms)\n\n    # V10.23: Cache result\n    self._set_cached(self._review_cache, cache_key, result)\n\n    return result\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.generate_test_code","title":"<code>generate_test_code(result, project_root)</code>","text":"<p>Route test generation string creation.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def generate_test_code(self, result: TestGenResult, project_root: str) -&gt; str:\n    \"\"\"Route test generation string creation.\"\"\"\n    handler = self.get_handler(result.file_path)\n    if not handler:\n        raise ValueError(T(\"vibe_no_handler_found\", file_path=result.file_path))\n\n    start = time.time()\n    code = handler.generate_test_code(result, project_root)\n    elapsed_ms = (time.time() - start) * 1000\n\n    # V10.23: Track stats\n    self._stats.total_test_gens += 1\n    self._track_time(handler.language_name, elapsed_ms)\n\n    return code\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.extract_dependencies","title":"<code>extract_dependencies(file_path, source_code)</code>","text":"<p>Route dependency extraction.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def extract_dependencies(self, file_path: str, source_code: str) -&gt; list[str]:\n    \"\"\"Route dependency extraction.\"\"\"\n    handler = self.get_handler(file_path)\n    if not handler:\n        return []\n    return handler.extract_dependencies(file_path, source_code)\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.extract_documentation","title":"<code>extract_documentation(file_path, source_code)</code>","text":"<p>Identify documentation and comments in code.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def extract_documentation(self, file_path: str, source_code: str) -&gt; DocResult:\n    \"\"\"Identify documentation and comments in code.\"\"\"\n    handler = self.get_handler(file_path)\n    if not handler:\n        return DocResult(file_path=file_path, module_doc=\"\", items=[])\n    return handler.extract_documentation(file_path, source_code)\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.get_stats","title":"<code>get_stats()</code>","text":"<p>V10.23: Get performance statistics.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def get_stats(self) -&gt; dict:\n    \"\"\"V10.23: Get performance statistics.\"\"\"\n    return {\n        \"total_analyses\": self._stats.total_analyses,\n        \"total_reviews\": self._stats.total_reviews,\n        \"total_test_gens\": self._stats.total_test_gens,\n        \"cache_hit_rate\": round(self._stats.cache_hit_rate, 3),\n        \"cache_hits\": self._stats.cache_hits,\n        \"cache_misses\": self._stats.cache_misses,\n        \"avg_operation_time_ms\": round(self._stats.avg_operation_time_ms, 2),\n        \"handler_times\": self._stats.handler_times,\n        \"analysis_cache_size\": len(self._analysis_cache),\n        \"review_cache_size\": len(self._review_cache),\n    }\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.clear_cache","title":"<code>clear_cache()</code>","text":"<p>V10.23: Clear all caches.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def clear_cache(self):\n    \"\"\"V10.23: Clear all caches.\"\"\"\n    self._analysis_cache.clear()\n    self._review_cache.clear()\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.engine.VibeEngine.get_stats_report","title":"<code>get_stats_report()</code>","text":"<p>V10.23: Get human-readable performance report.</p> Source code in <code>src/boring/vibe/engine.py</code> <pre><code>def get_stats_report(self) -&gt; str:\n    \"\"\"V10.23: Get human-readable performance report.\"\"\"\n    stats = self.get_stats()\n    lines = [\n        \"\ud83d\ude80 **Vibe Engine Performance (V10.23)**\",\n        f\"- Total Operations: {stats['total_analyses'] + stats['total_reviews'] + stats['total_test_gens']}\",\n        f\"- Cache Hit Rate: {stats['cache_hit_rate']:.1%}\",\n        f\"- Avg Operation Time: {stats['avg_operation_time_ms']:.1f}ms\",\n        \"\",\n        \"**Handler Breakdown:**\",\n    ]\n    for handler, time_ms in stats[\"handler_times\"].items():\n        lines.append(f\"  - {handler}: {time_ms:.1f}ms total\")\n\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/vibe_zh/#vibe-analysis","title":"Vibe Analysis (\u5206\u6790\u5668)","text":""},{"location":"api/vibe_zh/#boring.vibe.analysis","title":"<code>boring.vibe.analysis</code>","text":"<p>Vibe Analysis Data Structures.</p> <p>Defines the common data objects used across different language handlers.</p>"},{"location":"api/vibe_zh/#boring.vibe.analysis.CodeIssue","title":"<code>CodeIssue</code>  <code>dataclass</code>","text":"<p>Represents a single issue found during code review.</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass CodeIssue:\n    \"\"\"Represents a single issue found during code review.\"\"\"\n\n    category: str  # e.g., \"Naming\", \"Error Handling\", \"Performance\", \"Security\"\n    message: str\n    severity: str  # \"high\", \"medium\", \"low\"\n    line: int\n    suggestion: str | None = None\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.analysis.CodeFunction","title":"<code>CodeFunction</code>  <code>dataclass</code>","text":"<p>Represents a function definition.</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass CodeFunction:\n    \"\"\"Represents a function definition.\"\"\"\n\n    name: str\n    args: list[str]\n    docstring: str | None\n    lineno: int\n    is_async: bool = False\n    is_exported: bool = True  # For JS/TS\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.analysis.CodeClass","title":"<code>CodeClass</code>  <code>dataclass</code>","text":"<p>Represents a class definition.</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass CodeClass:\n    \"\"\"Represents a class definition.\"\"\"\n\n    name: str\n    methods: list[str]\n    docstring: str | None\n    lineno: int\n    is_exported: bool = True\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.analysis.DocItem","title":"<code>DocItem</code>  <code>dataclass</code>","text":"<p>Documentation for a code element (function/class).</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass DocItem:\n    \"\"\"Documentation for a code element (function/class).\"\"\"\n\n    name: str\n    type: str  # function, class, method\n    docstring: str\n    signature: str\n    line_number: int\n    params: list[str] = field(default_factory=list)\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.analysis.DocResult","title":"<code>DocResult</code>  <code>dataclass</code>","text":"<p>Documentation extraction result.</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass DocResult:\n    \"\"\"Documentation extraction result.\"\"\"\n\n    file_path: str\n    module_doc: str\n    items: list[DocItem] = field(default_factory=list)\n    score: int = 100  # 0-100 score based on issues\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.analysis.ReviewResult","title":"<code>ReviewResult</code>  <code>dataclass</code>","text":"<p>Result of a code review analysis.</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass ReviewResult:\n    \"\"\"Result of a code review analysis.\"\"\"\n\n    file_path: str\n    issues: list[CodeIssue] = field(default_factory=list)\n    score: int = 100  # 0-100 score based on issues\n</code></pre>"},{"location":"api/vibe_zh/#boring.vibe.analysis.TestGenResult","title":"<code>TestGenResult</code>  <code>dataclass</code>","text":"<p>Result of test generation analysis.</p> Source code in <code>src/boring/vibe/analysis.py</code> <pre><code>@dataclass\nclass TestGenResult:\n    \"\"\"Result of test generation analysis.\"\"\"\n\n    file_path: str\n    functions: list[CodeFunction] = field(default_factory=list)\n    classes: list[CodeClass] = field(default_factory=list)\n    module_name: str = \"\"\n    source_language: str = \"python\"  # python, javascript, typescript, etc.\n</code></pre>"},{"location":"changelog/v10/","title":"V10 Changelog","text":"<p>All features and improvements in the V10.x series.</p>"},{"location":"changelog/v10/#10320-zero-config-pro-files","title":"[10.32.0] - Zero-Config &amp; PRO-Files \ud83d\ude80\ud83c\udfae","text":"<p>Simplifying Onboarding &amp; Resource Control - Zero-Config Wizard: One-click <code>boring wizard</code> for MCP setup in Cursor/VS Code/Claude. - PRO-Files: Standard/Lite/Full/Custom profile selection for granular token control. - Security: Enhanced file interceptors for Shadow Mode stability.</p>"},{"location":"changelog/v10/#10310-brain-reflex-safety-net","title":"[10.31.0] - Brain Reflex &amp; Safety Net \ud83e\udde0\ud83d\udee1\ufe0f","text":"<ul> <li>Brain Reflex: Active Recall for automated error-solution retrieval.</li> <li>Safety Net: Autonomous Git Checkpoints (<code>boring_checkpoint</code>) before risky ops.</li> </ul>"},{"location":"changelog/v10/#10270-notebooklm-optimizations","title":"[10.27.0] - NotebookLM Optimizations \ud83c\udfaf\ud83e\udde0","text":"<p>Optimizing for LLM Comprehension &amp; Efficiency - Theme-Tips Output: Hierarchical formatting for complex tool results (+1.13% accuracy). - PREPAIR Cache: Cached pointwise analysis for unbiased pairwise selection. - Dynamic Prompts: On-demand context embedding for debug/review/analysis. - Verification: New <code>ReasoningCache</code> unit tests (100% pass).</p>"},{"location":"changelog/v10/#10247-skills-ide-experience","title":"[10.24.7] - Skills &amp; IDE Experience \ud83d\udee0\ufe0f\u2728","text":"<ul> <li>Interactive Skills: New <code>boring_skills_install</code> tool for one-click installation</li> <li>Universal IDE Setup: Enhanced <code>setup_ide</code> with auto-detected Python paths (Cursor/Neovim/Zed)</li> <li>Docs: Added <code>boring_skills_browse</code> to core tools list</li> </ul>"},{"location":"changelog/v10/#10246-documentation-harmony","title":"[10.24.6] - Documentation Harmony \ud83d\udcda\u2728","text":""},{"location":"changelog/v10/#v10246","title":"V10.24.6","text":"<p>Documentation &amp; Localization - Comprehensive Prompt/Workflow Reference Docs - README Synchronization (En/Zh) - Fixed Encoding &amp; LSP Instructions</p>"},{"location":"changelog/v10/#v10245","title":"V10.24.5","text":"<p>Global Brain - Cross-Project Knowledge Sharing - Pattern Export/Import</p>"},{"location":"changelog/v10/#v1021x-performance","title":"V10.21.x - Performance","text":""},{"location":"changelog/v10/#v10210-latest","title":"V10.21.0 (Latest)","text":"<p>Performance Optimization - Thread-local SQLite Connection Pool - SQLite WAL Mode - Query Result Caching</p>"},{"location":"changelog/v10/#v1020x-vibe-engineer","title":"V10.20.x - Vibe Engineer","text":""},{"location":"changelog/v10/#v10200","title":"V10.20.0","text":"<p>Vibe Score &amp; Impact Analysis - Vibe Score (<code>boring_vibe_check</code>) - Impact Analysis (<code>boring_impact_check</code>) - One-Click Fix Prompt</p>"},{"location":"changelog/v10/#v1019x-vibe-coder","title":"V10.19.x - Vibe Coder","text":""},{"location":"changelog/v10/#v10190","title":"V10.19.0","text":"<p>Vibe Coder Edition - Vibe Coder Pro Toolset - Multi-Language Expansion - Interactive Tutorials</p>"},{"location":"changelog/v10/#v1018x-ai-feedback-loops","title":"V10.18.x - AI Feedback Loops","text":""},{"location":"changelog/v10/#v10183-latest","title":"V10.18.3 (Latest)","text":"<p>RAG Watcher &amp; AutoLearner Integration</p> <ul> <li>RAGWatcher - Automatic re-indexing on file changes</li> <li>AutoLearner - Captures error-solution patterns from AI responses</li> <li>Continuous knowledge accumulation</li> <li>Zero-config integration</li> </ul>"},{"location":"changelog/v10/#v10182","title":"V10.18.2","text":"<ul> <li>Bug fixes and stability improvements</li> <li>MCP tool parameter refinements</li> </ul>"},{"location":"changelog/v10/#v10181","title":"V10.18.1","text":"<ul> <li>Improved Cursor testing compatibility</li> <li>Better error messages for missing Git repos</li> <li>Dependency updates</li> </ul>"},{"location":"changelog/v10/#v1017x-security-rag","title":"V10.17.x - Security &amp; RAG","text":""},{"location":"changelog/v10/#v10175","title":"V10.17.5","text":"<p>Protected File Tools - <code>boring_write_file</code> and <code>boring_read_file</code> always respect Shadow Mode - Guaranteed interception for all file operations</p>"},{"location":"changelog/v10/#v10170","title":"V10.17.0","text":"<p>Hybrid RAG &amp; Security Guard - Combined Vector + Keyword search - Dependency graph expansion for related code - Cross-session persistent Shadow Mode - Multi-file-type security scanning</p>"},{"location":"changelog/v10/#v1016x-speckit-workflows","title":"V10.16.x - SpecKit Workflows","text":""},{"location":"changelog/v10/#v10163","title":"V10.16.3","text":"<p>SpecKit Slash Commands - <code>/speckit-constitution</code> - Establish project principles - <code>/speckit-clarify</code> - Interactive requirements clarification - <code>/speckit-plan</code> - Generate implementation plans - <code>/speckit-checklist</code> - Build acceptance criteria - <code>/speckit-analyze</code> - Verify cross-artifact consistency</p>"},{"location":"changelog/v10/#v10160","title":"V10.16.0","text":"<p>MCP Configuration Schema - Rich <code>configSchema</code> in smithery.yaml - Environment variable documentation - Default value specifications</p>"},{"location":"changelog/v10/#v1015x-polyglot-cli","title":"V10.15.x - Polyglot CLI","text":""},{"location":"changelog/v10/#v10150","title":"V10.15.0","text":"<p>Boring Polyglot - Zero-API-Key switching between providers - Gemini CLI, Claude Code CLI, Ollama support - Native protocol awareness - Automatic provider detection</p>"},{"location":"changelog/v10/#v1014x-multi-agent","title":"V10.14.x - Multi-Agent","text":""},{"location":"changelog/v10/#v10140","title":"V10.14.0","text":"<p>Multi-Agent Workflows - <code>plan_and_implement</code> - End-to-end development - <code>review_and_fix</code> - Code review with auto-fix - <code>debug_and_test</code> - Debugging with test generation - Agent orchestration framework</p>"},{"location":"changelog/v10/#v1013x-performance","title":"V10.13.x - Performance","text":""},{"location":"changelog/v10/#v10130","title":"V10.13.0","text":"<p>Parallel Verification - ThreadPoolExecutor for concurrent checks - Up to 4x speedup on large projects - Incremental file change detection - Smart caching system</p>"},{"location":"changelog/v10/#v1012x-quality","title":"V10.12.x - Quality","text":""},{"location":"changelog/v10/#v10120","title":"V10.12.0","text":"<p>LLM-as-Judge Evaluation - DIRECT, PAIRWISE, RUBRIC evaluation modes - Bias mitigation techniques - Customizable rubrics - Quality trend tracking</p>"},{"location":"changelog/v10/#v1011x-knowledge","title":"V10.11.x - Knowledge","text":""},{"location":"changelog/v10/#v10110","title":"V10.11.0","text":"<p>Knowledge Base (.boring_brain) - Persistent storage for learned patterns - Workflow adaptations - Evaluation rubrics - Cross-project knowledge sharing</p>"},{"location":"changelog/v10/#migration-guide","title":"Migration Guide","text":""},{"location":"changelog/v10/#from-v9x-to-v10x","title":"From V9.x to V10.x","text":"<ol> <li> <p>Update installation:    <pre><code>pip install -U boring-aicoding\n</code></pre></p> </li> <li> <p>New optional dependencies:    <pre><code># For RAG features\npip install \"boring-aicoding[mcp]\"\n</code></pre></p> </li> <li> <p>Shadow Mode is now default:</p> </li> <li>Set <code>SHADOW_MODE_LEVEL=DISABLED</code> to opt-out</li> <li> <p>Recommended: Keep ENABLED for safety</p> </li> <li> <p>New directory structure:    <pre><code>~/.boring_brain/     # Global knowledge\n.boring_memory/      # Project memory\n.boring_cache/       # Verification cache\n</code></pre></p> </li> </ol>"},{"location":"changelog/v10/#see-also","title":"See Also","text":"<ul> <li>Release Notes - Detailed release notes</li> <li>Features - Feature documentation</li> <li>MCP Tools - Tool reference</li> </ul>"},{"location":"changelog/v10_zh/","title":"V10 \u66f4\u65b0\u65e5\u8a8c","text":"<p>V10.x \u7cfb\u5217\u7684\u6240\u6709\u529f\u80fd\u548c\u6539\u9032\u3002</p>"},{"location":"changelog/v10_zh/#10270-notebooklm","title":"[10.27.0] - NotebookLM \u6df1\u5ea6\u512a\u5316 \ud83c\udfaf\ud83e\udde0","text":"<p>\u512a\u5316 LLM \u7406\u89e3\u529b\u8207 Token \u6548\u7387 - Theme-Tips \u8f38\u51fa\uff1a\u8907\u96dc\u5de5\u5177\u7d50\u679c\u7684\u968e\u5c64\u5f0f\u683c\u5f0f\u5316\uff08\u63d0\u5347 1.13% \u6e96\u78ba\u5ea6\uff09\u3002 - PREPAIR \u5feb\u53d6\uff1a\u5feb\u53d6\u55ae\u9ede\u5206\u6790\u4ee5\u5be6\u73fe\u7121\u504f\u898b\u7684\u914d\u5c0d\u9078\u64c7\u3002 - \u52d5\u614b\u63d0\u793a\uff1a\u6309\u9700\u5d4c\u5165\u4e0a\u4e0b\u6587\uff0c\u9069\u7528\u65bc\u9664\u932f\u3001\u5be9\u67e5\u8207\u5206\u6790\u3002 - \u9a57\u8b49\uff1a\u65b0\u589e <code>ReasoningCache</code> \u55ae\u5143\u6e2c\u8a66\uff08100% \u901a\u904e\uff09\u3002</p>"},{"location":"changelog/v10_zh/#v1021x-","title":"V10.21.x - \u6548\u80fd\u512a\u5316","text":""},{"location":"changelog/v10_zh/#v10210","title":"V10.21.0\uff08\u6700\u65b0\uff09","text":"<p>\u6548\u80fd\u512a\u5316 - Thread-local SQLite Connection Pool - SQLite WAL Mode - Query Result Caching</p>"},{"location":"changelog/v10_zh/#v1020x-vibe-engineer","title":"V10.20.x - Vibe Engineer","text":""},{"location":"changelog/v10_zh/#v10200","title":"V10.20.0","text":"<p>Vibe Score \u8207 Impact Analysis - Vibe Score (<code>boring_vibe_check</code>) - Impact Analysis (<code>boring_impact_check</code>) - One-Click Fix Prompt</p>"},{"location":"changelog/v10_zh/#v1019x-vibe-coder","title":"V10.19.x - Vibe Coder","text":""},{"location":"changelog/v10_zh/#v10190","title":"V10.19.0","text":"<p>Vibe Coder Edition - Vibe Coder Pro Toolset - \u591a\u8a9e\u8a00\u652f\u63f4\u64f4\u5145 - \u4e92\u52d5\u5f0f\u6559\u5b78</p>"},{"location":"changelog/v10_zh/#v1018x-ai","title":"V10.18.x - AI \u56de\u994b\u5faa\u74b0","text":""},{"location":"changelog/v10_zh/#v10183","title":"V10.18.3\uff08\u6700\u65b0\uff09","text":"<p>RAG Watcher \u8207 AutoLearner \u6574\u5408</p> <ul> <li>RAGWatcher - \u6a94\u6848\u8b8a\u66f4\u6642\u81ea\u52d5\u91cd\u65b0\u7d22\u5f15</li> <li>AutoLearner - \u5f9e AI \u56de\u61c9\u4e2d\u64f7\u53d6\u932f\u8aa4-\u89e3\u6c7a\u65b9\u6848\u6a21\u5f0f</li> <li>\u6301\u7e8c\u77e5\u8b58\u7d2f\u7a4d</li> <li>\u96f6\u914d\u7f6e\u6574\u5408</li> </ul>"},{"location":"changelog/v10_zh/#v10182","title":"V10.18.2","text":"<ul> <li>\u932f\u8aa4\u4fee\u5fa9\u548c\u7a69\u5b9a\u6027\u6539\u9032</li> <li>MCP \u5de5\u5177\u53c3\u6578\u7cbe\u7149</li> </ul>"},{"location":"changelog/v10_zh/#v10181","title":"V10.18.1","text":"<ul> <li>\u6539\u9032 Cursor \u6e2c\u8a66\u76f8\u5bb9\u6027</li> <li>\u66f4\u597d\u7684 Git \u5132\u5b58\u5eab\u7f3a\u5931\u932f\u8aa4\u8a0a\u606f</li> <li>\u4f9d\u8cf4\u66f4\u65b0</li> </ul>"},{"location":"changelog/v10_zh/#v1017x-rag","title":"V10.17.x - \u5b89\u5168\u8207 RAG","text":""},{"location":"changelog/v10_zh/#v10175","title":"V10.17.5","text":"<p>\u53d7\u4fdd\u8b77\u7684\u6a94\u6848\u5de5\u5177 - <code>boring_write_file</code> \u548c <code>boring_read_file</code> \u59cb\u7d42\u9075\u5b88\u5f71\u5b50\u6a21\u5f0f - \u4fdd\u8b49\u6240\u6709\u6a94\u6848\u64cd\u4f5c\u7684\u6514\u622a</p>"},{"location":"changelog/v10_zh/#v10170","title":"V10.17.0","text":"<p>\u6df7\u5408 RAG \u8207\u5b89\u5168\u5b88\u885b - \u7d50\u5408\u5411\u91cf + \u95dc\u9375\u5b57\u641c\u5c0b - \u76f8\u95dc\u4ee3\u78bc\u7684\u4f9d\u8cf4\u5716\u64f4\u5c55 - \u8de8\u6703\u8a71\u6301\u4e45\u5f71\u5b50\u6a21\u5f0f - \u591a\u6a94\u6848\u985e\u578b\u5b89\u5168\u6383\u63cf</p>"},{"location":"changelog/v10_zh/#v1016x-speckit","title":"V10.16.x - SpecKit \u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"changelog/v10_zh/#v10163","title":"V10.16.3","text":"<p>SpecKit \u659c\u7dda\u547d\u4ee4 - <code>/speckit-constitution</code> - \u5efa\u7acb\u5c08\u6848\u539f\u5247 - <code>/speckit-clarify</code> - \u4e92\u52d5\u5f0f\u9700\u6c42\u6f84\u6e05 - <code>/speckit-plan</code> - \u751f\u6210\u5be6\u4f5c\u8a08\u756b - <code>/speckit-checklist</code> - \u5efa\u7acb\u9a57\u6536\u6a19\u6e96 - <code>/speckit-analyze</code> - \u9a57\u8b49\u8de8\u5de5\u4ef6\u4e00\u81f4\u6027</p>"},{"location":"changelog/v10_zh/#v10160","title":"V10.16.0","text":"<p>MCP \u914d\u7f6e\u67b6\u69cb - smithery.yaml \u4e2d\u7684\u8c50\u5bcc <code>configSchema</code> - \u74b0\u5883\u8b8a\u6578\u6587\u6a94 - \u9810\u8a2d\u503c\u898f\u683c</p>"},{"location":"changelog/v10_zh/#v1015x-cli","title":"V10.15.x - \u591a\u8a9e\u8a00 CLI","text":""},{"location":"changelog/v10_zh/#v10150","title":"V10.15.0","text":"<p>Boring Polyglot - \u96f6 API Key \u7684\u63d0\u4f9b\u8005\u5207\u63db - Gemini CLI\u3001Claude Code CLI\u3001Ollama \u652f\u63f4 - \u539f\u751f\u5354\u8b70\u611f\u77e5 - \u81ea\u52d5\u63d0\u4f9b\u8005\u5075\u6e2c</p>"},{"location":"changelog/v10_zh/#v1014x-","title":"V10.14.x - \u591a\u4ee3\u7406","text":""},{"location":"changelog/v10_zh/#v10140","title":"V10.14.0","text":"<p>\u591a\u4ee3\u7406\u5de5\u4f5c\u6d41\u7a0b - <code>plan_and_implement</code> - \u7aef\u5230\u7aef\u958b\u767c - <code>review_and_fix</code> - \u5e36\u81ea\u52d5\u4fee\u5fa9\u7684\u4ee3\u78bc\u5be9\u67e5 - <code>debug_and_test</code> - \u5e36\u6e2c\u8a66\u751f\u6210\u7684\u9664\u932f - \u4ee3\u7406\u7de8\u6392\u6846\u67b6</p>"},{"location":"changelog/v10_zh/#v1013x-","title":"V10.13.x - \u6548\u80fd","text":""},{"location":"changelog/v10_zh/#v10130","title":"V10.13.0","text":"<p>\u5e73\u884c\u9a57\u8b49 - \u7528\u65bc\u4e26\u767c\u6aa2\u67e5\u7684 ThreadPoolExecutor - \u5927\u578b\u5c08\u6848\u6700\u9ad8 4 \u500d\u52a0\u901f - \u589e\u91cf\u6a94\u6848\u8b8a\u66f4\u5075\u6e2c - \u667a\u80fd\u5feb\u53d6\u7cfb\u7d71</p>"},{"location":"changelog/v10_zh/#v1012x-","title":"V10.12.x - \u54c1\u8cea","text":""},{"location":"changelog/v10_zh/#v10120","title":"V10.12.0","text":"<p>LLM \u4f5c\u70ba\u8a55\u5be9\u7684\u8a55\u4f30 - DIRECT\u3001PAIRWISE\u3001RUBRIC \u8a55\u4f30\u6a21\u5f0f - \u504f\u898b\u7de9\u89e3\u6280\u8853 - \u53ef\u81ea\u8a02\u8a55\u5206\u6a19\u6e96 - \u54c1\u8cea\u8da8\u52e2\u8ffd\u8e64</p>"},{"location":"changelog/v10_zh/#v1011x-","title":"V10.11.x - \u77e5\u8b58","text":""},{"location":"changelog/v10_zh/#v10110","title":"V10.11.0","text":"<p>\u77e5\u8b58\u5eab\uff08.boring_brain\uff09 - \u5b78\u7fd2\u6a21\u5f0f\u7684\u6301\u4e45\u5132\u5b58 - \u5de5\u4f5c\u6d41\u7a0b\u9069\u61c9 - \u8a55\u4f30\u6a19\u6e96 - \u8de8\u5c08\u6848\u77e5\u8b58\u5206\u4eab</p>"},{"location":"changelog/v10_zh/#_1","title":"\u9077\u79fb\u6307\u5357","text":""},{"location":"changelog/v10_zh/#v9x-v10x","title":"\u5f9e V9.x \u5230 V10.x","text":"<ol> <li> <p>\u66f4\u65b0\u5b89\u88dd\uff1a    <pre><code>pip install -U boring-aicoding\n</code></pre></p> </li> <li> <p>\u65b0\u7684\u53ef\u9078\u4f9d\u8cf4\uff1a    <pre><code># \u7528\u65bc RAG \u529f\u80fd\npip install \"boring-aicoding[mcp]\"\n</code></pre></p> </li> <li> <p>\u5f71\u5b50\u6a21\u5f0f\u73fe\u5728\u662f\u9810\u8a2d\uff1a</p> </li> <li>\u8a2d\u5b9a <code>SHADOW_MODE_LEVEL=DISABLED</code> \u4f86\u9078\u64c7\u9000\u51fa</li> <li> <p>\u5efa\u8b70\uff1a\u4fdd\u6301 ENABLED \u4ee5\u78ba\u4fdd\u5b89\u5168</p> </li> <li> <p>\u65b0\u76ee\u9304\u7d50\u69cb\uff1a    <pre><code>~/.boring_brain/     # \u5168\u57df\u77e5\u8b58\n.boring_memory/      # \u5c08\u6848\u8a18\u61b6\n.boring_cache/       # \u9a57\u8b49\u5feb\u53d6\n</code></pre></p> </li> </ol>"},{"location":"changelog/v10_zh/#_2","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u767c\u5e03\u8aaa\u660e - \u8a73\u7d30\u767c\u5e03\u8aaa\u660e</li> <li>\u529f\u80fd - \u529f\u80fd\u6587\u6a94</li> <li>MCP \u5de5\u5177 - \u5de5\u5177\u53c3\u8003</li> </ul>"},{"location":"changelog/v11/","title":"V11 Changelog","text":"<p>All features and improvements in the V11.x series.</p>"},{"location":"changelog/v11/#11211-2026-01-13","title":"[11.2.11] - 2026-01-13","text":""},{"location":"changelog/v11/#hotfix","title":"\ud83d\ude91 Hotfix","text":"<ul> <li>Package Integrity: Included missing source files for One Dragon Engine (<code>detector.py</code>, <code>evolution.py</code>, <code>vibe_interface.py</code>) that were untracked in v11.2.10.</li> </ul>"},{"location":"changelog/v11/#11210-2026-01-13","title":"[11.2.10] - 2026-01-13","text":""},{"location":"changelog/v11/#major-features","title":"\ud83d\ude80 Major Features","text":"<ul> <li>One Dragon Engine: Released <code>boring_flow</code> MCP tool, enabling AI Agents (Cursor/Gemini) to fully drive the project lifecycle.</li> <li>Headless FlowEngine: Refactored the core engine to support non-interactive execution, allowing seamless integration with MCP.</li> <li>Auto-Alignment: Enhanced Vibe Session to handle vague instructions (\"Make it pretty\") by automatically resolving ambiguity via LLM.</li> </ul>"},{"location":"changelog/v11/#1122-2026-01-12","title":"[11.2.2] - 2026-01-12","text":""},{"location":"changelog/v11/#major-features_1","title":"\ud83d\ude80 Major Features","text":"<ul> <li>Visual Intelligence: New Brain Map in Dashboard.</li> <li>Brain Scalability: Migrated <code>BrainManager</code> to SQLite backend (ACID compliance &amp; 10x performance).</li> <li>Lightweight UX: Implemented Global Cache &amp; Lazy Initialization (<code>BORING_LAZY_MODE</code>).</li> <li>Deep &amp; Critical Thinking: Enhanced multi-layered reasoning states (<code>ReasoningState</code>) for autonomous logic verification.</li> </ul>"},{"location":"changelog/v11/#improvements","title":"\ud83d\udee0\ufe0f Improvements","text":"<ul> <li>Architectural Standardization: All core tools now return <code>BoringResult</code> (TypedDict).</li> <li>Security Sandbox: AST-based validation for synthesized tools.</li> </ul>"},{"location":"changelog/v11/#1121-2026-01-11","title":"[11.2.1] - 2026-01-11","text":""},{"location":"changelog/v11/#fixes","title":"\ud83d\udd27 Fixes","text":"<ul> <li>Vibe Tools: Resolved <code>KeyError: 'message'</code> and <code>NameError</code>.</li> <li>Unit Isolation: Fixed inconsistent engine usage in <code>vibe.py</code>.</li> <li>Knowledge Sync: Optimized Git synchronization retry logic.</li> <li>Reflex Stability: Improved Brain Reflex prompt injection.</li> <li>Lint &amp; Format: Cleaned up <code>ruff</code> errors in core library and unit tests.</li> </ul>"},{"location":"changelog/v11/#1110-cross-language-parser-refinement","title":"[11.1.0] - Cross-Language Parser Refinement \ud83d\udd27","text":"<p>JavaScript Parsing Fix - Fixed <code>function_expression</code> \u2192 <code>function</code> node type for tree-sitter-languages JavaScript grammar - Updated test cases from JSX to pure JavaScript patterns for consistent parsing</p> <p>Type Specificity Ranking System - Added intelligent type priority: <code>interface &gt; type_alias &gt; namespace &gt; method &gt; function &gt; class</code> - Fixed Go interface detection being incorrectly classified as <code>class</code> - All 4 languages (JS/TS/Go/C++) now fully validated with correct names and types</p> <p>Fixes - Updated CLI version fallback from 10.32.1 to 11.1.0 - Test assertions now use dynamic version checking from <code>boring.__version__</code></p>"},{"location":"changelog/v11/#1100-the-resilient-foundation-update","title":"[11.0.0] - The Resilient Foundation Update \ud83d\udee1\ufe0f","text":""},{"location":"changelog/v11/#windows-optimization","title":"Windows Optimization","text":"<ul> <li>Transactional Atomic Writes: Introduced <code>TransactionalFileWriter</code> with exponential backoff for <code>os.replace</code> to solve Windows mandatory file locking contention</li> <li>Race Condition Prevention: Implemented cross-thread and cross-process safe state persistence for <code>Web Monitor</code> and <code>Shadow Mode</code></li> <li>Pre-execution Locking: Added mandatory lock detection before file modifications to ensure clean rollbacks</li> </ul>"},{"location":"changelog/v11/#polyglot-rag-precision","title":"Polyglot RAG Precision","text":"<ul> <li>Matched Definition Extraction: Re-engineered <code>TreeSitterParser</code> to use <code>query.matches()</code>, ensuring properties (Go receivers, TS interface names) are precisely bound to their definitions</li> <li>Go Support: Added robust extraction for Go method receivers and pointer types</li> <li>TypeScript &amp; C++: Enhanced semantic boundary detection for TS Interface/Type Alias and C++ Namespace/Template definitions</li> <li>Tree-sitter Pinning: Standardized on <code>tree-sitter==0.21.3</code> for project-wide API stability</li> </ul>"},{"location":"changelog/v11/#developer-experience","title":"Developer Experience","text":"<ul> <li>Zero-Config Wizard: Integrated the <code>boring wizard</code> and cross-platform bootstrappers (<code>install.ps1</code>, <code>install.sh</code>) as a core feature</li> <li>Vibe Score Evolution: Fully integrated \"One-Click Fix Prompt\" logic into health checks</li> </ul>"},{"location":"changelog/v11/#zero-config-bootstrapper","title":"Zero-Config Bootstrapper","text":"<ul> <li>One-Click Installers: Introduced <code>install.ps1</code> (Windows) and <code>install.sh</code> (Linux/macOS) for a unified, stable setup experience</li> <li>Isolated Environment: Bootstrappers now automatically create a dedicated <code>~/.boring/env</code> to prevent Python conflicts</li> <li>Wizard Enhancements: Added <code>Custom</code> profile support to <code>boring wizard</code> for granular control over RAG and Logs without editing JSON</li> </ul>"},{"location":"changelog/v11/#sustainability-quality","title":"Sustainability &amp; Quality","text":"<ul> <li>Coverage Success: Tripled project-wide test coverage to 60% (up from ~20%)</li> <li>Intelligence Layer: Achieved high coverage for core AI modules: <code>brain_manager.py</code> (88%), <code>pattern_clustering.py</code> (93%), <code>pattern_mining.py</code> (86%)</li> <li>Resilient Services: Robust testing established for <code>web_monitor.py</code> (78%) and <code>rag_watcher.py</code></li> </ul>"},{"location":"changelog/v11_zh/","title":"V11 \u66f4\u65b0\u65e5\u8a8c","text":"<p>V11.x \u7cfb\u5217\u7684\u6240\u6709\u529f\u80fd\u548c\u6539\u9032\u3002</p>"},{"location":"changelog/v11_zh/#11211-2026-01-13","title":"[11.2.11] - 2026-01-13","text":""},{"location":"changelog/v11_zh/#hotfix","title":"\ud83d\ude91 Hotfix","text":"<ul> <li>\u5b8c\u6574\u6027\u4fee\u5fa9: \u88dc\u9f4a\u4e86 v11.2.10 \u7248\u672c\u4e2d\u6f0f\u6389\u7684 One Dragon Engine \u6838\u5fc3\u6a94\u6848 (<code>detector.py</code>, <code>evolution.py</code>, <code>vibe_interface.py</code>)\u3002</li> </ul>"},{"location":"changelog/v11_zh/#11210-2026-01-13","title":"[11.2.10] - 2026-01-13","text":""},{"location":"changelog/v11_zh/#_1","title":"\ud83d\ude80 \u91cd\u5927\u529f\u80fd","text":"<ul> <li>\u4e00\u689d\u9f8d\u5f15\u64ce (One Dragon Engine)\uff1a\u767c\u5e03 <code>boring_flow</code> MCP \u5de5\u5177\uff0c\u8ce6\u80fd AI \u4ee3\u7406 (Cursor/Gemini) \u5168\u7a0b\u9a45\u52d5\u5c08\u6848\u751f\u547d\u9031\u671f\u3002</li> <li>\u7121\u982d\u6d41\u5f15\u64ce (Headless FlowEngine)\uff1a\u91cd\u69cb\u6838\u5fc3\u5f15\u64ce\u4ee5\u652f\u63f4\u975e\u4ea4\u4e92\u5f0f\u57f7\u884c\uff0c\u5be6\u73fe\u8207 MCP \u7684\u7121\u7e2b\u6574\u5408\u3002</li> <li>\u81ea\u52d5\u5c0d\u9f4a (Auto-Alignment)\uff1a\u589e\u5f37 Vibe Session \u4ee5\u8655\u7406\u6a21\u7cca\u6307\u4ee4\uff08\u5982\u300c\u505a\u5f97\u6f02\u4eae\u9ede\u300d\uff09\uff0c\u900f\u904e LLM \u81ea\u52d5\u89e3\u6790\u6b67\u7fa9\u3002</li> </ul>"},{"location":"changelog/v11_zh/#1122-2026-01-12","title":"[11.2.2] - 2026-01-12","text":""},{"location":"changelog/v11_zh/#_2","title":"\ud83d\ude80 \u91cd\u5927\u529f\u80fd","text":"<ul> <li>\u8996\u89ba\u5316\u667a\u80fd\uff1a\u5100\u8868\u677f\u4e2d\u65b0\u589e \u5927\u8166\u5730\u5716 (Brain Map)\u3002</li> <li>\u5927\u8166\u64f4\u5c55\u6027\uff1a\u5c07 <code>BrainManager</code> \u9077\u79fb\u81f3 SQLite \u5f8c\u7aef\uff08\u7b26\u5408 ACID \u4e26\u63d0\u5347 10 \u500d\u6027\u80fd\uff09\u3002</li> <li>\u8f15\u91cf\u5316\u9ad4\u9a57\uff1a\u5be6\u73fe\u4e86 \u5168\u57df\u5feb\u53d6\u8207\u5ef6\u9072\u521d\u59cb\u5316 (<code>BORING_LAZY_MODE</code>)\u3002</li> <li>\u6df1\u5ea6\u8207\u6279\u5224\u6027\u601d\u8003\uff1a\u589e\u5f37\u4e86\u7528\u65bc\u81ea\u4e3b\u908f\u8f2f\u9a57\u8b49\u7684\u591a\u5c64\u63a8\u7406\u72c0\u614b (<code>ReasoningState</code>)\u3002</li> </ul>"},{"location":"changelog/v11_zh/#_3","title":"\ud83d\udee0\ufe0f \u6539\u9032\u9805\u76ee","text":"<ul> <li>\u67b6\u69cb\u6a19\u6e96\u5316\uff1a\u6240\u6709\u6838\u5fc3\u5de5\u5177\u73fe\u5728\u5747\u8fd4\u56de <code>BoringResult</code> (TypedDict)\u3002</li> <li>\u5b89\u5168\u6c99\u7bb1\uff1a\u70ba\u5408\u6210\u5de5\u5177\u63d0\u4f9b\u57fa\u65bc AST \u7684\u9a57\u8b49\u3002</li> </ul>"},{"location":"changelog/v11_zh/#1121-2026-01-11","title":"[11.2.1] - 2026-01-11","text":""},{"location":"changelog/v11_zh/#_4","title":"\ud83d\udd27 \u4fee\u5fa9\u9805\u76ee","text":"<ul> <li>Vibe \u5de5\u5177\uff1a\u89e3\u6c7a\u4e86 <code>KeyError: 'message'</code> \u548c <code>NameError</code>\u3002</li> <li>\u55ae\u5143\u9694\u96e2\uff1a\u4fee\u5fa9\u4e86 <code>vibe.py</code> \u4e2d\u4e0d\u4e00\u81f4\u7684\u5f15\u64ce\u4f7f\u7528\u3002</li> <li>\u77e5\u8b58\u540c\u6b65\uff1a\u512a\u5316\u4e86 Git \u540c\u6b65\u7684\u91cd\u8a66\u908f\u8f2f\u3002</li> <li>\u53cd\u5c04\u7a69\u5b9a\u6027\uff1a\u6539\u9032\u4e86 Brain Reflex \u7684\u63d0\u793a\u8a5e\u6ce8\u5165\u6a5f\u5236\u3002</li> <li>\u4ee3\u78bc\u898f\u7bc4\uff1a\u6e05\u7406\u4e86\u6838\u5fc3\u5eab\u548c\u55ae\u5143\u6e2c\u8a66\u4e2d\u7684 <code>ruff</code> \u932f\u8aa4\u3002</li> </ul>"},{"location":"changelog/v11_zh/#1110-","title":"[11.1.0] - \u8de8\u8a9e\u8a00\u89e3\u6790\u5668\u512a\u5316 \ud83d\udd27","text":"<p>JavaScript \u89e3\u6790\u4fee\u5fa9 - \u4fee\u6b63 <code>function_expression</code> \u2192 <code>function</code> \u7bc0\u9ede\u985e\u578b\uff0c\u9069\u914d tree-sitter-languages JavaScript \u8a9e\u6cd5 - \u5c07\u6e2c\u8a66\u6848\u4f8b\u5f9e JSX \u66f4\u65b0\u70ba\u7d14 JavaScript \u6a21\u5f0f\uff0c\u78ba\u4fdd\u4e00\u81f4\u7684\u89e3\u6790\u884c\u70ba</p> <p>\u985e\u578b\u7279\u7570\u6027\u6392\u5e8f\u7cfb\u7d71 - \u65b0\u589e\u667a\u80fd\u985e\u578b\u512a\u5148\u7d1a\uff1a<code>interface &gt; type_alias &gt; namespace &gt; method &gt; function &gt; class</code> - \u4fee\u5fa9 Go interface \u88ab\u932f\u8aa4\u5206\u985e\u70ba <code>class</code> \u7684\u554f\u984c - \u6240\u6709 4 \u7a2e\u8a9e\u8a00 (JS/TS/Go/C++) \u73fe\u5df2\u5b8c\u5168\u9a57\u8b49\uff0c\u540d\u7a31\u548c\u985e\u578b\u5747\u6b63\u78ba</p> <p>\u4fee\u5fa9 - \u5c07 CLI \u7248\u672c\u56de\u9000\u503c\u5f9e 10.32.1 \u66f4\u65b0\u81f3 11.1.0 - \u6e2c\u8a66\u65b7\u8a00\u73fe\u4f7f\u7528 <code>boring.__version__</code> \u52d5\u614b\u7248\u672c\u6aa2\u67e5</p>"},{"location":"changelog/v11_zh/#1100-","title":"[11.0.0] - \u5f48\u6027\u57fa\u790e\u66f4\u65b0 \ud83d\udee1\ufe0f","text":""},{"location":"changelog/v11_zh/#windows","title":"Windows \u512a\u5316","text":"<ul> <li>\u4e8b\u52d9\u6027\u539f\u5b50\u5beb\u5165\uff1a\u5f15\u5165 <code>TransactionalFileWriter</code>\uff0c\u914d\u5408\u6307\u6578\u9000\u907f\u7b56\u7565\u8655\u7406 <code>os.replace</code>\uff0c\u89e3\u6c7a Windows \u5f37\u5236\u6587\u4ef6\u9396\u5b9a\u885d\u7a81</li> <li>\u7af6\u614b\u689d\u4ef6\u9632\u8b77\uff1a\u70ba <code>Web Monitor</code> \u548c <code>Shadow Mode</code> \u5be6\u73fe\u8de8\u7dda\u7a0b\u8207\u8de8\u9032\u7a0b\u5b89\u5168\u7684\u72c0\u614b\u6301\u4e45\u5316</li> <li>\u9810\u57f7\u884c\u9396\u5b9a\uff1a\u5728\u6587\u4ef6\u4fee\u6539\u524d\u6dfb\u52a0\u5f37\u5236\u9396\u5b9a\u6aa2\u6e2c\uff0c\u78ba\u4fdd\u4e7e\u6de8\u7684\u56de\u6efe</li> </ul>"},{"location":"changelog/v11_zh/#rag","title":"\u591a\u8a9e\u8a00 RAG \u7cbe\u78ba\u5ea6","text":"<ul> <li>\u5339\u914d\u5b9a\u7fa9\u63d0\u53d6\uff1a\u91cd\u65b0\u8a2d\u8a08 <code>TreeSitterParser</code> \u4f7f\u7528 <code>query.matches()</code>\uff0c\u78ba\u4fdd\u5c6c\u6027\uff08Go \u63a5\u6536\u5668\u3001TS \u4ecb\u9762\u540d\u7a31\uff09\u7cbe\u78ba\u7d81\u5b9a\u5230\u5176\u5b9a\u7fa9</li> <li>Go \u652f\u63f4\uff1a\u65b0\u589e Go \u65b9\u6cd5\u63a5\u6536\u5668\u548c\u6307\u6a19\u985e\u578b\u7684\u5f37\u5065\u63d0\u53d6</li> <li>TypeScript &amp; C++\uff1a\u589e\u5f37 TS Interface/Type Alias \u548c C++ Namespace/Template \u5b9a\u7fa9\u7684\u8a9e\u7fa9\u908a\u754c\u6aa2\u6e2c</li> <li>Tree-sitter \u7248\u672c\u56fa\u5b9a\uff1a\u5c08\u6848\u7d71\u4e00\u4f7f\u7528 <code>tree-sitter==0.21.3</code> \u78ba\u4fdd API \u7a69\u5b9a\u6027</li> </ul>"},{"location":"changelog/v11_zh/#_5","title":"\u958b\u767c\u8005\u9ad4\u9a57","text":"<ul> <li>\u96f6\u914d\u7f6e\u56ae\u5c0e\uff1a\u5c07 <code>boring wizard</code> \u548c\u8de8\u5e73\u53f0\u5f15\u5c0e\u7a0b\u5f0f\uff08<code>install.ps1</code>\u3001<code>install.sh</code>\uff09\u6574\u5408\u70ba\u6838\u5fc3\u529f\u80fd</li> <li>Vibe \u5206\u6578\u9032\u5316\uff1a\u5c07\u300c\u4e00\u9375\u4fee\u5fa9\u63d0\u793a\u300d\u908f\u8f2f\u5b8c\u5168\u6574\u5408\u5230\u5065\u5eb7\u6aa2\u67e5\u4e2d</li> </ul>"},{"location":"changelog/v11_zh/#_6","title":"\u96f6\u914d\u7f6e\u5f15\u5c0e\u7a0b\u5f0f","text":"<ul> <li>\u4e00\u9375\u5b89\u88dd\u5668\uff1a\u5f15\u5165 <code>install.ps1</code>\uff08Windows\uff09\u548c <code>install.sh</code>\uff08Linux/macOS\uff09\u63d0\u4f9b\u7d71\u4e00\u7a69\u5b9a\u7684\u5b89\u88dd\u9ad4\u9a57</li> <li>\u9694\u96e2\u74b0\u5883\uff1a\u5f15\u5c0e\u7a0b\u5f0f\u73fe\u81ea\u52d5\u5275\u5efa\u5c08\u7528\u7684 <code>~/.boring/env</code> \u4ee5\u9632\u6b62 Python \u885d\u7a81</li> <li>\u56ae\u5c0e\u589e\u5f37\uff1a\u70ba <code>boring wizard</code> \u6dfb\u52a0 <code>Custom</code> \u914d\u7f6e\u6587\u4ef6\u652f\u63f4\uff0c\u7121\u9700\u7de8\u8f2f JSON \u5373\u53ef\u7cbe\u7d30\u63a7\u5236 RAG \u548c\u65e5\u8a8c</li> </ul>"},{"location":"changelog/v11_zh/#_7","title":"\u6c38\u7e8c\u6027\u8207\u54c1\u8cea","text":"<ul> <li>\u8986\u84cb\u7387\u6210\u529f\uff1a\u5c08\u6848\u6e2c\u8a66\u8986\u84cb\u7387\u63d0\u5347\u81f3 60%\uff08\u5f9e\u7d04 20% \u63d0\u5347\uff09</li> <li>\u667a\u80fd\u5c64\uff1a\u6838\u5fc3 AI \u6a21\u7d44\u9054\u5230\u9ad8\u8986\u84cb\u7387\uff1a<code>brain_manager.py</code> (88%)\u3001<code>pattern_clustering.py</code> (93%)\u3001<code>pattern_mining.py</code> (86%)</li> <li>\u5f48\u6027\u670d\u52d9\uff1a\u70ba <code>web_monitor.py</code> (78%) \u548c <code>rag_watcher.py</code> \u5efa\u7acb\u5f37\u5065\u6e2c\u8a66</li> </ul>"},{"location":"changelog/v12/","title":"V12 Changelog","text":""},{"location":"changelog/v12/#1212-2026-01-14-honesty-hardening","title":"[12.1.2] - 2026-01-14 - Honesty &amp; Hardening \ud83d\udee1\ufe0f","text":""},{"location":"changelog/v12/#quality-integrity","title":"\ud83d\udee1\ufe0f Quality &amp; Integrity","text":"<ul> <li>Documentation Honesty (100%): Deep audit of all manuals to ensure 1:1 match with implementation.</li> <li>Codebase Hygiene: Removal of experimental artifacts and ghost features.</li> <li>Verification: Validated <code>boring verify --level FULL</code> and <code>uv</code>/<code>smithery</code> config paths.</li> </ul>"},{"location":"changelog/v12/#feature-acceleration","title":"\ud83d\ude80 Feature Acceleration","text":"<ul> <li>Allow-List Skill Installation: <code>boring_skills_install</code> now supports trusted URLs (<code>GitHub</code>, <code>SkillsMP</code>).</li> <li>Universal Skills System (BUSS): Cross-platform loader for <code>.boring/</code>, <code>.gemini/</code>, <code>.claude/</code> skills. New MCP tools: <code>boring_skill_discover</code>, <code>boring_skill_activate</code>, <code>boring_skill_create</code>, <code>boring_skill_download</code>. Auto-sync enabled.</li> <li>Workspace Hygiene: Added <code>boring clean</code> command to safely remove ephemeral files (<code>.boring/</code>, <code>.boring_memory/</code>) and restore a pristine project state.</li> </ul>"},{"location":"changelog/v12/#1200-2026-01-14-the-true-one-dragon-update","title":"[12.0.0] - 2026-01-14 - The True One Dragon Update \ud83d\udc09\ud83e\udde0","text":""},{"location":"changelog/v12/#major-features","title":"\ud83d\ude80 Major Features","text":"<ul> <li>One Dragon Flow (V12.0.0): A comprehensive, state-machine driven autonomous development loop. Includes <code>Architect</code>, <code>Builder</code>, <code>Healer</code>, <code>Polish</code>, and <code>Evolver</code> stages.</li> <li>Cognitive Reflex: Integrated semantic search (RAG) directly into the Brain for high-speed fuzzy error correction.</li> <li>Global Swarm Sync: Real-time knowledge synchronization via Git across multiple project instances.</li> </ul>"},{"location":"changelog/v12/#fixes","title":"\ud83d\udd27 Fixes","text":"<ul> <li>CLI Compatibility: Fixed \"Requested entity was not found\" error for Keyless OAuth users (Gemini CLI).</li> <li>Import Precision: Fixed <code>boring_checkpoint</code> imports in HealerNode.</li> <li>Node Stability: Fixed <code>NameError</code> for <code>boring_speckit_tasks</code> in <code>engine.py</code> by ensuring proper fallback initialization for all optional SpecKit tools.</li> </ul>"},{"location":"changelog/v12/#quality-stability","title":"\ud83d\udee1\ufe0f Quality &amp; Stability","text":"<ul> <li>Tool Count Alignment: Synchronized all documentation and router metadata to reflect verified tool counts (67+ standard, 43 lite).</li> <li>Timeout Protection: Implemented a 1-hour global timeout for <code>AgentLoop</code> within the <code>FlowEngine</code> to prevent perpetual hangs.</li> <li>Integrity Audit: Purged \"ghost feature\" references to <code>VectorMemory</code> and <code>AutoLearner</code> from all documentation and guides.</li> <li>Standardized Results: 100% of tools now return the <code>BoringResult</code> TypedDict for better LLM reasoning.</li> </ul>"},{"location":"changelog/v12_zh/","title":"V12 \u66f4\u65b0\u65e5\u8a8c (Changelog)","text":""},{"location":"changelog/v12_zh/#1212-2026-01-14-honesty-hardening","title":"[12.1.2] - 2026-01-14 - Honesty &amp; Hardening \ud83d\udee1\ufe0f","text":""},{"location":"changelog/v12_zh/#quality-integrity","title":"\ud83d\udee1\ufe0f \u8cea\u91cf\u8207\u8aa0\u5be6 (Quality &amp; Integrity)","text":"<ul> <li>\u6587\u6a94\u8aa0\u5be6\u5ea6 (100%): \u6df1\u5ea6\u5be9\u6838\u6240\u6709\u624b\u518a\uff0c\u78ba\u4fdd\u8207\u5be6\u4f5c 1:1 \u5339\u914d\u3002</li> <li>\u4ee3\u78bc\u5eab\u885b\u751f: \u79fb\u9664\u5be6\u9a57\u6027\u7522\u7269\u8207\u300c\u5e7d\u9748\u529f\u80fd\u300d\u3002</li> <li>\u9a57\u8b49: \u9a57\u8b49\u4e86 <code>boring verify --level FULL</code> \u4ee5\u53ca <code>uv</code>/<code>smithery</code> \u914d\u7f6e\u8def\u5f91\u3002</li> </ul>"},{"location":"changelog/v12_zh/#feature-acceleration","title":"\ud83d\ude80 \u529f\u80fd\u52a0\u901f (Feature Acceleration)","text":"<ul> <li>\u767d\u540d\u55ae Skill \u5b89\u88dd: <code>boring_skills_install</code> \u73fe\u5728\u652f\u63f4\u53d7\u4fe1\u4efb\u7684 URL (<code>GitHub</code>, <code>SkillsMP</code>)\u3002</li> <li>\u901a\u7528\u6280\u80fd\u7cfb\u7d71 (BUSS): <ul> <li>\u8de8\u5e73\u53f0 Skill \u8f09\u5165\u5668\uff0c\u652f\u63f4 <code>.boring/</code>, <code>.gemini/</code>, <code>.claude/</code>, <code>.antigravity/</code> \u76ee\u9304\u3002</li> <li>\u65b0\u589e MCP \u5de5\u5177\uff1a<code>boring_skill_discover</code>, <code>boring_skill_activate</code>, <code>boring_skill_create</code>, <code>boring_skill_download</code>\u3002</li> <li>\u652f\u63f4\u81ea\u52d5\u540c\u6b65\u5230\u6240\u6709\u5ba2\u6236\u7aef\u76ee\u9304\u3002</li> </ul> </li> <li>\u5de5\u4f5c\u5340\u885b\u751f (Workspace Hygiene): \u65b0\u589e <code>boring clean</code> \u6307\u4ee4\uff0c\u53ef\u5b89\u5168\u6e05\u9664\u66ab\u5b58\u6a94\u6848 (<code>.boring/</code>, <code>.boring_memory/</code>)\uff0c\u9084\u539f\u4e7e\u6de8\u7684\u5c08\u6848\u72c0\u614b\u3002</li> </ul>"},{"location":"changelog/v12_zh/#1200-2026-01-14-the-true-one-dragon-update","title":"[12.0.0] - 2026-01-14 - \u4e00\u689d\u9f8d\u66f4\u65b0 (The True One Dragon Update) \ud83d\udc09\ud83e\udde0","text":""},{"location":"changelog/v12_zh/#major-features","title":"\ud83d\ude80 \u4e3b\u8981\u529f\u80fd (Major Features)","text":"<ul> <li>\u4e00\u689d\u9f8d\u6d41\u7a0b (One Dragon Flow V12.0.0): \u4e00\u500b\u5b8c\u6574\u7684\u3001\u7531\u72c0\u614b\u6a5f\u9a45\u52d5\u7684\u81ea\u4e3b\u958b\u767c\u8ff4\u5708\u3002\u5305\u542b <code>Architect</code> (\u67b6\u69cb\u5e2b), <code>Builder</code> (\u69cb\u5efa\u8005), <code>Healer</code> (\u4fee\u5fa9\u8005), <code>Polish</code> (\u78e8\u5149\u5e2b) \u548c <code>Evolver</code> (\u9032\u5316\u8005) \u968e\u6bb5\u3002</li> <li>\u8a8d\u77e5\u53cd\u5c04 (Cognitive Reflex): \u5c07\u8a9e\u7fa9\u641c\u5c0b (RAG) \u76f4\u63a5\u6574\u5408\u9032\u5927\u8166 (Brain)\uff0c\u5be6\u73fe\u9ad8\u901f\u6a21\u7cca\u932f\u8aa4\u4fee\u6b63\u3002</li> <li>\u5168\u7403\u7fa4\u9ad4\u540c\u6b65 (Global Swarm Sync): \u900f\u904e Git \u5728\u591a\u500b\u5c08\u6848\u5be6\u4f8b\u4e4b\u9593\u5be6\u73fe\u5373\u6642\u77e5\u8b58\u540c\u6b65\u3002</li> </ul>"},{"location":"changelog/v12_zh/#fixes","title":"\ud83d\udd27 \u4fee\u5fa9 (Fixes)","text":"<ul> <li>CLI \u76f8\u5bb9\u6027: \u4fee\u5fa9\u4e86 Keyless OAuth \u7528\u6236 (Gemini CLI) \u9047\u5230\u7684 \"Requested entity was not found\" \u932f\u8aa4\u3002</li> <li>\u5c0e\u5165\u7cbe\u78ba\u5ea6: \u4fee\u5fa9\u4e86 HealerNode \u4e2d <code>boring_checkpoint</code> \u7684\u5c0e\u5165\u554f\u984c\u3002</li> <li>\u7bc0\u9ede\u7a69\u5b9a\u6027: \u4fee\u5fa9\u4e86 <code>engine.py</code> \u4e2d <code>boring_speckit_tasks</code> \u7684 <code>NameError</code>\uff0c\u78ba\u4fdd\u6240\u6709\u9078\u64c7\u6027\u7684 SpecKit \u5de5\u5177\u90fd\u6709\u6b63\u78ba\u7684\u5099\u7528\u521d\u59cb\u5316\u3002</li> </ul>"},{"location":"changelog/v12_zh/#quality-stability","title":"\ud83d\udee1\ufe0f \u8cea\u91cf\u8207\u7a69\u5b9a\u6027 (Quality &amp; Stability)","text":"<ul> <li>\u5de5\u5177\u6578\u91cf\u5c0d\u9f4a: \u540c\u6b65\u4e86\u6240\u6709\u6587\u6a94\u8207\u8def\u7531\u5143\u6578\u64da\uff0c\u53cd\u6620\u5df2\u9a57\u8b49\u7684\u5de5\u5177\u6578\u91cf\uff0867+ \u6a19\u6e96\u7d1a\u5225\uff0c43 \u8f15\u91cf\u7d1a\u5225\uff09\u3002</li> <li>\u8d85\u6642\u4fdd\u8b77: \u70ba <code>FlowEngine</code> \u5167\u7684 <code>AgentLoop</code> \u5be6\u4f5c\u4e86 1 \u5c0f\u6642\u5168\u9ad4\u8d85\u6642\uff0c\u9632\u6b62\u6c38\u4e45\u639b\u6a5f\u3002</li> <li>\u5b8c\u6574\u6027\u5be9\u6838: \u6e05\u9664\u4e86\u6240\u6709\u6587\u6a94\u548c\u6307\u5357\u4e2d\u5c0d <code>VectorMemory</code> \u548c <code>AutoLearner</code> \u7684\u300c\u5e7d\u9748\u529f\u80fd\u300d\u5f15\u7528\u3002</li> <li>\u6a19\u6e96\u5316\u7d50\u679c: 100% \u7684\u5de5\u5177\u73fe\u5728\u90fd\u8fd4\u56de <code>BoringResult</code> TypedDict\uff0c\u4ee5\u4fbf LLM \u9032\u884c\u66f4\u597d\u7684\u63a8\u7406\u3002</li> </ul>"},{"location":"changelog/v13/","title":"V13.0.0 - 2026-01-15 - Multi-Agent &amp; Performance (Async Evolution) \u26a1\ud83e\udd16","text":""},{"location":"changelog/v13/#major-features","title":"\ud83d\ude80 Major Features","text":"<ul> <li>Async Agent Evolution (Phase 8):<ul> <li>Parallel Orchestration: Introduced <code>AsyncAgentRunner</code> for simultaneous execution of Architect, Coder, and Reviewer.</li> <li>Performance Scoring: <code>AgentScorer</code> now evaluates agent quality in real-time to optimize routing.</li> <li>OpenAI Compatible Protocol: Standardized <code>boring.agents.protocol</code> for seamless integration with external providers.</li> </ul> </li> <li>Incremental Performance Tuning (Phase 1):<ul> <li>Prompt Cache: Smart context reuse in <code>ThinkingState</code> reduces token costs by ~15-30% for iterative loops.</li> <li>Incremental RAG: Git-aware indexing only processes modified files, significantly reducing RAG startup time.</li> <li>Import Lazy-Loading: Overhauled <code>boring.intelligence</code> and <code>boring.mcp</code> imports for &lt;500ms startup latency.</li> </ul> </li> <li>Semantic Storage Fallback (V13 Core):<ul> <li>FAISS Integration: Full fallback support for semantic search using local FAISS and <code>sentence-transformers</code> when ChromaDB is unavailable.</li> <li>Batch Indexing: Optimized <code>BrainManager</code> to perform batch upserts for patterns, significantly speeding up index rebuilds.</li> <li>Pure Semantic Search API: New <code>get_relevant_patterns_embedding</code> method for direct semantic retrieval without keyword fallback.</li> </ul> </li> <li>Enhanced Observability (Phase 5):<ul> <li>Token Tracker: Real-time dollar-cost and token tracking integrated into <code>boring_usage_stats</code>.</li> <li>Timeline View: Dashboard now supports event-driven timeline visualization of the entire development loop.</li> <li>Structured Logging: Switched to JSON-based structured logs for enterprise-grade auditability.</li> </ul> </li> </ul>"},{"location":"changelog/v13/#mcp-tools-support","title":"\ud83e\udde9 MCP Tools &amp; Support","text":"<ul> <li>Multi-Agent CLI (boring_multi_agent): Fully upgraded to async execution mode.</li> <li>Cross-Language Support: Added high-precision AST parsing for Rust, Java, Kotlin, and Scala.</li> <li>Enterprise Git: Native support for GitLab and Gitee repositories.</li> <li>Batch Processing: New <code>boring_batch</code> tool for sequential automation of independent tasks.</li> </ul>"},{"location":"changelog/v13/#fixes-stabilization","title":"\ud83d\udd27 Fixes &amp; Stabilization","text":"<ul> <li>Test Integrity: Achieved 1479+ passing tests. Fixed major regression blockers in <code>ThinkingState</code> context and async mocking.</li> <li>CLI Modernization: Deprecated <code>memory-clear</code> in favor of unified <code>clean --all</code> command.</li> <li>RAG Robustness: Fixed stale file deletion logic in <code>RAGRetriever</code> for accurate vector searches.</li> <li>Path Handling: Enhanced absolute path support for Windows environments in all Vibe Coder tools.</li> </ul>"},{"location":"changelog/v13_zh/","title":"V13.0.0 - 2026-01-15 - \u591a\u4ee3\u7406\u8207\u6548\u80fd\u512a\u5316 (\u975e\u540c\u6b65\u6f14\u9032) \u26a1\ud83e\udd16","text":""},{"location":"changelog/v13_zh/#_1","title":"\ud83d\ude80 \u4e3b\u8981\u529f\u80fd","text":"<ul> <li>\u975e\u540c\u6b65\u4ee3\u7406\u6f14\u9032 (Phase 8):<ul> <li>\u5e73\u884c\u7de8\u6392: \u5f15\u5165 <code>AsyncAgentRunner</code> \u4ee5\u540c\u6642\u57f7\u884c\u67b6\u69cb\u5e2b (Architect)\u3001\u7de8\u78bc\u54e1 (Coder) \u548c\u5be9\u67e5\u54e1 (Reviewer)\u3002</li> <li>\u6548\u80fd\u8a55\u5206: <code>AgentScorer</code> \u73fe\u53ef\u5373\u6642\u8a55\u4f30\u4ee3\u7406\u54c1\u8cea\u4ee5\u512a\u5316\u8def\u7531\u3002</li> <li>OpenAI \u76f8\u5bb9\u5354\u5b9a: \u6a19\u6e96\u5316 <code>boring.agents.protocol</code> \u4ee5\u7121\u7e2b\u6574\u5408\u5916\u90e8\u63d0\u4f9b\u8005\u3002</li> </ul> </li> <li>\u589e\u91cf\u6548\u80fd\u8abf\u512a (Phase 1):<ul> <li>\u63d0\u793a\u8a5e\u5feb\u53d6 (Prompt Cache): <code>ThinkingState</code> \u4e2d\u7684\u667a\u80fd\u4e0a\u4e0b\u6587\u91cd\u7528\u53ef\u70ba\u8fed\u4ee3\u8ff4\u5708\u6e1b\u5c11\u7d04 15-30% \u7684 Token \u6210\u672c\u3002</li> <li>\u589e\u91cf RAG: \u652f\u63f4 Git \u7684\u7d22\u5f15\u6a5f\u5236\u50c5\u8655\u7406\u4fee\u6539\u904e\u7684\u6a94\u6848\uff0c\u5927\u5e45\u7e2e\u77ed RAG \u555f\u52d5\u6642\u9593\u3002</li> <li>\u532f\u5165\u5ef6\u9072\u8f09\u5165 (Lazy-Loading): \u5168\u9762\u7ffb\u4fee <code>boring.intelligence</code> \u548c <code>boring.mcp</code> \u7684\u532f\u5165\u6a5f\u5236\uff0c\u5be6\u73fe &lt;500ms \u7684\u555f\u52d5\u5ef6\u9072\u3002</li> </ul> </li> <li>\u8a9e\u7fa9\u5132\u5b58\u5099\u63f4 (V13 \u6838\u5fc3):<ul> <li>FAISS \u6574\u5408: \u7576 ChromaDB \u4e0d\u53ef\u7528\u6642\uff0c\u5168\u9762\u652f\u63f4\u4f7f\u7528\u672c\u5730 FAISS \u548c <code>sentence-transformers</code> \u9032\u884c\u8a9e\u7fa9\u641c\u5c0b\u3002</li> <li>\u6279\u6b21\u7d22\u5f15 (Batch Indexing): \u512a\u5316 <code>BrainManager</code> \u4ee5\u5c0d\u6a21\u5f0f\u57f7\u884c\u6279\u6b21\u66f4\u65b0 (upsert)\uff0c\u986f\u8457\u52a0\u901f\u7d22\u5f15\u91cd\u5efa\u3002</li> <li>\u7d14\u8a9e\u7fa9\u641c\u5c0b API: \u65b0\u589e <code>get_relevant_patterns_embedding</code> \u65b9\u6cd5\uff0c\u7528\u65bc\u76f4\u63a5\u9032\u884c\u8a9e\u7fa9\u6aa2\u7d22\u800c\u7121\u9700\u95dc\u9375\u5b57\u5099\u63f4\u3002</li> </ul> </li> <li>\u589e\u5f37\u53ef\u89c0\u6e2c\u6027 (Phase 5):<ul> <li>Token \u8ffd\u8e64\u5668: \u5373\u6642\u7f8e\u5143\u6210\u672c\u548c Token \u8ffd\u8e64\u5df2\u6574\u5408\u81f3 <code>boring_usage_stats</code> \u4e2d\u3002</li> <li>\u6642\u9593\u8ef8\u6aa2\u8996: \u5100\u8868\u677f\u73fe\u652f\u63f4\u6574\u500b\u958b\u767c\u8ff4\u5708\u7684\u4e8b\u4ef6\u9a45\u52d5\u6642\u9593\u8ef8\u53ef\u8996\u5316\u3002</li> <li>\u7d50\u69cb\u5316\u65e5\u8a8c: \u5207\u63db\u81f3\u57fa\u65bc JSON \u7684\u7d50\u69cb\u5316\u65e5\u8a8c\uff0c\u4ee5\u5be6\u73fe\u4f01\u696d\u7d1a\u7684\u53ef\u5be9\u8a08\u6027\u3002</li> </ul> </li> </ul>"},{"location":"changelog/v13_zh/#mcp","title":"\ud83e\udde9 MCP \u5de5\u5177\u8207\u652f\u63f4","text":"<ul> <li>\u591a\u4ee3\u7406 CLI (boring_multi_agent): \u5168\u9762\u5347\u7d1a\u81f3\u975e\u540c\u6b65\u57f7\u884c\u6a21\u5f0f\u3002</li> <li>\u8de8\u8a9e\u8a00\u652f\u63f4: \u70ba Rust\u3001Java\u3001Kotlin \u548c Scala \u65b0\u589e\u4e86\u9ad8\u7cbe\u5ea6 AST \u89e3\u6790\u3002</li> <li>\u4f01\u696d\u7d1a Git: \u539f\u751f\u652f\u63f4 GitLab \u548c Gitee \u5132\u5b58\u5eab\u3002</li> <li>\u6279\u6b21\u8655\u7406: \u65b0\u589e <code>boring_batch</code> \u5de5\u5177\uff0c\u7528\u65bc\u7368\u7acb\u4efb\u52d9\u7684\u9806\u5e8f\u81ea\u52d5\u5316\u3002</li> </ul>"},{"location":"changelog/v13_zh/#_2","title":"\ud83d\udd27 \u4fee\u5fa9\u8207\u7a69\u5b9a\u5316","text":"<ul> <li>\u6e2c\u8a66\u5b8c\u6574\u6027: \u9054\u5230 1479+ \u9805\u6e2c\u8a66\u901a\u904e\u3002\u4fee\u5fa9\u4e86 <code>ThinkingState</code> \u4e0a\u4e0b\u6587\u548c\u975e\u540c\u6b65\u6a21\u64ec\u4e2d\u7684\u4e3b\u8981\u56de\u6b78\u963b\u7919\u3002</li> <li>CLI \u73fe\u4ee3\u5316: \u5ee2\u68c4 <code>memory-clear</code>\uff0c\u6539\u7528\u7d71\u4e00\u7684 <code>clean --all</code> \u6307\u4ee4\u3002</li> <li>RAG \u5f37\u97cc\u6027: \u4fee\u5fa9\u4e86 <code>RAGRetriever</code> \u4e2d\u9673\u820a\u6a94\u6848\u7684\u522a\u9664\u908f\u8f2f\uff0c\u4ee5\u5be6\u73fe\u7cbe\u78ba\u7684\u5411\u91cf\u641c\u5c0b\u3002</li> <li>\u8def\u5f91\u8655\u7406: \u5728\u6240\u6709 Vibe Coder \u5de5\u5177\u4e2d\u589e\u5f37\u4e86\u5c0d Windows \u74b0\u5883\u7d55\u5c0d\u8def\u5f91\u7684\u652f\u63f4\u3002</li> </ul>"},{"location":"changelog/v14/","title":"V14.0.0 - The Cognitive Revolution","text":"<p>Release Date: 2026-01-15 Codename: \"Silent Sentinel\" &amp; \"System 2\"</p> <p>Boring V14.0.0 marks the transition from an \"AI Coding Tool\" to a Cognitive Autonomous Agent. It introduces the 4-Layer Cognitive Architecture, enabling the agent to \"Think before it Acts\" using System 2 reasoning.</p>"},{"location":"changelog/v14/#sovereign-edition-phase-vii","title":"\ud83d\udc51 Sovereign Edition (Phase VII)","text":"<p>The final iteration of V14.0 achieves 100-Point Perfection by introducing: - Project Biography (<code>boring bio</code>): Knowledge continuity for teams. - Policy-as-Code (<code>boring policy</code>): Enterprise-grade tool permissions. - Self-Healing Doctor (<code>boring doctor --fix</code>): Automated environment repair. - Project Sovereign Audit (<code>boring perfection</code>): Final certification of readiness. - Migration Engine (<code>boring migrate</code>): Forward-compatible project state transition.</p>"},{"location":"changelog/v14/#perfection-validation-roadmap","title":"\ud83c\udfaf Perfection Validation Roadmap","text":"Stage Milestone Business Goal Gate Stage 1 Beginner UX Zero-config setup verification. Newbie can finish flow with README. Stage 2 Power User Stress test &amp; fault tolerance. Clear fix guidance under pressure. Stage 3 Team Reality Shadow Adoption metrics. Stickiness &amp; behavior tracking. Stage 4 Operation Readiness Logging &amp; version stability. Observability for non-devs. Stage 5 Governance Fit Policy-as-Code &amp; audit trail. Behavior is restricted &amp; auditable. Stage 6 Vendor Risk Zero Lock-in verification. Project maintainable without Boring. Stage 7 Executive Readiness Business KPI &amp; ROI validation. Value understood by non-tech leaders."},{"location":"changelog/v14/#major-features","title":"\ud83c\udf1f Major Features","text":""},{"location":"changelog/v14/#cognitive-architecture-system-2","title":"\ud83e\udde0 Cognitive Architecture (System 2)","text":"<ul> <li>Sequential Thinking: The agent now uses a structured thinking process (<code>sequentialthinking</code>) to analyze problems, revise assumptions, and plan strategies before writing a single line of code.</li> <li>Semantic Tool Router: A new context-aware router (<code>tool_router.py</code>) that filters 60+ tools based on the current Flow Stage (Design, Implement, Polish), reducing token usage by 80%.</li> </ul>"},{"location":"changelog/v14/#one-dragon-flow","title":"\ud83d\udc09 One Dragon Flow","text":"<ul> <li>End-to-End Autonomy: A unified flow that takes a single user intent and autonomously traverses the entire SDLC:<ol> <li>Design: Architecture planning &amp; Impact prediction.</li> <li>Implement: Code generation &amp; test writing.</li> <li>Polish: Security scanning &amp; Code review.</li> <li>Verify: Automated testing &amp; validation.</li> </ol> </li> <li>Command: <code>boring flow \"Your intent here\"</code></li> </ul>"},{"location":"changelog/v14/#notification-system-20","title":"\ud83d\udd14 Notification System 2.0","text":"<ul> <li>Unified Manager: Centralized <code>NotificationManager</code> supporting multiple channels simultaneously.</li> <li>Channels:<ul> <li>Desktop: Native OS toast notifications with sound.</li> <li>Slack/Discord: Webhook integration for team updates.</li> <li>Email: Critical alerts via SMTP.</li> </ul> </li> <li>UI: New \"Glassmorphism\" design for Web Dashboard and Toast notifications.</li> </ul>"},{"location":"changelog/v14/#developer-experience-devx","title":"\ud83d\udcbb Developer Experience (DevX)","text":"<ul> <li>VSCode Extension: A dedicated sidebar extension (<code>vscode-boring</code>) to control the agent, view status, and launch the dashboard.</li> <li>Interactive Tutorial 2.0: A gamified CLI tutorial (<code>boring tutorial</code>) to onboard new users with missions and badges.</li> <li>Visual Dashboard: Real-time WebSocket-powered dashboard for monitoring agent thoughts and detailed logs.</li> </ul>"},{"location":"changelog/v14/#offline-first-mode","title":"\ud83d\udd0c Offline-First Mode","text":"<ul> <li>Zero-Network Dependency: Core functionalities (RAG, Logic, Editing) now work 100% offline.</li> <li>Local LLM Support: Native integration with <code>local_llm</code> via <code>llama-cpp-python</code>.</li> <li>GGUF Model Manager: CLI to download and manage quantized models (Llama 3, Qwen 2.5).</li> </ul>"},{"location":"changelog/v14/#cli-improvements","title":"\ud83d\ude80 CLI Improvements","text":"<ul> <li>New Commands:<ul> <li><code>boring flow</code>: Start the One Dragon autonomous flow.</li> <li><code>boring tutorial</code>: Launch the interactive gamified tutorial.</li> <li><code>boring wizard</code>: Now supports 15+ clients (Cursor, Claude, VSCode, Trae, etc.).</li> <li><code>boring doctor</code>: Comprehensive system health check (with <code>--fix</code> support).</li> <li><code>boring bisect</code>: AI-driven autonomous bug hunting.</li> <li><code>boring bio</code>: Generate project biography for knowledge continuity.</li> <li><code>boring policy</code>: Enforce tool governance policies.</li> <li><code>boring perfection</code>: Run the 100-point perfection audit.</li> </ul> </li> <li>Enhanced <code>boring start</code>: Supports <code>profile</code> and <code>flow</code> arguments.</li> </ul>"},{"location":"changelog/v14/#infrastructure","title":"\ud83d\udee0\ufe0f Infrastructure","text":"<ul> <li>Flow Stage Metadata: Tools are now semantically tagged with stages (<code>Design</code>, <code>Implement</code>, <code>Polish</code>) for smarter routing.</li> <li>Unified State Directory: Consolidated all config/state into <code>.boring/</code> directory.</li> <li>FastMCP Async: Optimized asynchronous tool registration.</li> </ul>"},{"location":"changelog/v14/#breaking-changes","title":"\u26a0\ufe0f Breaking Changes","text":"<ul> <li>Legacy Removal: Old directories (<code>.boring_memory</code>, <code>.agent</code>) are deprecated. Use <code>boring clean</code> to remove.</li> <li>Config: Main config moved to <code>.boring.toml</code>.</li> <li>Tool Names: Some tools renamed for consistency (e.g., <code>boring_skills_browse</code> -&gt; <code>boring_skills_list</code>).</li> </ul>"},{"location":"changelog/v14/#contributors","title":"\ud83d\udc65 Contributors","text":"<p>Thanks to the Boring Team and the Open Source community for enabling this Cognitive Revolution!</p>"},{"location":"changelog/v14_zh/","title":"V14.0.0 - \u8a8d\u77e5\u9769\u547d (The Cognitive Revolution)","text":"<p>\u767c\u5e03\u65e5\u671f: 2026-01-15 \u4ee3\u865f: \"Silent Sentinel\" &amp; \"System 2\"</p> <p>Boring V14.0.0 \u6a19\u8a8c\u8457\u5f9e\u55ae\u7d14\u7684\u300cAI \u8f14\u52a9\u5de5\u5177\u300d\u8f49\u578b\u70ba\u8a8d\u77e5\u578b\u81ea\u4e3b\u4ee3\u7406 (Cognitive Autonomous Agent)\u3002\u6211\u5011\u5f15\u5165\u4e86 4\u5c64\u8a8d\u77e5\u67b6\u69cb (4-Layer Cognitive Architecture)\uff0c\u8b93\u4ee3\u7406\u5728\u884c\u52d5\u524d\u5177\u5099 System 2 \u7684\u6df1\u5ea6\u63a8\u7406\u80fd\u529b\u3002</p>"},{"location":"changelog/v14_zh/#sovereign-edition-phase-vii","title":"\ud83d\udc51 \u4e3b\u6b0a\u7248 (Sovereign Edition - Phase VII)","text":"<p>V14.0 \u7684\u6700\u7d42\u8fed\u4ee3\u9054\u5230\u4e86 100 \u5206\u5b8c\u7f8e\u5883\u754c\uff0c\u5f15\u5165\u4e86\uff1a - \u5c08\u6848\u50b3\u8a18 (<code>boring bio</code>): \u89e3\u6c7a\u5718\u968a\u9593\u7684\u77e5\u8b58\u65b7\u5c64\u8207\u9577\u671f\u958b\u767c\u8108\u7d61\u3002 - \u7b56\u7565\u5373\u7a0b\u5f0f\u78bc (<code>boring policy</code>): \u4f01\u696d\u7d1a\u5de5\u5177\u6b0a\u9650\u7ba1\u63a7\u8207\u5b89\u5168\u8b77\u6b04\u3002 - \u81ea\u7652\u8a3a\u65b7 (<code>boring doctor --fix</code>): \u5168\u81ea\u52d5\u74b0\u5883\u4fee\u5fa9\u8207\u4f9d\u8cf4\u89e3\u6c7a\u3002 - \u4e3b\u6b0a\u5c08\u6848\u5be9\u8a08 (<code>boring perfection</code>): \u6700\u7d42 7 \u968e\u6bb5\u6e96\u5099\u5c31\u7dd2\u8a8d\u8b49\u3002 - \u9077\u79fb\u5f15\u64ce (<code>boring migrate</code>): \u78ba\u4fdd\u5c08\u6848\u5177\u5099\u5411\u524d\u76f8\u5bb9\u7684\u5e73\u6ed1\u6f14\u9032\u80fd\u529b\u3002</p>"},{"location":"changelog/v14_zh/#roadmap","title":"\ud83c\udfaf \u5b8c\u7f8e\u5316\u9a57\u8b49\u8def\u7dda\u5716 (Roadmap)","text":"\u968e\u6bb5 \u91cc\u7a0b\u7891 \u5546\u696d\u76ee\u6a19 \u6aa2\u9a57\u9580\u6abb (Gate) Stage 1 \u521d\u5b78\u8005 UX \u9a57\u8b49\u96f6\u914d\u7f6e\u5b89\u88dd\u6d41\u7a0b\u3002 \u65b0\u624b\u80fd\u55ae\u9760 README \u5b8c\u6210\u5de5\u4f5c\u6d41\u3002 Stage 2 \u9032\u968e\u58d3\u529b\u6e2c\u8a66 \u9a57\u8b49\u9ad8\u58d3\u4e0b\u7684\u5bb9\u932f\u8207\u6307\u5f15\u3002 \u932f\u8aa4\u60c5\u5883\u4e0b\u80fd\u7d66\u51fa\u6e05\u6670\u4fee\u5fa9\u5efa\u8b70\u3002 Stage 3 \u5718\u968a\u5be6\u6e2c \u8ffd\u8e64 Shadow Adoption \u6307\u6a19\u3002 \u5718\u968a\u5c55\u73fe\u4f7f\u7528\u9ecf\u6027\u8207\u884c\u70ba\u8ecc\u8de1\u3002 Stage 4 \u71df\u904b\u6e96\u5099 \u9a57\u8b49\u65e5\u8a8c\u5206\u7d1a\u8207\u9577\u671f\u5b89\u5168\u6027\u3002 \u975e\u958b\u767c\u8005\u53ef\u4f9d\u65e5\u8a8c\u5224\u65b7\u554f\u984c\u3002 Stage 5 \u7d44\u7e54\u6cbb\u7406 \u5be6\u4f5c\u7b56\u7565\u7ba1\u63a7\u8207\u7a3d\u6838\u8ecc\u8de1\u3002 \u884c\u70ba\u53ef\u9650\u5236\u3001\u53ef\u5be9\u8a08\u3001\u53ef\u89e3\u91cb\u3002 Stage 6 \u96f6\u9396\u5b9a\u9a57\u8b49 \u9a57\u8b49\u5c08\u6848\u7684\u53ef\u7dad\u8b77\u6027\u3002 \u505c\u7528 Boring \u5f8c\u5c08\u6848\u4f9d\u7136\u53ef\u7dad\u8b77\u3002 Stage 7 \u6c7a\u7b56\u8005\u9a57\u8b49 \u9a57\u8b49\u5546\u696d KPI \u8207 ROI\u3002 \u975e\u6280\u8853\u6c7a\u7b56\u8005\u80fd\u7406\u89e3\u4e26\u8a8d\u53ef\u50f9\u503c\u3002"},{"location":"changelog/v14_zh/#major-features","title":"\ud83c\udf1f \u4e3b\u8981\u529f\u80fd (Major Features)","text":""},{"location":"changelog/v14_zh/#system-2","title":"\ud83e\udde0 \u8a8d\u77e5\u67b6\u69cb (System 2)","text":"<ul> <li>\u5faa\u5e8f\u601d\u8003 (Sequential Thinking): \u4ee3\u7406\u73fe\u5728\u4f7f\u7528\u7d50\u69cb\u5316\u7684\u601d\u8003\u6d41\u7a0b (<code>sequentialthinking</code>) \u4f86\u5206\u6790\u554f\u984c\u3001\u4fee\u6b63\u5047\u8a2d\u4e26\u898f\u5283\u7b56\u7565\uff0c\u800c\u4e0d\u518d\u662f\u76f2\u76ee\u5730\u7de8\u5beb\u7a0b\u5f0f\u78bc\u3002</li> <li>\u8a9e\u7fa9\u5de5\u5177\u8def\u7531\u5668 (Semantic Tool Router): \u5168\u65b0\u7684\u4e0a\u4e0b\u6587\u611f\u77e5\u8def\u7531\u5668 (<code>tool_router.py</code>)\uff0c\u80fd\u6839\u64da\u7576\u524d\u7684 \u6d41\u7a0b\u968e\u6bb5 (\u8a2d\u8a08\u3001\u5be6\u4f5c\u3001\u6f64\u98fe) \u667a\u80fd\u7be9\u9078 60+ \u500b\u5de5\u5177\uff0c\u6e1b\u5c11 80% \u7684 Token \u7528\u91cf\u3002</li> </ul>"},{"location":"changelog/v14_zh/#one-dragon-flow","title":"\ud83d\udc09 \u4e00\u689d\u9f8d\u5de5\u4f5c\u6d41 (One Dragon Flow)","text":"<ul> <li>\u7aef\u5230\u7aef\u81ea\u4e3b\u6027: \u7d71\u4e00\u7684\u5de5\u4f5c\u6d41\uff0c\u53ea\u9700\u4e00\u500b\u6307\u4ee4\u5373\u53ef\u81ea\u4e3b\u904d\u6b77\u8edf\u9ad4\u958b\u767c\u751f\u547d\u9031\u671f (SDLC)\uff1a<ol> <li>\u8a2d\u8a08 (Design): \u67b6\u69cb\u898f\u5283\u8207\u5f71\u97ff\u9810\u6e2c\u3002</li> <li>\u5be6\u4f5c (Implement): \u7a0b\u5f0f\u78bc\u751f\u6210\u8207\u6e2c\u8a66\u7de8\u5beb\u3002</li> <li>\u6f64\u98fe (Polish): \u5b89\u5168\u6383\u63cf\u8207\u4ee3\u78bc\u5be9\u67e5\u3002</li> <li>\u9a57\u8b49 (Verify): \u81ea\u52d5\u5316\u6e2c\u8a66\u8207\u9a57\u6536\u3002</li> </ol> </li> <li>\u6307\u4ee4: <code>boring flow \"\u4f60\u7684\u9700\u6c42\"</code></li> </ul>"},{"location":"changelog/v14_zh/#20-notification-system-20","title":"\ud83d\udd14 \u901a\u77e5\u7cfb\u7d71 2.0 (Notification System 2.0)","text":"<ul> <li>\u7d71\u4e00\u7ba1\u7406\u5668: \u96c6\u4e2d\u5316\u7684 <code>NotificationManager</code>\uff0c\u540c\u6642\u652f\u63f4\u591a\u7a2e\u901a\u77e5\u7ba1\u9053\u3002</li> <li>\u652f\u63f4\u7ba1\u9053:<ul> <li>Desktop: \u539f\u751f\u4f5c\u696d\u7cfb\u7d71 Toast \u901a\u77e5 (\u542b\u97f3\u6548)\u3002</li> <li>Slack/Discord: \u5718\u968a\u5354\u4f5c Webhook \u6574\u5408\u3002</li> <li>Email: \u900f\u904e SMTP \u767c\u9001\u95dc\u9375\u8b66\u5831\u3002</li> </ul> </li> <li>UI: Web Dashboard \u8207 Toast \u901a\u77e5\u63a1\u7528\u5168\u65b0\u7684 \"Glassmorphism\" \u73bb\u7483\u64ec\u614b\u8a2d\u8a08\u3002</li> </ul>"},{"location":"changelog/v14_zh/#devx","title":"\ud83d\udcbb \u958b\u767c\u8005\u9ad4\u9a57 (DevX)","text":"<ul> <li>VSCode Extension: \u5c08\u5c6c\u5074\u908a\u6b04\u64f4\u5145\u5957\u4ef6 (<code>vscode-boring</code>)\uff0c\u53ef\u76f4\u63a5\u63a7\u5236\u4ee3\u7406\u3001\u67e5\u770b\u72c0\u614b\u4e26\u555f\u52d5\u5100\u8868\u677f\u3002</li> <li>\u4e92\u52d5\u5f0f\u6559\u5b78 2.0: \u904a\u6232\u5316\u7684 CLI \u6559\u5b78 (<code>boring tutorial</code>)\uff0c\u900f\u904e\u4efb\u52d9\u8207\u5fbd\u7ae0\u6a5f\u5236\u5f15\u5c0e\u65b0\u7528\u6236\u4e0a\u624b\u3002</li> <li>\u53ef\u8996\u5316\u5100\u8868\u677f: \u57fa\u65bc WebSocket \u7684\u5373\u6642\u5100\u8868\u677f\uff0c\u53ef\u76e3\u63a7\u4ee3\u7406\u7684\u601d\u8003\u904e\u7a0b\u8207\u8a73\u7d30\u65e5\u8a8c\u3002</li> </ul>"},{"location":"changelog/v14_zh/#offline-first","title":"\ud83d\udd0c \u96e2\u7dda\u512a\u5148\u6a21\u5f0f (Offline-First)","text":"<ul> <li>\u96f6\u7db2\u8def\u4f9d\u8cf4: \u6838\u5fc3\u529f\u80fd (RAG\u3001\u908f\u8f2f\u63a8\u7406\u3001\u7de8\u8f2f) \u73fe\u5728\u53ef 100% \u96e2\u7dda\u904b\u4f5c\u3002</li> <li>\u672c\u5730 LLM \u652f\u63f4: \u900f\u904e <code>boring-adapter</code> \u539f\u751f\u6574\u5408 <code>local_llm</code> (llama-cpp-python)\u3002</li> <li>GGUF \u6a21\u578b\u7ba1\u7406: \u5167\u5efa CLI \u53ef\u4e0b\u8f09\u4e26\u7ba1\u7406\u91cf\u5316\u6a21\u578b (Llama 3, Qwen 2.5)\u3002</li> </ul>"},{"location":"changelog/v14_zh/#cli","title":"\ud83d\ude80 CLI \u6539\u9032","text":"<ul> <li>\u65b0\u6307\u4ee4:<ul> <li><code>boring flow</code>: \u555f\u52d5\u4e00\u689d\u9f8d\u81ea\u4e3b\u5de5\u4f5c\u6d41\u3002</li> <li><code>boring tutorial</code>: \u555f\u52d5\u4e92\u52d5\u5f0f\u904a\u6232\u5316\u6559\u5b78\u3002</li> <li><code>boring wizard</code>: \u652f\u63f4 15+ \u7a2e\u5ba2\u6236\u7aef\u914d\u7f6e (Cursor, Claude, VSCode, Trae \u7b49)\u3002</li> <li><code>boring doctor</code>: \u57f7\u884c\u5168\u9762\u7684\u7cfb\u7d71\u5065\u5eb7\u6aa2\u67e5 (\u652f\u63f4 <code>--fix</code> \u81ea\u52d5\u4fee\u5fa9)\u3002</li> <li><code>boring bisect</code>: AI \u9a45\u52d5\u7684\u81ea\u4e3b\u9664\u932f (Bisect)\u3002</li> <li><code>boring bio</code>: \u7522\u751f\u5c08\u6848\u50b3\u8a18\uff0c\u78ba\u4fdd\u77e5\u8b58\u50b3\u627f\u3002</li> <li><code>boring policy</code>: \u57f7\u884c\u5de5\u5177\u6cbb\u7406\u7b56\u7565\u3002</li> <li><code>boring perfection</code>: \u57f7\u884c 100 \u5206\u5b8c\u7f8e\u5be9\u8a08\u3002</li> </ul> </li> <li>\u589e\u5f37 <code>boring start</code>: \u652f\u63f4 <code>profile</code> \u8207 <code>flow</code> \u53c3\u6578\u3002</li> </ul>"},{"location":"changelog/v14_zh/#_1","title":"\ud83d\udee0\ufe0f \u57fa\u790e\u8a2d\u65bd","text":"<ul> <li>\u6d41\u7a0b\u968e\u6bb5\u5143\u6578\u64da: \u6240\u6709\u5de5\u5177\u73fe\u5728\u90fd\u6a19\u8a18\u4e86\u8a9e\u7fa9\u968e\u6bb5 (<code>Design</code>, <code>Implement</code>, <code>Polish</code>) \u4ee5\u652f\u63f4\u66f4\u8070\u660e\u7684\u8def\u7531\u3002</li> <li>\u7d71\u4e00\u72c0\u614b\u76ee\u9304: \u6240\u6709\u8a2d\u5b9a\u8207\u72c0\u614b\u6a94\u6848\u5df2\u6574\u5408\u81f3 <code>.boring/</code> \u76ee\u9304\u3002</li> <li>FastMCP Async: \u512a\u5316\u975e\u540c\u6b65\u5de5\u5177\u8a3b\u518a\u6548\u80fd\u3002</li> </ul>"},{"location":"changelog/v14_zh/#breaking-changes","title":"\u26a0\ufe0f \u7834\u58de\u6027\u66f4\u65b0 (Breaking Changes)","text":"<ul> <li>\u79fb\u9664\u820a\u76ee\u9304: <code>.boring_memory</code> \u8207 <code>.agent</code> \u76ee\u9304\u5df2\u68c4\u7528\u3002\u8acb\u4f7f\u7528 <code>boring clean</code> \u9032\u884c\u6e05\u7406\u3002</li> <li>\u8a2d\u5b9a\u6a94\u4f4d\u7f6e: \u4e3b\u8a2d\u5b9a\u6a94\u73fe\u4f4d\u65bc <code>.boring.toml</code>\u3002</li> <li>\u5de5\u5177\u66f4\u540d: \u90e8\u5206\u5de5\u5177\u5df2\u66f4\u540d\u4ee5\u4fdd\u6301\u4e00\u81f4\u6027 (\u4f8b\u5982 <code>boring_skills_browse</code> -&gt; <code>boring_skills_list</code>)\u3002</li> </ul>"},{"location":"changelog/v14_zh/#_2","title":"\ud83d\udc65 \u8ca2\u737b\u8005","text":"<p>\u611f\u8b1d Boring \u5718\u968a\u8207\u958b\u6e90\u793e\u7fa4\u4fc3\u6210\u4e86\u9019\u5834\u8a8d\u77e5\u9769\u547d\uff01</p>"},{"location":"features/adaptive-profile/","title":"Intelligent Adaptive Profile (P6)","text":"<p>\"A tool that learns how you work.\"</p> <p>The Adaptive Profile (<code>adaptive</code>) is a revolutionary new operating mode in Boring V11.5. Instead of forcing you to manually choose between \"Lite\" (fast but limited) and \"Full\" (powerful but expensive), the Adaptive Profile dynamically adjusts itself based on your behavior.</p>"},{"location":"features/adaptive-profile/#how-it-works","title":"How It Works","text":"<ol> <li>Usage Tracking: The system quietly observes which tools you use most frequently (via <code>UsageTracker</code>).</li> <li>Smart Context: It identifies your \"Top 20\" essential tools and keeps them available.</li> <li>Contextual Injection: <ul> <li>If you start testing, it auto-injects the <code>Testing Guide</code>.</li> <li>If you are debugging, it brings in <code>Error Analysis</code> tools.</li> </ul> </li> <li>Prompt Injection: Relevant guidelines (Prompts) are automatically added to the system prompt based on active tool categories.</li> </ol>"},{"location":"features/adaptive-profile/#benefits","title":"Benefits","text":"<ul> <li>\u26a1 Efficiency: Starts as light as <code>lite</code> profile (~97% token savings).</li> <li>\ud83e\udde0 Intelligence: Becomes as powerful as <code>full</code> profile exactly when needed.</li> <li>\ud83d\udee1\ufe0f Safety: Prevents \"Context Window Bloat\" by hiding irrelevant tools (e.g., hiding Git tools during pure coding sessions).</li> </ul>"},{"location":"features/adaptive-profile/#activation","title":"Activation","text":"<p>You can enable the Adaptive Profile using the Boring Wizard:</p> <pre><code>boring wizard\n# Choose \"adaptive\" from the menu\n</code></pre> <p>Or manually in <code>.boring.toml</code>:</p> <pre><code>[mcp]\nprofile = \"adaptive\"\n</code></pre> <p>Or via environment variable:</p> <pre><code>export BORING_MCP_PROFILE=adaptive\n</code></pre>"},{"location":"features/adaptive-profile/#privacy","title":"Privacy","text":"<p>Usage data is stored locally in <code>~/.boring/usage.json</code>. It is never sent to the cloud. You can view your own stats using the <code>boring-monitor</code> dashboard.</p>"},{"location":"features/adaptive-profile_zh/","title":"\u667a\u6167\u9069\u61c9\u6027\u8a2d\u5b9a\u6a94 (Intelligent Adaptive Profile) - P6","text":"<p>\"\u61c2\u4f60\u5de5\u4f5c\u7fd2\u6163\u7684 AI \u52a9\u624b\u3002\"</p> <p>\u9069\u61c9\u6027\u8a2d\u5b9a\u6a94 (<code>adaptive</code>) \u662f Boring V11.5 \u5f15\u5165\u7684\u9769\u547d\u6027\u529f\u80fd\u3002\u5b83\u4e0d\u518d\u5f37\u8feb\u4f60\u5728 \"Lite\"\uff08\u5feb\u901f\u4f46\u53d7\u9650\uff09\u548c \"Full\"\uff08\u5f37\u5927\u4f46\u6602\u8cb4\uff09\u4e4b\u9593\u505a\u9078\u64c7\uff0c\u800c\u662f\u6839\u64da\u4f60\u7684\u884c\u70ba\u52d5\u614b\u8abf\u6574\u7cfb\u7d71\u914d\u7f6e\u3002</p>"},{"location":"features/adaptive-profile_zh/#_1","title":"\u904b\u4f5c\u539f\u7406","text":"<ol> <li>\u4f7f\u7528\u91cf\u8ffd\u8e64\uff1a\u7cfb\u7d71\u6703\u9ed8\u9ed8\u89c0\u5bdf\u4f60\u6700\u5e38\u4f7f\u7528\u7684\u5de5\u5177\uff08\u900f\u904e <code>UsageTracker</code>\uff09\u3002</li> <li>\u667a\u6167\u4e0a\u4e0b\u6587\uff1a\u81ea\u52d5\u8b58\u5225\u4e26\u9396\u5b9a\u4f60\u7684 \"Top 20\" \u6838\u5fc3\u5de5\u5177\u3002</li> <li>\u60c5\u5883\u6ce8\u5165 (Contextual Injection)\uff1a<ul> <li>\u7576\u4f60\u958b\u59cb\u6e2c\u8a66\u6642\uff0c\u81ea\u52d5\u6ce8\u5165 <code>Testing Guide</code>\uff08\u6e2c\u8a66\u6307\u5357\uff09\u3002</li> <li>\u7576\u4f60\u9032\u884c\u9664\u932f\u6642\uff0c\u81ea\u52d5\u8f09\u5165 <code>Error Analysis</code>\uff08\u932f\u8aa4\u5206\u6790\uff09\u5de5\u5177\u3002</li> </ul> </li> <li>\u63d0\u793a\u8a5e\u6ce8\u5165 (Prompt Injection)\uff1a\u6839\u64da\u76ee\u524d\u6d3b\u8e8d\u7684\u5de5\u5177\u985e\u5225\uff0c\u81ea\u52d5\u5c07\u76f8\u95dc\u7684 Prompt \u52a0\u5165\u7cfb\u7d71\u4e0a\u4e0b\u6587\u3002</li> </ol>"},{"location":"features/adaptive-profile_zh/#_2","title":"\u4e3b\u8981\u512a\u52e2","text":"<ul> <li>\u26a1 \u9ad8\u6548\uff1a\u521d\u59cb\u72c0\u614b\u8207 <code>lite</code> \u8a2d\u5b9a\u6a94\u4e00\u6a23\u8f15\u91cf\uff08\u7bc0\u7701 97% Token\uff09\u3002</li> <li>\ud83e\udde0 \u667a\u80fd\uff1a\u7576\u4f60\u9700\u8981\u6642\uff0c\u77ac\u9593\u8b8a\u8eab\u70ba <code>full</code> \u8a2d\u5b9a\u6a94\u7684\u5b8c\u6574\u706b\u529b\u3002</li> <li>\ud83d\udee1\ufe0f \u5b89\u5168\uff1a\u96b1\u85cf\u8207\u7576\u524d\u4efb\u52d9\u7121\u95dc\u7684\u5de5\u5177\uff08\u4f8b\u5982\u5728\u7d14\u5beb Code \u6642\u96b1\u85cf Git \u5de5\u5177\uff09\uff0c\u9632\u6b62\u4e0a\u4e0b\u6587\u6c61\u67d3\u3002</li> </ul>"},{"location":"features/adaptive-profile_zh/#_3","title":"\u5982\u4f55\u555f\u7528","text":"<p>\u4f60\u53ef\u4ee5\u900f\u904e Boring Wizard \u555f\u7528\uff1a</p> <pre><code>boring wizard\n# \u5728\u9078\u55ae\u4e2d\u9078\u64c7 \"adaptive\"\n</code></pre> <p>\u6216\u624b\u52d5\u4fee\u6539 <code>.boring.toml</code>\uff1a</p> <pre><code>[mcp]\nprofile = \"adaptive\"\n</code></pre> <p>\u6216\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578\uff1a</p> <pre><code>export BORING_MCP_PROFILE=adaptive\n</code></pre>"},{"location":"features/adaptive-profile_zh/#_4","title":"\u96b1\u79c1\u8aaa\u660e","text":"<p>\u6240\u6709\u4f7f\u7528\u6578\u64da\u50c5\u5132\u5b58\u5728\u672c\u5730\u7684 <code>~/.boring/usage.json</code>\u3002\u7d55\u4e0d\u6703 \u4e0a\u50b3\u81f3\u96f2\u7aef\u3002\u4f60\u53ef\u4ee5\u900f\u904e <code>boring-monitor</code> \u5100\u8868\u677f\u67e5\u770b\u81ea\u5df1\u7684\u6578\u64da\u3002</p>"},{"location":"features/agents/","title":"\ud83e\udd16 Autonomous Agents","text":"<p>Intelligence Maximization Component \"You hire a team, not just a chatbot.\"</p> <p>Boring-Gemini operates as a Multi-Agent System (MAS). When you give a complex task, it's not just one LLM trying to do everything. It creates specialized personas to handle different aspects of the work.</p>"},{"location":"features/agents/#the-squad","title":"\ud83d\udc65 The Squad","text":""},{"location":"features/agents/#1-orchestrator-the-boss","title":"1. Orchestrator (The Boss)","text":"<ul> <li>Role: Project Manager.</li> <li>Job: Understands your goal, breaks it down into steps (<code>task.md</code>), delegates to other agents, and ensures the final result matches the requirement.</li> <li>Tool: <code>boring_multi_agent</code></li> </ul>"},{"location":"features/agents/#2-architect-the-planner","title":"2. Architect (The Planner)","text":"<ul> <li>Role: Senior Engineer.</li> <li>Job: Designs the solution, creates <code>implementation_plan.md</code>, checks for architectural consistency, and reviews major changes.</li> <li>Tool: <code>boring_prompt_plan</code></li> </ul>"},{"location":"features/agents/#3-coder-the-builder","title":"3. Coder (The Builder)","text":"<ul> <li>Role: Software Engineer.</li> <li>Job: Writes code, fixes bugs, and runs tests. Focuses on execution.</li> <li>Powered by: Vibe Coder capabilities.</li> </ul>"},{"location":"features/agents/#4-reviewer-the-qa","title":"4. Reviewer (The QA)","text":"<ul> <li>Role: Quality Assurance.</li> <li>Job: Reviews code for bugs, security issues (<code>security_scan</code>), and performance problems (<code>perf_tips</code>).</li> </ul>"},{"location":"features/agents/#system-1-vs-system-2-reasoning","title":"\ud83e\udde0 System 1 vs. System 2 Reasoning","text":"<p>Boring-Gemini uses a Dual-Process thinking model to optimize cost and performance:</p> <ul> <li>System 1 (Fast): Used for routing tools and simple edits. It relies on the model's intuitive \"next-token\" prediction.</li> <li>System 2 (Slow): Automatically triggered for complex tasks (architecture changes, big refactors). It uses ReasoningState to perform internal deliberation before calling any tools.</li> </ul>"},{"location":"features/agents/#the-autonomous-loop","title":"\ud83d\udd04 The Autonomous Loop","text":"<p>Unlike standard chatbots that stop after one reply, Boring runs in a Loop:</p> <ol> <li>Plan: Architect creates a plan.</li> <li>Execute: Coder writes the code.</li> <li>Verify: Reviewer checks the code and runs tests.</li> <li>Fix: If tests fail, Coder fixes them (Loop continues).</li> <li>Done: Only stops when criteria are met.</li> </ol>"},{"location":"features/agents/#vibe-coder-usage","title":"\ud83d\ude80 Vibe Coder Usage","text":"<p>Use <code>sequentialthinking</code> explicitly, or let the <code>boring-route</code> decide.</p> <pre><code># Complex task -&gt; Triggers Planner/Orchestrator\nboring-route \"Help me design and build a new user auth system\"\n# \ud83c\udfaf Routes to boring_prompt_plan (Planning)\n\n# During the process, agents might call:\n# - sequentialthinking (to solve logic puzzles)\n# - context7 (to check docs)\n</code></pre>"},{"location":"features/agents/#configuration","title":"\ud83d\udee0\ufe0f Configuration","text":"<p>Enable Multi-Agent features in <code>.boring.toml</code> (Standard/Full profile recommended).</p>"},{"location":"features/agents_zh/","title":"\ud83e\udd16 \u81ea\u4e3b Agent \u7cfb\u7d71 (Autonomous Agents)","text":"<p>Intelligence Maximization Component (\u667a\u80fd\u7d44\u4ef6) \"\u4f60\u96c7\u7528\u7684\u662f\u4e00\u500b\u5718\u968a\uff0c\u800c\u4e0d\u53ea\u662f\u4e00\u500b\u804a\u5929\u6a5f\u5668\u4eba\u3002\"</p> <p>Boring-Gemini \u4f5c\u70ba\u4e00\u500b\u591a Agent \u7cfb\u7d71 (Multi-Agent System, MAS) \u904b\u4f5c\u3002\u7576\u4f60\u7d66\u51fa\u4e00\u500b\u8907\u96dc\u4efb\u52d9\u6642\uff0c\u4e0d\u53ea\u662f\u4e00\u500b LLM \u8a66\u5716\u505a\u6240\u6709\u4e8b\u60c5\u3002\u5b83\u6703\u5275\u5efa\u5c08\u9580\u7684\u89d2\u8272\u4f86\u8655\u7406\u5de5\u4f5c\u7684\u4e0d\u540c\u65b9\u9762\u3002</p>"},{"location":"features/agents_zh/#the-squad","title":"\ud83d\udc65 \u5718\u968a\u6210\u54e1 (The Squad)","text":""},{"location":"features/agents_zh/#1-orchestrator","title":"1. Orchestrator (\u8001\u95c6/\u5c08\u6848\u7d93\u7406)","text":"<ul> <li>\u89d2\u8272: \u5c08\u6848\u7d93\u7406\u3002</li> <li>\u5de5\u4f5c: \u7406\u89e3\u4f60\u7684\u76ee\u6a19\uff0c\u5c07\u5176\u5206\u89e3\u70ba\u6b65\u9a5f (<code>task.md</code>)\uff0c\u6307\u6d3e\u7d66\u5176\u4ed6 Agent\uff0c\u4e26\u78ba\u4fdd\u6700\u7d42\u7d50\u679c\u7b26\u5408\u8981\u6c42\u3002</li> <li>\u5de5\u5177: <code>boring_multi_agent</code></li> </ul>"},{"location":"features/agents_zh/#2-architect","title":"2. Architect (\u67b6\u69cb\u5e2b)","text":"<ul> <li>\u89d2\u8272: \u8cc7\u6df1\u5de5\u7a0b\u5e2b\u3002</li> <li>\u5de5\u4f5c: \u8a2d\u8a08\u89e3\u6c7a\u65b9\u6848\uff0c\u5275\u5efa <code>implementation_plan.md</code>\uff0c\u6aa2\u67e5\u67b6\u69cb\u4e00\u81f4\u6027\uff0c\u4e26\u5be9\u67e5\u91cd\u5927\u8b8a\u66f4\u3002</li> <li>\u5de5\u5177: <code>prompt_plan</code></li> </ul>"},{"location":"features/agents_zh/#3-coder","title":"3. Coder (\u5de5\u7a0b\u5e2b)","text":"<ul> <li>\u89d2\u8272: \u8edf\u9ad4\u5de5\u7a0b\u5e2b\u3002</li> <li>\u5de5\u4f5c: \u5beb\u7a0b\u5f0f\u3001\u4fee\u5fa9 Bug\u3001\u904b\u884c\u6e2c\u8a66\u3002\u5c08\u6ce8\u65bc\u57f7\u884c\u3002</li> <li>\u52d5\u529b\u4f86\u6e90: Vibe Coder \u80fd\u529b\u3002</li> </ul>"},{"location":"features/agents_zh/#4-reviewer-","title":"4. \u5be9\u6838\u54e1 (Reviewer - \u54c1\u8cea\u4fdd\u8b49)","text":"<ul> <li>\u89d2\u8272\uff1a\u54c1\u8cea\u4fdd\u8b49\u5de5\u7a0b\u5e2b (QA)\u3002</li> <li>\u5de5\u4f5c\uff1a\u6aa2\u67e5\u7a0b\u5f0f\u78bc\u4e2d\u7684 Bug\u3001\u5b89\u5168\u554f\u984c (<code>security_scan</code>) \u4ee5\u53ca\u6548\u80fd\u554f\u984c (<code>perf_tips</code>)\u3002</li> </ul>"},{"location":"features/agents_zh/#vs","title":"\ud83e\udde0 \u7cfb\u7d71\u4e00 vs. \u7cfb\u7d71\u4e8c\u63a8\u7406","text":"<p>Boring-Gemini \u4f7f\u7528 \u300c\u96d9\u7a0b (Dual-Process)\u300d \u601d\u8003\u6a21\u578b\u4f86\u512a\u5316\u6210\u672c\u4e26\u63d0\u5347\u6548\u80fd\uff1a</p> <ul> <li>\u7cfb\u7d71\u4e00 (\u5feb\u901f)\uff1a\u7528\u65bc\u5de5\u5177\u8def\u7531\u53ca\u7c21\u55ae\u7684\u7de8\u8f2f\u3002\u5b83\u4f9d\u8cf4\u6a21\u578b\u76f4\u89ba\u7684\u300c\u4e0b\u4e00\u500b Token\u300d\u9810\u6e2c\u3002</li> <li>\u7cfb\u7d71\u4e8c (\u6162\u901f)\uff1a\u81ea\u52d5\u70ba\u8907\u96dc\u4efb\u52d9\uff08\u67b6\u69cb\u8b8a\u66f4\u3001\u5927\u578b\u91cd\u69cb\uff09\u89f8\u767c\u3002\u5b83\u4f7f\u7528 \u300cReasoningState (\u63a8\u7406\u72c0\u614b)\u300d \u5728\u8abf\u7528\u4efb\u4f55\u5de5\u5177\u4e4b\u524d\u9032\u884c\u5167\u90e8\u5be9\u8b70\u3002</li> </ul>"},{"location":"features/agents_zh/#the-autonomous-loop","title":"\ud83d\udd04 \u81ea\u4e3b\u8ff4\u5708 (The Autonomous Loop)","text":"<p>\u4e0d\u50cf\u6a19\u6e96\u804a\u5929\u6a5f\u5668\u4eba\u56de\u4e00\u53e5\u8a71\u5c31\u505c\u6b62\uff0cBoring \u5728\u4e00\u500b \u8ff4\u5708 \u4e2d\u904b\u884c\uff1a</p> <ol> <li>\u8a08\u756b (Plan): \u67b6\u69cb\u5e2b\u5236\u5b9a\u8a08\u756b\u3002</li> <li>\u57f7\u884c (Execute): \u5de5\u7a0b\u5e2b\u5beb\u7a0b\u5f0f\u3002</li> <li>\u9a57\u8b49 (Verify): \u54c1\u7ba1\u6aa2\u67e5\u7a0b\u5f0f\u78bc\u4e26\u904b\u884c\u6e2c\u8a66\u3002</li> <li>\u4fee\u5fa9 (Fix): \u5982\u679c\u6e2c\u8a66\u5931\u6557\uff0c\u5de5\u7a0b\u5e2b\u9032\u884c\u4fee\u5fa9 (\u8ff4\u5708\u7e7c\u7e8c)\u3002</li> <li>\u5b8c\u6210 (Done): \u53ea\u6709\u7576\u6a19\u6e96\u6eff\u8db3\u6642\u624d\u505c\u6b62\u3002</li> </ol>"},{"location":"features/agents_zh/#vibe-coder","title":"\ud83d\ude80 Vibe Coder \u7528\u6cd5","text":"<p>\u660e\u78ba\u4f7f\u7528 <code>sequentialthinking</code>\uff0c\u6216\u8005\u8b93 <code>boring-route</code> \u6c7a\u5b9a\u3002</p> <pre><code># \u8907\u96dc\u4efb\u52d9 -&gt; \u89f8\u767c Planner/Orchestrator\nboring-route \"\u5e6b\u6211\u8a2d\u8a08\u4e26\u69cb\u5efa\u4e00\u500b\u65b0\u7684\u4f7f\u7528\u8005\u8a8d\u8b49\u7cfb\u7d71\"\n# \ud83c\udfaf \u8def\u7531\u5230 boring_prompt_plan (Planning)\n\n# \u5728\u904e\u7a0b\u4e2d\uff0cAgents \u53ef\u80fd\u6703\u547c\u53eb:\n# - sequentialthinking (\u89e3\u6c7a\u908f\u8f2f\u8b0e\u984c)\n# - context7 (\u67e5\u6587\u4ef6)\n</code></pre>"},{"location":"features/agents_zh/#_1","title":"\ud83d\udee0\ufe0f \u914d\u7f6e","text":"<p>\u5728 <code>.boring.toml</code> \u4e2d\u555f\u7528\u591a Agent \u529f\u80fd (\u5efa\u8b70\u4f7f\u7528 Standard/Full profile)\u3002</p>"},{"location":"features/anomaly-safety/","title":"Anomaly Detection Safety Net (P5)","text":"<p>\"A guardian angel for your AI.\"</p> <p>The Anomaly Detection system (P5) is a built-in safety mechanism that protects your project from \"Agent Loops\" and accidental resource exhaustion. It sits between the AI Agent and your tools, monitoring every action in real-time.</p>"},{"location":"features/anomaly-safety/#capabilities","title":"Capabilities","text":""},{"location":"features/anomaly-safety/#1-infinite-loop-prevention","title":"1. Infinite Loop Prevention","text":"<p>If an Agent tries to call the exact same tool with the exact same arguments repeatedly (e.g., <code>read_file(\"main.py\")</code> 50 times in a row), the Safety Net intervenes. - Threshold: 50 consecutive identical calls. - Action: Blocks the 51st call. - Feedback: Returns <code>\u26d4 ANOMALY DETECTED: Loop detected</code> to the Agent, forcing it to change strategy.</p>"},{"location":"features/anomaly-safety/#2-smart-batching","title":"2. Smart Batching","text":"<p>The system is intelligent enough to distinguish between a Loop and a Batch Operation. - Scenario A: Reading the same file 50 times -&gt; BLOCKED \ud83d\uded1 - Scenario B: Reading 50 different files -&gt; ALLOWED \u2705</p>"},{"location":"features/anomaly-safety/#configuration","title":"Configuration","text":"<p>You can adjust the sensitivity of the Safety Net via environment variables:</p> <pre><code># Set max consecutive identical calls (Default: 50)\nexport BORING_ANOMALY_THRESHOLD=100\n</code></pre>"},{"location":"features/anomaly-safety/#monitoring","title":"Monitoring","text":"<p>When an anomaly is triggered, it is recorded in the Usage Dashboard (<code>boring-monitor</code>) under the \"Anomalies\" tab (coming soon).</p>"},{"location":"features/anomaly-safety_zh/","title":"\u7570\u5e38\u5075\u6e2c\u5b89\u5168\u7db2 (Anomaly Detection Safety Net) - P5","text":"<p>\"AI \u4ee3\u7406\u7684\u5b88\u8b77\u5929\u4f7f\u3002\"</p> <p>\u7570\u5e38\u5075\u6e2c\u7cfb\u7d71 (P5) \u662f\u4e00\u500b\u5167\u5efa\u7684\u5b89\u5168\u6a5f\u5236\uff0c\u5c08\u9580\u4fdd\u8b77\u60a8\u7684\u5c08\u6848\u514d\u53d7 \"Agent Loops\"\uff08\u4ee3\u7406\u7121\u9650\u8ff4\u5708\uff09\u548c\u610f\u5916\u8cc7\u6e90\u8017\u76e1\u7684\u5f71\u97ff\u3002\u5b83\u4f4d\u65bc AI \u4ee3\u7406\u8207\u5de5\u5177\u4e4b\u9593\uff0c\u5373\u6642\u76e3\u63a7\u6bcf\u4e00\u500b\u64cd\u4f5c\u3002</p>"},{"location":"features/anomaly-safety_zh/#_1","title":"\u6838\u5fc3\u80fd\u529b","text":""},{"location":"features/anomaly-safety_zh/#1","title":"1. \u9632\u6b62\u7121\u9650\u8ff4\u5708","text":"<p>\u5982\u679c Agent \u5617\u8a66\u91cd\u8907\u547c\u53eb\u5b8c\u5168\u76f8\u540c\u7684\u5de5\u5177\u548c\u53c3\u6578\uff08\u4f8b\u5982\uff1a\u9023\u7e8c 50 \u6b21 <code>read_file(\"main.py\")</code>\uff09\uff0c\u5b89\u5168\u7db2\u5c07\u6703\u4ecb\u5165\u3002 - \u95be\u503c\uff1a\u9023\u7e8c 50 \u6b21\u5b8c\u5168\u76f8\u540c\u7684\u547c\u53eb\u3002 - \u52d5\u4f5c\uff1a\u963b\u64cb\u7b2c 51 \u6b21\u547c\u53eb\u3002 - \u56de\u994b\uff1a\u5411 Agent \u8fd4\u56de <code>\u26d4 ANOMALY DETECTED: Loop detected</code>\uff0c\u8feb\u4f7f\u5176\u6539\u8b8a\u7b56\u7565\u3002</p>"},{"location":"features/anomaly-safety_zh/#2","title":"2. \u667a\u6167\u6279\u6b21\u8655\u7406","text":"<p>\u7cfb\u7d71\u8db3\u5920\u8070\u660e\uff0c\u80fd\u5920\u5340\u5206 \u8ff4\u5708 (Loop) \u548c \u6279\u6b21\u64cd\u4f5c (Batch Operation)\u3002 - \u60c5\u5883 A\uff1a\u8b80\u53d6 \u540c\u4e00\u500b \u6a94\u6848 50 \u6b21 -&gt; \u963b\u64cb (BLOCKED) \ud83d\uded1 - \u60c5\u5883 B\uff1a\u8b80\u53d6 50 \u500b \u4e0d\u540c \u7684\u6a94\u6848 -&gt; \u5141\u8a31 (ALLOWED) \u2705</p>"},{"location":"features/anomaly-safety_zh/#_2","title":"\u8a2d\u5b9a","text":"<p>\u60a8\u53ef\u4ee5\u900f\u904e\u74b0\u5883\u8b8a\u6578\u8abf\u6574\u5b89\u5168\u7db2\u7684\u9748\u654f\u5ea6\uff1a</p> <pre><code># \u8a2d\u5b9a\u6700\u5927\u9023\u7e8c\u76f8\u540c\u547c\u53eb\u6b21\u6578 (\u9810\u8a2d: 50)\nexport BORING_ANOMALY_THRESHOLD=100\n</code></pre>"},{"location":"features/anomaly-safety_zh/#_3","title":"\u76e3\u63a7","text":"<p>\u7576\u7570\u5e38\u88ab\u89f8\u767c\u6642\uff0c\u5b83\u5c07\u88ab\u8a18\u9304\u5728 Usage Dashboard (<code>boring-monitor</code>) \u4e2d\u3002</p>"},{"location":"features/clean/","title":"\ud83e\uddf9 Cleanup Tool (boring clean)","text":"<p>The <code>boring clean</code> command is your primary tool for maintaining a clean and unified development environment. It identifies and removes temporary artifacts, caches, and legacy files that are no longer needed.</p>"},{"location":"features/clean/#key-features","title":"\ud83c\udf1f Key Features","text":"<ul> <li>Unified Structure Enforcement: Helps shift legacy standalone files (like <code>.boring_memory</code>) into the unified <code>.boring/</code> directory.</li> <li>Artifact Removal: Safely removes circuit breaker states, response analyses, and temporary prompt files.</li> <li>Selective Cleanup: Choose between a standard cleanup or a complete deep purge of all Boring-related metadata.</li> </ul>"},{"location":"features/clean/#usage","title":"\ud83d\udee0\ufe0f Usage","text":""},{"location":"features/clean/#standard-cleanup","title":"Standard Cleanup","text":"<p>Removes temporary files and logs that are safe to delete without losing project history.</p> <pre><code>boring clean\n</code></pre>"},{"location":"features/clean/#deep-purge-all","title":"Deep Purge (All)","text":"<p>Removes all Boring-related metadata, including backups, Brain records, and memory. Use this when you want to reset Boring for a specific project.</p> <pre><code>boring clean --all\n</code></pre>"},{"location":"features/clean/#skip-confirmations","title":"Skip Confirmations","text":"<p>Combine with <code>--force</code> to run non-interactively.</p> <pre><code>boring clean --force\nboring clean --all --force\n</code></pre>"},{"location":"features/clean/#what-gets-cleaned","title":"\ud83d\udcc2 What gets cleaned?","text":""},{"location":"features/clean/#standard-mode","title":"Standard Mode","text":"<ul> <li><code>.circuit_breaker_state</code>, <code>.circuit_breaker_history</code></li> <li><code>.exit_signals</code>, <code>.last_loop_summary</code></li> <li><code>.call_count</code>, <code>.last_reset</code></li> <li><code>.response_analysis</code></li> <li><code>boring.log</code></li> <li>Temporary prompt files (<code>.boring_run_prompt.md</code>)</li> </ul>"},{"location":"features/clean/#deep-mode-all","title":"Deep Mode (<code>--all</code>)","text":"<ul> <li><code>.boring/</code> (Unified Data Directory)</li> <li><code>.boring_memory</code>, <code>.boring_brain</code> (Knowledge Base)</li> <li><code>.boring_cache</code>, <code>.boring_data</code></li> <li><code>.boring_backups</code></li> <li>legacy <code>.agent/</code> directories</li> </ul>"},{"location":"features/clean/#important-note","title":"\u26a0\ufe0f Important Note","text":"<p><code>boring clean --all</code> is a destructive operation. While Boring keeps backups in <code>.boring_backups</code> for some operations, <code>clean --all</code> will remove those backups as well. Use with caution.</p> <p>Boring Cleanup - Keep your workspace lean and focused.</p>"},{"location":"features/clean_zh/","title":"\ud83e\uddf9 \u6e05\u7406\u5de5\u5177 (boring clean)","text":"<p><code>boring clean</code> \u6307\u4ee4\u662f\u7dad\u8b77\u5c08\u6848\u958b\u767c\u74b0\u5883\u6574\u6f54\u7684\u6838\u5fc3\u5de5\u5177\u3002\u5b83\u80fd\u667a\u80fd\u8b58\u5225\u4e26\u79fb\u9664\u4e0d\u518d\u9700\u8981\u7684\u81e8\u6642\u6587\u4ef6\u3001\u5feb\u53d6\u4ee5\u53ca\u820a\u7248\u7684\u6b98\u7559\u6a94\u6848\u3002</p>"},{"location":"features/clean_zh/#_1","title":"\ud83c\udf1f \u6838\u5fc3\u7279\u8272","text":"<ul> <li>\u7d71\u4e00\u7d50\u69cb\u5f37\u5236\u57f7\u884c\uff1a\u5354\u52a9\u5c07\u5206\u6563\u7684\u820a\u7248\u6587\u4ef6\uff08\u5982 <code>.boring_memory</code>\uff09\u6574\u5408\u6216\u6e05\u7406\uff0c\u5f37\u5236\u57f7\u884c\u7d71\u4e00\u7684 <code>.boring/</code> \u76ee\u9304\u7d50\u69cb\u3002</li> <li>\u81ea\u52d5\u6e05\u7406\u6b98\u9918\uff1a\u5b89\u5168\u5730\u79fb\u9664\u65b7\u8def\u5668\u72c0\u614b\u3001\u97ff\u61c9\u5206\u6790\u4ee5\u53ca\u81e8\u6642\u751f\u6210\u7684 Prompt \u6587\u4ef6\u3002</li> <li>\u5206\u7d1a\u6e05\u7406\uff1a\u652f\u63f4\u6a19\u6e96\u6e05\u7406\u8207\u6df1\u5c64\u5fb9\u5e95\u6e05\u7406\uff08Deep Purge\uff09\u3002</li> </ul>"},{"location":"features/clean_zh/#_2","title":"\ud83d\udee0\ufe0f \u4f7f\u7528\u8aaa\u660e","text":""},{"location":"features/clean_zh/#_3","title":"\u6a19\u6e96\u6e05\u7406","text":"<p>\u79fb\u9664\u81e8\u6642\u6587\u4ef6\u8207\u65e5\u8a8c\uff0c\u9019\u4e9b\u6587\u4ef6\u53ef\u4ee5\u5b89\u5168\u522a\u9664\u4e14\u4e0d\u6703\u4e1f\u5931\u5c08\u6848\u7684\u9577\u671f\u8a18\u61b6\u6216\u6b77\u53f2\u3002</p> <pre><code>boring clean\n</code></pre>"},{"location":"features/clean_zh/#all","title":"\u6df1\u5ea6\u6e05\u7406 (All)","text":"<p>\u79fb\u9664 \u6240\u6709 \u8207 Boring \u76f8\u95dc\u7684\u5143\u6578\u64da\uff0c\u5305\u542b\u5099\u4efd (Backups)\u3001\u5927\u8166\u8a18\u9304 (Brain) \u8207\u8a18\u61b6\u3002\u7576\u60a8\u60f3\u70ba\u7279\u5b9a\u5c08\u6848\u91cd\u7f6e Boring \u72c0\u614b\u6642\u4f7f\u7528\u3002</p> <pre><code>boring clean --all\n</code></pre>"},{"location":"features/clean_zh/#_4","title":"\u8df3\u904e\u78ba\u8a8d","text":"<p>\u7d50\u5408 <code>--force</code> \u53c3\u6578\u53ef\u8df3\u904e\u4e92\u52d5\u5f0f\u78ba\u8a8d\uff0c\u9069\u7528\u65bc\u81ea\u52d5\u5316\u8173\u672c\u3002</p> <pre><code>boring clean --force\nboring clean --all --force\n</code></pre>"},{"location":"features/clean_zh/#_5","title":"\ud83d\udcc2 \u6e05\u7406\u6e05\u55ae","text":""},{"location":"features/clean_zh/#_6","title":"\u6a19\u6e96\u6a21\u5f0f","text":"<ul> <li><code>.circuit_breaker_state</code>, <code>.circuit_breaker_history</code> (\u65b7\u8def\u5668\u72c0\u614b)</li> <li><code>.exit_signals</code>, <code>.last_loop_summary</code> (\u7d50\u675f\u4fe1\u865f\u8207\u6458\u8981)</li> <li><code>.call_count</code>, <code>.last_reset</code> (API \u8abf\u7528\u7d71\u8a08)</li> <li><code>.response_analysis</code> (AI \u97ff\u61c9\u5206\u6790)</li> <li><code>boring.log</code> (\u65e5\u8a8c\u6587\u4ef6)</li> <li>\u81e8\u6642 Prompt \u6587\u4ef6 (<code>.boring_run_prompt.md</code>)</li> </ul>"},{"location":"features/clean_zh/#-all","title":"\u6df1\u5ea6\u6a21\u5f0f (<code>--all</code>)","text":"<ul> <li><code>.boring/</code> (\u7d71\u4e00\u6578\u64da\u76ee\u9304)</li> <li><code>.boring_memory</code>, <code>.boring_brain</code> (\u77e5\u8b58\u5eab\u8207\u5927\u8166)</li> <li><code>.boring_cache</code>, <code>.boring_data</code> (\u5feb\u53d6\u8207\u6578\u64da)</li> <li><code>.boring_backups</code> (\u5099\u4efd\u76ee\u9304)</li> <li>\u820a\u7248 <code>.agent/</code> \u76ee\u9304</li> </ul>"},{"location":"features/clean_zh/#_7","title":"\u26a0\ufe0f \u6ce8\u610f\u4e8b\u9805","text":"<p><code>boring clean --all</code> \u662f\u4e00\u9805\u7834\u58de\u6027\u64cd\u4f5c\u3002\u96d6\u7136 Boring \u5728\u67d0\u4e9b\u64cd\u4f5c\u4e2d\u6703\u81ea\u52d5\u5efa\u7acb\u5099\u4efd\uff0c\u4f46 <code>clean --all</code> \u6703\u9023\u540c\u5099\u4efd\u76ee\u9304\u4e00\u4f75\u522a\u9664\u3002\u57f7\u884c\u524d\u8acb\u52d9\u5fc5\u78ba\u8a8d\u3002</p> <p>Boring Cleanup - \u8b93\u60a8\u7684\u5de5\u4f5c\u7a7a\u9593\u4fdd\u6301\u8f15\u5de7\u8207\u5c08\u6ce8\u3002</p>"},{"location":"features/cognitive/","title":"Pillar V: Cognitive Evolution (Deep &amp; Critical Thinking)","text":"<p>Boring for Gemini V11.0+ introduces Cognitive Evolution, a paradigm shift from simple tool execution to autonomous reasoning and self-optimization. This \"Pillar V\" architecture enables the agent to think before acting, learn from its own mistakes, and synthesize new capabilities on the fly.</p>"},{"location":"features/cognitive/#system-2-reasoning-slow-thinking","title":"\ud83e\udde0 System 2 Reasoning (Slow Thinking)","text":"<p>Inspired by the \"Dual Process\" theory of cognition, Boring implements a Talker-Reasoner architecture:</p> <ul> <li>System 1 (ThinkingState): Fast, intuitive tool selection for routine tasks.</li> <li>System 2 (ReasoningState): Triggered automatically for high-complexity tasks. It leverages the Critical Thinking loop (Chain of Thought) to verify hypotheses before making changes.</li> </ul>"},{"location":"features/cognitive/#trigger-mechanism-assess_complexity","title":"Trigger Mechanism: <code>assess_complexity</code>","text":"<p>The <code>ToolRouter</code> analyzes your query for: -   Structural Keywords: \"Refactor\", \"Architecture\", \"Design\", \"Restructure\". -   Reasoning Hints: \"Why\", \"Think step by step\", \"Analyze\". -   Code Density: Multiple file references or high-impact targets.</p>"},{"location":"features/cognitive/#active-causal-memory-brain-reflex","title":"\u26a1 Active Causal Memory (Brain Reflex)","text":"<p>Traditional RAG searches for \"related code.\" Brain Reflex searches for \"causal solutions.\"</p> <ul> <li>Automatic Recall: When the agent encounters a known error (e.g., a specific <code>ImportError</code> or <code>AttributeError</code>), it immediately queries the <code>BrainManager</code> for past successful solutions.</li> <li>Self-Healing: These solutions are injected directly into the prompt as \"Reflex patterns,\" preventing the agent from repeating the same mistake.</li> </ul>"},{"location":"features/cognitive/#skill-compilation-mas-to-sas","title":"\ud83c\udfd7\ufe0f Skill Compilation (MAS-to-SAS)","text":"<p>As the agent works, it accumulates many small patterns in <code>~/.boring_brain/</code>. Skill Compilation concentrates these into powerful, single-shot execution units.</p> <ul> <li>Tool: <code>boring_distill_skills</code></li> <li>Process: Patterns with a high <code>success_count</code> (Default: 3+) are promoted to Strategic Skills.</li> <li>Benefit: Skills are given higher priority in the system prompt, allowing the agent to handle complex operations with \"Master-level\" efficiency.</li> </ul>"},{"location":"features/cognitive/#live-tool-synthesis-boring-synth","title":"\ud83e\uddec Live Tool Synthesis (Boring Synth)","text":"<p>Why wait for a plugin update when the agent can write its own tools?</p> <ul> <li>Tool: <code>boring_synth_tool</code></li> <li>Hot-Reloading: The agent can generate a specialized Python script, save it to <code>.boring_plugins/</code>, and hot-reload it into the active MCP server in a single loop.</li> <li>Use Case: Creating custom project-specific linters, data extractors, or specialized refactoring scripts.</li> </ul>"},{"location":"features/cognitive/#knowledge-swarm","title":"\ud83c\udf10 Knowledge Swarm","text":"<p>Your local intelligence is only half the story. Knowledge Swarm allows agents across different machines to share their \"Brain.\"</p> <ul> <li>Tool: <code>boring_brain_sync</code></li> <li>Mechanism: Uses Git to push/pull <code>global_patterns.json</code> from a remote repository.</li> <li>Collaborative Intelligence: If one developer fixes a complex deployment bug, every other developer's Boring agent gains that knowledge instantly.</li> </ul>"},{"location":"features/cognitive/#deep-analysis-benefits-vs-drawbacks","title":"\ud83d\udd0d Deep Analysis: Benefits vs. Drawbacks","text":"<p>A critical evaluation of the Pillar V architecture reveals where the system excels and where users should exercise caution.</p>"},{"location":"features/cognitive/#1-system-2-reasoning","title":"1. System 2 Reasoning","text":"<p>\"Thinking before doing is expensive but necessary.\"</p> <ul> <li>Benefits (\u2705):<ul> <li>Architecture Fidelity: Prevents shallow fixes that violate codebase patterns.</li> <li>Stability: Drastically reduces trial-and-error loops for high-complexity requests.</li> </ul> </li> <li>Drawbacks (\u274c):<ul> <li>Token Latency: Adds significant overhead (Thinking cycles can consume 2000+ tokens).</li> <li>Cost: Deep reasoning iterations are 2x-3x more expensive per command.</li> </ul> </li> </ul>"},{"location":"features/cognitive/#2-brain-reflex-active-causal-memory","title":"2. Brain Reflex (Active Causal Memory)","text":"<p>\"Don't repeat history; recall solutions.\"</p> <ul> <li>Benefits (\u2705):<ul> <li>Instant Recovery: Bypasses expensive \"research\" phases if a solution exists in the brain.</li> <li>Self-Healing: Automatically corrects for environment-specific quirks.</li> </ul> </li> <li>Drawbacks (\u274c):<ul> <li>Stale Knowledge: If the codebase changes but the pattern isn't updated, the agent may apply outdated fixes.</li> <li>Context Bloat: Injecting reflex patterns consumes the prompt-token budget.</li> </ul> </li> </ul>"},{"location":"features/cognitive/#3-live-tool-synthesis-boring-synth","title":"3. Live Tool Synthesis (Boring Synth)","text":"<p>\"Evolving capabilities through code.\"</p> <ul> <li>Benefits (\u2705):<ul> <li>Infinite Scalability: Build bespoke tools for niche tasks on-the-fly.</li> <li>Rapid Prototyping: Hot-reloading allows refining capabilities without restarting the server.</li> </ul> </li> <li>Drawbacks (\u274c):<ul> <li>Security Risk: Synthesized tools are Python scripts; destructive code is a potential hazard without Shadow Mode.</li> <li>Complexity Leak: Uncontrolled tool creation can degrade the accuracy of the Tool Router.</li> </ul> </li> </ul>"},{"location":"features/cognitive/#4-knowledge-swarm-global-sync","title":"4. Knowledge Swarm (Global Sync)","text":"<p>\"Shared intelligence across the hive.\"</p> <ul> <li>Benefits (\u2705):<ul> <li>Team Leverage: High-quality solutions discovered by one developer benefit the team instantly.</li> <li>Consistency: Standardizes \"How we build\" across different repositories.</li> </ul> </li> <li>Drawbacks (\u274c):<ul> <li>Data Leakage Risk: Potential for accidental export of sensitive pathnames or logic.</li> <li>Git Conflicts: Since the global brain is a single JSON file, concurrent syncs can lead to merge conflicts.</li> </ul> </li> </ul>"},{"location":"features/cognitive/#final-verdict","title":"\u2696\ufe0f Final Verdict","text":"<p>The Cognitive Evolution suite is high-reward but unsafe for unattended use without Shadow Mode. V13.0.0 successfully bridges the code-gap and focuses on Security, Multi-Agent Coordination, and Performance.</p>"},{"location":"features/cognitive_zh/","title":"Pillar V: \u8a8d\u77e5\u6f14\u9032 (\u6df1\u5ea6\u8207\u6279\u5224\u6027\u601d\u8003)","text":"<p>Boring for Gemini V11.0+ \u5f15\u5165\u4e86 \u300c\u8a8d\u77e5\u6f14\u9032 (Cognitive Evolution)\u300d\uff0c\u9019\u662f\u4e00\u500b\u5f9e\u55ae\u7d14\u7684\u5de5\u5177\u57f7\u884c\u8f49\u5411\u81ea\u4e3b\u63a8\u7406\u8207\u81ea\u6211\u512a\u5316\u7684\u7bc4\u5f0f\u8f49\u8b8a\u3002\u9019\u7a2e\u300cPillar V\u300d\u67b6\u69cb\u4f7f Agent \u80fd\u5920\u5728\u884c\u52d5\u524d\u9032\u884c\u601d\u8003\u3001\u5f9e\u932f\u8aa4\u4e2d\u5b78\u7fd2\uff0c\u4e26\u5373\u6642\u5408\u6210\u65b0\u7684\u80fd\u529b\u3002</p>"},{"location":"features/cognitive_zh/#_1","title":"\ud83e\udde0 \u7cfb\u7d71\u4e8c\u63a8\u7406 (\u6162\u601d\u8003)","text":"<p>\u53d7\u5230\u8a8d\u77e5\u79d1\u5b78\u300c\u96d9\u7a0b\u904b\u7b97 (Dual Process)\u300d\u7406\u8ad6\u7684\u555f\u767c\uff0cBoring \u5be6\u4f5c\u4e86 \u300c\u8b1b\u8005-\u63a8\u7406\u8005 (Talker-Reasoner)\u300d \u67b6\u69cb\uff1a</p> <ul> <li>\u7cfb\u7d71\u4e00 (ThinkingState)\uff1a\u5feb\u901f\u3001\u76f4\u89ba\u7684\u5de5\u5177\u9078\u64c7\uff0c\u7528\u65bc\u65e5\u5e38\u4f8b\u884c\u5de5\u4f5c\u3002</li> <li>\u7cfb\u7d71\u4e8c (ReasoningState)\uff1a\u91dd\u5c0d\u9ad8\u8907\u96dc\u5ea6\u4efb\u52d9\u81ea\u52d5\u89f8\u767c\u3002\u5b83\u6574\u5408\u4e86 \u300c\u6279\u5224\u6027\u601d\u8003 (Critical Thinking)\u300d \u5faa\u74b0\uff0c\u5728\u57f7\u884c\u66f4\u6539\u524d\u5148\u5c0d\u908f\u8f2f\u9032\u884c\u591a\u8f2a\u9a57\u8b49\u3002</li> </ul>"},{"location":"features/cognitive_zh/#assess_complexity","title":"\u89f8\u767c\u6a5f\u5236\uff1a<code>assess_complexity</code>","text":"<p><code>ToolRouter</code> \u6703\u5206\u6790\u60a8\u7684\u67e5\u8a62\uff0c\u6aa2\u67e5\uff1a -   \u7d50\u69cb\u5316\u95dc\u9375\u5b57\uff1a\u4f8b\u5982\u300c\u91cd\u69cb (Refactor)\u300d\u3001\u300c\u67b6\u69cb (Architecture)\u300d\u3001\u300c\u8a2d\u8a08 (Design)\u300d\u3001\u300c\u91cd\u7d44 (Restructure)\u300d\u3002 -   \u63a8\u7406\u63d0\u793a\uff1a\u4f8b\u5982\u300c\u70ba\u4ec0\u9ebc (Why)\u300d\u3001\u300c\u4e00\u6b65\u6b65\u601d\u8003 (Think step by step)\u300d\u3001\u300c\u5206\u6790 (Analyze)\u300d\u3002 -   \u7a0b\u5f0f\u78bc\u5bc6\u5ea6\uff1a\u63d0\u53ca\u591a\u500b\u6a94\u6848\u6216\u9ad8\u5f71\u97ff\u529b\u7684\u76ee\u6a19\u3002</p>"},{"location":"features/cognitive_zh/#brain-reflex","title":"\u26a1 \u4e3b\u52d5\u56e0\u679c\u8a18\u61b6 (Brain Reflex)","text":"<p>\u50b3\u7d71\u7684 RAG \u5c0b\u627e\u7684\u662f\u300c\u76f8\u95dc\u7a0b\u5f0f\u78bc\u300d\uff0c\u800c \u300cBrain Reflex (\u8166\u53cd\u5c04)\u300d \u5c0b\u627e\u7684\u662f\u300c\u56e0\u679c\u89e3\u6c7a\u65b9\u6848\u300d\u3002</p> <ul> <li>\u81ea\u52d5\u56de\u61b6\uff1a\u7576 Agent \u9047\u5230\u5df2\u77e5\u7684\u932f\u8aa4\uff08\u4f8b\u5982\uff1a\u7279\u5b9a\u7684 <code>ImportError</code> \u6216 <code>AttributeError</code>\uff09\u6642\uff0c\u5b83\u6703\u7acb\u5373\u67e5\u8a62 <code>BrainManager</code> \u4ee5\u7372\u53d6\u904e\u53bb\u6210\u529f\u7684\u89e3\u6c7a\u65b9\u6848\u3002</li> <li>\u81ea\u6211\u4fee\u5fa9\uff1a\u9019\u4e9b\u89e3\u6c7a\u65b9\u6848\u6703\u76f4\u63a5\u6ce8\u5165\u5230 Prompt \u4e2d\u4f5c\u70ba\u300c\u53cd\u5c04\u6a21\u5f0f (Reflex patterns)\u300d\uff0c\u9632\u6b62 Agent \u91cd\u8907\u72af\u540c\u6a23\u7684\u932f\u8aa4\u3002</li> </ul>"},{"location":"features/cognitive_zh/#mas-to-sas","title":"\ud83c\udfd7\ufe0f \u6280\u80fd\u8403\u53d6 (MAS-to-SAS \u5f59\u7de8)","text":"<p>\u96a8\u8457 Agent \u7684\u904b\u4f5c\uff0c\u5b83\u6703\u5728 <code>~/.boring_brain/</code> \u4e2d\u7d2f\u7a4d\u8a31\u591a\u5c0f\u578b\u6a21\u5f0f\u3002\u300c\u6280\u80fd\u8403\u53d6 (Skill Compilation)\u300d \u6703\u5c07\u9019\u4e9b\u6a21\u5f0f\u6fc3\u7e2e\u70ba\u5f37\u5927\u7684\u3001\u55ae\u6b21\u57f7\u884c\u7684\u55ae\u5143\u3002</p> <ul> <li>\u5de5\u5177\uff1a<code>boring_distill_skills</code></li> <li>\u904e\u7a0b\uff1a\u5177\u6709\u9ad8\u6210\u529f\u7387 (<code>success_count</code> \u9810\u8a2d\u70ba 3+) \u7684\u6a21\u5f0f\u6703\u88ab\u6649\u5347\u70ba \u300c\u7b56\u7565\u6280\u80fd (Strategic Skills)\u300d\u3002</li> <li>\u6548\u76ca\uff1a\u6280\u80fd\u5728\u7cfb\u7d71\u63d0\u793a\u8a5e\u4e2d\u64c1\u6709\u66f4\u9ad8\u7684\u512a\u5148\u7d1a\uff0c\u4f7f Agent \u80fd\u5920\u4ee5\u300c\u5927\u5e2b\u7d1a\u300d\u7684\u6548\u7387\u8655\u7406\u8907\u96dc\u64cd\u4f5c\u3002</li> </ul>"},{"location":"features/cognitive_zh/#boring-synth","title":"\ud83e\uddec \u5373\u6642\u5de5\u5177\u5408\u6210 (Boring Synth)","text":"<p>\u70ba\u4ec0\u9ebc\u8981\u7b49\u5f85\u5916\u639b\u66f4\u65b0\uff1fAgent \u53ef\u4ee5\u7de8\u5beb\u81ea\u5df1\u7684\u5de5\u5177\u3002</p> <ul> <li>\u5de5\u5177\uff1a<code>boring_synth_tool</code></li> <li>\u71b1\u91cd\u8f09 (Hot-Reloading)\uff1aAgent \u53ef\u4ee5\u751f\u6210\u5c08\u9580\u7684 Python \u8173\u672c\uff0c\u4fdd\u5b58\u5230 <code>.boring_plugins/</code>\uff0c\u4e26\u5728\u55ae\u6b21\u5faa\u74b0\u4e2d\u5c07\u5176\u5373\u6642\u52a0\u8f09\u5230\u6d3b\u52d5\u7684 MCP \u4f3a\u670d\u5668\u4e2d\u3002</li> <li>\u4f7f\u7528\u5834\u666f\uff1a\u5efa\u7acb\u81ea\u5b9a\u7fa9\u7684\u5c08\u6848\u7279\u5b9a Linter\u3001\u6578\u64da\u63d0\u53d6\u5668\u6216\u5c08\u9580\u7684\u91cd\u69cb\u8173\u672c\u3002</li> </ul>"},{"location":"features/cognitive_zh/#knowledge-swarm","title":"\ud83c\udf10 \u77e5\u8b58\u7fa4 (Knowledge Swarm)","text":"<p>\u60a8\u7684\u672c\u5730\u667a\u80fd\u53ea\u662f\u6545\u4e8b\u7684\u4e00\u534a\u3002\u300c\u77e5\u8b58\u7fa4 (Knowledge Swarm)\u300d \u5141\u8a31\u8de8\u4e0d\u540c\u6a5f\u5668\u7684 Agent \u5171\u4eab\u5f7c\u6b64\u7684\u300c\u5927\u8166\u300d\u3002</p> <ul> <li>\u5de5\u5177\uff1a<code>boring_brain_sync</code></li> <li>\u6a5f\u5236\uff1a\u4f7f\u7528 Git \u5f9e\u9060\u7aef\u5009\u5eab\u63a8\u9001/\u62c9\u53d6 <code>global_patterns.json</code>\u3002</li> <li>\u5354\u4f5c\u667a\u80fd\uff1a\u5982\u679c\u4e00\u4f4d\u958b\u767c\u8005\u4fee\u5fa9\u4e86\u4e00\u500b\u8907\u96dc\u7684\u90e8\u7f72 Bug\uff0c\u5176\u4ed6\u6240\u6709\u958b\u767c\u8005\u7684 Boring Agent \u90fd\u6703\u7acb\u5373\u7372\u5f97\u8a72\u77e5\u8b58\u3002</li> </ul>"},{"location":"features/cognitive_zh/#_2","title":"\ud83d\udd0d \u6df1\u5ea6\u5206\u6790\uff1a\u8a8d\u77e5\u6f14\u9032\u7684\u5229\u8207\u5f0a","text":"<p>\u6211\u5011\u5c0d Pillar V \u7684\u6838\u5fc3\u67b6\u69cb\u9032\u884c\u4e86\u6279\u5224\u6027\u5206\u6790\uff0c\u8a55\u4f30\u5176\u5728\u5be6\u969b\u958b\u767c\u4e2d\u7684\u6548\u76ca\u8207\u6f5b\u5728\u98a8\u96aa\u3002</p>"},{"location":"features/cognitive_zh/#1-system-2-reasoning","title":"1. \u7cfb\u7d71\u4e8c\u63a8\u7406 (System 2 Reasoning)","text":"<p>\u300c\u884c\u52d5\u524d\u7684\u601d\u8003\u96d6\u7136\u6602\u8cb4\uff0c\u4f46\u537b\u662f\u5fc5\u8981\u7684\u3002\u300d</p> <ul> <li>\u512a\u9ede (\u2705)\uff1a<ul> <li>\u67b6\u69cb\u5fe0\u8aa0\u5ea6\uff1a\u9632\u6b62 Agent \u9032\u884c\u9055\u53cd\u5c08\u6848\u67b6\u69cb\u898f\u7bc4\u7684\u300c\u6dfa\u5c64\u4fee\u5fa9\u300d\u3002</li> <li>\u4efb\u52d9\u5206\u89e3\uff1a\u5c07\u8907\u96dc\u4efb\u52d9\u5206\u89e3\u70ba\u53ef\u7ba1\u7406\u7684\u5b50\u4efb\u52d9\uff0c\u6e1b\u5c11\u300c\u4e0a\u4e0b\u6587\u6f02\u79fb\u300d\u3002</li> <li>\u7a69\u5b9a\u6027\uff1a\u5927\u5e45\u6e1b\u5c11\u9ad8\u8907\u96dc\u5ea6\u8acb\u6c42\u4e2d\u7684\u8a66\u932f\u5faa\u74b0\u3002</li> </ul> </li> <li>\u7f3a\u9ede (\u274c)\uff1a<ul> <li>Token \u5ef6\u9072\uff1a\u589e\u52a0\u4e86\u986f\u8457\u7684\u958b\u92b7\uff08\u63a8\u7406\u9031\u671f\u5728\u8abf\u7528\u7b2c\u4e00\u500b\u5de5\u5177\u524d\u53ef\u80fd\u6d88\u8017 2000+ tokens\uff09\u3002</li> <li>\u5206\u6790\u7671\u7613\uff1a\u555f\u767c\u5f0f\u8a55\u4f30\u4e26\u4e0d\u5b8c\u7f8e\uff1b\u7c21\u55ae\u4efb\u52d9\uff08\u5982\u6dfb\u52a0\u8a3b\u89e3\uff09\u6709\u6642\u53ef\u80fd\u8aa4\u89f8\u767c\u7cfb\u7d71\u4e8c\uff0c\u6d6a\u8cbb\u6642\u9593\u3002</li> <li>\u6210\u672c\uff1a\u6df1\u5ea6\u63a8\u7406\u8fed\u4ee3\u6bcf\u6b21\u6307\u4ee4\u7684\u6210\u672c\u662f\u666e\u901a\u6a21\u5f0f\u7684 2 \u5230 3 \u500d\u3002</li> </ul> </li> </ul>"},{"location":"features/cognitive_zh/#2-brain-reflex","title":"2. \u4e3b\u52d5\u56e0\u679c\u8a18\u61b6 (Brain Reflex)","text":"<p>\u300c\u4e0d\u8981\u91cd\u8907\u6b77\u53f2\uff1b\u76f4\u63a5\u56de\u61b6\u89e3\u6c7a\u65b9\u6848\u3002\u300d</p> <ul> <li>\u512a\u9ede (\u2705)\uff1a<ul> <li>\u5373\u6642\u6062\u5fa9\uff1a\u5982\u679c\u8a18\u61b6\u4e2d\u5b58\u5728\u89e3\u6c7a\u65b9\u6848\uff0c\u5247\u7e5e\u904e\u6602\u8cb4\u7684\u300c\u7814\u7a76\u300d\u968e\u6bb5\u3002</li> <li>\u81ea\u6211\u4fee\u5fa9\uff1a\u81ea\u52d5\u4fee\u6b63\u7279\u5b9a\u74b0\u5883\u7684\u602a\u7656\uff08\u4f8b\u5982\uff1a\u672c\u5730\u5305\u8def\u5f91\u932f\u8aa4\uff09\u3002</li> <li>\u4fe1\u5fc3\u5ea6\uff1aAgent \u63d0\u4f9b\u7684\u4fee\u5fa9\u65b9\u6848\u66f4\u5177\u4fe1\u5fc3\uff0c\u56e0\u70ba\u5b83\u5011\u57fa\u65bc\u672c\u5730\u7684\u6210\u529f\u6b77\u53f2\u3002</li> </ul> </li> <li>\u7f3a\u9ede (\u274c)\uff1a<ul> <li>\u9673\u820a\u77e5\u8b58\uff1a\u5982\u679c\u5e95\u5c64\u4ee3\u78bc\u5df2\u66f4\u6539\u4f46\u300c\u53cd\u5c04\u300d\u6a21\u5f0f\u672a\u66f4\u65b0\uff0cAgent \u53ef\u80fd\u6703\u91cd\u8907\u57f7\u884c\u300c\u6b63\u78ba\u4f46\u5df2\u904e\u6642\u300d\u7684\u65b9\u6848\u3002</li> <li>\u4e0a\u4e0b\u6587\u81a8\u8139\uff1a\u6ce8\u5165\u53cd\u5c04\u6a21\u5f0f\u6703\u6d88\u8017 Prompt \u7684 Token \u914d\u984d\u3002</li> <li>\u932f\u8aa4\u5339\u914d\uff1a\u904e\u65bc\u654f\u611f\u7684\u8a9e\u7fa9\u5339\u914d\u53ef\u80fd\u6703\u70ba\u770b\u4f3c\u76f8\u4f3c\u4f46\u672c\u8cea\u4e0d\u540c\u7684\u932f\u8aa4\u63d0\u4f9b\u932f\u8aa4\u5efa\u8b70\u3002</li> </ul> </li> </ul>"},{"location":"features/cognitive_zh/#3-boring-synth","title":"3. \u5373\u6642\u5de5\u5177\u5408\u6210 (Boring Synth)","text":"<p>\u300c\u900f\u904e\u7a0b\u5f0f\u78bc\u9032\u5316\u80fd\u529b\u3002\u300d</p> <ul> <li>\u512a\u9ede (\u2705)\uff1a<ul> <li>\u7121\u9650\u64f4\u5c55\u6027\uff1aAgent \u4e0d\u518d\u53d7\u9650\u65bc\u5167\u5efa\u7684\u5de5\u5177\uff1b\u5b83\u53ef\u4ee5\u70ba\u7279\u5b9a\u4efb\u52d9\u5efa\u7acb\u5c08\u5c6c\u5de5\u5177\uff08\u4f8b\u5982\uff1a\u89e3\u6790\u81ea\u5b9a\u7fa9\u65e5\u8a8c\u683c\u5f0f\uff09\u3002</li> <li>\u5feb\u901f\u539f\u578b\u88fd\u4f5c\uff1a\u71b1\u91cd\u8f09\u5141\u8a31 Agent \u5728\u4e0d\u91cd\u555f\u5faa\u74b0\u7684\u60c5\u6cc1\u4e0b\u6e2c\u8a66\u548c\u6539\u9032\u81ea\u5df1\u7684\u80fd\u529b\u3002</li> </ul> </li> <li>\u7f3a\u9ede (\u274c)\uff1a<ul> <li>\u5b89\u5168\u98a8\u96aa\uff1a\u5408\u6210\u7684\u5de5\u5177\u662f Python \u8173\u672c\uff1b\u5982\u679c LLM \u7522\u751f\u4e86\u7834\u58de\u6027\u8173\u672c\uff08\u5982 <code>rm -rf /</code>\uff09\uff0c\u5f71\u5b50\u6a21\u5f0f\u662f\u552f\u4e00\u7684\u9632\u7dda\u3002</li> <li>\u8907\u96dc\u5ea6\u6d29\u6f0f\uff1a\u6bcf\u500b\u65b0\u5de5\u5177\u90fd\u6703\u589e\u52a0 MCP \u8def\u7531\u5668\u7684\u8ca0\u64d4\u3002\u5982\u679c\u4e0d\u5b9a\u671f\u6e05\u7406\uff0c\u8def\u7531\u6e96\u78ba\u6027\u6703\u4e0b\u964d\u3002</li> </ul> </li> </ul>"},{"location":"features/cognitive_zh/#4-knowledge-swarm-sync","title":"4. \u77e5\u8b58\u7fa4 (Knowledge Swarm Sync)","text":"<p>\u300c\u8de8\u96c6\u7fa4\u5171\u4eab\u667a\u6167\u3002\u300d</p> <ul> <li>\u512a\u9ede (\u2705)\uff1a<ul> <li>\u5354\u4f5c\u667a\u80fd\uff1a\u4e00\u540d\u958b\u767c\u8005\u767c\u73fe\u7684\u9ad8\u8cea\u91cf\u65b9\u6848\u80fd\u7acb\u5373\u8b93\u6574\u500b\u5718\u968a\u53d7\u76ca\u3002</li> <li>\u4e00\u81f4\u6027\uff1a\u8de8\u4e0d\u540c\u5c08\u6848\u5009\u5eab\u6a19\u6e96\u5316\u300c\u6211\u5011\u5982\u4f55\u69cb\u5efa\u300d\u7684\u7bc4\u5f0f\u3002</li> </ul> </li> <li>\u7f3a\u9ede (\u274c)\uff1a<ul> <li>\u6578\u64da\u6d29\u6f0f\u98a8\u96aa\uff1a\u610f\u5916\u5c0e\u51fa\u5305\u542b\u654f\u611f\u8def\u5f91\u6216\u696d\u52d9\u908f\u8f2f\u7684\u6a21\u5f0f\u3002</li> <li>Git \u885d\u7a81\uff1a\u7531\u65bc\u5168\u57df\u5927\u8166\u662f\u4e00\u500b\u55ae\u4e00\u7684 JSON \u6a94\u6848\uff0c\u591a\u500b\u5c08\u6848\u540c\u6642\u540c\u6b65\u53ef\u80fd\u5c0e\u81f4\u5408\u4f75\u885d\u7a81\u3002</li> <li>\u96dc\u8a0a\uff1a\u4e00\u500b\u5c08\u6848\u4e2d\u7684\u4f4e\u8cea\u91cf\u6a21\u5f0f\u53ef\u80fd\u6703\u6c61\u67d3\u5168\u57df\u5b58\u5132\uff0c\u964d\u4f4e\u6574\u9ad4\u667a\u80fd\u6e96\u78ba\u6027\u3002</li> </ul> </li> </ul>"},{"location":"features/cognitive_zh/#_3","title":"\u2696\ufe0f \u6700\u7d42\u88c1\u5b9a","text":"<p>\u8a8d\u77e5\u6f14\u9032\u5957\u4ef6\u662f\u9ad8\u56de\u5831\u7684\uff0c\u4f46\u5728\u6c92\u6709\u300c\u5f71\u5b50\u6a21\u5f0f (Shadow Mode)\u300d\u548c\u300c\u4e3b\u52d5\u6a21\u5f0f\u8403\u53d6\u300d\u7684\u60c5\u6cc1\u4e0b\uff0c\u4e0d\u5efa\u8b70\u5728\u7121\u4eba\u770b\u7ba1\u7684\u60c5\u6cc1\u4e0b\u4f7f\u7528\u3002V13.0.0 \u6210\u529f\u586b\u88dc\u4e86\u4ee3\u78bc\u843d\u5dee\uff0c\u4e26\u5c07\u91cd\u9ede\u8f49\u5411\u4e86 \u300c\u5b89\u5168\u6027\u3001\u591a\u4ee3\u7406\u5354\u4f5c\u8207\u6548\u80fd\u512a\u5316\u300d\u3002</p>"},{"location":"features/external-intelligence/","title":"\ud83e\udde0 External Intelligence","text":"<p>Make Boring not just code, but possess \"Real-time Knowledge\" and \"Deep Thinking\" capabilities.</p> <p>Boring integrates the most powerful MCP tools by default, giving your AI Agent superpowers.</p>"},{"location":"features/external-intelligence/#context7-your-real-time-documentation-library","title":"\ud83d\udcda Context7: Your Real-time Documentation Library","text":"<p>Pain Point: AI models have training data cutoffs and don't know the latest API changes (e.g., Next.js 14, Stripe API updates). Solution: Context7 is a real-time RAG service specifically for technical documentation.</p>"},{"location":"features/external-intelligence/#key-features","title":"\u2728 Key Features","text":"<ul> <li>Real-time Queries: <code>context7_query_docs</code> fetches the latest library usage.</li> <li>Precise Parsing: Automatically finds the most relevant Code Snippets.</li> <li>Seamless Integration: Boring's <code>boring-route</code> determines when external docs are needed.</li> </ul>"},{"location":"features/external-intelligence/#use-case","title":"\ud83d\udca1 Use Case","text":"<p>When you ask: \"How to use the latest LangChain v0.2 LCEL?\" 1. Agent detects training data might be stale. 2. Automatically calls <code>context7</code> to query LangChain v0.2 docs. 3. Generates correct code based on the latest docs, not old patterns.</p>"},{"location":"features/external-intelligence/#thinking-tools-deep-thinking-engine","title":"\ud83e\udd14 Thinking Tools: Deep Thinking Engine","text":"<p>Boring integrates two powerful thinking modes, forcing the Agent to \"think clearly\" before coding.</p>"},{"location":"features/external-intelligence/#1-sequential-thinking","title":"1. Sequential Thinking","text":"<p>Use Case: Complex refactoring, architecture design, multi-step tasks.</p> <p>It forces the Agent into a \"Chain of Thought\": - Step 1: Analyze status - Step 2: Formulate hypothesis - Step 3: Verify hypothesis... - Only starts coding after thinking is complete.</p>"},{"location":"features/external-intelligence/#2-critical-thinking","title":"2. Critical Thinking","text":"<p>Use Case: Code Review, bug hunting, security audit.</p> <p>It teaches the Agent \"Self-Doubt\": - \"Does this solution have side effects?\" - \"Is there a more efficient way?\" - \"Are edge cases considered?\"</p>"},{"location":"features/external-intelligence/#zero-config-one-click-integration","title":"\ud83d\udee0\ufe0f Zero Config: One-Click Integration","text":"<p>You DO NOT need to manually download or install these external tools!</p> <p>Boring uses an \"All-in-One\" design. Core features are built-in, and external intelligence is managed via a one-click extension mechanism.</p>"},{"location":"features/external-intelligence/#how-to-enable","title":"How to Enable?","text":"<ol> <li> <p>Initialize Extensions (Run once):     <pre><code># In CLI\nboring setup-extensions\n</code></pre>     Or ask the Agent in chat:     &gt; \"Help me setup extensions\"     &gt; (Agent will call <code>boring_setup_extensions()</code> tool)</p> </li> <li> <p>Auto-Configuration:     Boring will automatically:</p> <ul> <li>Download necessary MCP Servers (<code>context7</code>, <code>criticalthink</code>, <code>sequential-thinking</code>)</li> <li>Configure API Keys and environment variables</li> <li>Update configuration to enable them</li> </ul> </li> <li> <p>Ready to Use:     Once setup, these tools appear automatically in the Agent's toolbox.     You can ask directly in chat:     &gt; \"Please use Sequential Thinking to plan this refactor.\"     &gt; \"Please use Context7 to check the new React 19 Hooks.\"</p> </li> </ol> <p>This way, you get not just code, but high-quality output that has been \"thought through\" and \"verified\".</p>"},{"location":"features/external-intelligence_zh/","title":"\ud83e\udde0 \u5916\u90e8\u667a\u80fd\u6574\u5408 (External Intelligence)","text":"<p>\u8b93 Boring \u4e0d\u50c5\u50c5\u662f Coding\uff0c\u66f4\u64c1\u6709\u300c\u5373\u6642\u77e5\u8b58\u300d\u8207\u300c\u6df1\u5ea6\u601d\u8003\u300d\u80fd\u529b\u3002</p> <p>Boring \u9810\u8a2d\u6574\u5408\u4e86\u6700\u5f37\u5927\u7684 MCP \u5de5\u5177\uff0c\u8b93\u60a8\u7684 AI Agent \u5982\u864e\u6dfb\u7ffc\u3002</p>"},{"location":"features/external-intelligence_zh/#context7","title":"\ud83d\udcda Context7: \u60a8\u7684\u5373\u6642\u6587\u6a94\u5eab","text":"<p>\u75db\u9ede\uff1aAI \u6a21\u578b\u7684\u8a13\u7df4\u8cc7\u6599\u6709\u622a\u6b62\u65e5\u671f\uff0c\u4e0d\u77e5\u9053\u6700\u65b0\u7684 API \u8b8a\u66f4\uff08\u4f8b\u5982 Next.js 14, Stripe API \u66f4\u65b0\uff09\u3002 \u89e3\u6cd5\uff1aContext7 \u662f\u4e00\u500b\u5373\u6642 RAG \u670d\u52d9\uff0c\u5c08\u9580\u63d0\u4f9b\u6700\u65b0\u7684\u6280\u8853\u6587\u6a94\u3002</p>"},{"location":"features/external-intelligence_zh/#_1","title":"\u2728 \u4e3b\u8981\u529f\u80fd","text":"<ul> <li>\u5373\u6642\u67e5\u8a62\uff1a<code>context7_query_docs</code> \u53ef\u4ee5\u6293\u53d6\u6700\u65b0\u7684 Library \u7528\u6cd5\u3002</li> <li>\u7cbe\u6e96\u89e3\u6790\uff1a\u81ea\u52d5\u5c0b\u627e\u6700\u76f8\u95dc\u7684 Code Snippets\u3002</li> <li>\u7121\u7e2b\u6574\u5408\uff1aBoring \u7684 <code>boring-route</code> \u6703\u81ea\u52d5\u5224\u65b7\u4f55\u6642\u9700\u8981\u67e5\u95b1\u5916\u90e8\u6587\u6a94\u3002</li> </ul>"},{"location":"features/external-intelligence_zh/#_2","title":"\ud83d\udca1 \u4f7f\u7528\u7bc4\u4f8b","text":"<p>\u7576\u60a8\u554f\uff1a\u300c\u5982\u4f55\u4f7f\u7528\u6700\u65b0\u7684 LangChain v0.2 LCEL\uff1f\u300d 1. Agent \u767c\u73fe\u8a13\u7df4\u8cc7\u6599\u53ef\u80fd\u904e\u6642\u3002 2. \u81ea\u52d5\u547c\u53eb <code>context7</code> \u67e5\u8a62 LangChain v0.2 \u6587\u6a94\u3002 3. \u6839\u64da\u6700\u65b0\u6587\u6a94\u751f\u6210\u6b63\u78ba\u7684\u4ee3\u78bc\uff0c\u800c\u4e0d\u662f\u820a\u7248\u5beb\u6cd5\u3002</p>"},{"location":"features/external-intelligence_zh/#thinking-tools","title":"\ud83e\udd14 Thinking Tools: \u6df1\u5ea6\u601d\u8003\u5f15\u64ce","text":"<p>Boring \u6574\u5408\u4e86\u5169\u7a2e\u5f37\u5927\u7684\u601d\u8003\u6a21\u5f0f\uff0c\u8b93 Agent \u5728\u5beb\u4ee3\u78bc\u524d\u5148\u300c\u60f3\u6e05\u695a\u300d\u3002</p>"},{"location":"features/external-intelligence_zh/#1-sequential-thinking","title":"1. Sequential Thinking (\u5faa\u5e8f\u601d\u8003)","text":"<p>\u9069\u7528\u5834\u666f\uff1a\u8907\u96dc\u7684\u91cd\u69cb\u3001\u67b6\u69cb\u8a2d\u8a08\u3001\u591a\u6b65\u9a5f\u4efb\u52d9\u3002</p> <p>\u5b83\u5f37\u8feb Agent \u9032\u884c\u300c\u601d\u7dad\u93c8 (Chain of Thought)\u300d\uff1a - Step 1: \u5206\u6790\u73fe\u72c0 - Step 2: \u63d0\u51fa\u5047\u8a2d - Step 3: \u9a57\u8b49\u5047\u8a2d... - \u53ea\u6709\u5728\u601d\u8003\u5b8c\u6574\u5f8c\uff0c\u624d\u958b\u59cb\u5beb\u4ee3\u78bc\u3002</p>"},{"location":"features/external-intelligence_zh/#2-critical-thinking","title":"2. Critical Thinking (\u6279\u5224\u6027\u601d\u7dad)","text":"<p>\u9069\u7528\u5834\u666f\uff1aCode Review\u3001\u5c0b\u627e Bug\u3001\u5b89\u5168\u5be9\u8a08\u3002</p> <p>\u5b83\u8b93 Agent \u5b78\u6703\u300c\u81ea\u6211\u8cea\u7591\u300d\uff1a - \u300c\u9019\u500b\u89e3\u6cd5\u771f\u7684\u6c92\u6709\u526f\u4f5c\u7528\u55ce\uff1f\u300d - \u300c\u6709\u6c92\u6709\u66f4\u9ad8\u6548\u7684\u5beb\u6cd5\uff1f\u300d - \u300c\u908a\u754c\u60c5\u6cc1 (Edge cases) \u8003\u616e\u5230\u4e86\u55ce\uff1f\u300d</p>"},{"location":"features/external-intelligence_zh/#one-click-integration","title":"\ud83d\udee0\ufe0f \u514d\u5b89\u88dd\uff1a\u4e00\u9375\u6574\u5408 (One-Click Integration)","text":"<p>\u60a8\u4e0d\u9700\u8981\u624b\u52d5\u4e0b\u8f09\u6216\u5b89\u88dd\u9019\u4e9b\u5916\u90e8\u5de5\u5177\uff01</p> <p>Boring \u63a1\u7528\u300cAll-in-One\u300d\u8a2d\u8a08\uff0c\u6838\u5fc3\u529f\u80fd\u5167\u5efa\uff0c\u5916\u90e8\u667a\u80fd\u5247\u900f\u904e\u64f4\u5145\u6a5f\u5236\u4e00\u9375\u7ba1\u7406\u3002</p>"},{"location":"features/external-intelligence_zh/#_3","title":"\u5982\u4f55\u555f\u7528\uff1f","text":"<ol> <li> <p>\u521d\u59cb\u5316\u64f4\u5145\u529f\u80fd\uff08\u53ea\u9700\u57f7\u884c\u4e00\u6b21\uff09\uff1a     <pre><code># \u5728 CLI \u4e2d\nboring setup-extensions\n</code></pre>     \u6216\u8005\u5728\u5c0d\u8a71\u4e2d\u8981\u6c42 Agent\uff1a     &gt; \"Help me setup extensions\"     &gt; (Agent \u6703\u547c\u53eb <code>boring_setup_extensions()</code> \u5de5\u5177)</p> </li> <li> <p>\u81ea\u52d5\u914d\u7f6e\uff1a     Boring \u6703\u81ea\u52d5\uff1a</p> <ul> <li>\u4e0b\u8f09\u5fc5\u8981\u7684 MCP Servers (<code>context7</code>, <code>criticalthink</code>, <code>sequential-thinking</code>)</li> <li>\u8a2d\u5b9a API Keys \u8207\u74b0\u5883\u8b8a\u6578</li> <li>\u66f4\u65b0\u8a2d\u5b9a\u6a94\u4ee5\u555f\u7528\u5b83\u5011</li> </ul> </li> <li> <p>\u76f4\u63a5\u4f7f\u7528\uff1a     \u8a2d\u5b9a\u5b8c\u6210\u5f8c\uff0c\u9019\u4e9b\u5de5\u5177\u5c31\u6703\u81ea\u52d5\u51fa\u73fe\u5728 Agent \u7684\u5de5\u5177\u7bb1\u4e2d\u3002     \u60a8\u53ef\u4ee5\u5728\u5c0d\u8a71\u4e2d\u76f4\u63a5\u8981\u6c42\uff1a     &gt; \u300c\u8acb\u7528 Sequential Thinking \u5e6b\u6211\u898f\u5283\u9019\u6b21\u7684\u91cd\u69cb\u3002\u300d     &gt; \u300c\u8acb\u7528 Context7 \u67e5\u4e00\u4e0b React 19 \u7684\u65b0 Hook\u3002\u300d</p> </li> </ol> <p>\u9019\u6a23\uff0c\u60a8\u5f97\u5230\u7684\u4e0d\u53ea\u662f\u4ee3\u78bc\uff0c\u800c\u662f\u7d93\u904e\u300c\u6df1\u601d\u719f\u616e\u300d\u8207\u300c\u67e5\u8b49\u300d\u7684\u9ad8\u54c1\u8cea\u7522\u51fa\u3002</p>"},{"location":"features/flow/","title":"One Dragon: FlowGraph Architecture","text":"<p>Boring V12.0.0 introduces the One Dragon Engine, a state-machine based workflow runner that replaces the previous linear execution model.</p>"},{"location":"features/flow/#the-flow-concept","title":"\ud83d\udc09 The Flow Concept","text":"<p>The \"One Dragon\" (\u4e00\u689d\u9f8d) philosophy means a seamless, end-to-end autonomous experience. Instead of running isolated tasks, Boring now orchestrates a team of specialized Nodes that pass state through a shared FlowContext.</p>"},{"location":"features/flow/#the-workflow-nodes","title":"\ud83d\ude89 The Workflow Nodes","text":"<ol> <li>Architect (The Planner): Analyzes requirements, checks existing patterns in the Brain, and generates a structured <code>task.md</code>.</li> <li>Builder (The Executor): Runs the autonomous Agent Loop to fulfill the tasks.</li> <li>Healer (The Medic): If building fails, Healer identifies the root cause (e.g., missing dependencies) and applies fixes.<ul> <li>Safety Net: Healer automatically creates git checkpoints and enforces STRICT Shadow Mode during repairs.</li> </ul> </li> <li>Polish (The Auditor): Conducts final verification (Vibe Check/Linting). If minor issues remain, it can loop back to Builder.</li> <li>Evolver (The Sage): Summarizes the session, distills new \"Mastered Skills,\" and syncs knowledge with the Global Brain.</li> </ol>"},{"location":"features/flow/#how-to-trigger","title":"\u2699\ufe0f How to Trigger","text":"<p>Simply run the unified flow command: <pre><code>boring flow\n# or its alias\nboring go\n</code></pre></p>"},{"location":"features/flow/#cognitive-safety","title":"\ud83d\udee1\ufe0f Cognitive Safety","text":"<p>The FlowGraph is designed for safety. By isolating the Healer node, the system ensures that experimental fixes are only applied under strict supervision (Shadow Mode) and with a guaranteed rollback point (Checkpoints).</p>"},{"location":"features/flow_zh/","title":"\u4e00\u689d\u9f8d\u5f15\u64ce (One Dragon Engine) \u6d41\u7a0b\u5716\u67b6\u69cb","text":"<p>Boring V12.0.0 \u5f15\u5165\u4e86 \u300c\u4e00\u689d\u9f8d\u5f15\u64ce\u300d\uff0c\u9019\u662f\u4e00\u500b\u57fa\u65bc\u72c0\u614b\u6a5f (FlowGraph) \u7684\u5de5\u4f5c\u6d41\u904b\u884c\u5668\uff0c\u53d6\u4ee3\u4e86\u4ee5\u5f80\u7684\u7dda\u6027\u57f7\u884c\u6a21\u5f0f\u3002</p>"},{"location":"features/flow_zh/#_1","title":"\ud83d\udc09 \u8a2d\u8a08\u7406\u5ff5","text":"<p>\u300c\u4e00\u689d\u9f8d\u300d\u4ee3\u8868\u7684\u662f\u7121\u7e2b\u3001\u7aef\u5230\u7aef\u7684\u81ea\u4e3b\u958b\u767c\u9ad4\u9a57\u3002Boring \u4e0d\u518d\u53ea\u662f\u57f7\u884c\u5b64\u7acb\u7684\u4efb\u52d9\uff0c\u800c\u662f\u5354\u8abf\u4e00\u7d44\u5c08\u696d\u7684 \u7bc0\u9ede (Nodes)\uff0c\u900f\u904e\u5171\u4eab\u7684 FlowContext \u9032\u884c\u72c0\u614b\u50b3\u905e\u3002</p>"},{"location":"features/flow_zh/#_2","title":"\ud83d\ude89 \u5de5\u4f5c\u6d41\u7bc0\u9ede","text":"<ol> <li>Architect (\u67b6\u69cb\u5e2b/\u898f\u5283\u8005)\uff1a\u5206\u6790\u9700\u6c42\uff0c\u6aa2\u67e5\u5927\u8166\u4e2d\u7684\u65e2\u6709\u6a21\u5f0f\uff0c\u4e26\u751f\u6210\u7d50\u69cb\u5316\u7684 <code>task.md</code>\u3002</li> <li>Builder (\u69cb\u5efa\u8005/\u57f7\u884c\u8005)\uff1a\u57f7\u884c\u81ea\u4e3b\u4ee3\u7406\u5faa\u74b0 (Agent Loop) \u4ee5\u5b8c\u6210\u4efb\u52d9\u3002</li> <li>Healer (\u6cbb\u7652\u8005/\u4fee\u5fa9\u8005)\uff1a\u5982\u679c\u69cb\u5efa\u5931\u6557\uff0cHealer \u6703\u8b58\u5225\u6839\u672c\u539f\u56e0\uff08\u4f8b\u5982\u7f3a\u5931\u4f9d\u8cf4\uff09\u4e26\u57f7\u884c\u4fee\u5fa9\u3002<ul> <li>\u5b89\u5168\u7db2\uff1aHealer \u6703\u81ea\u52d5\u5efa\u7acb Git \u6aa2\u67e5\u9ede\uff0c\u4e26\u5728\u4fee\u5fa9\u671f\u9593\u5f37\u5236\u57f7\u884c STRICT (\u56b4\u683c) \u5f71\u5b50\u6a21\u5f0f\u3002</li> </ul> </li> <li>Polish (\u4fee\u5149\u5e2b/\u5be9\u6838\u8005)\uff1a\u9032\u884c\u6700\u7d42\u9a57\u8b49 (Vibe Check/Linting)\u3002\u5982\u679c\u4ecd\u6709\u7d30\u5fae\u554f\u984c\uff0c\u53ef\u5c07\u5de5\u4f5c\u6d41\u5c0e\u56de Builder \u9032\u884c\u4fee\u6b63\u3002</li> <li>Evolver (\u9032\u5316\u8005/\u667a\u8005)\uff1a\u7e3d\u7d50 Session\uff0c\u8403\u53d6\u65b0\u7684\u300c\u7cbe\u901a\u6280\u80fd (Mastered Skills)\u300d\uff0c\u4e26\u8207\u5168\u57df\u5927\u8166\u540c\u6b65\u77e5\u8b58\u3002</li> </ol>"},{"location":"features/flow_zh/#_3","title":"\u2699\ufe0f \u5982\u4f55\u555f\u52d5","text":"<p>\u53ea\u9700\u57f7\u884c\u7d71\u4e00\u7684\u5de5\u4f5c\u6d41\u547d\u4ee4\uff1a <pre><code>boring flow\n# \u6216\u8005\u4f7f\u7528\u5225\u540d\nboring go\n</code></pre></p>"},{"location":"features/flow_zh/#_4","title":"\ud83d\udee1\ufe0f \u8a8d\u77e5\u5b89\u5168","text":"<p>FlowGraph \u7684\u8a2d\u8a08\u4ee5\u5b89\u5168\u70ba\u6838\u5fc3\u3002\u900f\u904e\u9694\u96e2 Healer \u7bc0\u9ede\uff0c\u7cfb\u7d71\u78ba\u4fdd\u5be6\u9a57\u6027\u4fee\u5fa9\u50c5\u5728\u56b4\u683c\u76e3\u63a7\uff08\u5f71\u5b50\u6a21\u5f0f\uff09\u4e0b\u9032\u884c\uff0c\u4e26\u64c1\u6709\u4fdd\u8b49\u7684\u9084\u539f\u9ede\uff08\u6aa2\u67e5\u9ede\uff09\u3002</p>"},{"location":"features/global-brain/","title":"Global Brain - Cross-Project Knowledge Sharing","text":""},{"location":"features/global-brain/#overview","title":"\ud83c\udf10 Overview","text":"<p>Global Brain is Boring's cross-project knowledge sharing system, allowing you to share best practices, error solutions, and code patterns across different projects.</p>"},{"location":"features/global-brain/#core-concepts","title":"Core Concepts","text":"<ul> <li>Project Brain (<code>.boring/brain/</code>): Each project's own knowledge base</li> <li>Global Brain (<code>~/.boring/brain/</code>): Global knowledge base across all projects</li> <li>Knowledge Flow: Project \u2192 Global \u2192 Other Projects</li> </ul>"},{"location":"features/global-brain/#storage-location","title":"\ud83d\udcc2 Storage Location","text":"<p>Global Brain is stored in your user home directory:</p> <ul> <li>Windows: <code>C:\\Users\\{YourName}\\.boring/brain\\global_patterns.json</code></li> <li>Linux/Mac: <code>/home/{username}/.boring/brain/global_patterns.json</code></li> </ul> <p>Benefits:  - \u2705 Independent from projects, won't be accidentally deleted - \u2705 Not managed by Git, protects privacy - \u2705 Automatically shared across all projects</p>"},{"location":"features/global-brain/#knowledge-swarm-sync","title":"\ud83c\udf10 Knowledge Swarm (Sync)","text":"<p>Starting from V11.0, Global Brain supports automated synchronization via Git, known as Knowledge Swarm.</p> <ul> <li>Tool: <code>boring_brain_sync(remote_url=...)</code></li> <li>Collaborative Power: By pointing your global brain to a team repository, every developer's agent can pull successful patterns from others.</li> <li>Auto-Propagation: Solutions for difficult architecture or configuration bugs propagate across the hive mind in minutes.</li> </ul>"},{"location":"features/global-brain/#available-tools","title":"\ud83e\uddf0 Available Tools","text":""},{"location":"features/global-brain/#1-boring_global_export","title":"1. <code>boring_global_export</code>","text":"<p>Export high-quality patterns from current project to Global Brain</p> <pre><code>boring_global_export(min_success_count=2)\n</code></pre> <p>Parameters: - <code>min_success_count</code>: Minimum success count (default: 2)   - Only export verified patterns   - Higher = better quality</p> <p>Use Cases: - \u2705 Project ending, want to preserve knowledge - \u2705 Solved important bug, want to share with other projects - \u2705 Accumulated sufficient experience, export best practices</p>"},{"location":"features/global-brain/#2-boring_global_import","title":"2. <code>boring_global_import</code>","text":"<p>Import patterns from Global Brain to current project</p> <pre><code>boring_global_import()  # Import all types\nboring_global_import(pattern_types=[\"error_solution\"])  # Only error solutions\n</code></pre> <p>Parameters: - <code>pattern_types</code>: Filter by type (optional)   - <code>[\"error_solution\"]</code> - Only error solutions   - <code>[\"code_style\", \"performance\"]</code> - Multiple types</p> <p>Use Cases: - \u2705 Starting new project, want quick experience boost - \u2705 Facing similar issues, import known solutions - \u2705 Sync best practices across multiple projects</p>"},{"location":"features/global-brain/#3-boring_global_list","title":"3. <code>boring_global_list</code>","text":"<p>View all knowledge in Global Brain</p> <pre><code>boring_global_list()\n</code></pre> <p>Returns: - Total pattern count - Type distribution (error_solution, code_style, etc.) - Each pattern's source project and success count</p> <p>Use Cases: - \u2705 Want to know what's in Global Brain - \u2705 Decide which project to export from - \u2705 Understand accumulated experience</p>"},{"location":"features/global-brain/#typical-workflows","title":"\ud83c\udfaf Typical Workflows","text":""},{"location":"features/global-brain/#scenario-1-share-knowledge-from-old-to-new-project","title":"Scenario 1: Share Knowledge from Old to New Project","text":"<pre><code># In old project (Project A)\ncd ~/project-a\nboring_global_export(min_success_count=3)  # Export quality patterns\n\n# Switch to new project (Project B)\ncd ~/project-b\nboring_global_import()  # Import all knowledge\n</code></pre>"},{"location":"features/global-brain/#scenario-2-team-best-practices-sharing","title":"Scenario 2: Team Best Practices Sharing","text":"<pre><code># Team member A exports from their project\nboring_global_export(min_success_count=5)  # Only best patterns\n\n# Team member B imports to their project\nboring_global_import(pattern_types=[\"code_style\", \"performance\"])\n</code></pre>"},{"location":"features/global-brain/#scenario-3-personal-knowledge-base","title":"Scenario 3: Personal Knowledge Base","text":"<pre><code># Regular knowledge review\nboring_global_list()\n\n# Export from multiple projects\nboring_global_export()  # Run in each project\n\n# One-click import for new projects\nboring_global_import()\n</code></pre>"},{"location":"features/global-brain/#pattern-types","title":"\ud83d\udcca Pattern Types","text":"<p>Global Brain supports these pattern types:</p> Type Description Example <code>error_solution</code> Error solutions \"How to fix ModuleNotFoundError\" <code>code_style</code> Code style preferences \"Use dataclass instead of dict\" <code>performance</code> Performance optimizations \"Use LRU cache for queries\" <code>security</code> Security best practices \"Never hardcode API keys\" <code>workflow_tip</code> Workflow suggestions \"Write tests before code\""},{"location":"features/global-brain/#advanced-usage","title":"\u2699\ufe0f Advanced Usage","text":""},{"location":"features/global-brain/#selective-import","title":"Selective Import","text":"<p>Import only specific knowledge types:</p> <pre><code># Only error solutions\nboring_global_import(pattern_types=[\"error_solution\"])\n\n# Style and performance\nboring_global_import(pattern_types=[\"code_style\", \"performance\"])\n</code></pre>"},{"location":"features/global-brain/#quality-control","title":"Quality Control","text":"<p>Export only well-verified patterns:</p> <pre><code># Only patterns with 5+ successes\nboring_global_export(min_success_count=5)\n</code></pre>"},{"location":"features/global-brain/#view-details","title":"View Details","text":"<pre><code>result = boring_global_list()\nprint(result[\"patterns\"])  # Detailed info for each pattern\n</code></pre>"},{"location":"features/global-brain/#privacy-security","title":"\ud83d\udd12 Privacy &amp; Security","text":""},{"location":"features/global-brain/#auto-filtering","title":"Auto-Filtering","text":"<ul> <li>\u274c Not exported: API Keys, passwords, sensitive paths</li> <li>\u2705 Only exported: Abstract patterns and solutions</li> </ul>"},{"location":"features/global-brain/#local-storage","title":"Local Storage","text":"<ul> <li>Data stored only on your computer</li> <li>No cloud upload</li> <li>No automatic sharing with others</li> </ul>"},{"location":"features/global-brain/#manual-sharing","title":"Manual Sharing","text":"<p>To share with team:</p> <ol> <li>Copy <code>~/.boring/brain/global_patterns.json</code></li> <li>Share through secure channel</li> <li>Colleagues place in their <code>~/.boring/brain/</code> directory</li> </ol>"},{"location":"features/global-brain/#best-practices","title":"\ud83d\udca1 Best Practices","text":""},{"location":"features/global-brain/#do","title":"\u2705 Do","text":"<ul> <li>Regularly export knowledge from completed projects</li> <li>Import global knowledge when starting new projects</li> <li>Use <code>min_success_count</code> to ensure quality</li> <li>Regularly review Global Brain content</li> </ul>"},{"location":"features/global-brain/#dont","title":"\u274c Don't","text":"<ul> <li>Export low-quality, unverified patterns</li> <li>Commit <code>.boring/brain/</code> to Git</li> <li>Import all patterns without reviewing</li> </ul>"},{"location":"features/global-brain/#faq","title":"\ud83d\udc1b FAQ","text":""},{"location":"features/global-brain/#q-global-brain-is-empty","title":"Q: Global Brain is empty?","text":"<p>A: Run <code>boring_global_export</code> from any project first</p>"},{"location":"features/global-brain/#q-no-changes-after-import","title":"Q: No changes after import?","text":"<p>A: Use <code>boring_brain_summary</code> to view project Brain</p>"},{"location":"features/global-brain/#q-how-to-delete-a-pattern","title":"Q: How to delete a pattern?","text":"<p>A: Manually edit <code>~/.boring/brain/global_patterns.json</code></p>"},{"location":"features/global-brain/#q-can-teams-share","title":"Q: Can teams share?","text":"<p>A: Yes, but requires manual JSON file copying</p>"},{"location":"features/global-brain/#related-tools","title":"\ud83d\udd17 Related Tools","text":"<ul> <li><code>boring_learn</code> - Learn patterns from current project</li> <li><code>boring_brain_summary</code> - View project knowledge base</li> <li><code>boring_brain_health</code> - Brain health report</li> <li><code>boring_pattern_stats</code> - Pattern statistics</li> </ul>"},{"location":"features/global-brain/#references","title":"\ud83d\udcda References","text":"<ul> <li>Knowledge System Guide</li> <li>Brain Manager API</li> </ul>"},{"location":"features/global-brain_zh/","title":"Global Brain - \u8de8\u5c08\u6848\u77e5\u8b58\u5171\u4eab","text":""},{"location":"features/global-brain_zh/#_1","title":"\ud83c\udf10 \u6982\u8ff0","text":"<p>Global Brain \u662f Boring \u7684\u8de8\u5c08\u6848\u77e5\u8b58\u5171\u4eab\u7cfb\u7d71\uff0c\u8b93\u60a8\u5728\u4e0d\u540c\u5c08\u6848\u9593\u5206\u4eab\u5b78\u5230\u7684\u6700\u4f73\u5be6\u8e10\u3001\u932f\u8aa4\u89e3\u6c7a\u65b9\u6848\u548c\u7a0b\u5f0f\u78bc\u6a21\u5f0f\u3002</p>"},{"location":"features/global-brain_zh/#_2","title":"\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>\u5c08\u6848 Brain (<code>.boring/brain/</code>): \u6bcf\u500b\u5c08\u6848\u5404\u81ea\u7684\u77e5\u8b58\u5eab</li> <li>Global Brain (<code>~/.boring/brain/</code>): \u8de8\u6240\u6709\u5c08\u6848\u7684\u5168\u5c40\u77e5\u8b58\u5eab</li> <li>\u77e5\u8b58\u6d41\u5411: \u5c08\u6848 \u2192 Global \u2192 \u5176\u4ed6\u5c08\u6848</li> </ul>"},{"location":"features/global-brain_zh/#_3","title":"\ud83d\udcc2 \u5132\u5b58\u4f4d\u7f6e","text":"<p>Global Brain \u5132\u5b58\u5728\u60a8\u7684\u4f7f\u7528\u8005\u4e3b\u76ee\u9304\uff1a</p> <ul> <li>Windows: <code>C:\\Users\\{YourName}\\.boring/brain\\global_patterns.json</code></li> <li>Linux/Mac: <code>/home/{username}/.boring/brain/global_patterns.json</code></li> </ul> <p>\u512a\u9ede:  - \u2705 \u8207\u5c08\u6848\u7121\u95dc\uff0c\u4e0d\u6703\u88ab\u8aa4\u522a - \u2705 \u4e0d\u53d7 Git \u7ba1\u7406\uff0c\u4fdd\u8b77\u96b1\u79c1 - \u2705 \u6240\u6709\u5c08\u6848\u81ea\u52d5\u5171\u4eab</p>"},{"location":"features/global-brain_zh/#knowledge-swarm-sync","title":"\ud83c\udf10 \u77e5\u8b58\u7fa4\u96c6 (Knowledge Swarm Sync)","text":"<p>\u5f9e V11.0 \u958b\u59cb\uff0c\u5168\u57df\u5927\u8166\u652f\u63f4\u900f\u904e Git \u9032\u884c\u81ea\u52d5\u5316\u540c\u6b65\uff0c\u9019\u88ab\u7a31\u70ba \u300c\u77e5\u8b58\u7fa4\u96c6 (Knowledge Swarm)\u300d\u3002</p> <ul> <li>\u5de5\u5177\uff1a<code>boring_brain_sync(remote_url=...)</code></li> <li>\u5354\u4f5c\u529b\u91cf\uff1a\u900f\u904e\u5c07\u60a8\u7684\u5168\u57df\u5927\u8166\u6307\u5411\u5718\u968a\u5009\u5eab\uff0c\u6bcf\u4f4d\u958b\u767c\u8005\u7684 Agent \u90fd\u53ef\u4ee5\u5f9e\u4ed6\u4eba\u90a3\u88e1\u7372\u53d6\u6210\u529f\u7684\u6a21\u5f0f\u3002</li> <li>\u81ea\u52d5\u50b3\u64ad\uff1a\u91dd\u5c0d\u56f0\u96e3\u67b6\u69cb\u6216\u914d\u7f6e Bug \u7684\u89e3\u6c7a\u65b9\u6848\u6703\u5728\u5e7e\u5206\u9418\u5167\u5728\u300c\u7fa4\u9ad4\u667a\u6167\u300d\u4e2d\u50b3\u64ad\u3002</li> </ul>"},{"location":"features/global-brain_zh/#_4","title":"\ud83e\uddf0 \u53ef\u7528\u5de5\u5177","text":""},{"location":"features/global-brain_zh/#1-boring_global_export","title":"1. <code>boring_global_export</code>","text":"<p>\u5f9e\u7576\u524d\u5c08\u6848\u5c0e\u51fa\u9ad8\u54c1\u8cea\u6a21\u5f0f\u5230 Global Brain</p> <pre><code>boring_global_export(min_success_count=2)\n</code></pre> <p>\u53c3\u6578: - <code>min_success_count</code>: \u6700\u5c0f\u6210\u529f\u6b21\u6578\uff08\u9810\u8a2d 2\uff09   - \u53ea\u5c0e\u51fa\u7d93\u904e\u9a57\u8b49\u7684\u6a21\u5f0f   - \u8d8a\u9ad8 = \u54c1\u8cea\u8d8a\u597d</p> <p>\u4f7f\u7528\u60c5\u5883: - \u2705 \u5c08\u6848\u5373\u5c07\u7d50\u675f\uff0c\u60f3\u4fdd\u7559\u77e5\u8b58 - \u2705 \u89e3\u6c7a\u4e86\u91cd\u8981 bug\uff0c\u60f3\u5206\u4eab\u7d66\u5176\u4ed6\u5c08\u6848 - \u2705 \u7d2f\u7a4d\u8db3\u5920\u7d93\u9a57\uff0c\u5c0e\u51fa\u6700\u4f73\u5be6\u8e10</p>"},{"location":"features/global-brain_zh/#2-boring_global_import","title":"2. <code>boring_global_import</code>","text":"<p>\u5f9e Global Brain \u5c0e\u5165\u6a21\u5f0f\u5230\u7576\u524d\u5c08\u6848</p> <pre><code>boring_global_import()  # \u5c0e\u5165\u6240\u6709\u985e\u578b\nboring_global_import(pattern_types=[\"error_solution\"])  # \u53ea\u5c0e\u5165\u932f\u8aa4\u89e3\u6cd5\n</code></pre> <p>\u53c3\u6578: - <code>pattern_types</code>: \u904e\u6ffe\u985e\u578b\uff08\u53ef\u9078\uff09   - <code>[\"error_solution\"]</code> - \u53ea\u8981\u932f\u8aa4\u89e3\u6cd5   - <code>[\"code_style\", \"performance\"]</code> - \u591a\u7a2e\u985e\u578b</p> <p>\u4f7f\u7528\u60c5\u5883: - \u2705 \u958b\u59cb\u65b0\u5c08\u6848\uff0c\u60f3\u5feb\u901f\u7372\u5f97\u7d93\u9a57 - \u2705 \u9047\u5230\u985e\u4f3c\u554f\u984c\uff0c\u5c0e\u5165\u5df2\u77e5\u89e3\u6cd5 - \u2705 \u540c\u6b65\u591a\u500b\u5c08\u6848\u7684\u6700\u4f73\u5be6\u8e10</p>"},{"location":"features/global-brain_zh/#3-boring_global_list","title":"3. <code>boring_global_list</code>","text":"<p>\u67e5\u770b Global Brain \u4e2d\u7684\u6240\u6709\u77e5\u8b58</p> <pre><code>boring_global_list()\n</code></pre> <p>\u56de\u50b3\u8cc7\u8a0a: - \u7e3d Pattern \u6578\u91cf - \u985e\u578b\u5206\u5e03\uff08error_solution, code_style \u7b49\uff09 - \u6bcf\u500b Pattern \u7684\u4f86\u6e90\u5c08\u6848\u548c\u6210\u529f\u6b21\u6578</p> <p>\u4f7f\u7528\u60c5\u5883: - \u2705 \u60f3\u77e5\u9053 Global Brain \u88e1\u6709\u4ec0\u9ebc - \u2705 \u6c7a\u5b9a\u5f9e\u54ea\u500b\u5c08\u6848\u5c0e\u51fa\u77e5\u8b58 - \u2705 \u4e86\u89e3\u81ea\u5df1\u7d2f\u7a4d\u4e86\u591a\u5c11\u7d93\u9a57</p>"},{"location":"features/global-brain_zh/#_5","title":"\ud83c\udfaf \u5178\u578b\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"features/global-brain_zh/#1","title":"\u60c5\u5883 1\uff1a\u5f9e\u820a\u5c08\u6848\u5206\u4eab\u77e5\u8b58\u7d66\u65b0\u5c08\u6848","text":"<pre><code># \u5728\u820a\u5c08\u6848\u4e2d\uff08Project A\uff09\ncd ~/project-a\nboring_global_export(min_success_count=3)  # \u5c0e\u51fa\u9ad8\u54c1\u8cea\u6a21\u5f0f\n\n# \u5207\u63db\u5230\u65b0\u5c08\u6848\uff08Project B\uff09\ncd ~/project-b\nboring_global_import()  # \u5c0e\u5165\u6240\u6709\u77e5\u8b58\n</code></pre>"},{"location":"features/global-brain_zh/#2","title":"\u60c5\u5883 2\uff1a\u8de8\u5718\u968a\u5171\u4eab\u6700\u4f73\u5be6\u8e10","text":"<pre><code># \u5718\u968a\u6210\u54e1 A \u5f9e\u81ea\u5df1\u5c08\u6848\u5c0e\u51fa\nboring_global_export(min_success_count=5)  # \u53ea\u5c0e\u51fa\u6700\u4f73\u6a21\u5f0f\n\n# \u5718\u968a\u6210\u54e1 B \u5c0e\u5165\u5230\u81ea\u5df1\u5c08\u6848\nboring_global_import(pattern_types=[\"code_style\", \"performance\"])\n</code></pre>"},{"location":"features/global-brain_zh/#3","title":"\u60c5\u5883 3\uff1a\u500b\u4eba\u77e5\u8b58\u5eab\u7ba1\u7406","text":"<pre><code># \u5b9a\u671f\u67e5\u770b\u7d2f\u7a4d\u7684\u77e5\u8b58\nboring_global_list()\n\n# \u5f9e\u591a\u500b\u5c08\u6848\u5c0e\u51fa\nboring_global_export()  # \u5728\u6bcf\u500b\u5c08\u6848\u57f7\u884c\n\n# \u65b0\u5c08\u6848\u4e00\u9375\u5c0e\u5165\nboring_global_import()\n</code></pre>"},{"location":"features/global-brain_zh/#pattern","title":"\ud83d\udcca Pattern \u985e\u578b","text":"<p>Global Brain \u652f\u63f4\u4ee5\u4e0b\u985e\u578b\u7684 Pattern\uff1a</p> \u985e\u578b \u8aaa\u660e \u7bc4\u4f8b <code>error_solution</code> \u932f\u8aa4\u89e3\u6c7a\u65b9\u6848 \"ModuleNotFoundError \u7684\u4fee\u5fa9\u65b9\u6cd5\" <code>code_style</code> \u7a0b\u5f0f\u78bc\u98a8\u683c\u504f\u597d \"\u4f7f\u7528 dataclass \u800c\u975e dict\" <code>performance</code> \u6548\u80fd\u512a\u5316\u6280\u5de7 \"\u4f7f\u7528 LRU cache \u52a0\u901f\u67e5\u8a62\" <code>security</code> \u5b89\u5168\u6027\u6700\u4f73\u5be6\u8e10 \"\u6c38\u4e0d\u786c\u7de8\u78bc API key\" <code>workflow_tip</code> \u5de5\u4f5c\u6d41\u7a0b\u5efa\u8b70 \"\u5148\u5beb\u6e2c\u8a66\u518d\u5beb\u7a0b\u5f0f\u78bc\""},{"location":"features/global-brain_zh/#_6","title":"\u2699\ufe0f \u9032\u968e\u7528\u6cd5","text":""},{"location":"features/global-brain_zh/#_7","title":"\u9078\u64c7\u6027\u5c0e\u5165","text":"<p>\u53ea\u5c0e\u5165\u7279\u5b9a\u985e\u578b\u7684\u77e5\u8b58\uff1a</p> <pre><code># \u53ea\u8981\u932f\u8aa4\u89e3\u6cd5\nboring_global_import(pattern_types=[\"error_solution\"])\n\n# \u8981\u98a8\u683c\u548c\u6548\u80fd\u76f8\u95dc\nboring_global_import(pattern_types=[\"code_style\", \"performance\"])\n</code></pre>"},{"location":"features/global-brain_zh/#_8","title":"\u54c1\u8cea\u63a7\u5236","text":"<p>\u53ea\u5c0e\u51fa\u7d93\u904e\u5145\u5206\u9a57\u8b49\u7684\u6a21\u5f0f\uff1a</p> <pre><code># \u53ea\u5c0e\u51fa\u6210\u529f 5 \u6b21\u4ee5\u4e0a\u7684\u6a21\u5f0f\nboring_global_export(min_success_count=5)\n</code></pre>"},{"location":"features/global-brain_zh/#_9","title":"\u67e5\u770b\u8a73\u7d30\u8cc7\u8a0a","text":"<pre><code>result = boring_global_list()\nprint(result[\"patterns\"])  # \u6bcf\u500b pattern \u7684\u8a73\u7d30\u8cc7\u8a0a\n</code></pre>"},{"location":"features/global-brain_zh/#_10","title":"\ud83d\udd12 \u96b1\u79c1\u8207\u5b89\u5168","text":""},{"location":"features/global-brain_zh/#_11","title":"\u81ea\u52d5\u904e\u6ffe","text":"<ul> <li>\u274c \u4e0d\u6703\u5c0e\u51fa: API Keys\u3001\u5bc6\u78bc\u3001\u654f\u611f\u8def\u5f91</li> <li>\u2705 \u53ea\u5c0e\u51fa: \u62bd\u8c61\u7684\u6a21\u5f0f\u548c\u89e3\u6c7a\u65b9\u6848</li> </ul>"},{"location":"features/global-brain_zh/#_12","title":"\u672c\u5730\u5132\u5b58","text":"<ul> <li>\u8cc7\u6599\u53ea\u5132\u5b58\u5728\u60a8\u7684\u96fb\u8166</li> <li>\u4e0d\u6703\u4e0a\u50b3\u5230\u96f2\u7aef</li> <li>\u4e0d\u6703\u8207\u4ed6\u4eba\u81ea\u52d5\u5206\u4eab</li> </ul>"},{"location":"features/global-brain_zh/#_13","title":"\u624b\u52d5\u5206\u4eab","text":"<p>\u5982\u679c\u60a8\u60f3\u8207\u5718\u968a\u5206\u4eab\uff1a</p> <ol> <li>\u8907\u88fd <code>~/.boring/brain/global_patterns.json</code></li> <li>\u900f\u904e\u5b89\u5168\u7ba1\u9053\u50b3\u7d66\u540c\u4e8b</li> <li>\u540c\u4e8b\u653e\u5230\u4ed6\u5011\u7684 <code>~/.boring/brain/</code> \u76ee\u9304</li> </ol>"},{"location":"features/global-brain_zh/#_14","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10","text":""},{"location":"features/global-brain_zh/#_15","title":"\u2705 \u505a","text":"<ul> <li>\u5b9a\u671f\u5f9e\u5b8c\u6210\u7684\u5c08\u6848\u5c0e\u51fa\u77e5\u8b58</li> <li>\u65b0\u5c08\u6848\u958b\u59cb\u6642\u5148\u5c0e\u5165\u5168\u5c40\u77e5\u8b58</li> <li>\u4f7f\u7528 <code>min_success_count</code> \u78ba\u4fdd\u54c1\u8cea</li> <li>\u5b9a\u671f\u67e5\u770b Global Brain \u5167\u5bb9</li> </ul>"},{"location":"features/global-brain_zh/#_16","title":"\u274c \u4e0d\u8981","text":"<ul> <li>\u532f\u51fa\u4f4e\u54c1\u8cea\u3001\u672a\u9a57\u8b49\u7684\u6a21\u5f0f</li> <li>\u5728 Git \u4e2d commit <code>.boring/brain/</code> \u76ee\u9304</li> <li>\u5c0e\u5165\u6240\u6709\u6a21\u5f0f\u800c\u4e0d\u5148\u67e5\u770b\u5167\u5bb9</li> </ul>"},{"location":"features/global-brain_zh/#_17","title":"\ud83d\udc1b \u5e38\u898b\u554f\u984c","text":""},{"location":"features/global-brain_zh/#q-global-brain","title":"Q: Global Brain \u662f\u7a7a\u7684\uff1f","text":"<p>A: \u5148\u5f9e\u4efb\u4e00\u5c08\u6848\u57f7\u884c <code>boring_global_export</code></p>"},{"location":"features/global-brain_zh/#q","title":"Q: \u5c0e\u5165\u5f8c\u6c92\u770b\u5230\u8b8a\u5316\uff1f","text":"<p>A: \u4f7f\u7528 <code>boring_brain_summary</code> \u67e5\u770b\u5c08\u6848 Brain</p>"},{"location":"features/global-brain_zh/#q-pattern","title":"Q: \u5982\u4f55\u522a\u9664\u67d0\u500b Pattern\uff1f","text":"<p>A: \u624b\u52d5\u7de8\u8f2f <code>~/.boring/brain/global_patterns.json</code></p>"},{"location":"features/global-brain_zh/#q_1","title":"Q: \u53ef\u4ee5\u5728\u5718\u968a\u9593\u5171\u4eab\u55ce\uff1f","text":"<p>A: \u53ef\u4ee5\uff0c\u4f46\u9700\u8981\u624b\u52d5\u8907\u88fd JSON \u6a94\u6848</p>"},{"location":"features/global-brain_zh/#_18","title":"\ud83d\udd17 \u76f8\u95dc\u5de5\u5177","text":"<ul> <li><code>boring_learn</code> - \u5f9e\u7576\u524d\u5c08\u6848\u5b78\u7fd2\u6a21\u5f0f</li> <li><code>boring_brain_summary</code> - \u67e5\u770b\u5c08\u6848\u77e5\u8b58\u5eab</li> <li><code>boring_brain_health</code> - \u5927\u8166\u5065\u5eb7\u5831\u544a</li> <li><code>boring_pattern_stats</code> - Pattern \u7d71\u8a08</li> </ul>"},{"location":"features/global-brain_zh/#_19","title":"\ud83d\udcda \u53c3\u8003","text":"<ul> <li>\u77e5\u8b58\u7cfb\u7d71\u6307\u5357</li> <li>Intelligence API</li> </ul>"},{"location":"features/hidden-gems/","title":"Hidden Gems &amp; Power User Tips","text":"<p>Unlock the full potential of Boring with these advanced features and lesser-known tricks.</p>"},{"location":"features/hidden-gems/#deep-debugging-with-profiles","title":"\ud83d\udee0\ufe0f Deep Debugging with Profiles","text":"<p>You might know about <code>lite</code> vs <code>full</code> profiles, but did you know you can customize them?</p>"},{"location":"features/hidden-gems/#why-boring_debug_code-vanished","title":"Why <code>boring_debug_code</code> Vanished?","text":"<p>If you are in <code>lite</code> mode (default), advanced debugging tools are hidden to save context. To get them back:</p> <pre><code># Temporarily enable full toolkit for a session\nexport BORING_MCP_PROFILE=full\nboring start\n</code></pre>"},{"location":"features/hidden-gems/#custom-profiles","title":"Custom Profiles","text":"<p>Create <code>custom_profile.toml</code> to mix-and-match:</p> <pre><code>[profiles.my_debug]\ninclude = [\"boring_read_file\", \"boring_debug_code\", \"boring_security_scan\"]\nexclude = [\"boring_commit\"]\n</code></pre>"},{"location":"features/hidden-gems/#brain-surgery","title":"\ud83e\udde0 Brain Surgery","text":"<p>Your AI learns from mistakes (<code>~/.boring/brain</code>), but sometimes it learns the wrong thing.</p>"},{"location":"features/hidden-gems/#view-your-brain","title":"View Your Brain","text":"<p>Check what patterns are currently stored:</p> <pre><code>cat ~/.boring/brain/patterns.json\n</code></pre>"},{"location":"features/hidden-gems/#force-unlearning","title":"Force Unlearning","text":"<p>If Boring keeps making a mistake it \"learned\" to do, you can manually edit this file or use the <code>boring_learn</code> tool explicitly:</p> <pre><code>boring-route \"Forget the pattern about checking for requirements.txt\"\n</code></pre>"},{"location":"features/hidden-gems/#mastering-the-router","title":"\ud83d\udd75\ufe0f Mastering the Router","text":"<p>The <code>boring()</code> router uses semantic scoring, not just keywords.</p>"},{"location":"features/hidden-gems/#triggering-analysis","title":"Triggering Analysis","text":"<p>To force a \"Sequential Thinking\" session, use keywords like:</p> <ul> <li>\"Think about...\"</li> <li>\"Analyze deeply...\"</li> <li>\"Reason through...\"</li> </ul> <pre><code># Triggers sequentialthinking tool\nboring(\"Think about the race condition in the auth module\")\n</code></pre>"},{"location":"features/hidden-gems/#external-knowledge-context7","title":"External Knowledge (Context7)","text":"<p>You don't need to leave your IDE to check documentation.</p> <pre><code># Queries external docs via Context7\nboring(\"How do I use the new React useActionState hook?\")\n</code></pre> <p>Pro Tip: Be specific with library names. \"Query PyTorch docs\" works better than \"Query ML docs\".</p>"},{"location":"features/hidden-gems/#shadow-mode-tricks","title":"\ud83d\udee1\ufe0f Shadow Mode Tricks","text":""},{"location":"features/hidden-gems/#strict-mode-for-code-review","title":"Strict Mode for Code Review","text":"<p>You can use Shadow Mode as a forced code review tool, even for safe operations.</p> <pre><code>export SHADOW_MODE_LEVEL=STRICT\nboring-route \"Refactor the login page\"\n</code></pre> <p>Now, every single file write will pop up a diff for you to approve. It's like an interactive PR review.</p>"},{"location":"features/hidden-gems/#hyde-search-secrets","title":"\ud83d\udd0d HyDE Search Secrets","text":"<p>Boring uses HyDE (Hypothetical Document Embeddings) for search.</p> <ul> <li>Bad Query: \"auth error\"</li> <li>Good Query: \"Why does the login function return a 401 error when the token is valid?\"</li> </ul> <p>Why? HyDE generates a fake \"perfect answer\" and searches for code that looks like that. Phrasing as a question helps it hallucinate a better search target.</p>"},{"location":"features/hidden-gems_zh/","title":"\ud83d\udc8e \u96b1\u85cf\u529f\u80fd\u8207\u5c08\u5bb6\u6280\u5de7 (Hidden Gems)","text":"<p>\u9019\u4e9b\u662f\u6587\u6a94\u6df1\u8655\u7684\u9032\u968e\u529f\u80fd\uff0c\u80fd\u8b93\u4f60\u91cb\u653e Boring \u7684\u5168\u90e8\u6f5b\u529b\u3002</p>"},{"location":"features/hidden-gems_zh/#_1","title":"\ud83d\udee0\ufe0f \u6df1\u5ea6\u9664\u932f\u914d\u7f6e","text":"<p>\u4f60\u77e5\u9053 <code>lite</code> \u548c <code>full</code> \u914d\u7f6e\uff0c\u4f46\u4f60\u77e5\u9053\u53ef\u4ee5\u81ea\u5b9a\u7fa9\u5b83\u5011\u55ce\uff1f</p>"},{"location":"features/hidden-gems_zh/#boring_debug_code","title":"\u70ba\u4ec0\u9ebc <code>boring_debug_code</code> \u4e0d\u898b\u4e86\uff1f","text":"<p>\u5728\u9810\u8a2d\u7684 <code>lite</code> \u6a21\u5f0f\u4e0b\uff0c\u70ba\u4e86\u7bc0\u7701 tokens\uff0c\u9032\u968e\u9664\u932f\u5de5\u5177\u6703\u88ab\u96b1\u85cf\u3002\u5982\u679c\u9700\u8981\u5b83\u5011\uff1a</p> <pre><code># \u66ab\u6642\u555f\u7528\u5b8c\u6574\u5de5\u5177\u96c6\nexport BORING_MCP_PROFILE=full\nboring start\n</code></pre>"},{"location":"features/hidden-gems_zh/#_2","title":"\u81ea\u5b9a\u7fa9\u914d\u7f6e","text":"<p>\u4f60\u53ef\u4ee5\u5728 <code>.boring.toml</code> \u6df7\u5408\u642d\u914d\uff1a</p> <pre><code>[profiles.my_debug]\ninclude = [\"boring_read_file\", \"boring_debug_code\", \"boring_security_scan\"]\nexclude = [\"boring_commit\"]\n</code></pre>"},{"location":"features/hidden-gems_zh/#brain-surgery","title":"\ud83e\udde0 \u5927\u8166\u624b\u8853 (Brain Surgery)","text":"<p>AI \u6703\u5f9e\u932f\u8aa4\u4e2d\u5b78\u7fd2 (<code>~/.boring/brain</code>)\uff0c\u4f46\u6709\u6642\u5b83\u6703\u5b78\u5230 \u932f\u8aa4 \u7684\u6771\u897f\u3002</p>"},{"location":"features/hidden-gems_zh/#_3","title":"\u67e5\u770b\u5927\u8166","text":"<p>\u6aa2\u67e5\u7576\u524d\u5b58\u5132\u7684\u6a21\u5f0f\uff1a</p> <pre><code>cat ~/.boring/brain/patterns.json\n</code></pre>"},{"location":"features/hidden-gems_zh/#_4","title":"\u5f37\u5236\u907a\u5fd8","text":"<p>\u5982\u679c Boring \u4e00\u76f4\u91cd\u8907\u5b83\u300c\u5b78\u6703\u300d\u7684\u932f\u8aa4\u884c\u70ba\uff0c\u4f60\u53ef\u4ee5\u624b\u52d5\u7de8\u8f2f\u8a72\u6587\u4ef6\uff0c\u6216\u660e\u78ba\u544a\u8a34\u5b83\uff1a</p> <pre><code>boring-route \"\u5fd8\u8a18\u95dc\u65bc\u6aa2\u67e5 requirements.txt \u7684\u90a3\u500b\u6a21\u5f0f\"\n</code></pre>"},{"location":"features/hidden-gems_zh/#_5","title":"\ud83d\udd75\ufe0f \u99d5\u99ad\u8def\u7531\u5668","text":"<p><code>boring()</code> \u8def\u7531\u4f7f\u7528\u7684\u662f\u8a9e\u610f\u8a55\u5206\uff0c\u4e0d\u53ea\u662f\u95dc\u9375\u5b57\u3002</p>"},{"location":"features/hidden-gems_zh/#_6","title":"\u89f8\u767c\u6df1\u5ea6\u601d\u8003","text":"<p>\u8981\u5f37\u5236\u89f8\u767c \"Sequential Thinking\"\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u95dc\u9375\u8a5e\uff1a</p> <ul> <li>\"\u60f3\u4e00\u4e0b...\" (Think about...)</li> <li>\"\u6df1\u5ea6\u5206\u6790...\" (Analyze deeply...)</li> <li>\"\u63a8\u7406...\" (Reason through...)</li> </ul> <pre><code># \u9019\u6703\u89f8\u767c sequentialthinking \u5de5\u5177\nboring(\"\u5e6b\u6211\u60f3\u4e00\u4e0b auth \u6a21\u7d44\u7684\u7af6\u614b\u689d\u4ef6\")\n</code></pre>"},{"location":"features/hidden-gems_zh/#context7","title":"\u5916\u90e8\u77e5\u8b58 (Context7)","text":"<p>\u4f60\u4e0d\u9700\u8981\u96e2\u958b IDE \u5c31\u80fd\u67e5\u95b1\u6587\u6a94\u3002</p> <pre><code># \u900f\u904e Context7 \u67e5\u8a62\u5916\u90e8\u6587\u6a94\nboring(\"React useActionState hook \u600e\u9ebc\u7528\uff1f\")\n</code></pre> <p>\u5c08\u5bb6\u63d0\u793a\uff1a\u63d0\u4f9b\u6e96\u78ba\u7684\u5eab\u540d\u7a31\u6548\u679c\u6700\u597d\u3002\"\u67e5\u4e00\u4e0b PyTorch \u6587\u6a94\" \u6bd4 \"\u67e5\u4e00\u4e0b ML \u6587\u6a94\" \u66f4\u6e96\u78ba\u3002</p>"},{"location":"features/hidden-gems_zh/#_7","title":"\ud83d\udee1\ufe0f \u5f71\u5b50\u6a21\u5f0f\u79d8\u6280","text":""},{"location":"features/hidden-gems_zh/#strict-mode","title":"\u5f37\u5236\u4ee3\u78bc\u5be9\u67e5 (Strict Mode)","text":"<p>\u4f60\u53ef\u4ee5\u5c07 <code>STRICT</code> \u6a21\u5f0f\u7528\u4f5c\u5f37\u5236\u6027\u7684\u4ee3\u78bc\u5be9\u67e5\u5de5\u5177\uff0c\u5373\u4f7f\u662f\u5b89\u5168\u64cd\u4f5c\u4e5f\u4e0d\u653e\u904e\u3002</p> <pre><code>export SHADOW_MODE_LEVEL=STRICT\nboring-route \"\u91cd\u69cb\u767b\u5165\u9801\u9762\"\n</code></pre> <p>\u73fe\u5728\uff0c\u6bcf\u4e00\u500b\u6a94\u6848\u5beb\u5165\u90fd\u6703\u5f48\u51fa Diff \u8b93\u4f60\u6279\u51c6\u3002\u9019\u5c31\u50cf\u662f\u4e00\u500b\u4e92\u52d5\u5f0f\u7684 PR Review \u904e\u7a0b\u3002</p>"},{"location":"features/hidden-gems_zh/#hyde","title":"\ud83d\udd0d HyDE \u641c\u5c0b\u79d8\u8a23","text":"<p>Boring \u4f7f\u7528 HyDE (Hypothetical Document Embeddings) \u9032\u884c\u641c\u5c0b\u3002</p> <ul> <li>\u7121\u6548\u67e5\u8a62: \"auth error\"</li> <li>\u6709\u6548\u67e5\u8a62: \"\u70ba\u4ec0\u9ebc\u767b\u5165\u51fd\u6578\u5728 token \u6709\u6548\u6642\u9084\u6703\u8fd4\u56de 401 \u932f\u8aa4\uff1f\"</li> </ul> <p>\u70ba\u4ec0\u9ebc\uff1f HyDE \u6703\u751f\u6210\u4e00\u500b\u865b\u69cb\u7684\u300c\u5b8c\u7f8e\u7b54\u6848\u300d\uff0c\u7136\u5f8c\u641c\u5c0b\u8207\u8a72\u7b54\u6848\u76f8\u4f3c\u7684\u4ee3\u78bc\u3002\u7528\u5b8c\u6574\u554f\u53e5\u63d0\u554f\u80fd\u5e6b\u52a9\u5b83\u751f\u6210\u66f4\u7cbe\u6e96\u7684\u641c\u5c0b\u76ee\u6a19\u3002</p>"},{"location":"features/mcp-tools/","title":"MCP Toolset Reference","text":"<p>Boring provides 55+ MCP tools organized into logical categories.</p> <p>\u2728 Vibe Coder Tip: You usually don't need to call these tools directly. Use the Universal Router (<code>boring()</code>) instead.</p>"},{"location":"features/mcp-tools/#architecture-standardization","title":"\ud83c\udfd7\ufe0f Architecture: Standardization","text":"<p>V11.2.2 introduces Architectural Lockdown. All core MCP tools now return a standardized <code>BoringResult</code> (TypedDict). This ensures that AI agents (like Gemini 2.0 or Claude 3.5) receive perfectly structured data for multi-step reasoning.</p> <pre><code>class BoringResult(TypedDict):\n    status: str      # \"success\" | \"error\"\n    message: str     # Markdown report for user/AI consumption\n    data: Any        # Structured machine-readable data (JSON)\n</code></pre> <p>[!TIP] This standardization enables Deep Thinking loops where the agent can programmatically verify its own work by inspecting the <code>data</code> field.</p>"},{"location":"features/mcp-tools/#safety-live-tool-sandbox","title":"\ud83d\udee1\ufe0f Safety: Live Tool Sandbox","text":"<p>Boring V11.2 implements a Live Tool Sandbox for synthesized tools. When the AI uses <code>boring_synth_tool</code> to create a new custom capability, the code is analyzed via AST (Abstract Syntax Tree) before execution.</p> <ul> <li>Forbidden Imports: <code>os</code>, <code>sys</code>, <code>subprocess</code>, <code>requests</code>, etc. are blocked within synthesized tools.</li> <li>Forbidden Functions: <code>exec</code>, <code>eval</code>, <code>open</code> are restricted to prevent escape from the project workspace.</li> <li>Audit Logging: Every synthesis operation is logged and audited.</li> </ul>"},{"location":"features/mcp-tools/#dynamic-discovery","title":"\ud83d\udd0e Dynamic Discovery","text":""},{"location":"features/mcp-tools/#for-ai-clients","title":"For AI Clients","text":"<p>AI assistants can discover tools dynamically without loading all definitions:</p> <pre><code># Read capability resource\nboring://capabilities\n\n# Read specific category tools\nboring://tools/security\nboring://tools/verification\nboring://tools/agents\n</code></pre>"},{"location":"features/mcp-tools/#0-skills-ecosystem","title":"0. Skills Ecosystem","text":""},{"location":"features/mcp-tools/#discovery-boring_skills_search","title":"Discovery (<code>boring_skills_search</code>)","text":"<p>Search Skills Catalog for capabilities.</p> <pre><code>boring_skills_search(query=\"web framework\")\nboring_skills_list(pattern=\"fastapi\")\n</code></pre>"},{"location":"features/mcp-tools/#installation-boring_skills_install","title":"Installation (<code>boring_skills_install</code>)","text":"<p>One-click install for specific Skills (based on <code>skills_catalog.py</code> allowlist).</p> <pre><code>boring_skills_install(name=\"awesome-gemini-cli-extensions\")\n</code></pre>"},{"location":"features/mcp-tools/#core-tool-categories","title":"\ud83e\uddf0 Core Tool Categories","text":"<p>Search and install Agent Skills (Extensions, Templates) to extend capabilities.</p> <pre><code>boring_skills_search(query=\"web scraper\")\nboring_skills_install(name=\"awesome-claude-skills\")\n</code></pre> <p>Use Cases: - Find extensions for your current task - Discover trending MCP Servers - Get installation instructions</p>"},{"location":"features/mcp-tools/#1-security-boring_security_scan","title":"1. Security (<code>boring_security_scan</code>)","text":"<p>Multi-layered security scanning with SAST, secret detection, and dependency audits.</p> <pre><code>boring_security_scan(\n    project_path=\".\",\n    scan_type=\"all\",        # all|sast|secrets|dependencies\n    fix_mode=False          # Auto-fix when possible\n)\n</code></pre> <p>Supported File Types: Python, JavaScript, TypeScript, Go, Rust, Java, C/C++, YAML, JSON, Docker, Terraform</p>"},{"location":"features/mcp-tools/#2-transactions-boring_transaction","title":"2. Transactions (<code>boring_transaction</code>)","text":"<p>Atomic Git operations with automatic rollback on failure.</p> <pre><code># Start transaction\nboring_transaction(action=\"start\", name=\"feature-auth\")\n\n# Work on changes...\n\n# Commit or rollback\nboring_transaction(action=\"commit\", message=\"Add auth\")\nboring_transaction(action=\"rollback\")\n</code></pre>"},{"location":"features/mcp-tools/#3-background-tasks-boring_task","title":"3. Background Tasks (<code>boring_task</code>)","text":"<p>Run long-running operations asynchronously.</p> <pre><code># Start background task\ntask_id = boring_task(\n    action=\"start\",\n    task_type=\"verify\",     # verify|test|lint|custom\n    command=\"pytest -v\"\n)\n\n# Check status\nboring_task(action=\"status\", task_id=task_id)\n\n# Get logs\nboring_task(action=\"logs\", task_id=task_id)\n</code></pre>"},{"location":"features/mcp-tools/#4-context-memory-boring_context","title":"4. Context Memory (<code>boring_context</code>)","text":"<p>Cross-session project memory persistence.</p> <pre><code># Save context\nboring_context(action=\"save\", key=\"architecture\", value=\"microservices\")\n\n# Load context\nresult = boring_context(action=\"load\", key=\"architecture\")\n\n# List all contexts\nboring_context(action=\"list\")\n</code></pre>"},{"location":"features/mcp-tools/#5-verification-boring_verify","title":"5. Verification (<code>boring_verify</code>)","text":"<p>Multi-level code verification from quick syntax checks to full testing.</p> Level Checks Speed <code>BASIC</code> Syntax only ~2s <code>STANDARD</code> Syntax + Lint ~10s <code>FULL</code> All + Tests ~60s <code>SEMANTIC</code> + AI Review ~120s <pre><code>boring_verify(\n    project_path=\".\",\n    level=\"STANDARD\",\n    incremental=True        # Only changed files\n)\n</code></pre>"},{"location":"features/mcp-tools/#boring_rag_search","title":"6. RAG Memory (<code>boring_rag_search</code>)","text":"<p>Semantic code search with hybrid Vector + Keyword matching.</p> <pre><code>boring_rag_search(\n    query=\"authentication middleware\",\n    project_path=\".\",\n    top_k=10,\n    expand_graph=True        # Include dependencies\n)\n</code></pre> <p>Note: RAG features require local installation with <code>pip install \"boring-aicoding[mcp]\"</code>. Not available in Smithery cloud deployment.</p>"},{"location":"features/mcp-tools/#7-multi-agent-boring_multi_agent","title":"7. Multi-Agent (<code>boring_multi_agent</code>)","text":"<p>Orchestrate complex workflows with specialized agents.</p> <pre><code># Get workflow prompt (default)\nboring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\"feature\": \"user authentication\"}\n)\n\n# Execute in background\nboring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\"feature\": \"user authentication\"},\n    execute=True\n)\n</code></pre> <p>Available Workflows: - <code>plan_and_implement</code> - End-to-end development - <code>review_and_fix</code> - Code review with fixes - <code>debug_and_test</code> - Debugging with test generation</p>"},{"location":"features/mcp-tools/#8-shadow-mode-boring_shadow_mode","title":"8. Shadow Mode (<code>boring_shadow_mode</code>)","text":"<p>Security sandbox for high-risk operations.</p> <pre><code># Check status\nboring_shadow_mode(action=\"status\")\n\n# Change mode\nboring_shadow_mode(\n    action=\"set_level\",\n    level=\"STRICT\"          # DISABLED|ENABLED|STRICT\n)\n\n# Approve pending operation\nboring_shadow_mode(action=\"approve\", operation_id=\"op_123\")\n</code></pre> <p>See Shadow Mode for detailed documentation.</p>"},{"location":"features/mcp-tools/#9-git-boring_commit","title":"9. Git (<code>boring_commit</code>)","text":"<p>Smart commit message generation from task context.</p> <pre><code>boring_commit(\n    project_path=\".\",\n    scope=\"feat\",           # feat|fix|docs|refactor|test\n    auto_stage=True\n)\n</code></pre>"},{"location":"features/mcp-tools/#10-workspace-boring_workspace_switch","title":"10. Workspace (<code>boring_workspace_switch</code>)","text":"<p>Multi-project workspace management.</p> <pre><code># Switch workspace\nboring_workspace_switch(path=\"/path/to/project\")\n\n# List workspaces\nboring_workspace_switch(action=\"list\")\n</code></pre>"},{"location":"features/mcp-tools/#11-knowledge-boring_learn","title":"11. Knowledge (<code>boring_learn</code>)","text":"<p>Extract and store project patterns.</p> <pre><code># Learn from current session\nboring_learn(\n    project_path=\".\",\n    topics=[\"error-handling\", \"testing\"]\n)\n</code></pre>"},{"location":"features/mcp-tools/#12-evaluation-boring_evaluate","title":"12. Evaluation (<code>boring_evaluate</code>)","text":"<p>LLM-as-Judge code scoring.</p> <pre><code>boring_evaluate(\n    target=\"src/main.py\",\n    level=\"DIRECT\",         # DIRECT|PAIRWISE|RUBRIC\n    criteria=[\"correctness\", \"readability\"]\n)\n</code></pre>"},{"location":"features/mcp-tools/#13-usage-analytics-boring_usage_stats","title":"13. Usage Analytics (<code>boring_usage_stats</code>)","text":"<p>Internal introspection tool for the Agent to understand its own efficiency.</p> <pre><code>boring_usage_stats()\n# Returns: {\"total_calls\": 128, \"top_tools\": [\"read_file\", ...], \"anomalies\": 0}\n</code></pre> <p>See Usage Dashboard for details.</p>"},{"location":"features/mcp-tools/#13-external-intelligence-boring_external","title":"13. External Intelligence (<code>boring_external</code>)","text":"<p>Integrates powerful external MCP servers for enhanced thinking and knowledge.</p> <ul> <li>Context7: Real-time technical documentation RAG (<code>context7_query_docs</code>)</li> <li>Sequential Thinking: Deep sequential thinking engine (<code>sequentialthinking</code>)</li> <li>Critical Thinking: Critical thinking and auditing (<code>criticalthink</code>)</li> </ul> <p>See External Intelligence for detailed usage.</p>"},{"location":"features/mcp-tools/#quick-start-prompts","title":"\ud83d\ude80 Quick Start Prompts","text":"<p>One-click workflows for common tasks:</p> Prompt Usage <code>vibe_start</code> <code>/vibe_start Build a FastAPI auth service</code> <code>quick_fix</code> <code>/quick_fix</code> <code>full_stack_dev</code> <code>/full_stack_dev my-app \"Next.js + FastAPI\"</code> <code>smart_commit</code> <code>/smart_commit</code>"},{"location":"features/mcp-tools/#speckit-workflow","title":"\ud83d\udccb SpecKit Workflow","text":"<p>Specification-driven development in 5 steps:</p> <pre><code>graph LR\n    A[Constitution] --&gt; B[Clarify]\n    B --&gt; C[Plan]\n    C --&gt; D[Checklist]\n    D --&gt; E[Analyze]\n</code></pre> Step Tool Purpose 1 <code>boring_speckit_constitution</code> Establish principles 2 <code>boring_speckit_clarify</code> Clarify requirements 3 <code>boring_speckit_plan</code> Create implementation plan 4 <code>boring_speckit_tasks</code> Break down into tasks 5 <code>boring_speckit_checklist</code> Build acceptance criteria 6 <code>boring_speckit_analyze</code> Verify spec consistency"},{"location":"features/mcp-tools/#context-optimization-tool-profiles","title":"Context Optimization (Tool Profiles)","text":"<p>Boring V10.24 introduces Tool Profiles to reduce LLM context usage:</p> Profile Tools Context Usage Best For <code>minimal</code> 8 ~2k tokens Chat / Q&amp;A <code>lite</code> 20 ~5k tokens Default / General Dev <code>standard</code> 50 ~15k tokens Complex Refactoring <code>full</code> 60+ ~30k tokens Admin / Deep Debug <code>adaptive</code> Dynamic Low-Med Recommended (V11.5) <p>Enable via <code>.boring.toml</code>, env <code>BORING_MCP_PROFILE=adaptive</code>, or use the Boring Wizard. See Adaptive Profile for details.</p>"},{"location":"features/mcp-tools/#see-also","title":"See Also","text":"<ul> <li>Shadow Mode - Security details</li> <li>Quality Gates - CI/CD integration</li> <li>[Tool Reference- Appendix A: Tool Reference</li> <li>Complete API reference</li> </ul>"},{"location":"features/mcp-tools_zh/","title":"MCP \u5de5\u5177\u96c6\u53c3\u8003","text":"<p>Boring \u63d0\u4f9b 55+ \u500b MCP \u5de5\u5177\uff0c\u6309\u908f\u8f2f\u5206\u985e\u7d44\u7e54\u3002</p> <p>\u2728 \u7d66 Vibe Coder \u7684\u8a71: \u5225\u88ab\u4e0b\u9762\u7684 Python \u4ee3\u78bc\u5687\u5230\uff01 \ud83d\ude31 \u6587\u6a94\u5217\u51fa Python \u4ee3\u78bc\u662f\u70ba\u4e86\u7cbe\u78ba\u5b9a\u7fa9\u53c3\u6578\uff0c\u4f46\u60a8 \u5b8c\u5168\u4e0d\u9700\u8981 \u81ea\u5df1\u5beb\u9019\u4e9b\u4ee3\u78bc\u3002</p> <p>\ud83d\udc49 \u60a8\u53ea\u9700\u8981\u8aaa\u4e2d\u6587\uff0c\u4f8b\u5982\uff1a\u300c\u5e6b\u6211\u505a\u5b89\u5168\u6383\u63cf\u300d\uff0cAI \u5c31\u6703\u81ea\u52d5\u7ffb\u8b6f\u6210 <code>boring_security_scan(...)</code> \u4e26\u57f7\u884c\u3002</p>"},{"location":"features/mcp-tools_zh/#_1","title":"\ud83c\udfd7\ufe0f \u67b6\u69cb\u8a2d\u8a08\uff1a\u6a19\u6e96\u5316","text":"<p>V11.2.2 \u5f15\u5165\u4e86 \u300c\u67b6\u69cb\u9396\u5b9a (Architectural Lockdown)\u300d\u3002\u6240\u6709\u6838\u5fc3 MCP \u5de5\u5177\u73fe\u5728\u5747\u8fd4\u56de\u6a19\u6e96\u5316\u7684 <code>BoringResult</code> (TypedDict)\u3002\u9019\u78ba\u4fdd\u4e86 AI \u4ee3\u7406\uff08\u5982 Gemini 2.0 \u6216 Claude 3.5\uff09\u5728\u9032\u884c\u591a\u6b65\u63a8\u7406\u6642\uff0c\u80fd\u5920\u63a5\u6536\u5230\u7d50\u69cb\u5b8c\u7f8e\u7684\u6578\u64da\u3002</p> <pre><code>class BoringResult(TypedDict):\n    status: str      # \"success\" | \"error\"\n    message: str     # \u4f9b\u4f7f\u7528\u8005\u6216 AI \u95b1\u8b80\u7684 Markdown \u5831\u8868\n    data: Any        # \u7d50\u69cb\u5316\u7684\u6a5f\u5668\u53ef\u8b80\u6578\u64da (JSON)\n</code></pre> <p>[!TIP] \u9019\u7a2e\u6a19\u6e96\u5316\u555f\u52d5\u4e86 \u300c\u6df1\u5ea6\u601d\u8003 (Deep Thinking)\u300d \u5faa\u74b0\uff0c\u4ee3\u7406\u53ef\u4ee5\u900f\u904e\u6aa2\u67e5 <code>data</code> \u6b04\u4f4d\uff0c\u4ee5\u7a0b\u5f0f\u5316\u65b9\u5f0f\u9a57\u8b49\u5176\u81ea\u8eab\u7684\u5de5\u4f5c\u6210\u679c\u3002</p>"},{"location":"features/mcp-tools_zh/#_2","title":"\ud83d\udee1\ufe0f \u5b89\u5168\u9632\u8b77\uff1a\u52d5\u614b\u5de5\u5177\u6c99\u7bb1","text":"<p>Boring V11.2 \u70ba\u52d5\u614b\u5408\u6210\u5de5\u5177\u5be6\u73fe\u4e86 \u300c\u52d5\u614b\u5de5\u5177\u6c99\u7bb1 (Live Tool Sandbox)\u300d\u3002\u7576 AI \u4f7f\u7528 <code>boring_synth_tool</code> \u5efa\u7acb\u65b0\u7684\u81ea\u5b9a\u7fa9\u529f\u80fd\u6642\uff0c\u7a0b\u5f0f\u78bc\u5728\u57f7\u884c\u524d\u6703\u5148\u7d93\u904e AST (\u62bd\u8c61\u8a9e\u6cd5\u6a39) \u7684\u975c\u614b\u5206\u6790\u3002</p> <ul> <li>\u7981\u7528\u5c0e\u5165 (Forbidden Imports)\uff1a\u5408\u6210\u5de5\u5177\u5167\u7981\u6b62\u5c0e\u5165 <code>os</code>, <code>sys</code>, <code>subprocess</code>, <code>requests</code> \u7b49\u6a21\u7d44\u3002</li> <li>\u7981\u7528\u51fd\u5f0f (Forbidden Functions)\uff1a\u9650\u5236 <code>exec</code>, <code>eval</code>, <code>open</code> \u7b49\u51fd\u5f0f\uff0c\u9632\u6b62 AI \u812b\u96e2\u5c08\u6848\u5de5\u4f5c\u5340\u3002</li> <li>\u5be9\u8a08\u65e5\u8a8c (Audit Logging)\uff1a\u6bcf\u4e00\u6b21\u5408\u6210\u64cd\u4f5c\u90fd\u6703\u88ab\u8a18\u9304\u4e26\u9032\u884c\u5be9\u8a08\u3002</li> </ul>"},{"location":"features/mcp-tools_zh/#_3","title":"\ud83d\udd0e \u52d5\u614b\u767c\u73fe","text":""},{"location":"features/mcp-tools_zh/#ai","title":"AI \u5ba2\u6236\u7aef\u7528","text":"<p>AI \u52a9\u624b\u53ef\u4ee5\u52d5\u614b\u767c\u73fe\u5de5\u5177\uff0c\u7121\u9700\u8f09\u5165\u6240\u6709\u5b9a\u7fa9\uff1a</p> <pre><code># \u8b80\u53d6\u80fd\u529b\u8cc7\u6e90\nboring://capabilities\n\n# \u8b80\u53d6\u7279\u5b9a\u985e\u5225\u5de5\u5177\nboring://tools/security\nboring://tools/verification\nboring://tools/agents\n</code></pre>"},{"location":"features/mcp-tools_zh/#0-skills-ecosystem","title":"0. \u6280\u80fd\u751f\u614b\u7cfb (Skills Ecosystem)","text":""},{"location":"features/mcp-tools_zh/#boring_skills_search","title":"\u6280\u80fd\u767c\u73fe (<code>boring_skills_search</code>)","text":"<p>\u641c\u5c0b\u6280\u80fd\u76ee\u9304 (Skills Catalog) \u4e2d\u7684\u80fd\u529b\u3002</p> <pre><code>boring_skills_search(query=\"web framework\")\nboring_skills_list(pattern=\"fastapi\")\n</code></pre>"},{"location":"features/mcp-tools_zh/#boring_skills_install","title":"\u6280\u80fd\u5b89\u88dd (<code>boring_skills_install</code>)","text":"<p>\u4e00\u9375\u5b89\u88dd\u6307\u5b9a\u7684 Skill (\u57fa\u65bc <code>skills_catalog.py</code> \u7684\u767d\u540d\u55ae)\u3002</p> <pre><code>boring_skills_install(name=\"awesome-gemini-cli-extensions\")\n</code></pre>"},{"location":"features/mcp-tools_zh/#_4","title":"\ud83e\uddf0 \u6838\u5fc3\u5de5\u5177\u985e\u5225","text":""},{"location":"features/mcp-tools_zh/#0-boring_skills_search","title":"0. \u6280\u80fd\u767c\u73fe (<code>boring_skills_search</code>)","text":"<p>\u641c\u5c0b\u4e26\u5b89\u88dd Agent Skills (Extensions, Templates) \u4ee5\u64f4\u5c55\u80fd\u529b\u3002</p> <pre><code>boring_skills_search(query=\"web scraper\")\nboring_skills_install(name=\"awesome-claude-skills\")\n</code></pre> <p>\u7528\u9014\uff1a - \u5c0b\u627e\u9069\u5408\u7576\u524d\u4efb\u52d9\u7684\u64f4\u5145\u5de5\u5177 - \u767c\u73fe\u6700\u65b0\u7684 MCP Servers - \u7372\u53d6\u5b89\u88dd\u6307\u5f15</p>"},{"location":"features/mcp-tools_zh/#1-boring_security_scan","title":"1. \u5b89\u5168\u6383\u63cf (<code>boring_security_scan</code>)","text":"<p>\u591a\u5c64\u5b89\u5168\u6383\u63cf\uff0c\u5305\u62ec SAST\u3001\u5bc6\u9470\u5075\u6e2c\u548c\u4f9d\u8cf4\u5be9\u8a08\u3002</p> <pre><code>boring_security_scan(\n    project_path=\".\",\n    scan_type=\"all\",        # all|sast|secrets|dependencies\n    fix_mode=False          # \u53ef\u80fd\u6642\u81ea\u52d5\u4fee\u5fa9\n)\n</code></pre> <p>\u652f\u63f4\u7684\u6a94\u6848\u985e\u578b\uff1aPython\u3001JavaScript\u3001TypeScript\u3001Go\u3001Rust\u3001Java\u3001C/C++\u3001YAML\u3001JSON\u3001Docker\u3001Terraform</p>"},{"location":"features/mcp-tools_zh/#2-boring_transaction","title":"2. \u4ea4\u6613 (<code>boring_transaction</code>)","text":"<p>\u5177\u6709\u81ea\u52d5\u56de\u6efe\u7684\u539f\u5b50 Git \u64cd\u4f5c\u3002</p> <pre><code># \u958b\u59cb\u4ea4\u6613\nboring_transaction(action=\"start\", name=\"feature-auth\")\n\n# \u9032\u884c\u8b8a\u66f4...\n\n# \u63d0\u4ea4\u6216\u56de\u6efe\nboring_transaction(action=\"commit\", message=\"Add auth\")\nboring_transaction(action=\"rollback\")\n</code></pre>"},{"location":"features/mcp-tools_zh/#3-boring_task","title":"3. \u80cc\u666f\u4efb\u52d9 (<code>boring_task</code>)","text":"<p>\u975e\u540c\u6b65\u57f7\u884c\u9577\u6642\u9593\u904b\u884c\u7684\u64cd\u4f5c\u3002</p> <pre><code># \u555f\u52d5\u80cc\u666f\u4efb\u52d9\ntask_id = boring_task(\n    action=\"start\",\n    task_type=\"verify\",     # verify|test|lint|custom\n    command=\"pytest -v\"\n)\n\n# \u6aa2\u67e5\u72c0\u614b\nboring_task(action=\"status\", task_id=task_id)\n\n# \u53d6\u5f97\u65e5\u8a8c\nboring_task(action=\"logs\", task_id=task_id)\n</code></pre>"},{"location":"features/mcp-tools_zh/#4-boring_context","title":"4. \u4e0a\u4e0b\u6587\u8a18\u61b6 (<code>boring_context</code>)","text":"<p>\u8de8\u6703\u8a71\u5c08\u6848\u8a18\u61b6\u6301\u4e45\u5316\u3002</p> <pre><code># \u5132\u5b58\u4e0a\u4e0b\u6587\nboring_context(action=\"save\", key=\"architecture\", value=\"microservices\")\n\n# \u8f09\u5165\u4e0a\u4e0b\u6587\nresult = boring_context(action=\"load\", key=\"architecture\")\n\n# \u5217\u51fa\u6240\u6709\u4e0a\u4e0b\u6587\nboring_context(action=\"list\")\n</code></pre>"},{"location":"features/mcp-tools_zh/#5-boring_verify","title":"5. \u9a57\u8b49 (<code>boring_verify</code>)","text":"<p>\u5f9e\u5feb\u901f\u8a9e\u6cd5\u6aa2\u67e5\u5230\u5b8c\u6574\u6e2c\u8a66\u7684\u591a\u7d1a\u4ee3\u78bc\u9a57\u8b49\u3002</p> \u7d1a\u5225 \u6aa2\u67e5\u5167\u5bb9 \u901f\u5ea6 <code>BASIC</code> \u50c5\u8a9e\u6cd5 ~2\u79d2 <code>STANDARD</code> \u8a9e\u6cd5 + Lint ~10\u79d2 <code>FULL</code> \u5168\u90e8 + \u6e2c\u8a66 ~60\u79d2 <code>SEMANTIC</code> + AI \u5be9\u67e5 ~120\u79d2 <pre><code>boring_verify(\n    project_path=\".\",\n    level=\"STANDARD\",\n    incremental=True        # \u50c5\u8b8a\u66f4\u7684\u6a94\u6848\n)\n</code></pre>"},{"location":"features/mcp-tools_zh/#boring_rag_search","title":"6. RAG \u8a18\u61b6 (<code>boring_rag_search</code>)","text":"<p>\u5177\u6709\u6df7\u5408\u5411\u91cf + \u95dc\u9375\u5b57\u5339\u914d\u7684\u8a9e\u610f\u4ee3\u78bc\u641c\u5c0b\u3002</p> <pre><code>boring_rag_search(\n    query=\"authentication middleware\",\n    project_path=\".\",\n    top_k=10,\n    expand_graph=True        # \u5305\u542b\u4f9d\u8cf4\n)\n</code></pre> <p>\u6ce8\u610f\uff1aRAG \u529f\u80fd\u9700\u8981\u4f7f\u7528 <code>pip install \"boring-aicoding[mcp]\"</code> \u672c\u5730\u5b89\u88dd\u3002Smithery \u96f2\u7aef\u90e8\u7f72\u4e0d\u53ef\u7528\u3002</p>"},{"location":"features/mcp-tools_zh/#7-boring_multi_agent","title":"7. \u591a\u4ee3\u7406 (<code>boring_multi_agent</code>)","text":"<p>\u4f7f\u7528\u5c08\u9580\u4ee3\u7406\u5354\u8abf\u8907\u96dc\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <pre><code># \u53d6\u5f97\u5de5\u4f5c\u6d41\u7a0b\u63d0\u793a\uff08\u9810\u8a2d\uff09\nboring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\"feature\": \"user authentication\"}\n)\n\n# \u5728\u80cc\u666f\u57f7\u884c\nboring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\"feature\": \"user authentication\"},\n    execute=True\n)\n</code></pre> <p>\u53ef\u7528\u5de5\u4f5c\u6d41\u7a0b\uff1a - <code>plan_and_implement</code> - \u7aef\u5230\u7aef\u958b\u767c - <code>review_and_fix</code> - \u4ee3\u78bc\u5be9\u67e5\u8207\u4fee\u5fa9 - <code>debug_and_test</code> - \u9664\u932f\u8207\u6e2c\u8a66\u751f\u6210</p>"},{"location":"features/mcp-tools_zh/#8-boring_shadow_mode","title":"8. \u5f71\u5b50\u6a21\u5f0f (<code>boring_shadow_mode</code>)","text":"<p>\u9ad8\u98a8\u96aa\u64cd\u4f5c\u7684\u5b89\u5168\u6c99\u7bb1\u3002</p> <pre><code># \u6aa2\u67e5\u72c0\u614b\nboring_shadow_mode(action=\"status\")\n\n# \u8b8a\u66f4\u6a21\u5f0f\nboring_shadow_mode(\n    action=\"set_level\",\n    level=\"STRICT\"          # DISABLED|ENABLED|STRICT\n)\n\n# \u6279\u51c6\u5f85\u8655\u7406\u64cd\u4f5c\nboring_shadow_mode(action=\"approve\", operation_id=\"op_123\")\n</code></pre> <p>\u8a73\u7d30\u6587\u6a94\u8acb\u53c3\u95b1 \u5f71\u5b50\u6a21\u5f0f\u3002</p>"},{"location":"features/mcp-tools_zh/#9-git-boring_commit","title":"9. Git (<code>boring_commit</code>)","text":"<p>\u5f9e\u4efb\u52d9\u4e0a\u4e0b\u6587\u667a\u80fd\u751f\u6210\u63d0\u4ea4\u8a0a\u606f\u3002</p> <pre><code>boring_commit(\n    project_path=\".\",\n    scope=\"feat\",           # feat|fix|docs|refactor|test\n    auto_stage=True\n)\n</code></pre>"},{"location":"features/mcp-tools_zh/#10-boring_workspace_switch","title":"10. \u5de5\u4f5c\u5340 (<code>boring_workspace_switch</code>)","text":"<p>\u591a\u5c08\u6848\u5de5\u4f5c\u5340\u7ba1\u7406\u3002</p> <pre><code># \u5207\u63db\u5de5\u4f5c\u5340\nboring_workspace_switch(path=\"/path/to/project\")\n\n# \u5217\u51fa\u5de5\u4f5c\u5340\nboring_workspace_switch(action=\"list\")\n</code></pre>"},{"location":"features/mcp-tools_zh/#11-boring_learn","title":"11. \u77e5\u8b58\u5b78\u7fd2 (<code>boring_learn</code>)","text":"<p>\u63d0\u53d6\u4e26\u5132\u5b58\u5c08\u6848\u6a21\u5f0f\u3002</p> <pre><code># \u5f9e\u7576\u524d\u6703\u8a71\u5b78\u7fd2\nboring_learn(\n    project_path=\".\",\n    topics=[\"error-handling\", \"testing\"]\n)\n</code></pre>"},{"location":"features/mcp-tools_zh/#12-boring_evaluate","title":"12. \u8a55\u4f30 (<code>boring_evaluate</code>)","text":"<p>LLM \u4f5c\u70ba\u8a55\u5be9\u7684\u4ee3\u78bc\u8a55\u5206\u3002</p> <pre><code>boring_evaluate(\n    target=\"src/main.py\",\n    level=\"DIRECT\",         # DIRECT|PAIRWISE|RUBRIC\n    criteria=[\"correctness\", \"readability\"]\n)\n</code></pre>"},{"location":"features/mcp-tools_zh/#13-boring_external","title":"13. \u5916\u90e8\u667a\u80fd (<code>boring_external</code>)","text":"<p>\u6574\u5408\u5f37\u5927\u7684\u5916\u90e8 MCP \u4f3a\u670d\u5668\uff0c\u589e\u5f37\u601d\u8003\u8207\u77e5\u8b58\u80fd\u529b\u3002</p> <ul> <li>Context7: \u5373\u6642\u6280\u8853\u6587\u6a94 RAG (<code>context7_query_docs</code>)</li> <li>Sequential Thinking: \u6df1\u5ea6\u5faa\u5e8f\u601d\u8003\u5f15\u64ce (<code>sequentialthinking</code>)</li> <li>Critical Thinking: \u6279\u5224\u6027\u601d\u7dad\u8207\u5be9\u8a08 (<code>criticalthink</code>)</li> </ul> <p>\u8a73\u7d30\u7528\u6cd5\u8acb\u53c3\u95b1 \u5916\u90e8\u667a\u80fd\u6574\u5408\u3002</p>"},{"location":"features/mcp-tools_zh/#_5","title":"\ud83d\ude80 \u5feb\u901f\u555f\u52d5\u63d0\u793a","text":"<p>\u5e38\u898b\u4efb\u52d9\u7684\u4e00\u9375\u5de5\u4f5c\u6d41\u7a0b\uff1a</p> \u63d0\u793a \u7528\u6cd5 <code>vibe_start</code> <code>/vibe_start \u5efa\u7acb\u4e00\u500b FastAPI \u8a8d\u8b49\u670d\u52d9</code> <code>quick_fix</code> <code>/quick_fix</code> <code>full_stack_dev</code> <code>/full_stack_dev my-app \"Next.js + FastAPI\"</code> <code>smart_commit</code> <code>/smart_commit</code>"},{"location":"features/mcp-tools_zh/#speckit","title":"\ud83d\udccb SpecKit \u5de5\u4f5c\u6d41\u7a0b","text":"<p>5 \u6b65\u9a5f\u7684\u898f\u683c\u9a45\u52d5\u958b\u767c\uff1a</p> <pre><code>graph LR\n    A[\u61b2\u6cd5] --&gt; B[\u6f84\u6e05]\n    B --&gt; C[\u8a08\u756b]\n    C --&gt; D[\u6aa2\u67e5\u6e05\u55ae]\n    D --&gt; E[\u5206\u6790]\n</code></pre> \u6b65\u9a5f \u5de5\u5177 \u76ee\u7684 1 <code>boring_speckit_constitution</code> \u5efa\u7acb\u539f\u5247 2 <code>boring_speckit_clarify</code> \u6f84\u6e05\u9700\u6c42 3 <code>boring_speckit_plan</code> \u5efa\u7acb\u5be6\u4f5c\u8a08\u756b 4 <code>boring_speckit_tasks</code> \u5206\u89e3\u70ba\u4efb\u52d9 5 <code>boring_speckit_checklist</code> \u5efa\u7acb\u9a57\u6536\u6a19\u6e96 6 <code>boring_speckit_analyze</code> \u9a57\u8b49\u4e00\u81f4\u6027"},{"location":"features/mcp-tools_zh/#_6","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u5f71\u5b50\u6a21\u5f0f - \u5b89\u5168\u8a73\u60c5</li> <li>\u54c1\u8cea\u9598\u9053 - CI/CD \u6574\u5408</li> <li>\u9644\u9304 A\uff1a\u5de5\u5177\u53c3\u8003</li> <li>\u5b8c\u6574 API \u53c3\u8003</li> </ul>"},{"location":"features/memory/","title":"\ud83e\udde0 Boring Memory System","text":"<p>Intelligence Maximization Component \"An AI that doesn't forget.\"</p> <p>Most AI coding assistants reset their brain every session. Boring-Gemini remembers. It learns from your codebase, your corrections, and its own mistakes to get smarter over time.</p>"},{"location":"features/memory/#the-knowledge-brain-boringbrain","title":"\ud83e\udde9 The Knowledge Brain (<code>.boring/brain</code>)","text":"<p>Boring uses SQLite for persistent storage (patterns, preferences, history) and ChromaDB for vector similarity search (RAG features) in your home directory (<code>~/.boring/brain</code>). This is its long-term memory.</p>"},{"location":"features/memory/#what-it-remembers","title":"What it Remembers","text":"<ol> <li>Code Patterns: \"This project prefers <code>pydantic</code> v2 over v1.\"</li> <li>Error Fixes: \"Last time I fixed <code>ImportError</code> by adding path to <code>sys.path</code>.\"</li> <li>User Preferences: \"The user likes concise docstrings.\"</li> <li>Project Context: Architecture decisions, active goals.</li> </ol>"},{"location":"features/memory/#active-causal-memory-brain-reflex","title":"\u26a1 Active Causal Memory (Brain Reflex)","text":"<p>Boring-Gemini doesn't just remember what code exists; it remembers why things failed and how to fix them. This is Active Causal Memory.</p> <ul> <li>Reflex Trigger: When a command fails, the agent doesn't just \"try again.\" It performs a \"Brain Reflex\" check\u2014querying the memory for the exact error signature.</li> <li>One-Shot Correction: If a match is found, the successful solution is injected directly into the next thinking cycle, allowing the agent to self-correct instantly.</li> </ul>"},{"location":"features/memory/#automated-learning-loop","title":"\ud83d\udd04 Automated Learning Loop","text":"<ol> <li>Observe: Agent executes a command or writes code.</li> <li>Outcome: It fails (Start) or Succeeds.</li> <li>Learn:<ul> <li>If Fail: Analyze why. Extract the error pattern and the fix. Store it.</li> <li>If Success: Reinforce the successful pattern.</li> </ul> </li> <li>Recall: Next time a similar task appears, relevant memories are injected into the context.</li> </ol>"},{"location":"features/memory/#vibe-coder-usage","title":"\ud83d\ude80 Vibe Coder Usage","text":"<p>You don't need to \"manage\" memory. It happens automatically.</p> <pre><code># Day 1:\nboring-route \"fix the build error\"\n# (Agent tries 3 times, fails, then finds the fix) -&gt; LEARNED\n\n# Day 2:\nboring-route \"fix the build error\"\n# (Agent recalls the fix immediately) -&gt; SOLVED in 1 try\n</code></pre>"},{"location":"features/memory/#memory-tools","title":"\ud83d\udee0\ufe0f Memory Tools","text":"<ul> <li><code>boring_context</code>: Manage specific context.</li> <li><code>boring_profile</code>: View what the AI has learned about you/project.</li> <li><code>boring_incremental_learn</code>: Manually teach the AI something.</li> <li><code>sequentialthinking</code>: Uses memory to reason through complex problems.</li> </ul>"},{"location":"features/memory_zh/","title":"\ud83e\udde0 Boring \u8a18\u61b6\u7cfb\u7d71 (Memory System)","text":"<p>Intelligence Maximization Component (\u667a\u80fd\u7d44\u4ef6) \"\u4e00\u500b\u4e0d\u6703\u5fd8\u8a18\u7684 AI\u3002\"</p> <p>\u5927\u591a\u6578 AI \u7a0b\u5f0f\u52a9\u7406\u6bcf\u6b21\u5c0d\u8a71\u90fd\u6703\u91cd\u7f6e\u5927\u8166\u3002Boring-Gemini \u8a18\u5f97\u4e00\u5207\u3002 \u5b83\u6703\u5f9e\u4f60\u7684\u7a0b\u5f0f\u5eab\u3001\u4f60\u7684\u4fee\u6b63\u4ee5\u53ca\u5b83\u81ea\u5df1\u7684\u932f\u8aa4\u4e2d\u5b78\u7fd2\uff0c\u96a8\u8457\u6642\u9593\u8b8a\u5f97\u8d8a\u4f86\u8d8a\u8070\u660e\u3002</p>"},{"location":"features/memory_zh/#boringbrain","title":"\ud83e\udde9 \u77e5\u8b58\u5927\u8166 (<code>.boring/brain</code>)","text":"<p>Boring \u5728\u4f60\u7684\u5bb6\u76ee\u9304 (<code>~/.boring/brain</code>) \u4e2d\u4f7f\u7528 SQLite \u9032\u884c\u6301\u4e45\u5316\u5132\u5b58\uff08\u6a21\u5f0f\u3001\u504f\u597d\u3001\u6b77\u53f2\uff09\uff0c\u4e26\u4f7f\u7528 ChromaDB \u9032\u884c\u5411\u91cf\u76f8\u4f3c\u5ea6\u641c\u7d22\uff08RAG \u529f\u80fd\uff09\u3002\u9019\u5c31\u662f\u5b83\u7684\u9577\u671f\u8a18\u61b6\u3002</p>"},{"location":"features/memory_zh/#_1","title":"\u5b83\u8a18\u5f97\u4ec0\u9ebc","text":"<ol> <li>\u7a0b\u5f0f\u6a21\u5f0f (Patterns): \"\u9019\u500b\u5c08\u6848\u504f\u597d <code>pydantic</code> v2 \u800c\u4e0d\u662f v1\u3002\"</li> <li>\u932f\u8aa4\u4fee\u5fa9 (Fixes): \"\u4e0a\u6b21\u6211\u4fee\u5fa9 <code>ImportError</code> \u662f\u901a\u904e\u5c07\u8def\u5f91\u52a0\u5165 <code>sys.path</code>\u3002\"</li> <li>\u4f7f\u7528\u8005\u504f\u597d (Preferences): \"\u4f7f\u7528\u8005\u559c\u6b61\u7c21\u6f54\u7684 docstrings\u3002\"</li> <li>\u5c08\u6848\u4e0a\u4e0b\u6587 (Project Context)\uff1a\u67b6\u69cb\u6c7a\u7b56\u3001\u6d3b\u52d5\u76ee\u6a19\u3002</li> </ol>"},{"location":"features/memory_zh/#brain-reflex","title":"\u26a1 \u4e3b\u52d5\u56e0\u679c\u8a18\u61b6 (Brain Reflex)","text":"<p>Boring-Gemini \u4e0d\u50c5\u50c5\u8a18\u4f4f\u54ea\u4e9b\u7a0b\u5f0f\u78bc\u5b58\u5728\uff1b\u5b83\u9084\u8a18\u4f4f\u70ba\u4ec0\u9ebc\u4e8b\u60c5\u5931\u6557\u4e86\uff0c\u4ee5\u53ca\u5982\u4f55\u4fee\u5fa9\u5b83\u5011\u3002\u9019\u5c31\u662f \u300c\u4e3b\u52d5\u56e0\u679c\u8a18\u61b6 (Active Causal Memory)\u300d\u3002</p> <ul> <li>\u53cd\u5c04\u89f8\u767c (Reflex Trigger)\uff1a\u7576\u547d\u4ee4\u5931\u6557\u6642\uff0cAgent \u4e0d\u6703\u53ea\u662f\u300c\u518d\u8a66\u4e00\u6b21\u300d\u3002\u5b83\u6703\u57f7\u884c\u300c\u8166\u53cd\u5c04 (Brain Reflex)\u300d\u6aa2\u67e5\u2014\u2014\u5728\u8a18\u61b6\u4e2d\u67e5\u8a62\u78ba\u5207\u7684\u932f\u8aa4\u7279\u5fb5\u3002</li> <li>\u55ae\u6b21\u4fee\u5fa9 (One-Shot Correction)\uff1a\u5982\u679c\u627e\u5230\u4e86\u5339\u914d\u9805\uff0c\u6210\u529f\u7684\u89e3\u6c7a\u65b9\u6848\u5c07\u76f4\u63a5\u6ce8\u5165\u5230\u4e0b\u4e00\u500b\u601d\u8003\u9031\u671f\u4e2d\uff0c\u8b93 Agent \u80fd\u5920\u7acb\u5373\u81ea\u6211\u4fee\u5fa9\u3002</li> </ul>"},{"location":"features/memory_zh/#_2","title":"\ud83d\udd04 \u81ea\u52d5\u5b78\u7fd2\u8ff4\u5708","text":"<ol> <li>\u89c0\u5bdf (Observe): Agent \u57f7\u884c\u6307\u4ee4\u6216\u5beb\u7a0b\u5f0f\u3002</li> <li>\u7d50\u679c (Outcome): \u5931\u6557 (Start) \u6216 \u6210\u529f\u3002</li> <li>\u5b78\u7fd2 (Learn):<ul> <li>\u5982\u679c \u5931\u6557: \u5206\u6790\u539f\u56e0\u3002\u63d0\u53d6\u932f\u8aa4\u6a21\u5f0f\u548c\u4fee\u5fa9\u65b9\u6cd5\u3002\u5b58\u8d77\u4f86\u3002</li> <li>\u5982\u679c \u6210\u529f: \u5f37\u5316\u6210\u529f\u7684\u6a21\u5f0f\u3002</li> </ul> </li> <li>\u56de\u60f3 (Recall): \u4e0b\u6b21\u51fa\u73fe\u985e\u4f3c\u4efb\u52d9\u6642\uff0c\u76f8\u95dc\u8a18\u61b6\u6703\u81ea\u52d5\u6ce8\u5165\u4e0a\u4e0b\u6587\u3002</li> </ol>"},{"location":"features/memory_zh/#vibe-coder","title":"\ud83d\ude80 Vibe Coder \u7528\u6cd5","text":"<p>\u4f60\u4e0d\u9700\u8981 \"\u7ba1\u7406\" \u8a18\u61b6\u3002\u5b83\u81ea\u52d5\u767c\u751f\u3002</p> <pre><code># \u7b2c\u4e00\u5929:\nboring-route \"\u4fee\u5fa9\u90a3\u500b build error\"\n# (Agent \u5617\u8a66 3 \u6b21\uff0c\u5931\u6557\uff0c\u7136\u5f8c\u627e\u5230\u4fee\u5fa9\u65b9\u6cd5) -&gt; \u5df2\u5b78\u7fd2 (LEARNED)\n\n# \u7b2c\u4e8c\u5929:\nboring-route \"\u4fee\u5fa9\u90a3\u500b build error\"\n# (Agent \u7acb\u5373\u56de\u60f3\u8d77\u4fee\u5fa9\u65b9\u6cd5) -&gt; \u4e00\u6b21\u89e3\u6c7a (SOLVED in 1 try)\n</code></pre>"},{"location":"features/memory_zh/#_3","title":"\ud83d\udee0\ufe0f \u8a18\u61b6\u5de5\u5177","text":"<ul> <li><code>boring_context</code>: \u7ba1\u7406\u7279\u5b9a\u4e0a\u4e0b\u6587\u3002</li> <li><code>boring_profile</code>: \u67e5\u770b AI \u5b78\u5230\u4e86\u95dc\u65bc\u4f60/\u5c08\u6848\u7684\u4ec0\u9ebc\u3002</li> <li><code>boring_incremental_learn</code>: \u624b\u52d5\u6559 AI \u4e00\u4e9b\u6771\u897f\u3002</li> <li><code>sequentialthinking</code>: \u4f7f\u7528\u8a18\u61b6\u9032\u884c\u6df1\u5ea6\u63a8\u7406\u3002</li> </ul>"},{"location":"features/monitor/","title":"\ud83d\udda5\ufe0f Boring Monitoring Tools","text":"<p>Real-time monitoring of your Agent's brain and body state.</p> <p>Boring provides three ways to monitor your autonomous loop, depending on your environment and needs.</p>"},{"location":"features/monitor/#interface-comparison","title":"\ud83d\udee0\ufe0f Interface Comparison","text":"<p>Boring interfaces are categorized into TUI (Terminal-based) and Dashboard (Web-based).</p> Type Name Trigger Command Trigger Type Core Features TUI Boring Flow <code>boring flow</code> Automatic (via <code>boring start</code>) Shows state-machine activity, Architect/Builder/Healer progress. TUI Boring Watch <code>boring watch</code> Manual Real-time file monitoring with Automatic Ruff/Lint checks and AI fix suggestions. TUI Boring Monitor <code>boring-monitor</code> Manual Real-time Token cost, success rates, ASCII dependency graphs. Component RAG Watcher (Background) Automatic Invisible Feature: Auto-detects file changes and updates RAG vector index silently. Web Boring Dashboard <code>boring-dashboard</code> Manual Web Analytics: Token trends, Quality Score history, Log Explorer."},{"location":"features/monitor/#interface-detailed-guide","title":"\ud83d\ude80 Interface Detailed Guide","text":""},{"location":"features/monitor/#1-boring-monitor-tui","title":"1. \ud83d\udcca Boring Monitor (TUI)","text":"<p>The fastest, most direct way to monitor. No browser needed.</p> <p>Trigger: <pre><code>boring-monitor\n</code></pre></p>"},{"location":"features/monitor/#4-boring-watch-tui","title":"4. \ud83d\udc41\ufe0f Boring Watch (TUI)","text":"<p>A dedicated monitoring mode that listens for code changes: - Auto-check: Automatically runs <code>ruff</code>, <code>mypy</code>, or tests whenever you save a file. - AI Fix: Displays immediate AI fix suggestions in the terminal when errors are detected.</p> <pre><code>boring watch\n</code></pre>"},{"location":"features/monitor/#automatic-rag-indexing-hidden-feature","title":"\ud83e\udde0 Automatic RAG Indexing (Hidden Feature)","text":"<p>There is also an \"invisible trigger\". Boring V13+ includes a RAG Watcher. While you are in a <code>boring start</code> loop, the system automatically detects your file changes and updates the local vector database (RAG). This ensures the AI always has the latest code context without requiring manual re-indexing.</p>"},{"location":"features/monitor/#2-boring-flow-tui","title":"2. \ud83d\udc09 Boring Flow (TUI)","text":"<p>Automatically enabled when running <code>boring start</code> or the \"One Dragon\" workflow. No manual trigger required during active loops.</p> <p>Trigger: <pre><code>boring flow\n# OR automatically via start\nboring start\n</code></pre></p>"},{"location":"features/monitor/#3-boring-dashboard-webstreamlit","title":"3. \ud83e\udd16 Boring Dashboard (Web/Streamlit)","text":"<p>Best for beautiful analytics and deep RAG Brain inspection.</p> <p>Trigger: <pre><code>boring-dashboard\n</code></pre> Note: If the command isn't found, try <code>python -m boring dashboard</code>.</p>"},{"location":"features/monitor/#core-features-dashboard","title":"\u2728 Core Features (Dashboard)","text":""},{"location":"features/monitor/#live-status","title":"\ud83d\udcca Live Status","text":"<ul> <li>Loop Count: Current autonomous loop iteration.</li> <li>Status: Is the Agent <code>THINKING</code>, <code>CODING</code>, or <code>SLEEPING</code>.</li> <li>API Calls: Monitor token usage and API call frequency.</li> <li>Personal Stats: See your top tools and usage patterns. Learn more.</li> </ul>"},{"location":"features/monitor/#usage-analytics-new-in-v115","title":"\ud83d\udd0d Usage Analytics (New in V11.5)","text":"<p>The Monitor now includes a dedicated Usage Stats tab for introspection. - See which tools you use most. - Identify efficiency bottlenecks. - View data powered by <code>boring_usage_stats</code>.</p>"},{"location":"features/monitor/#circuit-breaker","title":"\ud83d\uded1 Circuit Breaker","text":"<ul> <li>View breaker status (<code>CLOSED</code>/<code>OPEN</code>).</li> <li>If the Agent gets stuck or fails repeatedly, the breaker trips to protect your API Quota.</li> <li>Anomaly Detection: View loop anomalies blocked by the P5 Safety Net. Learn more.</li> </ul>"},{"location":"features/monitor/#brain-explorer","title":"\ud83e\udde0 Brain Explorer","text":"<p>See your Agent's RAG Memory and Learning Patterns. - Learned Patterns: See what \"Error-&gt;Fix\" patterns the Agent has learned. - Project Context: View which files and structures are indexed by RAG.</p>"},{"location":"features/monitor/#live-logs","title":"\ud83d\udcdd Live Logs","text":"<ul> <li>Watch the Agent's thought process and debugging logs in real-time.</li> </ul>"},{"location":"features/monitor/#troubleshooting-faq","title":"\ud83d\udee0\ufe0f Troubleshooting &amp; FAQ","text":""},{"location":"features/monitor/#1-packages-not-installed-despite-pip-success","title":"1. Packages \"not installed\" despite pip success?","text":"<p>This usually happens when you have multiple Python versions (e.g., 3.12 and 3.13) installed on Windows. Your <code>pip</code> might be installing to a different version than the global <code>boring</code> command uses.</p> <p>Solution: Run as a Python module Use <code>python -m</code> to force the use of the Python environment where you installed the packages: - Launch Dashboard: <code>python -m boring dashboard</code> / <code>python -m boring.monitor --web</code> - Launch Monitor: <code>python -m boring.monitor</code></p>"},{"location":"features/monitor/#2-streamlit-is-required-error","title":"2. \"Streamlit is required\" Error","text":"<p>If running <code>boring-dashboard</code> prompts that <code>streamlit</code> is missing, ensure you installed the GUI extras: <pre><code>pip install \"boring-aicoding[gui]\"\n# Or the full version\npip install \"boring-aicoding[all]\"\n</code></pre> If you are using a virtual environment, ensure it is activated.</p>"},{"location":"features/monitor/#3-no-such-command-monitor","title":"3. \"No such command 'monitor'\"","text":"<p>Remember that <code>monitor</code> is not a subcommand. Use <code>boring-monitor</code> (with a hyphen) instead.</p>"},{"location":"features/monitor/#4-missing-tree-sitter-languages","title":"4. Missing \"tree-sitter-languages\"","text":"<p>This is used for advanced code parsing. If it's not detected after installation, use the <code>python -m boring</code> method described above.</p>"},{"location":"features/monitor/#5-why-dont-my-changes-take-effect","title":"5. Why don't my changes take effect?","text":"<p>This usually happens because the MCP Server hasn't reloaded your code. - Solution: In your IDE (e.g., Cursor) MCP Settings, click the \"Refresh\" button next to your connection. After modifying any Python tool code, you must restart the server for the AI to learn new skills or see logic updates.</p> <p>Pro Tip: Keep the monitor open while coding, just like a monitoring screen in a hacker movie! \ud83d\ude0e</p>"},{"location":"features/monitor_zh/","title":"\ud83d\udda5\ufe0f Boring \u76e3\u63a7\u5de5\u5177","text":"<p>\u5373\u6642\u76e3\u63a7 Agent \u7684\u5927\u8166\u8207\u8eab\u9ad4\u72c0\u614b\u3002</p> <p>Boring \u63d0\u4f9b\u4e09\u7a2e\u76e3\u63a7\u81ea\u4e3b\u8ff4\u5708\u7684\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u6839\u64da\u74b0\u5883\u8207\u9700\u6c42\u9078\u64c7\u6700\u5408\u9069\u7684\u5de5\u5177\u3002</p>"},{"location":"features/monitor_zh/#_1","title":"\ud83d\udee0\ufe0f \u76e3\u63a7\u5de5\u5177\u5206\u7d44\u8868","text":"<p>Boring \u7684\u4ecb\u9762\u4e3b\u8981\u5206\u70ba TUI (\u57fa\u65bc\u7d42\u7aef) \u8207 Dashboard (\u57fa\u65bc\u7db2\u9801) \u5169\u5927\u985e\u3002</p> \u4ecb\u9762\u985e\u578b \u5de5\u5177\u540d\u7a31 \u89f8\u767c\u6307\u4ee4 \u81ea\u52d5/\u624b\u52d5 \u6838\u5fc3\u529f\u80fd TUI Boring Flow <code>boring flow</code> \u81ea\u52d5 (\u96a8 <code>boring start</code> \u555f\u52d5) \u986f\u793a\u72c0\u614b\u6a5f\u904b\u4f5c\u3001Architect/Builder/Healer \u9032\u5ea6\u3002 TUI Boring Watch <code>boring watch</code> \u624b\u52d5 \u5be6\u6642\u76e3\u63a7\u6a94\u6848\u8b8a\u66f4\uff0c\u4e26\u81ea\u52d5\u89f8\u767c Ruff/Lint \u6aa2\u67e5\u8207 AI \u4fee\u5fa9\u5efa\u8b70\u3002 TUI Boring Monitor <code>boring-monitor</code> \u624b\u52d5 \u7d42\u7aef\u6a5f\u5167\u7684\u5373\u6642 Token \u6210\u672c\u3001\u6210\u529f\u7387\u3001ASCII \u4f9d\u8cf4\u5716\u3002 \u7d44\u4ef6 RAG Watcher (\u80cc\u666f\u904b\u4f5c) \u81ea\u52d5 \u96b1\u5f62\u529f\u80fd\uff1a\u81ea\u52d5\u5075\u6e2c\u6a94\u6848\u8b8a\u66f4\u4e26\u66f4\u65b0 RAG \u5411\u91cf\u7d22\u5f15\uff0c\u7121\u9700\u624b\u52d5\u5e72\u9810\u3002 Web Boring Dashboard <code>boring-dashboard</code> \u624b\u52d5 \u7db2\u9801\u7248\u5716\u8868\uff1aToken \u8da8\u52e2\u3001\u9577\u671f\u54c1\u8cea\u5206\u6578\u56de\u9867\u3001\u65e5\u8a8c\u8996\u89ba\u5316\u3002"},{"location":"features/monitor_zh/#_2","title":"\ud83d\ude80 \u4ecb\u9762\u8a73\u7d30\u8aaa\u660e","text":""},{"location":"features/monitor_zh/#1-boring-monitor-tui","title":"1. \ud83d\udcca Boring Monitor (TUI)","text":"<p>\u6700\u5feb\u4e14\u6700\u786c\u6838\u7684\u76e3\u63a7\u65b9\u5f0f\uff0c\u76f4\u63a5\u986f\u793a\u5728\u7d42\u7aef\u6a5f\u5167\u3002\u4e0d\u9700\u8981\u958b\u555f\u700f\u89bd\u5668\u3002</p> <p>\u89f8\u767c\u6307\u4ee4\uff1a <pre><code>boring-monitor\n</code></pre></p>"},{"location":"features/monitor_zh/#4-boring-watch-tui","title":"4. \ud83d\udc41\ufe0f Boring Watch (TUI)","text":"<p>\u4e00\u500b\u5c08\u9580\u7684\u76e3\u63a7\u6a21\u5f0f\uff0c\u5b83\u6703\u76e3\u807d\u60a8\u7684\u4ee3\u78bc\u8b8a\u52d5\uff1a - \u81ea\u52d5\u6aa2\u67e5\uff1a\u6bcf\u7576\u5132\u5b58\u6a94\u6848\u6642\uff0c\u6703\u81ea\u52d5\u57f7\u884c <code>ruff</code>\u3001<code>mypy</code> \u6216\u6e2c\u8a66\u3002 - AI \u4fee\u5fa9\uff1a\u6aa2\u6e2c\u5230\u932f\u8aa4\u6642\uff0c\u6703\u5728\u7d42\u7aef\u5373\u6642\u986f\u793a AI \u7684\u4fee\u5fa9\u5efa\u8b70\u3002</p> <pre><code>boring watch\n</code></pre>"},{"location":"features/monitor_zh/#rag","title":"\ud83e\udde0 RAG \u81ea\u52d5\u7d22\u5f15 (\u96b1\u5f62\u80cc\u666f\u529f\u80fd)","text":"<p>\u5176\u5be6\u9084\u6709\u4e00\u500b\u60a8\u770b\u4e0d\u898b\u7684\u300c\u81ea\u52d5\u89f8\u767c\u300d\u3002Boring V13+ \u5167\u5efa\u4e86 RAG Watcher\uff0c\u53ea\u8981\u60a8\u8655\u65bc <code>boring start</code> \u5faa\u74b0\u4e2d\uff0c\u7cfb\u7d71\u6703\u81ea\u52d5\u5075\u6e2c\u60a8\u7684\u6a94\u6848\u8b8a\u66f4\u4e26\u66f4\u65b0\u672c\u5730\u5411\u91cf\u8cc7\u6599\u5eab\uff08RAG\uff09\uff0c\u78ba\u4fdd AI \u6c38\u9060\u64c1\u6709\u6700\u65b0\u7684\u4ee3\u78bc\u4e0a\u4e0b\u6587\uff0c\u7121\u9700\u60a8\u624b\u52d5\u57f7\u884c\u7d22\u5f15\u66f4\u65b0\u3002</p>"},{"location":"features/monitor_zh/#2-boring-flow-tui","title":"2. \ud83d\udc09 Boring Flow (TUI)","text":"<p>\u7576\u60a8\u57f7\u884c <code>boring start</code> \u6216\u4efb\u4f55\u300c\u4e00\u689d\u9f8d\u300d\u6d41\u7a0b\u6642\uff0c\u7cfb\u7d71\u6703\u81ea\u52d5\u958b\u555f\u6b64\u4ecb\u9762\uff0c\u7121\u9700\u624b\u52d5\u555f\u52d5\u3002</p> <p>\u89f8\u767c\u6307\u4ee4\uff1a <pre><code>boring flow\n# \u6216\u57f7\u884c start \u6642\u81ea\u52d5\u958b\u555f\nboring start \n</code></pre></p>"},{"location":"features/monitor_zh/#3-boring-dashboard-webstreamlit","title":"3. \ud83e\udd16 Boring Dashboard (Web/Streamlit)","text":"<p>\u5982\u679c\u60a8\u9700\u8981\u7cbe\u7f8e\u7684\u5716\u8868\u5206\u6790\u6216\u67e5\u770b RAG \u5927\u8166\u7d22\u5f15\uff0c\u9019\u662f\u60a8\u7684\u9996\u9078\u3002</p> <p>\u89f8\u767c\u6307\u4ee4\uff1a <pre><code>boring-dashboard\n</code></pre> \u6ce8\u610f\uff1a\u82e5\u6307\u4ee4\u7121\u6548\uff0c\u8acb\u5617\u8a66 <code>python -m boring dashboard</code>\u3002</p>"},{"location":"features/monitor_zh/#dashboard","title":"\u2728 \u6838\u5fc3\u529f\u80fd (Dashboard)","text":""},{"location":"features/monitor_zh/#live-status","title":"\ud83d\udcca \u5373\u6642\u72c0\u614b (Live Status)","text":"<ul> <li>Loop Count: \u7576\u524d\u81ea\u4e3b\u8ff4\u5708\u7684\u57f7\u884c\u6b21\u6578\u3002</li> <li>Status: Agent \u662f\u5728 <code>THINKING</code> (\u601d\u8003)\u3001<code>CODING</code> (\u7de8\u78bc) \u9084\u662f <code>SLEEPING</code> (\u4f11\u7720)\u3002</li> <li>API Calls: \u76e3\u63a7 Token \u4f7f\u7528\u91cf\u8207 API \u547c\u53eb\u983b\u7387\u3002</li> </ul>"},{"location":"features/monitor_zh/#circuit-breaker","title":"\ud83d\uded1 \u65b7\u8def\u5668 (Circuit Breaker)","text":"<ul> <li>\u67e5\u770b\u65b7\u8def\u5668\u72c0\u614b (<code>CLOSED</code>/<code>OPEN</code>)\u3002</li> <li>\u5982\u679c Agent \u5361\u4f4f\u6216\u9023\u7e8c\u51fa\u932f\uff0c\u65b7\u8def\u5668\u6703\u8df3\u958b\u4ee5\u4fdd\u8b77\u60a8\u7684 API \u914d\u984d\u3002</li> </ul>"},{"location":"features/monitor_zh/#brain-explorer","title":"\ud83e\udde0 Brain Explorer (\u5927\u8166\u700f\u89bd\u5668)","text":"<p>\u67e5\u770b\u60a8 Agent \u7684 RAG \u8a18\u61b6 \u8207 \u5b78\u7fd2\u6a21\u5f0f\u3002 - Learned Patterns: \u770b\u770b Agent \u5b78\u6703\u4e86\u54ea\u4e9b\u300c\u932f\u8aa4-&gt;\u4fee\u5fa9\u300d\u6a21\u5f0f\u3002 - Project Context: \u67e5\u770b RAG \u7d22\u5f15\u4e86\u54ea\u4e9b\u6a94\u6848\u8207\u5c08\u6848\u7d50\u69cb\u3002</p>"},{"location":"features/monitor_zh/#live-logs","title":"\ud83d\udcdd \u5373\u6642\u65e5\u8a8c (Live Logs)","text":"<ul> <li>\u5373\u6642\u67e5\u770b Agent \u7684\u601d\u8003\u904e\u7a0b\u8207\u9664\u932f\u65e5\u8a8c\u3002</li> </ul>"},{"location":"features/monitor_zh/#troubleshooting","title":"\ud83d\udee0\ufe0f \u5e38\u898b\u554f\u984c\u8207\u6392\u67e5 (Troubleshooting)","text":""},{"location":"features/monitor_zh/#1-not-installed","title":"1. \u660e\u660e\u5b89\u88dd\u4e86\u537b\u986f\u793a \"not installed\"\uff1f","text":"<p>\u9019\u901a\u5e38\u662f\u56e0\u70ba Python \u74b0\u5883\u885d\u7a81\u3002\u5982\u679c\u4f60\u96fb\u8166\u88dd\u4e86\u591a\u500b Python \u7248\u672c\uff08\u4f8b\u5982 3.12 \u548c 3.13\uff09\uff0c<code>pip</code> \u5b89\u88dd\u7684\u5730\u65b9\u53ef\u80fd\u8ddf <code>boring</code> \u6307\u4ee4\u57f7\u884c\u7684\u74b0\u5883\u4e0d\u540c\u3002</p> <p>\u89e3\u6c7a\u65b9\u6cd5\uff1a\u4f7f\u7528 Python \u6a21\u7d44\u65b9\u5f0f\u57f7\u884c \u4f7f\u7528 <code>python -m</code> \u53ef\u4ee5\u5f37\u5236\u6307\u5b9a\u7576\u524d\u74b0\u5883\u7684 Python \u4f86\u57f7\u884c\uff1a - \u555f\u52d5 Dashboard: <code>python -m boring dashboard</code> / <code>python -m boring.monitor --web</code> - \u555f\u52d5 Monitor: <code>python -m boring.monitor</code></p>"},{"location":"features/monitor_zh/#2-streamlit-is-required","title":"2. \u51fa\u73fe \"Streamlit is required\" \u932f\u8aa4","text":"<p>\u5982\u679c\u57f7\u884c <code>boring-dashboard</code> \u6642\u63d0\u793a\u7f3a\u5c11 <code>streamlit</code>\uff0c\u8acb\u78ba\u8a8d\u60a8\u5b89\u88dd\u7684\u662f\u5b8c\u6574\u7248\uff1a <pre><code>pip install \"boring-aicoding[gui]\"\n# \u6216\u8005\npip install \"boring-aicoding[all]\"\n</code></pre> \u5982\u679c\u60a8\u4f7f\u7528\u865b\u64ec\u74b0\u5883\uff0c\u8acb\u78ba\u4fdd\u5df2\u5c07\u5176\u958b\u555f\uff08Activate\uff09\u3002</p>"},{"location":"features/monitor_zh/#3-tree-sitter-languages-not-installed","title":"3. \u51fa\u73fe \"tree-sitter-languages not installed\" \u8b66\u544a","text":"<p>\u9019\u662f\u9032\u968e\u7a0b\u5f0f\u78bc\u89e3\u6790\u6240\u9700\u7684\u5957\u4ef6\u3002\u6392\u67e5\u65b9\u6cd5\u540c\u4e0a\uff0c\u5982\u679c\u5b89\u88dd\u5f8c\u4ecd\u986f\u793a\u627e\u4e0d\u5230\uff0c\u8acb\u6539\u7528 <code>python -m boring</code>\u3002</p>"},{"location":"features/monitor_zh/#4","title":"4. \u70ba\u4ec0\u9ebc\u4fee\u6539\u4e86\u7a0b\u5f0f\u78bc\uff08\u5982\u7ffb\u8b6f\u3001\u5de5\u5177\u8a2d\u5b9a\uff09\u537b\u6c92\u751f\u6548\uff1f","text":"<p>\u9019\u901a\u5e38\u662f\u56e0\u70ba MCP \u4f3a\u670d\u5668 (Server) \u5c1a\u672a\u91cd\u65b0\u8b80\u53d6\u3002 - \u89e3\u6c7a\u65b9\u6cd5\uff1a\u5728 IDE (\u5982 Cursor) \u7684 MCP \u8a2d\u5b9a\u9801\u9762\u9ede\u64ca \"Refresh\" (\u91cd\u65b0\u6574\u7406)\u3002\u4fee\u6539\u4efb\u4f55 Python \u5de5\u5177\u7a0b\u5f0f\u78bc\u5f8c\uff0c\u5fc5\u9808\u91cd\u555f\u4f3a\u670d\u5668\uff0cAI \u624d\u6703\u5b78\u5230\u65b0\u6280\u80fd\u6216\u770b\u5230\u66f4\u65b0\u5f8c\u7684\u908f\u8f2f\u3002</p> <p>Pro Tip: \u60a8\u53ef\u4ee5\u908a\u5beb Code \u908a\u958b\u8457\u76e3\u63a7\u8996\u7a97\uff0c\u5c31\u50cf\u662f\u99ed\u5ba2\u96fb\u5f71\u88e1\u7684\u756b\u9762\u4e00\u6a23\u5e25\uff01\ud83d\ude0e</p>"},{"location":"features/nodejs/","title":"Node.js Autonomy","text":"<p>The Node.js Autonomy feature ensures that Boring can operate its advanced AI tools even if Node.js is not globally installed on your system.</p>"},{"location":"features/nodejs/#overview","title":"Overview","text":"<p>Boring relies on the <code>gemini-cli</code> (and other npm-based MCP servers) to provide many of its advanced capabilities. For users who do not have Node.js installed, or are on restricted systems, Boring can now automatically download and manage a portable Node.js environment.</p>"},{"location":"features/nodejs/#key-features","title":"Key Features","text":"<ul> <li>System-First Strategy: Boring always prioritizes your existing system Node.js and npm installations.</li> <li>Portable Fallback: If Node.js is missing or incompatible, Boring offers to download a portable v20 LTS version into <code>~/.boring/node</code>.</li> <li>Zero Configuration: The <code>boring wizard</code> handles the detection and installation process automatically.</li> <li>Isolation: The portable installation is kept separate from your system folders, preventing version conflicts with other projects.</li> <li>One-Click Maintenance: Health checks will alert you if your environment needs updating and provide a quick fix command.</li> </ul>"},{"location":"features/nodejs/#how-it-works","title":"How it Works","text":"<p>When you run <code>boring wizard</code> or a command that requires Node.js, the <code>NodeManager</code> service: 1. Checks for <code>node</code> and <code>npm</code> in your system PATH. 2. If not found, it checks <code>~/.boring/node</code>. 3. If still missing, it prompts for a download (~100MB). 4. Extract the binary and configures the environment for internal use.</p>"},{"location":"features/nodejs/#commands","title":"Commands","text":"<ul> <li><code>boring wizard</code>: Run the setup wizard to trigger environment detection.</li> <li><code>boring health</code>: Check if Boring is using a System or Portable Node.js installation.</li> </ul>"},{"location":"features/nodejs_zh/","title":"Node.js \u81ea\u4e3b\u6b0a (Node.js Autonomy)","text":"<p>Node.js \u81ea\u4e3b\u6b0a \u529f\u80fd\u78ba\u4fdd\u5373\u4f7f\u4f60\u7684\u7cfb\u7d71\u6c92\u6709\u5168\u57df\u5b89\u88dd Node.js\uff0cBoring \u4f9d\u7136\u80fd\u57f7\u884c\u5176\u9032\u968e\u7684 AI \u5de5\u5177\u3002</p>"},{"location":"features/nodejs_zh/#_1","title":"\u6982\u8ff0","text":"<p>Boring \u4f9d\u8cf4 <code>gemini-cli</code>\uff08\u4ee5\u53ca\u5176\u4ed6\u57fa\u65bc npm \u7684 MCP server\uff09\u4f86\u958b\u555f\u8a31\u591a\u9032\u968e\u529f\u80fd\u3002\u5c0d\u65bc\u6c92\u6709\u5b89\u88dd Node.js \u6216\u53d7\u9650\u7cfb\u7d71\u7684\u4f7f\u7528\u8005\uff0cBoring \u73fe\u5728\u53ef\u4ee5\u81ea\u52d5\u4e0b\u8f09\u4e26\u7ba1\u7406\u4e00\u500b \u514d\u5b89\u88dd (portable) \u7684 Node.js \u74b0\u5883\u3002</p>"},{"location":"features/nodejs_zh/#_2","title":"\u6838\u5fc3\u7279\u5fb5","text":"<ul> <li>\u7cfb\u7d71\u512a\u5148\u7b56\u7565\uff1aBoring \u59cb\u7d42\u512a\u5148\u4f7f\u7528\u4f60\u73fe\u6709\u7684\u7cfb\u7d71 Node.js \u548c npm \u5b89\u88dd\u3002</li> <li>\u514d\u5b89\u88dd\u5099\u63f4\uff1a\u5982\u679c\u7f3a\u5c11 Node.js \u6216\u7248\u672c\u4e0d\u76f8\u5bb9\uff0cBoring \u6703\u63d0\u8b70\u5c07\u514d\u5b89\u88dd\u7684 v20 LTS \u7248\u672c\u4e0b\u8f09\u5230 <code>~/.boring/node</code>\u3002</li> <li>\u96f6\u914d\u7f6e\uff1a<code>boring wizard</code> \u6703\u81ea\u52d5\u8655\u7406\u5075\u6e2c\u8207\u5b89\u88dd\u6d41\u7a0b\u3002</li> <li>\u9694\u96e2\u6027\uff1a\u514d\u5b89\u88dd\u7248\u672c\u8207\u7cfb\u7d71\u8cc7\u6599\u593e\u5206\u958b\uff0c\u907f\u514d\u8207\u5176\u4ed6\u5c08\u6848\u7522\u751f\u7248\u672c\u885d\u7a81\u3002</li> <li>\u4e00\u9375\u7dad\u8b77\uff1a\u5065\u5eb7\u6aa2\u67e5 (<code>boring health</code>) \u6703\u5728\u74b0\u5883\u9700\u8981\u66f4\u65b0\u6642\u63d0\u9192\u4f60\uff0c\u4e26\u63d0\u4f9b\u5feb\u901f\u4fee\u5fa9\u6307\u4ee4\u3002</li> </ul>"},{"location":"features/nodejs_zh/#_3","title":"\u904b\u4f5c\u539f\u7406","text":"<p>\u7576\u4f60\u57f7\u884c <code>boring wizard</code> \u6216\u9700\u8981 Node.js \u7684\u6307\u4ee4\u6642\uff0c<code>NodeManager</code> \u670d\u52d9\u6703\uff1a 1. \u5728\u7cfb\u7d71\u8def\u5f91 (PATH) \u4e2d\u6aa2\u67e5 <code>node</code> \u548c <code>npm</code>\u3002 2. \u5982\u679c\u627e\u4e0d\u5230\uff0c\u5247\u6aa2\u67e5 <code>~/.boring/node</code>\u3002 3. \u5982\u679c\u4f9d\u7136\u7f3a\u5931\uff0c\u6703\u8a62\u554f\u662f\u5426\u9032\u884c\u4e0b\u8f09 (\u7d04 100MB)\u3002 4. \u89e3\u58d3\u7e2e\u4e8c\u9032\u5236\u6a94\u6848\u4e26\u8a2d\u5b9a\u5167\u90e8\u4f7f\u7528\u7684\u74b0\u5883\u8b8a\u6578\u3002</p>"},{"location":"features/nodejs_zh/#_4","title":"\u76f8\u95dc\u6307\u4ee4","text":"<ul> <li><code>boring wizard</code>\uff1a\u57f7\u884c\u8a2d\u5b9a\u7cbe\u9748\u4ee5\u89f8\u767c\u74b0\u5883\u5075\u6e2c\u3002</li> <li><code>boring health</code>\uff1a\u6aa2\u67e5 Boring \u76ee\u524d\u4f7f\u7528\u7684\u662f \u7cfb\u7d71 (System) \u9084\u662f \u514d\u5b89\u88dd (Portable) \u7248 Node.js\u3002</li> </ul>"},{"location":"features/offline-mode/","title":"Offline Mode Guide (\u96e2\u7dda\u6a21\u5f0f\u6307\u5357)","text":"<p>Boring supports full offline operation for privacy-conscious users and air-gapped environments.</p>"},{"location":"features/offline-mode/#quick-start","title":"Quick Start","text":"<pre><code># Enable offline mode\nexport BORING_OFFLINE_MODE=true\n\n# Or in .boring.toml\n[boring]\noffline_mode = true\n</code></pre>"},{"location":"features/offline-mode/#offline-capabilities","title":"Offline Capabilities","text":""},{"location":"features/offline-mode/#fully-offline-features","title":"\u2705 Fully Offline Features","text":"Feature Description RAG Search Local vector search (after initial embedding model download) Code Review Pattern-based analysis using Brain patterns Vibe Check Local linting with ruff, pyright Git Hooks Pre-commit verification Checkpoint Git-based save states Predict/Bisect Historical pattern analysis"},{"location":"features/offline-mode/#requires-initial-setup","title":"\u26a0\ufe0f Requires Initial Setup","text":"Component First-time Action Embedding Model <code>boring rag setup --offline</code> (downloads ~500MB) Local LLM <code>boring model download qwen2.5-coder-1.5b</code>"},{"location":"features/offline-mode/#cloud-only-features","title":"\u274c Cloud-Only Features","text":"Feature Reason Gemini API calls Requires network Context7 docs External service Skill installation Network download"},{"location":"features/offline-mode/#local-llm-setup","title":"Local LLM Setup","text":"<ol> <li> <p>Install llama-cpp-python: <pre><code>pip install llama-cpp-python\n</code></pre></p> </li> <li> <p>Download a model: <pre><code># Recommended for coding tasks\nboring model download qwen2.5-coder-1.5b\n\n# Available models\nboring model list\n</code></pre></p> </li> <li> <p>Configure: <pre><code># .boring.toml\n[boring]\noffline_mode = true\nlocal_llm_model = \"~/.boring/models/qwen2.5-coder-1.5b-instruct-q4_k_m.gguf\"\n</code></pre></p> </li> </ol>"},{"location":"features/offline-mode/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>BORING_OFFLINE_MODE</code> Enable offline mode <code>false</code> <code>BORING_LOCAL_LLM_MODEL</code> Path to GGUF model Auto-detect <code>BORING_MODEL_DIR</code> Model storage directory <code>~/.boring/models</code>"},{"location":"features/offline-mode/#fallback-behavior","title":"Fallback Behavior","text":"<p>When <code>BORING_OFFLINE_MODE=true</code>:</p> <pre><code>API Request\n    \u2193\nCheck Local LLM Available?\n    \u251c\u2500 Yes \u2192 Use Local LLM\n    \u2514\u2500 No \u2192 Return graceful error with suggestion\n</code></pre>"},{"location":"features/offline-mode/#pre-downloading-for-air-gapped-environments","title":"Pre-downloading for Air-gapped Environments","text":"<pre><code># On connected machine\nboring rag setup --export ~/boring-offline-pack.tar.gz\n\n# On air-gapped machine\nboring rag setup --import ~/boring-offline-pack.tar.gz\n</code></pre>"},{"location":"features/offline-mode/#troubleshooting","title":"Troubleshooting","text":""},{"location":"features/offline-mode/#local-llm-not-available","title":"\"Local LLM not available\"","text":"<pre><code># Check model status\nboring model status\n\n# Verify llama-cpp-python installation\npython -c \"import llama_cpp; print('OK')\"\n</code></pre>"},{"location":"features/offline-mode/#rag-index-requires-network","title":"\"RAG index requires network\"","text":"<pre><code># Pre-download embedding model\nboring rag setup --offline\n</code></pre>"},{"location":"features/offline-mode_zh/","title":"\u96e2\u7dda\u6a21\u5f0f\u6307\u5357","text":"<p>Boring \u652f\u63f4\u5b8c\u6574\u7684\u96e2\u7dda\u64cd\u4f5c\uff0c\u9069\u7528\u65bc\u6ce8\u91cd\u96b1\u79c1\u7684\u7528\u6236\u548c\u9694\u96e2\u7db2\u8def\u74b0\u5883\u3002</p>"},{"location":"features/offline-mode_zh/#_2","title":"\u5feb\u901f\u958b\u59cb","text":"<pre><code># \u555f\u7528\u96e2\u7dda\u6a21\u5f0f\nexport BORING_OFFLINE_MODE=true\n\n# \u6216\u5728 .boring.toml \u4e2d\u8a2d\u5b9a\n[boring]\noffline_mode = true\n</code></pre>"},{"location":"features/offline-mode_zh/#_3","title":"\u96e2\u7dda\u529f\u80fd\u652f\u63f4","text":""},{"location":"features/offline-mode_zh/#_4","title":"\u2705 \u5b8c\u5168\u96e2\u7dda\u529f\u80fd","text":"\u529f\u80fd \u8aaa\u660e RAG \u641c\u5c0b \u672c\u5730\u5411\u91cf\u641c\u5c0b\uff08\u9996\u6b21\u9700\u4e0b\u8f09\u5d4c\u5165\u6a21\u578b\uff09 \u7a0b\u5f0f\u78bc\u5be9\u67e5 \u57fa\u65bc Brain \u6a21\u5f0f\u7684\u5206\u6790 Vibe Check \u672c\u5730 linting\uff08ruff, pyright\uff09 Git Hooks Pre-commit \u9a57\u8b49 Checkpoint \u57fa\u65bc Git \u7684\u5b58\u6a94\u9ede Predict/Bisect \u6b77\u53f2\u6a21\u5f0f\u5206\u6790"},{"location":"features/offline-mode_zh/#_5","title":"\u26a0\ufe0f \u9700\u8981\u9996\u6b21\u8a2d\u5b9a","text":"\u5143\u4ef6 \u9996\u6b21\u64cd\u4f5c \u5d4c\u5165\u6a21\u578b <code>boring rag setup --offline</code>\uff08\u4e0b\u8f09\u7d04 500MB\uff09 \u672c\u5730 LLM <code>boring model download qwen2.5-coder-1.5b</code>"},{"location":"features/offline-mode_zh/#_6","title":"\u274c \u50c5\u9650\u96f2\u7aef\u529f\u80fd","text":"\u529f\u80fd \u539f\u56e0 Gemini API \u547c\u53eb \u9700\u8981\u7db2\u8def Context7 \u6587\u6a94 \u5916\u90e8\u670d\u52d9 Skill \u5b89\u88dd \u9700\u8981\u7db2\u8def\u4e0b\u8f09"},{"location":"features/offline-mode_zh/#llm","title":"\u672c\u5730 LLM \u8a2d\u5b9a","text":"<ol> <li> <p>\u5b89\u88dd llama-cpp-python\uff1a <pre><code>pip install llama-cpp-python\n</code></pre></p> </li> <li> <p>\u4e0b\u8f09\u6a21\u578b\uff1a <pre><code># \u63a8\u85a6\u7528\u65bc\u7a0b\u5f0f\u78bc\u4efb\u52d9\nboring model download qwen2.5-coder-1.5b\n\n# \u67e5\u770b\u53ef\u7528\u6a21\u578b\nboring model list\n</code></pre></p> </li> <li> <p>\u8a2d\u5b9a\uff1a <pre><code># .boring.toml\n[boring]\noffline_mode = true\nlocal_llm_model = \"~/.boring/models/qwen2.5-coder-1.5b-instruct-q4_k_m.gguf\"\n</code></pre></p> </li> </ol>"},{"location":"features/offline-mode_zh/#_7","title":"\u74b0\u5883\u8b8a\u6578","text":"\u8b8a\u6578 \u8aaa\u660e \u9810\u8a2d\u503c <code>BORING_OFFLINE_MODE</code> \u555f\u7528\u96e2\u7dda\u6a21\u5f0f <code>false</code> <code>BORING_LOCAL_LLM_MODEL</code> GGUF \u6a21\u578b\u8def\u5f91 \u81ea\u52d5\u5075\u6e2c <code>BORING_MODEL_DIR</code> \u6a21\u578b\u5132\u5b58\u76ee\u9304 <code>~/.boring/models</code>"},{"location":"features/offline-mode_zh/#fallback","title":"Fallback \u884c\u70ba","text":"<p>\u7576 <code>BORING_OFFLINE_MODE=true</code> \u6642\uff1a</p> <pre><code>API \u8acb\u6c42\n    \u2193\n\u6aa2\u67e5\u672c\u5730 LLM \u53ef\u7528\uff1f\n    \u251c\u2500 \u662f \u2192 \u4f7f\u7528\u672c\u5730 LLM\n    \u2514\u2500 \u5426 \u2192 \u8fd4\u56de\u53cb\u5584\u932f\u8aa4\u8a0a\u606f\u8207\u5efa\u8b70\n</code></pre>"},{"location":"features/offline-mode_zh/#_8","title":"\u9694\u96e2\u74b0\u5883\u9810\u4e0b\u8f09","text":"<pre><code># \u5728\u6709\u7db2\u8def\u7684\u6a5f\u5668\u4e0a\nboring rag setup --export ~/boring-offline-pack.tar.gz\n\n# \u5728\u9694\u96e2\u6a5f\u5668\u4e0a\nboring rag setup --import ~/boring-offline-pack.tar.gz\n</code></pre>"},{"location":"features/offline-mode_zh/#_9","title":"\u6545\u969c\u6392\u9664","text":""},{"location":"features/offline-mode_zh/#local-llm-not-available","title":"\"Local LLM not available\"","text":"<pre><code># \u6aa2\u67e5\u6a21\u578b\u72c0\u614b\nboring model status\n\n# \u9a57\u8b49 llama-cpp-python \u5b89\u88dd\npython -c \"import llama_cpp; print('OK')\"\n</code></pre>"},{"location":"features/offline-mode_zh/#rag-index-requires-network","title":"\"RAG index requires network\"","text":"<pre><code># \u9810\u4e0b\u8f09\u5d4c\u5165\u6a21\u578b\nboring rag setup --offline\n</code></pre>"},{"location":"features/performance/","title":"Performance &amp; Architecture","text":"<p>Boring is designed for maximum efficiency in large-scale projects. This document explains the performance-focused architecture and optimization strategies.</p>"},{"location":"features/performance/#incremental-verification","title":"\ud83d\ude80 Incremental Verification","text":""},{"location":"features/performance/#smart-caching-system","title":"Smart Caching System","text":"<p>Boring maintains a verification cache at <code>.boring/cache/verification.json</code> that stores file hashes. This enables:</p> <ul> <li>100+ unchanged files \u2192 Re-verification in &lt; 2 seconds</li> <li>Only changed files are re-analyzed</li> <li>Cache invalidation is automatic on file modification</li> </ul> <pre><code># Normal verification (uses cache)\nboring verify\n\n# Force full verification (bypass cache)\nboring verify --force\n</code></pre>"},{"location":"features/performance/#performance-metrics-v10280","title":"Performance Metrics (v10.28.0)","text":"Operation v10.24 (Legacy) v10.28 (Diet) Speedup Cold Helper Start ~2,500ms ~575ms ~4.3x Tool Profile Load ~800ms &lt; 100ms 8x Full Index Search ~4s ~2s 2x Verify (Cached) ~5s ~3s 1.6x"},{"location":"features/performance/#the-boring-diet-v131-optimizations","title":"The \"Boring Diet\" &amp; V13.1 Optimizations","text":"<p>Boring V13.1 further optimizes the startup path and execution efficiency: - Universal Lazy Loading: New <code>lazy_loader.py</code> ensures heavy modules (Local LLM, Vector Stores) are only loaded when explicitly called. - Configurable Cache TTL: RAG query caches now support custom Time-To-Live (TTL), defaulting to 120s via <code>BORING_CACHE_TTL_SECONDS</code>. - Background Pre-warming: Modules can be pre-warmed in the background to eliminate the perceived delay during first use. - Startup Profiling: Enable <code>BORING_STARTUP_PROFILE=1</code> to see detailed timing for component initialization.</p> <p>Enable via <code>.boring.toml</code> or env <code>BORING_MCP_PROFILE=lite</code>.</p>"},{"location":"features/performance/#incremental-rag-indexing","title":"\ud83e\udde0 Incremental RAG Indexing","text":""},{"location":"features/performance/#state-tracking","title":"State Tracking","text":"<p>RAG indexing uses content hashing to track changes:</p> <pre><code># Incremental index (default - only changed files)\nboring rag index\n\n# Full re-index\nboring rag index --force\n</code></pre>"},{"location":"features/performance/#auto-update-with-ragwatcher-v1018","title":"Auto-Update with RAGWatcher (V10.18+)","text":"<p>Starting from V10.18.3, <code>RAGWatcher</code> automatically detects file changes and triggers incremental re-indexing:</p> <pre><code># Automatic - no manual commands needed\n# RAGWatcher runs in background during boring start\n</code></pre>"},{"location":"features/performance/#parallel-verification-v1013","title":"\u26a1 Parallel Verification (V10.13+)","text":""},{"location":"features/performance/#thread-pool-architecture","title":"Thread Pool Architecture","text":"<p>Boring uses <code>ThreadPoolExecutor</code> for concurrent checks:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Verification Engine           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 T1  \u2502  \u2502 T2  \u2502  \u2502 T3  \u2502  \u2502 T4  \u2502    \u2502\n\u2502  \u2502Lint \u2502  \u2502Test \u2502  \u2502Type \u2502  \u2502Sec  \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2518    \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502              Aggregator                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/performance/#performance-gains","title":"Performance Gains","text":"Project Size Sequential Parallel (4 threads) Speedup Small (50 files) 15s 8s 1.9x Medium (200 files) 45s 15s 3x Large (500+ files) 120s 30s 4x"},{"location":"features/performance/#provider-switching","title":"\ud83d\udd04 Provider Switching","text":""},{"location":"features/performance/#polyglot-architecture","title":"Polyglot Architecture","text":"<p>Boring supports multiple AI providers with automatic detection:</p> Provider API Key Required Best For Gemini CLI \u274c General development Claude Code CLI \u274c Complex reasoning Ollama (Local) \u274c Privacy-sensitive SDK Mode \u2705 Custom integration <pre><code># Auto-detection at startup\nboring start\n\n# Explicit provider\nboring start --provider gemini-cli\nboring start --provider claude-code\nboring start --provider ollama\n</code></pre>"},{"location":"features/performance/#quality-trend-tracking","title":"\ud83d\udcca Quality Trend Tracking","text":""},{"location":"features/performance/#history-recording","title":"History Recording","text":"<p>Audit scores are stored in <code>.boring/brain/quality_history.json</code>:</p> <pre><code>{\n  \"2024-01-01\": {\"score\": 4.2, \"issues\": 15},\n  \"2024-01-02\": {\"score\": 4.5, \"issues\": 10},\n  \"2024-01-03\": {\"score\": 4.8, \"issues\": 5}\n}\n</code></pre>"},{"location":"features/performance/#visualization","title":"Visualization","text":"<pre><code># ASCII trend chart\nboring_quality_trend --days 30\n</code></pre> <pre><code>Quality Score Trend (Last 30 Days)\n5.0 |                    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n4.5 |          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n4.0 |  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n3.5 |\u2588\u2588\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n       Jan 1       Jan 15       Jan 30\n</code></pre>"},{"location":"features/performance/#configuration","title":"\ud83d\udee0\ufe0f Configuration","text":""},{"location":"features/performance/#project-level-settings-boringtoml","title":"Project-Level Settings (.boring.toml)","text":"<pre><code>[boring.performance]\nparallel_workers = 4          # Thread count\nverification_cache = true     # Enable caching\nincremental_rag = true        # Auto RAG updates\n\n[boring.timeouts]\napi_call = 60                 # Seconds\nverification = 300            # Seconds\n</code></pre>"},{"location":"features/performance/#best-practices","title":"\ud83d\udca1 Best Practices","text":""},{"location":"features/performance/#for-large-projects","title":"For Large Projects","text":"<ol> <li>Enable caching - Keep <code>.boring/cache/</code> in <code>.gitignore</code></li> <li>Use incremental mode - <code>boring verify --incremental</code></li> <li>Parallelize - Ensure CPU cores are utilized</li> </ol>"},{"location":"features/performance/#for-cicd","title":"For CI/CD","text":"<ol> <li>Warm the cache - Run verification once before parallel jobs</li> <li>Use tiered gates - <code>BASIC</code> \u2192 <code>STANDARD</code> \u2192 <code>FULL</code></li> <li>Monitor trends - Fail on quality regression</li> </ol>"},{"location":"features/performance/#see-also","title":"See Also","text":"<ul> <li>Quality Gates - CI/CD configuration</li> <li>MCP Tools - Tool reference</li> <li>Pro Tips - Optimization strategies</li> </ul>"},{"location":"features/performance_zh/","title":"\u6548\u80fd\u8207\u67b6\u69cb","text":"<p>Boring \u5c08\u70ba\u5927\u578b\u5c08\u6848\u7684\u6700\u9ad8\u6548\u7387\u800c\u8a2d\u8a08\u3002\u672c\u6587\u6a94\u8aaa\u660e\u4ee5\u6548\u80fd\u70ba\u6838\u5fc3\u7684\u67b6\u69cb\u548c\u512a\u5316\u7b56\u7565\u3002</p>"},{"location":"features/performance_zh/#_2","title":"\ud83d\ude80 \u589e\u91cf\u9a57\u8b49","text":""},{"location":"features/performance_zh/#_3","title":"\u667a\u80fd\u5feb\u53d6\u7cfb\u7d71","text":"<p>Boring \u5728 <code>.boring/cache/verification.json</code> \u7dad\u8b77\u9a57\u8b49\u5feb\u53d6\uff0c\u5132\u5b58\u6a94\u6848\u96dc\u6e4a\u503c\u3002\u9019\u5be6\u73fe\u4e86\uff1a</p> <ul> <li>100+ \u672a\u8b8a\u66f4\u6a94\u6848 \u2192 \u91cd\u65b0\u9a57\u8b49\u6642\u9593 &lt; 2 \u79d2</li> <li>\u53ea\u5206\u6790\u8b8a\u66f4\u7684\u6a94\u6848</li> <li>\u5feb\u53d6\u5931\u6548 \u5728\u6a94\u6848\u4fee\u6539\u6642\u81ea\u52d5\u8655\u7406</li> </ul> <pre><code># \u6b63\u5e38\u9a57\u8b49\uff08\u4f7f\u7528\u5feb\u53d6\uff09\nboring verify\n\n# \u5f37\u5236\u5b8c\u6574\u9a57\u8b49\uff08\u7e5e\u904e\u5feb\u53d6\uff09\nboring verify --force\n</code></pre>"},{"location":"features/performance_zh/#v10280","title":"\u6548\u80fd\u6307\u6a19 (v10.28.0)","text":"\u64cd\u4f5c v10.24 (\u820a\u7248) v10.28 (\u7626\u8eab\u7248) \u52a0\u901f\u500d\u7387 \u51b7\u555f\u52d5 (Cold Start) ~2,500ms ~575ms ~4.3x \u5de5\u5177 Profile \u8f09\u5165 ~800ms &lt; 100ms 8x \u5168\u5c40\u7d22\u5f15\u641c\u5c0b ~4s ~2s 2x \u9a57\u8b49 (\u5feb\u53d6) ~5s ~3s 1.6x"},{"location":"features/performance_zh/#boring-diet-v131","title":"\u300cBoring Diet\u300d\u8207 V13.1 \u6548\u80fd\u512a\u5316","text":"<p>Boring V13.1 \u9032\u4e00\u6b65\u512a\u5316\u4e86\u555f\u52d5\u8def\u5f91\u8207\u57f7\u884c\u6548\u7387\uff1a - \u901a\u7528\u5ef6\u9072\u8f09\u5165 (Universal Lazy Loading)\uff1a\u65b0\u589e <code>lazy_loader.py</code> \u5de5\u5177\uff0c\u78ba\u4fdd\u6240\u6709\u91cd\u91cf\u7d1a\u6a21\u7d44\uff08\u5982\u672c\u5730 LLM \u5f15\u64ce\u3001\u5411\u91cf\u6578\u64da\u5eab\uff09\u50c5\u5728\u5be6\u969b\u8abf\u7528\u6642\u8f09\u5165\u3002 - \u53ef\u914d\u7f6e\u5feb\u53d6 TTL\uff1aRAG \u67e5\u8a62\u5feb\u53d6\u73fe\u5728\u652f\u63f4\u81ea\u5b9a\u7fa9\u5b58\u6d3b\u6642\u9593\uff08TTL\uff09\uff0c\u9810\u8a2d 120 \u79d2\uff0c\u53ef\u900f\u904e <code>BORING_CACHE_TTL_SECONDS</code> \u8abf\u6574\u3002 - \u80cc\u666f\u9810\u71b1 (Background Pre-warming)\uff1a\u6a21\u7d44\u5728\u80cc\u666f\u7570\u6b65\u8f09\u5165\uff0c\u6e1b\u5c11\u4f7f\u7528\u8005\u7b49\u5f85\u611f\u3002 - \u555f\u52d5\u8ffd\u8e64 (Startup Profiling)\uff1a\u958b\u555f <code>BORING_STARTUP_PROFILE=1</code> \u53ef\u67e5\u770b\u8a73\u7d30\u7684\u7d44\u4ef6\u555f\u52d5\u8017\u6642\u3002</p>"},{"location":"features/performance_zh/#context-optimization","title":"\u4e0a\u4e0b\u6587\u512a\u5316 (Context Optimization)","text":"<p>Boring V10.24 \u5f15\u5165 \u5de5\u5177\u914d\u7f6e\u6a94 (Tool Profiles) \u4f86\u5927\u5e45\u6e1b\u5c11\u4e0a\u4e0b\u6587\u4f54\u7528\uff1a</p> <ul> <li>\u554f\u984c: \u8f09\u5165 98 \u500b\u5de5\u5177\u5b9a\u7fa9\u6703\u6d88\u8017\u7d04 30k tokens \u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u3002</li> <li>\u89e3\u6c7a\u65b9\u6848: <code>lite</code> \u914d\u7f6e (\u9810\u8a2d) \u50c5\u8f09\u5165 20 \u500b\u6838\u5fc3\u5de5\u5177 (~5k tokens)\u3002</li> <li>\u5f71\u97ff: \u4e0a\u4e0b\u6587\u6e1b\u5c11 80%\uff0c\u63a8\u7406\u66f4\u5feb\uff0c\u6210\u672c\u66f4\u4f4e\u3002</li> </ul> <p>\u901a\u904e <code>.boring.toml</code> \u6216\u74b0\u5883\u8b8a\u6578 <code>BORING_MCP_PROFILE=lite</code> \u555f\u7528\u3002</p>"},{"location":"features/performance_zh/#rag","title":"\ud83e\udde0 \u589e\u91cf RAG \u7d22\u5f15","text":""},{"location":"features/performance_zh/#_4","title":"\u72c0\u614b\u8ffd\u8e64","text":"<p>RAG \u7d22\u5f15\u4f7f\u7528\u5167\u5bb9\u96dc\u6e4a\u4f86\u8ffd\u8e64\u8b8a\u66f4\uff1a</p> <pre><code># \u589e\u91cf\u7d22\u5f15\uff08\u9810\u8a2d - \u53ea\u8655\u7406\u8b8a\u66f4\u7684\u6a94\u6848\uff09\nboring rag index\n\n# \u5b8c\u6574\u91cd\u65b0\u7d22\u5f15\nboring rag index --force\n</code></pre>"},{"location":"features/performance_zh/#ragwatcher-v1018","title":"RAGWatcher \u81ea\u52d5\u66f4\u65b0\uff08V10.18+\uff09","text":"<p>\u5f9e V10.18.3 \u958b\u59cb\uff0c<code>RAGWatcher</code> \u81ea\u52d5\u5075\u6e2c\u6a94\u6848\u8b8a\u66f4\u4e26\u89f8\u767c\u589e\u91cf\u91cd\u65b0\u7d22\u5f15\uff1a</p> <pre><code># \u81ea\u52d5\u57f7\u884c - \u4e0d\u9700\u8981\u624b\u52d5\u547d\u4ee4\n# RAGWatcher \u5728 boring start \u671f\u9593\u5728\u80cc\u666f\u57f7\u884c\n</code></pre>"},{"location":"features/performance_zh/#v1013","title":"\u26a1 \u5e73\u884c\u9a57\u8b49\uff08V10.13+\uff09","text":""},{"location":"features/performance_zh/#_5","title":"\u57f7\u884c\u7dd2\u6c60\u67b6\u69cb","text":"<p>Boring \u4f7f\u7528 <code>ThreadPoolExecutor</code> \u9032\u884c\u4e26\u767c\u6aa2\u67e5\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u9a57\u8b49\u5f15\u64ce                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 T1  \u2502  \u2502 T2  \u2502  \u2502 T3  \u2502  \u2502 T4  \u2502    \u2502\n\u2502  \u2502Lint \u2502  \u2502Test \u2502  \u2502Type \u2502  \u2502Sec  \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2518    \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502              \u805a\u5408\u5668                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/performance_zh/#_6","title":"\u6548\u80fd\u63d0\u5347","text":"\u5c08\u6848\u5927\u5c0f \u5e8f\u5217\u57f7\u884c \u5e73\u884c\uff084 \u57f7\u884c\u7dd2\uff09 \u52a0\u901f\u6bd4 \u5c0f\u578b\uff0850 \u6a94\u6848\uff09 15\u79d2 8\u79d2 1.9x \u4e2d\u578b\uff08200 \u6a94\u6848\uff09 45\u79d2 15\u79d2 3x \u5927\u578b\uff08500+ \u6a94\u6848\uff09 120\u79d2 30\u79d2 4x"},{"location":"features/performance_zh/#_7","title":"\ud83d\udd04 \u63d0\u4f9b\u8005\u5207\u63db","text":""},{"location":"features/performance_zh/#_8","title":"\u591a\u8a9e\u8a00\u67b6\u69cb","text":"<p>Boring \u652f\u63f4\u591a\u500b AI \u63d0\u4f9b\u8005\uff0c\u4e26\u5177\u6709\u81ea\u52d5\u5075\u6e2c\u529f\u80fd\uff1a</p> \u63d0\u4f9b\u8005 \u9700\u8981 API Key \u6700\u9069\u5408 Gemini CLI \u274c \u4e00\u822c\u958b\u767c Claude Code CLI \u274c \u8907\u96dc\u63a8\u7406 Ollama\uff08\u672c\u5730\uff09 \u274c \u96b1\u79c1\u654f\u611f SDK \u6a21\u5f0f \u2705 \u81ea\u8a02\u6574\u5408 <pre><code># \u555f\u52d5\u6642\u81ea\u52d5\u5075\u6e2c\nboring start\n\n# \u660e\u78ba\u6307\u5b9a\u63d0\u4f9b\u8005\nboring start --provider gemini-cli\nboring start --provider claude-code\nboring start --provider ollama\n</code></pre>"},{"location":"features/performance_zh/#_9","title":"\ud83d\udcca \u54c1\u8cea\u8da8\u52e2\u8ffd\u8e64","text":""},{"location":"features/performance_zh/#_10","title":"\u6b77\u53f2\u8a18\u9304","text":"<p>\u5be9\u6838\u5206\u6578\u5132\u5b58\u5728 <code>.boring/brain/quality_history.json</code>\uff1a</p> <pre><code>{\n  \"2024-01-01\": {\"score\": 4.2, \"issues\": 15},\n  \"2024-01-02\": {\"score\": 4.5, \"issues\": 10},\n  \"2024-01-03\": {\"score\": 4.8, \"issues\": 5}\n}\n</code></pre>"},{"location":"features/performance_zh/#_11","title":"\u8996\u89ba\u5316","text":"<pre><code># ASCII \u8da8\u52e2\u5716\nboring_quality_trend --days 30\n</code></pre> <pre><code>\u54c1\u8cea\u5206\u6578\u8da8\u52e2\uff08\u904e\u53bb 30 \u5929\uff09\n5.0 |                    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n4.5 |          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n4.0 |  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n3.5 |\u2588\u2588\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n       1\u67081\u65e5     1\u670815\u65e5     1\u670830\u65e5\n</code></pre>"},{"location":"features/performance_zh/#_12","title":"\ud83d\udee0\ufe0f \u914d\u7f6e","text":""},{"location":"features/performance_zh/#boringtoml","title":"\u5c08\u6848\u7d1a\u8a2d\u5b9a\uff08.boring.toml\uff09","text":"<pre><code>[boring.performance]\nparallel_workers = 4          # \u57f7\u884c\u7dd2\u6578\u91cf\nverification_cache = true     # \u555f\u7528\u5feb\u53d6\nincremental_rag = true        # \u81ea\u52d5 RAG \u66f4\u65b0\n\n[boring.timeouts]\napi_call = 60                 # \u79d2\nverification = 300            # \u79d2\n</code></pre>"},{"location":"features/performance_zh/#_13","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10","text":""},{"location":"features/performance_zh/#_14","title":"\u5927\u578b\u5c08\u6848","text":"<ol> <li>\u555f\u7528\u5feb\u53d6 - \u5c07 <code>.boring/cache/</code> \u52a0\u5165 <code>.gitignore</code></li> <li>\u4f7f\u7528\u589e\u91cf\u6a21\u5f0f - <code>boring verify --incremental</code></li> <li>\u5e73\u884c\u5316 - \u78ba\u4fdd CPU \u6838\u5fc3\u88ab\u5145\u5206\u5229\u7528</li> </ol>"},{"location":"features/performance_zh/#cicd","title":"CI/CD","text":"<ol> <li>\u9810\u71b1\u5feb\u53d6 - \u5728\u5e73\u884c\u4efb\u52d9\u524d\u5148\u57f7\u884c\u4e00\u6b21\u9a57\u8b49</li> <li>\u4f7f\u7528\u5206\u5c64\u9598\u9053 - <code>BASIC</code> \u2192 <code>STANDARD</code> \u2192 <code>FULL</code></li> <li>\u76e3\u63a7\u8da8\u52e2 - \u5728\u54c1\u8cea\u56de\u6b78\u6642\u5931\u6557</li> </ol>"},{"location":"features/performance_zh/#_15","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u54c1\u8cea\u9598\u9053 - CI/CD \u914d\u7f6e</li> <li>MCP \u5de5\u5177 - \u5de5\u5177\u53c3\u8003</li> <li>\u5c08\u696d\u6280\u5de7 - \u512a\u5316\u7b56\u7565</li> </ul>"},{"location":"features/predictive/","title":"\ud83d\udd2e Predictive Intelligence &amp; AI Diagnostics","text":"<p>Boring V14.0 elevates the development experience from \"reactive debugging\" to \"proactive prevention\" through machine learning and brain pattern correlation.</p>"},{"location":"features/predictive/#key-features","title":"\ud83d\ude80 Key Features","text":""},{"location":"features/predictive/#1-ai-git-bisect-intelligent-change-diagnostics","title":"1. AI Git Bisect (Intelligent Change Diagnostics)","text":"<p>Unlike traditional binary search, Boring's AI Git Bisect analyzes the semantics of code changes: - Suspicion Scoring: Automatically scores recent commits (0.0 - 1.0) based on risk factors. - Brain Pattern Matching: Compares current changes against historical error records to find similar regression patterns. - Instant Diagnostics: Identifies potential bug sources from code logic without needing to run the entire test suite.</p> <p>Command: <pre><code>boring bisect --error \"ValueError: name not defined\" --file \"src/main.py\"\n</code></pre></p>"},{"location":"features/predictive/#2-predictive-error-detection","title":"2. Predictive Error Detection","text":"<p>Boring scans for potential risks automatically before you commit code or execute tasks: - Anti-Pattern Detection: Identifies common Python pitfalls (e.g., mutable default arguments, missing null checks). - Historical Error Correlation: Triggers an immediate warning if your modification matches a previously fixed bug pattern. - Security Guard Integration: Integrates secret leak prevention and SQL injection warnings.</p>"},{"location":"features/predictive/#technical-architecture","title":"\ud83e\udde0 Technical Architecture","text":"<p>The V14.0 Predictive Engine is driven by three core components:</p> <ol> <li>Predictor Engine: Performs real-time analysis of code content and diffs.</li> <li>Brain Pattern Matcher: Retrieves relevant historical success/failure patterns via the <code>BrainManager</code>.</li> <li>Risk Scoring: Calculates an overall risk index based on change breadth, complexity, and historical risk.</li> </ol>"},{"location":"features/predictive/#use-cases","title":"\ud83c\udfa8 Use Cases","text":""},{"location":"features/predictive/#pre-commit-health-check","title":"Pre-commit Health Check","text":"<p>Run a predictive scan before committing: <pre><code>boring predict --diff\n</code></pre></p>"},{"location":"features/predictive/#deep-diagnostics","title":"Deep Diagnostics","text":"<p>When encountering elusive or intermittent bugs: <pre><code>boring diagnostic --last-known-good HEAD~10\n</code></pre></p>"},{"location":"features/predictive/#benefits","title":"\ud83d\udcc8 Benefits","text":"<ul> <li>40% Reduction in Regressions: Catches errors before they reach the main branch.</li> <li>3x Faster Debugging: Pinpoints suspect commits with high precision.</li> <li>Continuous Learning: Your development habits are recorded by the Brain, improving detection accuracy over time.</li> </ul> <p>Boring V14.0 - Coding at the edge of intelligence.</p>"},{"location":"features/predictive_zh/","title":"\ud83d\udd2e \u9810\u6e2c\u6027\u667a\u6167\u8207 AI \u8a3a\u65b7 (Predictive &amp; AI Diagnostics)","text":"<p>Boring V14.0 \u900f\u904e\u6a5f\u5668\u5b78\u7fd2\u8207\u8166\u90e8\u6a21\u5f0f\u95dc\u806f\uff0c\u5c07\u958b\u767c\u9ad4\u9a57\u5f9e\u300c\u88ab\u52d5\u6392\u932f\u300d\u63d0\u5347\u81f3\u300c\u4e3b\u52d5\u9810\u8b66\u300d\u3002</p>"},{"location":"features/predictive_zh/#_1","title":"\ud83d\ude80 \u4e3b\u8981\u529f\u80fd","text":""},{"location":"features/predictive_zh/#1-ai-git-bisect","title":"1. AI Git Bisect (\u667a\u80fd\u65b7\u9ede\u8a3a\u65b7)","text":"<p>\u8207\u50b3\u7d71\u7684\u4e8c\u5206\u6cd5\u67e5\u627e\u4e0d\u540c\uff0cBoring \u7684 AI Git Bisect \u6703\u5206\u6790\u4ee3\u78bc\u8b8a\u66f4\u7684\u8a9e\u7fa9\uff1a - \u5acc\u7591\u5ea6\u8a55\u5206\uff1a\u81ea\u52d5\u5c0d\u6700\u8fd1\u7684 Commit \u9032\u884c\u8a55\u5206\uff080.0 - 1.0\uff09\u3002 - \u8166\u90e8\u6a21\u5f0f\u5c0d\u6bd4\uff1a\u5c0d\u6bd4\u6b77\u53f2\u932f\u8aa4\u8a18\u9304\uff0c\u627e\u51fa\u6700\u76f8\u4f3c\u7684\u6539\u52d5\u6a21\u5f0f\u3002 - \u5feb\u901f\u8a3a\u65b7\uff1a\u7121\u9700\u904b\u884c\u6240\u6709\u6e2c\u8a66\uff0cAI \u5373\u53ef\u5f9e\u4ee3\u78bc\u908f\u8f2f\u4e2d\u8b58\u5225\u6f5b\u5728\u7684 Bug \u5f15\u5165\u6e90\u3002</p> <p>\u4f7f\u7528\u6307\u4ee4\uff1a <pre><code>boring bisect --error \"ValueError: name not defined\" --file \"src/main.py\"\n</code></pre></p>"},{"location":"features/predictive_zh/#2-predictive-detection","title":"2. \u9810\u6e2c\u6027\u932f\u8aa4\u5075\u6e2c (Predictive Detection)","text":"<p>\u5728\u60a8\u63d0\u4ea4\u4ee3\u78bc\u6216\u57f7\u884c\u4efb\u52d9\u524d\uff0cBoring \u6703\u81ea\u52d5\u6383\u63cf\u6f5b\u5728\u98a8\u96aa\uff1a - \u53cd\u6a21\u5f0f\u5075\u6e2c\uff1a\u5075\u6e2c\u5e38\u898b\u7684 Python \u9677\u9631\uff08\u5982\u53ef\u8b8a\u9ed8\u8a8d\u53c3\u6578\u3001\u7f3a\u5c11 Null \u6aa2\u67e5\uff09\u3002 - \u6b77\u53f2\u932f\u8aa4\u95dc\u806f\uff1a\u5982\u679c\u60a8\u7684\u6539\u52d5\u8207\u904e\u53bb\u66fe\u4fee\u5fa9\u904e\u7684 Bug \u6a21\u5f0f\u76f8\u4f3c\uff0c\u7cfb\u7d71\u6703\u7acb\u5373\u767c\u51fa\u8b66\u544a\u3002 - \u5b89\u5168\u6383\u63cf\u6574\u5408\uff1a\u6574\u5408\u5bc6\u9470\u6d29\u6f0f\u8207 SQL \u6ce8\u5165\u9810\u8b66\u3002</p>"},{"location":"features/predictive_zh/#_2","title":"\ud83e\udde0 \u6280\u8853\u67b6\u69cb","text":"<p>Boring V14.0 \u7684\u9810\u6e2c\u5f15\u64ce\u7531\u4ee5\u4e0b\u7d44\u4ef6\u9a45\u52d5\uff1a</p> <ol> <li>Predictor Engine\uff1a\u5be6\u6642\u5206\u6790\u4ee3\u78bc\u5167\u5bb9\u8207 Diff\u3002</li> <li>Brain Pattern Matcher\uff1a\u5f9e <code>BrainManager</code> \u4e2d\u6aa2\u7d22\u76f8\u95dc\u7684\u6b77\u53f2\u6210\u529f/\u5931\u6557\u6a21\u5f0f\u3002</li> <li>Risk Scoring\uff1a\u6839\u64da\u4fee\u6539\u5ee3\u5ea6\u3001\u8907\u96dc\u5ea6\u8207\u6b77\u53f2\u98a8\u96aa\u8a08\u7b97\u6574\u9ad4\u98a8\u96aa\u6307\u6578\u3002</li> </ol>"},{"location":"features/predictive_zh/#_3","title":"\ud83c\udfa8 \u4f7f\u7528\u5834\u666f","text":""},{"location":"features/predictive_zh/#_4","title":"\u4ee3\u78bc\u63d0\u4ea4\u524d\u9810\u6aa2","text":"<p>\u5728 Commit \u524d\u57f7\u884c\u9810\u6e2c\u6383\u63cf\uff1a <pre><code>boring predict --diff\n</code></pre></p>"},{"location":"features/predictive_zh/#_5","title":"\u6df1\u5ea6\u6392\u932f","text":"<p>\u7576\u9047\u5230\u96e3\u4ee5\u91cd\u73fe\u7684 Bug \u6642\uff1a <pre><code>boring diagnostic --last-known-good HEAD~10\n</code></pre></p>"},{"location":"features/predictive_zh/#_6","title":"\ud83d\udcc8 \u6548\u76ca","text":"<ul> <li>\u6e1b\u5c11 40% \u7684\u56de\u6b78\u932f\u8aa4\uff1a\u5728\u932f\u8aa4\u9032\u5165\u4e3b\u5206\u652f\u524d\u6514\u622a\u3002</li> <li>\u52a0\u901f 3x \u7684\u6392\u932f\u6642\u9593\uff1a\u7cbe\u78ba\u5b9a\u4f4d\u5acc\u7591 Commit\u3002</li> <li>\u6301\u7e8c\u5b78\u7fd2\uff1a\u60a8\u7684\u958b\u767c\u7fd2\u6163\u6703\u88ab Brain \u8a18\u9304\uff0c\u5075\u6e2c\u7cbe\u6e96\u5ea6\u6703\u96a8\u6642\u9593\u63d0\u6607\u3002</li> </ul> <p>Boring V14.0 - Coding at the edge of intelligence.</p>"},{"location":"features/quality-gates/","title":"Quality Gates - CI/CD Integration","text":"<p>Built-in multi-tier verification gates for CI/CD pipelines. Fail fast, fail safe.</p>"},{"location":"features/quality-gates/#gate-architecture","title":"\ud83d\udea6 Gate Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Quality Gates                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Tier 1: Lint &amp; Format    \u2501\u2501\u2501\u2501\u25b6 Fast feedback (~10s)   \u2502\n\u2502  Tier 2: Security Scan    \u2501\u2501\u2501\u2501\u25b6 Vulnerability check    \u2502\n\u2502  Tier 3: Unit Tests       \u2501\u2501\u2501\u2501\u25b6 Coverage validation    \u2502\n\u2502  Tier 4: Integration      \u2501\u2501\u2501\u2501\u25b6 Full system test       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n    \u2705 Deploy or \u274c Block\n</code></pre>"},{"location":"features/quality-gates/#tier-breakdown","title":"\ud83d\udccb Tier Breakdown","text":""},{"location":"features/quality-gates/#tier-1-lint-format-10-seconds","title":"Tier 1: Lint &amp; Format (~10 seconds)","text":"<pre><code>- name: Lint &amp; Format\n  run: |\n    ruff check --output-format=github .\n    ruff format --check .\n</code></pre> <p>Tools: Ruff (Python), ESLint (JS/TS), golangci-lint (Go)</p>"},{"location":"features/quality-gates/#tier-2-security-scan-30-seconds","title":"Tier 2: Security Scan (~30 seconds)","text":"<pre><code>- name: Security Scan\n  run: |\n    bandit -r src/ --severity-level medium\n    pip-audit --strict\n</code></pre> <p>Tools: Bandit (SAST), pip-audit (dependencies), Safety</p>"},{"location":"features/quality-gates/#tier-3-unit-tests-2-5-minutes","title":"Tier 3: Unit Tests (~2-5 minutes)","text":"<pre><code>- name: Unit Tests\n  run: |\n    pytest --cov=src --cov-fail-under=40\n</code></pre> <p>Thresholds: 40% minimum coverage by default</p>"},{"location":"features/quality-gates/#tier-4-integration-tests-main-branch-only","title":"Tier 4: Integration Tests (main branch only)","text":"<pre><code>- name: Integration Tests\n  if: github.ref == 'refs/heads/main'\n  run: |\n    pytest tests/integration/ -v\n</code></pre>"},{"location":"features/quality-gates/#configuration","title":"\u2699\ufe0f Configuration","text":""},{"location":"features/quality-gates/#project-settings-boringtoml","title":"Project Settings (.boring.toml)","text":"<pre><code>[boring.quality_gates]\nmin_coverage = 40           # Minimum test coverage %\nmax_complexity = 15         # Maximum cyclomatic complexity\nmax_file_lines = 500        # Maximum lines per file\nmax_function_lines = 50     # Maximum lines per function\n\n[boring.linter_configs]\nruff_line_length = 100\neslint_max_warnings = 0\n\n[boring.security]\nbandit_severity = \"medium\"  # low|medium|high\ndependency_scan = true\nsecret_scan = true\n</code></pre>"},{"location":"features/quality-gates/#github-actions-githubworkflowsquality-gatesyml","title":"GitHub Actions (.github/workflows/quality-gates.yml)","text":"<pre><code>name: Quality Gates\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main]\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n      - run: pip install ruff\n      - run: ruff check --output-format=github .\n      - run: ruff format --check .\n\n  security:\n    runs-on: ubuntu-latest\n    needs: lint\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install bandit pip-audit\n      - run: bandit -r src/ -ll\n      - run: pip-audit\n\n  test:\n    runs-on: ubuntu-latest\n    needs: security\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install -e \".[dev]\"\n      - run: pytest --cov=src --cov-fail-under=40\n\n  integration:\n    runs-on: ubuntu-latest\n    needs: test\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install -e \".[dev]\"\n      - run: pytest tests/integration/ -v\n</code></pre>"},{"location":"features/quality-gates/#mcp-tool-integration","title":"\ud83d\udee0\ufe0f MCP Tool Integration","text":""},{"location":"features/quality-gates/#verify-command","title":"Verify Command","text":"<pre><code># Quick syntax check\nboring verify --level BASIC\n\n# Standard with linting\nboring verify --level STANDARD --incremental\n\n# Full with tests\nboring verify --level FULL\n\n# AI semantic review\nboring verify --level SEMANTIC\n</code></pre>"},{"location":"features/quality-gates/#vibe-coder-cli","title":"\u2728 Vibe Coder CLI","text":"<pre><code># Natural language verification\nboring-route \"verify my code\"\n# \ud83c\udfaf boring_verify (STANDARD)\n\nboring-route \"do a full check\"\n# \ud83c\udfaf boring_verify (FULL)\n</code></pre>"},{"location":"features/quality-gates/#background-task","title":"Background Task","text":"<pre><code># Run verification in background\ntask_id = boring_task(\n    action=\"start\",\n    task_type=\"verify\",\n    level=\"FULL\"\n)\n\n# Check status\nboring_task(action=\"status\", task_id=task_id)\n</code></pre>"},{"location":"features/quality-gates/#git-hooks","title":"\ud83d\udd04 Git Hooks","text":""},{"location":"features/quality-gates/#installation","title":"Installation","text":"<pre><code># Install all hooks\nboring hooks install\n\n# Check status\nboring hooks status\n\n# Uninstall\nboring hooks uninstall\n</code></pre>"},{"location":"features/quality-gates/#hook-levels","title":"Hook Levels","text":"Hook Trigger Level pre-commit Every commit STANDARD pre-push Every push FULL quick-check Save (optional) BASIC"},{"location":"features/quality-gates/#quality-trend","title":"\ud83d\udcca Quality Trend","text":""},{"location":"features/quality-gates/#view-history","title":"View History","text":"<pre><code>boring_quality_trend --days 30\n</code></pre>"},{"location":"features/quality-gates/#fail-on-regression","title":"Fail on Regression","text":"<pre><code># In CI\nif current_score &lt; historical_average - 0.5:\n    fail(\"Quality regression detected\")\n</code></pre>"},{"location":"features/quality-gates/#enterprise-patterns","title":"\ud83c\udfe2 Enterprise Patterns","text":""},{"location":"features/quality-gates/#branch-protection-rules","title":"Branch Protection Rules","text":"<pre><code># GitHub branch protection\nrequired_status_checks:\n  strict: true\n  checks:\n    - lint\n    - security\n    - test\n</code></pre>"},{"location":"features/quality-gates/#multi-environment-gates","title":"Multi-Environment Gates","text":"<pre><code># Different gates per environment\nstaging:\n  min_coverage: 60\n  security_level: high\n\nproduction:\n  min_coverage: 80\n  security_level: critical\n  require_integration: true\n</code></pre>"},{"location":"features/quality-gates/#see-also","title":"See Also","text":"<ul> <li>Performance - Optimization</li> <li>Git Hooks - Local hooks</li> <li>Pro Tips - Best practices</li> </ul>"},{"location":"features/quality-gates_zh/","title":"\u54c1\u8cea\u9598\u9053 - CI/CD \u6574\u5408","text":"<p>\u5167\u5efa\u591a\u5c64\u9a57\u8b49\u9598\u9053\uff0c\u9069\u7528\u65bc CI/CD \u7ba1\u9053\u3002\u5feb\u901f\u5931\u6557\uff0c\u5b89\u5168\u5931\u6557\u3002</p>"},{"location":"features/quality-gates_zh/#_1","title":"\ud83d\udea6 \u9598\u9053\u67b6\u69cb","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u54c1\u8cea\u9598\u9053                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u7b2c\u4e00\u5c64\uff1aLint \u8207\u683c\u5f0f    \u2501\u2501\u2501\u2501\u25b6 \u5feb\u901f\u56de\u994b\uff08~10\u79d2\uff09         \u2502\n\u2502  \u7b2c\u4e8c\u5c64\uff1a\u5b89\u5168\u6383\u63cf       \u2501\u2501\u2501\u2501\u25b6 \u6f0f\u6d1e\u6aa2\u67e5                  \u2502\n\u2502  \u7b2c\u4e09\u5c64\uff1a\u55ae\u5143\u6e2c\u8a66       \u2501\u2501\u2501\u2501\u25b6 \u8986\u84cb\u7387\u9a57\u8b49                \u2502\n\u2502  \u7b2c\u56db\u5c64\uff1a\u6574\u5408\u6e2c\u8a66       \u2501\u2501\u2501\u2501\u25b6 \u5b8c\u6574\u7cfb\u7d71\u6e2c\u8a66              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n    \u2705 \u90e8\u7f72 \u6216 \u274c \u963b\u64cb\n</code></pre>"},{"location":"features/quality-gates_zh/#_2","title":"\ud83d\udccb \u5c64\u7d1a\u7d30\u5206","text":""},{"location":"features/quality-gates_zh/#lint-10","title":"\u7b2c\u4e00\u5c64\uff1aLint \u8207\u683c\u5f0f\uff08\u7d04 10 \u79d2\uff09","text":"<pre><code>- name: Lint &amp; Format\n  run: |\n    ruff check --output-format=github .\n    ruff format --check .\n</code></pre> <p>\u5de5\u5177\uff1aRuff\uff08Python\uff09\u3001ESLint\uff08JS/TS\uff09\u3001golangci-lint\uff08Go\uff09</p>"},{"location":"features/quality-gates_zh/#30","title":"\u7b2c\u4e8c\u5c64\uff1a\u5b89\u5168\u6383\u63cf\uff08\u7d04 30 \u79d2\uff09","text":"<pre><code>- name: Security Scan\n  run: |\n    bandit -r src/ --severity-level medium\n    pip-audit --strict\n</code></pre> <p>\u5de5\u5177\uff1aBandit\uff08SAST\uff09\u3001pip-audit\uff08\u4f9d\u8cf4\uff09\u3001Safety</p>"},{"location":"features/quality-gates_zh/#2-5","title":"\u7b2c\u4e09\u5c64\uff1a\u55ae\u5143\u6e2c\u8a66\uff08\u7d04 2-5 \u5206\u9418\uff09","text":"<pre><code>- name: Unit Tests\n  run: |\n    pytest --cov=src --cov-fail-under=40\n</code></pre> <p>\u95be\u503c\uff1a\u9810\u8a2d\u6700\u4f4e 40% \u8986\u84cb\u7387</p>"},{"location":"features/quality-gates_zh/#main","title":"\u7b2c\u56db\u5c64\uff1a\u6574\u5408\u6e2c\u8a66\uff08\u50c5 main \u5206\u652f\uff09","text":"<pre><code>- name: Integration Tests\n  if: github.ref == 'refs/heads/main'\n  run: |\n    pytest tests/integration/ -v\n</code></pre>"},{"location":"features/quality-gates_zh/#_3","title":"\u2699\ufe0f \u914d\u7f6e","text":""},{"location":"features/quality-gates_zh/#boringtoml","title":"\u5c08\u6848\u8a2d\u5b9a\uff08.boring.toml\uff09","text":"<pre><code>[boring.quality_gates]\nmin_coverage = 40           # \u6700\u4f4e\u6e2c\u8a66\u8986\u84cb\u7387 %\nmax_complexity = 15         # \u6700\u5927\u5708\u8907\u96dc\u5ea6\nmax_file_lines = 500        # \u6bcf\u500b\u6a94\u6848\u6700\u5927\u884c\u6578\nmax_function_lines = 50     # \u6bcf\u500b\u51fd\u6578\u6700\u5927\u884c\u6578\n\n[boring.linter_configs]\nruff_line_length = 100\neslint_max_warnings = 0\n\n[boring.security]\nbandit_severity = \"medium\"  # low|medium|high\ndependency_scan = true\nsecret_scan = true\n</code></pre>"},{"location":"features/quality-gates_zh/#github-actionsgithubworkflowsquality-gatesyml","title":"GitHub Actions\uff08.github/workflows/quality-gates.yml\uff09","text":"<pre><code>name: Quality Gates\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main]\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n      - run: pip install ruff\n      - run: ruff check --output-format=github .\n      - run: ruff format --check .\n\n  security:\n    runs-on: ubuntu-latest\n    needs: lint\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install bandit pip-audit\n      - run: bandit -r src/ -ll\n      - run: pip-audit\n\n  test:\n    runs-on: ubuntu-latest\n    needs: security\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install -e \".[dev]\"\n      - run: pytest --cov=src --cov-fail-under=40\n\n  integration:\n    runs-on: ubuntu-latest\n    needs: test\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install -e \".[dev]\"\n      - run: pytest tests/integration/ -v\n</code></pre>"},{"location":"features/quality-gates_zh/#mcp","title":"\ud83d\udee0\ufe0f MCP \u5de5\u5177\u6574\u5408","text":""},{"location":"features/quality-gates_zh/#_4","title":"\u9a57\u8b49\u547d\u4ee4","text":"<pre><code># \u5feb\u901f\u8a9e\u6cd5\u6aa2\u67e5\nboring_verify(level=\"BASIC\")\n\n# \u6a19\u6e96\u542b Lint\nboring_verify(level=\"STANDARD\", incremental=True)\n\n# \u5b8c\u6574\u542b\u6e2c\u8a66\nboring_verify(level=\"FULL\")\n\n# AI \u8a9e\u610f\u5be9\u67e5\nboring_verify(level=\"SEMANTIC\")\n</code></pre>"},{"location":"features/quality-gates_zh/#vibe-coder-cli","title":"\u2728 Vibe Coder CLI","text":"<pre><code># \u81ea\u7136\u8a9e\u8a00\u9a57\u8b49\nboring-route \"\u5e6b\u6211\u9a57\u8b49\u7a0b\u5f0f\u78bc\"\n# \ud83c\udfaf boring_verify (STANDARD)\n\nboring-route \"\u505a\u4e00\u6b21\u5b8c\u6574\u6aa2\u67e5\"\n# \ud83c\udfaf boring_verify (FULL)\n</code></pre>"},{"location":"features/quality-gates_zh/#_5","title":"\u80cc\u666f\u4efb\u52d9","text":"<pre><code># \u5728\u80cc\u666f\u57f7\u884c\u9a57\u8b49\ntask_id = boring_task(\n    action=\"start\",\n    task_type=\"verify\",\n    level=\"FULL\"\n)\n\n# \u6aa2\u67e5\u72c0\u614b\nboring_task(action=\"status\", task_id=task_id)\n</code></pre>"},{"location":"features/quality-gates_zh/#git-hooks","title":"\ud83d\udd04 Git Hooks","text":""},{"location":"features/quality-gates_zh/#_6","title":"\u5b89\u88dd","text":"<pre><code># \u5b89\u88dd\u6240\u6709 hooks\nboring hooks install\n\n# \u6aa2\u67e5\u72c0\u614b\nboring hooks status\n\n# \u89e3\u9664\u5b89\u88dd\nboring hooks uninstall\n</code></pre>"},{"location":"features/quality-gates_zh/#hook","title":"Hook \u7d1a\u5225","text":"Hook \u89f8\u767c\u6642\u6a5f \u7d1a\u5225 pre-commit \u6bcf\u6b21\u63d0\u4ea4 STANDARD pre-push \u6bcf\u6b21\u63a8\u9001 FULL quick-check \u5132\u5b58\u6642\uff08\u53ef\u9078\uff09 BASIC"},{"location":"features/quality-gates_zh/#_7","title":"\ud83d\udcca \u54c1\u8cea\u8da8\u52e2","text":""},{"location":"features/quality-gates_zh/#_8","title":"\u67e5\u770b\u6b77\u53f2","text":"<pre><code>boring_quality_trend --days 30\n</code></pre>"},{"location":"features/quality-gates_zh/#_9","title":"\u56de\u6b78\u6642\u5931\u6557","text":"<pre><code># \u5728 CI \u4e2d\nif current_score &lt; historical_average - 0.5:\n    fail(\"\u5075\u6e2c\u5230\u54c1\u8cea\u56de\u6b78\")\n</code></pre>"},{"location":"features/quality-gates_zh/#_10","title":"\ud83c\udfe2 \u4f01\u696d\u6a21\u5f0f","text":""},{"location":"features/quality-gates_zh/#_11","title":"\u5206\u652f\u4fdd\u8b77\u898f\u5247","text":"<pre><code># GitHub \u5206\u652f\u4fdd\u8b77\nrequired_status_checks:\n  strict: true\n  checks:\n    - lint\n    - security\n    - test\n</code></pre>"},{"location":"features/quality-gates_zh/#_12","title":"\u591a\u74b0\u5883\u9598\u9053","text":"<pre><code># \u6bcf\u500b\u74b0\u5883\u4e0d\u540c\u7684\u9598\u9053\nstaging:\n  min_coverage: 60\n  security_level: high\n\nproduction:\n  min_coverage: 80\n  security_level: critical\n  require_integration: true\n</code></pre>"},{"location":"features/quality-gates_zh/#_13","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u6548\u80fd - \u512a\u5316</li> <li>Git Hooks - \u672c\u5730 hooks</li> <li>\u5c08\u696d\u6280\u5de7 - \u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"features/rag/","title":"\ud83d\udd75\ufe0f Hybrid RAG Architecture","text":"<p>Intelligence Maximization Component \"Stop searching for keywords. Start finding answers.\"</p> <p>Boring-Gemini uses a Hybrid RAG (Retrieval-Augmented Generation) system designed specifically for codebases. It moves beyond simple vector similarity to understand the structure and intent of your code.</p>"},{"location":"features/rag/#key-technologies","title":"\ud83d\ude80 Key Technologies","text":""},{"location":"features/rag/#1-hyde-hypothetical-document-embeddings","title":"1. HyDE (Hypothetical Document Embeddings)","text":"<p>Traditional RAG fails when your query (e.g., \"how does auth work?\") looks nothing like the code (e.g., <code>class AuthenticationManager</code>). HyDE generates a hypothetical code snippet based on your query, then searches for that. *   Result: 20-30% higher semantic accuracy.</p>"},{"location":"features/rag/#2-cross-encoder-reranking","title":"2. Cross-Encoder Reranking","text":"<p>Vector search is fast but imprecise. We use a Cross-Encoder to deeply analyze the top results and re-rank them based on true relevance to your specific query. *   Result: The code you actually need is at the top.</p>"},{"location":"features/rag/#3-dependency-graph-expansion-graphrag","title":"3. Dependency Graph Expansion (GraphRAG)","text":"<p>Code doesn't exist in isolation. When we find a relevant function, we also pull in its callers (who uses it?) and callees (what does it use?) using a static analysis graph. *   Result: The LLM understands the context, not just the text.</p>"},{"location":"features/rag/#vibe-coder-integration","title":"\ud83e\udde0 Vibe Coder Integration","text":"<p>You don't need to configure any of this. Just use the Router:</p> <pre><code># 1. \"Keyword Search\" (Old School)\nboring-route \"search for login\"\n\n# 2. \"Semantic Question\" (HyDE + RAG)\nboring-route \"how do we handle token expiration?\"\n# RAG will: \n#   -&gt; Generating hypothetical token logic...\n#   -&gt; Searching vectors...\n#   -&gt; Reranking results...\n#   -&gt; Expanding context...\n#   -&gt; \"Here is the TokenRefreshService class...\"\n</code></pre>"},{"location":"features/rag/#performance","title":"\ud83d\udcca Performance","text":"Metric Traditional RAG Boring Hybrid RAG Recall ~40% ~85% Context Noise High Low (Reranked) Structure Awareness None High (Graph)"},{"location":"features/rag/#tools","title":"\ud83d\udee0\ufe0f Tools","text":"<ul> <li><code>boring_rag_search</code>: The main entry point (Hybrid search).</li> <li><code>boring_rag_context</code>: Get deep context for a specific file/symbol.</li> <li><code>boring_rag_index</code>: Force a re-index of the codebase.</li> <li><code>boring_rag_reload</code>: Reload RAG features after installing dependencies.</li> </ul>"},{"location":"features/rag/#notes-troubleshooting","title":"\u26a0\ufe0f Notes &amp; Troubleshooting","text":""},{"location":"features/rag/#1-missing-dependencies","title":"1. Missing Dependencies","text":"<p>RAG features require specialized libraries (ChromaDB, Torch). If you see \"No module named <code>chromadb</code>\" or <code>sentence-transformers</code>, the easiest way to fix this is: <pre><code>pip install \"boring-aicoding[vector]\"\n</code></pre></p> <p>[!IMPORTANT] MCP Server Environment: If you're using Cursor or other IDE MCP integrations, the Boring MCP Server may run in a separate Python environment (e.g., <code>/usr/local/bin/python</code> or Docker container).</p> <p>In this case, you need to: 1. Check the Python path used by MCP (see the <code>Python:</code> line in error messages) 2. Install dependencies in that environment:    <pre><code>/usr/local/bin/python -m pip install \"boring-aicoding[vector]\"\n</code></pre> 3. Or configure MCP to use your local Python environment</p> <p>After installation, you must run <code>boring_rag_reload</code> or Refresh the MCP Server.</p>"},{"location":"features/rag/#2-changes-not-reflecting","title":"2. Changes Not Reflecting","text":"<p>If you've updated code or settings and don't see the changes in the tools, please refer to Monitor Troubleshooting - Changes Not Reflecting for MCP server refresh instructions.</p>"},{"location":"features/rag_zh/","title":"\ud83d\udd75\ufe0f \u6df7\u5408\u578b RAG \u67b6\u69cb (Hybrid RAG)","text":"<p>\u7c21\u55ae\u8aaa\uff1a\u9019\u662f Boring \u7684\u300c\u641c\u5c0b\u5f15\u64ce\u300d\uff0c\u8b93 AI \u80fd\u5728\u4f60\u7684\u7a0b\u5f0f\u78bc\u5927\u6d77\u4e2d\u627e\u5230\u6b63\u78ba\u7684\u91dd\uff0c\u800c\u4e0d\u53ea\u662f\u778e\u731c\u3002</p>"},{"location":"features/rag_zh/#why","title":"\ud83d\ude4b \u70ba\u4ec0\u9ebc\u6211\u9700\u8981\u9019\u500b\uff1f (Why?)","text":"<p>\u4f60\u662f\u5426\u9047\u904e\u9019\u7a2e\u60c5\u6cc1\uff1a 1. \u554f AI\uff1a\u300c\u5e6b\u6211\u6709\u4fee Auth\u300d\uff0c\u5b83\u537b\u56de\uff1a\u300c\u627e\u4e0d\u5230\u6a94\u6848\u300d\u3002 2. \u554f AI\uff1a\u300c\u9019\u500b\u51fd\u5f0f\u54ea\u88e1\u88ab\u7528\u5230\u4e86\uff1f\u300d\uff0c\u5b83\u537b\u6f0f\u6389\u4e86\u4e00\u534a\u3002</p> <p>\u9019\u5c31\u662f RAG (\u6aa2\u7d22\u589e\u5f37\u751f\u6210) \u8981\u89e3\u6c7a\u7684\u554f\u984c\u3002 Boring \u7684 \u6df7\u5408\u578b RAG \u662f\u5e02\u9762\u4e0a\u6700\u5f37\u7684\u4ee3\u78bc\u641c\u5c0b\u6280\u8853\u4e4b\u4e00\uff0c\u5b83\u80fd\u50cf\u8cc7\u6df1\u5de5\u7a0b\u5e2b\u4e00\u6a23\u300c\u7406\u89e3\u300d\u4f60\u7684\u7a0b\u5f0f\u78bc\u7d50\u69cb\u3002</p>"},{"location":"features/rag_zh/#what","title":"\ud83d\ude80 \u5b83\u53b2\u5bb3\u5728\u54ea\uff1f (What?)","text":""},{"location":"features/rag_zh/#1-hyde","title":"1. \u5b83\u61c2\u4f60\u7684\u300c\u610f\u601d\u300d\uff0c\u4e0d\u53ea\u662f\u95dc\u9375\u5b57 (HyDE)","text":"<ul> <li>\u820a\u65b9\u6cd5\uff1a\u4f60\u641c \"Login\"\uff0c\u5b83\u53ea\u627e\u6709\u540d\u7a31 \"Login\" \u7684\u6a94\u6848\u3002</li> <li>Boring RAG\uff1a\u4f60\u641c \"\u767b\u5165\u58de\u4e86\"\uff0c\u5b83\u6703\u5e6b\u4f60\u627e <code>AuthController</code>, <code>UserSession</code>, <code>JWTService</code>... \u5373\u4f7f\u6a94\u6848\u540d\u7a31\u5b8c\u5168\u6c92\u6709 \"Login\" \u9019\u500b\u5b57\uff01</li> </ul>"},{"location":"features/rag_zh/#2-graph","title":"2. \u5b83\u6703\u628a\u76f8\u95dc\u7684\u4eba\u90fd\u627e\u4f86 (Graph \u95dc\u806f)","text":"<ul> <li>\u820a\u65b9\u6cd5\uff1a\u627e\u5230 <code>ProcessPayment</code> \u51fd\u6578\u5c31\u7d50\u675f\u4e86\u3002</li> <li>Boring RAG\uff1a\u5b83\u6703\u9806\u4fbf\u628a \u8ab0\u547c\u53eb\u4e86\u5b83 (Caller) \u548c \u5b83\u547c\u53eb\u4e86\u8ab0 (Callee) \u4e00\u8d77\u6293\u51fa\u4f86\uff0c\u8b93 AI \u4e00\u6b21\u770b\u61c2\u5b8c\u6574\u7684\u696d\u52d9\u908f\u8f2f\u3002</li> </ul>"},{"location":"features/rag_zh/#under-the-hood","title":"\ud83d\udd27 \u9032\u968e\u539f\u7406 (Under the Hood)","text":"<p>\u9019\u4e00\u7bc0\u770b\u4e0d\u61c2\u6c92\u95dc\u4fc2\uff0c\u53ea\u8981\u77e5\u9053\u5b83\u5f88\u5f37\u5c31\u597d\u3002</p>"},{"location":"features/rag_zh/#1-hyde-hypothetical-document-embeddings","title":"1. HyDE (Hypothetical Document Embeddings)","text":"<p>\u7576\u4f60\u7684\u67e5\u8a62\uff08\u4f8b\u5982\uff1a\"auth \u662f\u600e\u9ebc\u904b\u4f5c\u7684\uff1f\"\uff09\u8207\u7a0b\u5f0f\u78bc\uff08\u4f8b\u5982\uff1a<code>class AuthenticationManager</code>\uff09\u9577\u5f97\u5b8c\u5168\u4e0d\u4e00\u6a23\u6642\uff0c\u50b3\u7d71 RAG \u6703\u5931\u6557\u3002 HyDE \u6703\u6839\u64da\u4f60\u7684\u67e5\u8a62\u751f\u6210\u4e00\u500b\u300c\u5047\u8a2d\u7684\u7a0b\u5f0f\u78bc\u7247\u6bb5\u300d\uff0c\u7136\u5f8c\u53bb\u641c\u5c0b\u90a3\u500b\u7247\u6bb5\u3002 *   \u7d50\u679c: \u8a9e\u610f\u6e96\u78ba\u5ea6\u63d0\u9ad8 20-30%\u3002</p>"},{"location":"features/rag_zh/#2-cross-encoder-reranking","title":"2. Cross-Encoder Reranking (\u4ea4\u53c9\u7de8\u78bc\u91cd\u6392\u5e8f)","text":"<p>\u5411\u91cf\u641c\u5c0b\u5f88\u5feb\u4f46\u4e0d\u5920\u7cbe\u78ba\u3002\u6211\u5011\u4f7f\u7528 Cross-Encoder \u5c0d\u524d\u5e7e\u540d\u7684\u7d50\u679c\u9032\u884c\u6df1\u5ea6\u5206\u6790\uff0c\u4e26\u6839\u64da\u8207\u4f60\u67e5\u8a62\u7684\u771f\u5be6\u76f8\u95dc\u6027\u91cd\u65b0\u6392\u5e8f\u3002 *   \u7d50\u679c: \u4f60\u771f\u6b63\u9700\u8981\u7684\u7a0b\u5f0f\u78bc\u6703\u51fa\u73fe\u5728\u6700\u4e0a\u9762\u3002</p>"},{"location":"features/rag_zh/#3-dependency-graph-expansion-graphrag","title":"3. Dependency Graph Expansion (GraphRAG)","text":"<p>\u7a0b\u5f0f\u78bc\u4e0d\u662f\u5b64\u7acb\u5b58\u5728\u7684\u3002\u7576\u6211\u5011\u627e\u5230\u4e00\u500b\u76f8\u95dc\u51fd\u6578\u6642\uff0c\u6211\u5011\u4e5f\u6703\u901a\u904e\u975c\u614b\u5206\u6790\u5716\u628a\u5b83\u7684 \u547c\u53eb\u8005 (Callers) \u548c \u88ab\u547c\u53eb\u8005 (Callees) \u4e00\u8d77\u6293\u9032\u4f86\u3002 *   \u7d50\u679c: LLM \u7406\u89e3\u7684\u662f \u4e0a\u4e0b\u6587\uff0c\u800c\u4e0d\u50c5\u50c5\u662f\u6587\u672c\u3002</p>"},{"location":"features/rag_zh/#_1","title":"\ud83d\udcca \u6548\u80fd\u8868\u73fe","text":"\u6307\u6a19 \u50b3\u7d71 RAG Boring Hybrid RAG \u627e\u5f97\u6e96\u55ce\uff1f (Recall) ~40% (\u5e38\u5e38\u627e\u4e0d\u5230) ~85% (\u5e7e\u4e4e\u90fd\u627e\u5f97\u5230) \u96dc\u8a0a\u591a\u55ce\uff1f \u9ad8 (\u5f88\u591a\u4e0d\u76f8\u95dc\u7684) \u4f4e (\u53ea\u7d66\u6838\u5fc3\u4ee3\u78bc) \u61c2\u7d50\u69cb\u55ce\uff1f \u7121 (\u53ea\u770b\u55ae\u6a94) \u9ad8 (\u61c2\u4e0a\u4e0b\u6e38\u95dc\u4fc2)"},{"location":"features/rag_zh/#_2","title":"\ud83d\udee0\ufe0f \u76f8\u95dc\u5de5\u5177","text":"<ul> <li><code>boring_rag_search</code>: \u4e3b\u8981\u5165\u53e3 (\u6df7\u5408\u641c\u5c0b)\u3002</li> <li><code>boring_rag_context</code>: \u7372\u53d6\u7279\u5b9a\u6a94\u6848/\u7b26\u865f\u7684\u6df1\u5ea6\u4e0a\u4e0b\u6587\u3002</li> <li><code>boring_rag_index</code>: \u5f37\u5236\u91cd\u65b0\u7d22\u5f15\u7a0b\u5f0f\u5eab\u3002</li> <li><code>boring_rag_reload</code>: \u5b89\u88dd\u5957\u4ef6\u5f8c\u91cd\u65b0\u8f09\u5165 RAG \u529f\u80fd\u3002</li> </ul>"},{"location":"features/rag_zh/#_3","title":"\u26a0\ufe0f \u6ce8\u610f\u4e8b\u9805\u8207\u6392\u67e5","text":""},{"location":"features/rag_zh/#1-dependency","title":"1. \u7f3a\u5c11\u76f8\u4f9d\u5957\u4ef6 (Dependency)","text":"<p>RAG \u529f\u80fd\u9700\u8981\u5c08\u9580\u7684\u8655\u7406\u5957\u4ef6 (ChromaDB, Torch)\u3002\u5982\u679c\u60a8\u770b\u5230\u300c\u627e\u4e0d\u5230 <code>chromadb</code>\u300d\u6216 <code>sentence-transformers</code> \u932f\u8aa4\uff0c\u6700\u7c21\u55ae\u7684\u4fee\u5fa9\u65b9\u6cd5\u662f\uff1a <pre><code>pip install \"boring-aicoding[vector]\"\n</code></pre></p> <p>[!IMPORTANT] MCP \u4f3a\u670d\u5668\u74b0\u5883\u554f\u984c\uff1a\u5982\u679c\u60a8\u4f7f\u7528 Cursor \u6216\u5176\u4ed6 IDE \u7684 MCP \u6574\u5408\uff0cBoring MCP Server \u53ef\u80fd\u904b\u884c\u5728\u7368\u7acb\u7684 Python \u74b0\u5883\u4e2d\uff08\u5982 <code>/usr/local/bin/python</code> \u6216 Docker \u5bb9\u5668\uff09\u3002</p> <p>\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u60a8\u9700\u8981\uff1a 1. \u78ba\u8a8d MCP \u4f7f\u7528\u7684 Python \u8def\u5f91\uff08\u67e5\u770b\u932f\u8aa4\u8a0a\u606f\u4e2d\u7684 <code>Python:</code> \u884c\uff09 2. \u5728\u8a72\u74b0\u5883\u4e2d\u5b89\u88dd\u4f9d\u8cf4\uff1a    <pre><code>/usr/local/bin/python -m pip install \"boring-aicoding[vector]\"\n</code></pre> 3. \u6216\u4fee\u6539 MCP \u8a2d\u5b9a\u4f7f\u7528\u672c\u5730 Python \u74b0\u5883</p> <p>\u5b89\u88dd\u5b8c\u6210\u5f8c\uff0c\u8acb\u52d9\u5fc5\u57f7\u884c <code>boring_rag_reload</code> \u6216\u662f \u91cd\u65b0\u6574\u7406 MCP \u4f3a\u670d\u5668\u3002</p>"},{"location":"features/rag_zh/#2","title":"2. \u66f4\u65b0\u672a\u751f\u6548","text":"<p>\u5982\u679c\u60a8\u4fee\u6539\u4e86 RAG \u7684\u8a2d\u5b9a\u6216\u7ffb\u8b6f\uff0c\u8acb\u53c3\u8003 \u76e3\u63a7\u5de5\u5177\u6392\u67e5 - \u66f4\u65b0\u672a\u751f\u6548 \u9032\u884c MCP \u4f3a\u670d\u5668\u91cd\u555f\u3002</p>"},{"location":"features/shadow-mode/","title":"Shadow Mode - Security Sandbox","text":"<p>Shadow Mode is Boring's security core, providing human-in-the-loop protection for all potentially destructive operations.</p> <p>\u2728 Vibe Coder Compatible: Shadow Mode intercepts ALL tools, including those called via Vibe Coder (<code>boring()</code>) or CLI (<code>boring-route</code>).</p>"},{"location":"features/shadow-mode/#what-is-shadow-mode","title":"\ud83d\udee1\ufe0f What is Shadow Mode?","text":"<p>Shadow Mode acts as a mandatory interception layer between AI and your file system. When enabled, it:</p> <ol> <li>Intercepts all destructive operations (file writes, deletions, command execution)</li> <li>Evaluates the impact of each operation</li> <li>Queues high-risk operations for approval</li> <li>Requires human confirmation before execution</li> </ol> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     AI Agent                            \u2502\n\u2502                        \u2502                                \u2502\n\u2502                        \u25bc                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              \ud83d\udee1\ufe0f SHADOW MODE                      \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502  Risk Evaluator                            \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u251c\u2500 Low Risk \u2192 Auto-approve               \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u251c\u2500 Medium Risk \u2192 Log &amp; Execute           \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2514\u2500 High Risk \u2192 \ud83d\udea8 REQUIRE APPROVAL      \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2502                     \u2502                            \u2502  \u2502\n\u2502  \u2502        Pending Queue (High Risk Only)           \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                        \u2502                                \u2502\n\u2502                        \u25bc                                \u2502\n\u2502                 File System                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/shadow-mode/#three-protection-levels","title":"\ud83d\udcca Three Protection Levels","text":"Level Symbol Behavior Best For <code>DISABLED</code> \u26a0\ufe0f No interception Isolated containers only <code>ENABLED</code> \ud83d\udee1\ufe0f Auto-approve low-risk, block high-risk Default - Balanced <code>STRICT</code> \ud83d\udd12 Intercept ALL write operations Production environments"},{"location":"features/shadow-mode/#level-details","title":"Level Details","text":""},{"location":"features/shadow-mode/#disabled-use-with-caution","title":"DISABLED (\u26a0\ufe0f Use with Caution)","text":"<p><pre><code>boring_shadow_mode(action=\"set_level\", level=\"DISABLED\")\n</code></pre> - No operations are intercepted - All writes execute immediately - Only use in isolated containers or sandboxes</p>"},{"location":"features/shadow-mode/#enabled-recommended-default","title":"ENABLED (\ud83d\udee1\ufe0f Recommended Default)","text":"<p><pre><code>boring_shadow_mode(action=\"set_level\", level=\"ENABLED\")\n</code></pre> - Auto-approved: Read operations, small file edits - Logged: Medium-risk changes (new files &lt; 1KB) - Blocked: Deletions, system files, large rewrites</p>"},{"location":"features/shadow-mode/#strict-maximum-security","title":"STRICT (\ud83d\udd12 Maximum Security)","text":"<p><pre><code>boring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n</code></pre> - ALL write operations require approval - Perfect for production code review - Cannot be bypassed via agent patches</p>"},{"location":"features/shadow-mode/#configuration-persistence","title":"\ud83d\udd27 Configuration &amp; Persistence","text":""},{"location":"features/shadow-mode/#cross-session-persistence","title":"Cross-Session Persistence","text":"<p>Shadow Mode settings persist across sessions in <code>~/.boring/brain/shadow_config.json</code>:</p> <pre><code>{\n  \"level\": \"STRICT\",\n  \"auto_approve_patterns\": [\"*.md\", \"docs/*\"],\n  \"always_block_patterns\": [\"*.env\", \"secrets/*\"],\n  \"last_updated\": \"2024-01-01T12:00:00Z\"\n}\n</code></pre>"},{"location":"features/shadow-mode/#mcp-configuration","title":"MCP Configuration","text":"<p>In <code>smithery.yaml</code> or MCP config:</p> <pre><code>SHADOW_MODE_LEVEL: \"STRICT\"    # DISABLED|ENABLED|STRICT\nBORING_ALLOW_DANGEROUS: false  # Never set to true in production\n</code></pre>"},{"location":"features/shadow-mode/#tool-reference","title":"\ud83d\udcbb Tool Reference","text":""},{"location":"features/shadow-mode/#check-status","title":"Check Status","text":"<pre><code>boring_shadow_mode(action=\"status\")\n# Returns: {\"level\": \"ENABLED\", \"pending_count\": 2}\n</code></pre>"},{"location":"features/shadow-mode/#set-level","title":"Set Level","text":"<pre><code>boring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n</code></pre>"},{"location":"features/shadow-mode/#view-pending-operations","title":"View Pending Operations","text":"<pre><code>boring_shadow_mode(action=\"list_pending\")\n# Returns list of operations awaiting approval\n</code></pre>"},{"location":"features/shadow-mode/#approvereject","title":"Approve/Reject","text":"<pre><code>boring_shadow_mode(action=\"approve\", operation_id=\"op_123\")\nboring_shadow_mode(action=\"reject\", operation_id=\"op_123\")\n</code></pre>"},{"location":"features/shadow-mode/#risk-classification","title":"\ud83c\udfaf Risk Classification","text":""},{"location":"features/shadow-mode/#low-risk-auto-approved-in-enabled-mode","title":"Low Risk (Auto-approved in ENABLED mode)","text":"<ul> <li>Reading files</li> <li>Listing directories</li> <li>Viewing git status</li> <li>Running read-only commands</li> </ul>"},{"location":"features/shadow-mode/#medium-risk-logged-executed","title":"Medium Risk (Logged, executed)","text":"<ul> <li>Creating small files (&lt; 1KB)</li> <li>Appending to existing files</li> <li>Running tests</li> </ul>"},{"location":"features/shadow-mode/#high-risk-requires-approval","title":"High Risk (Requires approval)","text":"<ul> <li>\u274c Deleting files</li> <li>\u274c Modifying system files (<code>.env</code>, <code>config/*</code>)</li> <li>\u274c Large file rewrites (&gt; 50% content change)</li> <li>\u274c Executing shell commands with side effects</li> <li>\u274c Git operations (push, force operations)</li> </ul>"},{"location":"features/shadow-mode/#protected-file-tools-v10175","title":"\ud83d\udd10 Protected File Tools (V10.17.5+)","text":"<p>For guaranteed Shadow Mode protection, use Boring's file tools:</p> <pre><code># These ALWAYS respect Shadow Mode\nboring_write_file(path=\"config.py\", content=\"...\")\nboring_read_file(path=\"src/main.py\")\n</code></pre> <p>\u26a0\ufe0f Warning: Native MCP tools like <code>write_file</code> (from some clients) may NOT be intercepted by Shadow Mode. Always use <code>boring_write_file</code> for secure operations.</p>"},{"location":"features/shadow-mode/#safety-net-git-checkpoints-v1031","title":"\ud83d\udee1\ufe0f Safety Net (Git Checkpoints) (V10.31)","text":"<p>While Shadow Mode intercepts individual operations, Safety Net protects your entire codebase during complex refactoring.</p>"},{"location":"features/shadow-mode/#how-it-works","title":"How it Works","text":"<p>It creates a lightweight Git tag (checkpoint) before you start. If the AI messes up, you can instantly revert to that checkpoint.</p>"},{"location":"features/shadow-mode/#usage","title":"Usage","text":"<pre><code># 1. Create a checkpoint\nboring_checkpoint(action=\"save\", message=\"Before refactoring auth\")\n# Returns: \"Checkpoint 'checkpoint_20240101_120000' created\"\n\n# 2. Do risky stuff...\n# ...\n\n# 3. If it fails, restore!\nboring_checkpoint(action=\"restore\", checkpoint_id=\"checkpoint_20240101_120000\")\n</code></pre> <p>Note: This feature requires a clean working directory (committed changes).</p>"},{"location":"features/shadow-mode/#enterprise-use-cases","title":"\ud83c\udfe2 Enterprise Use Cases","text":""},{"location":"features/shadow-mode/#code-review-workflow","title":"Code Review Workflow","text":"<pre><code># Reviewer sets STRICT mode\nboring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n\n# AI proposes changes, all queued for review\n# Reviewer inspects each pending operation\n# Approve only verified changes\n</code></pre>"},{"location":"features/shadow-mode/#cicd-integration","title":"CI/CD Integration","text":"<pre><code># In CI pipeline\n- name: Run Boring with Shadow Mode\n  env:\n    SHADOW_MODE_LEVEL: ENABLED\n    BORING_ALLOW_DANGEROUS: false\n</code></pre>"},{"location":"features/shadow-mode/#see-also","title":"See Also","text":"<ul> <li>MCP Tools - Tool reference</li> <li>Quality Gates - CI/CD integration</li> <li>Pro Tips - Security best practices</li> </ul>"},{"location":"features/shadow-mode_zh/","title":"\u5f71\u5b50\u6a21\u5f0f - \u5b89\u5168\u6c99\u7bb1 (Shadow Mode)","text":"<p>\u7c21\u55ae\u8aaa\uff1a\u9019\u662f AI \u7684\u300c\u5152\u7ae5\u5b89\u5168\u9396\u300d\u3002\u9632\u6b62 AI \u610f\u5916\u522a\u9664\u4f60\u7684\u6a94\u6848\u6216\u628a\u4f60\u7684\u96fb\u8166\u641e\u58de\u3002</p>"},{"location":"features/shadow-mode_zh/#_1","title":"\ud83d\ude4b \u9019\u662f\u505a\u4ec0\u9ebc\u7684\uff1f","text":"<p>\u60f3\u50cf\u4f60\u50f1\u7528\u4e86\u4e00\u500b\u760b\u72c2\u4e14\u901f\u5ea6\u5f88\u5feb\u7684\u5be6\u7fd2\u751f (AI)\u3002 *   \u6c92\u6709\u5f71\u5b50\u6a21\u5f0f\uff1a\u4ed6\u53ef\u80fd\u6703\u8aaa\u300c\u6211\u89ba\u5f97\u9019\u500b\u8cc7\u6599\u593e\u6c92\u7528\u300d\uff0c\u7136\u5f8c\u76f4\u63a5\u628a\u4f60\u7684 <code>src/</code> \u522a\u6389\u3002 *   \u6709\u5f71\u5b50\u6a21\u5f0f\uff1a\u7576\u4ed6\u60f3\u522a\u9664\u6642\uff0c\u7cfb\u7d71\u6703\u66ab\u505c\u4e26\u554f\u4f60\uff1a\u300c\u8001\u95c6\uff0c\u4ed6\u60f3\u522a\u9664 <code>src/</code>\uff0c\u662f\u5426\u6279\u51c6\uff1f\u300d</p> <p>Boring \u9810\u8a2d\u958b\u555f\u6b64\u529f\u80fd (<code>ENABLED</code>)\uff0c\u6240\u4ee5\u4f60\u5f88\u5b89\u5168\u3002</p>"},{"location":"features/shadow-mode_zh/#_2","title":"\ud83d\udee1\ufe0f \u5b83\u5982\u4f55\u5de5\u4f5c\uff1f","text":"<p>\u5f71\u5b50\u6a21\u5f0f\u5c31\u50cf\u4e00\u500b\u5b88\u9580\u54e1\uff0c\u7ad9\u5728 AI \u548c\u4f60\u7684\u6a94\u6848\u7cfb\u7d71\u4e2d\u9593\uff1a</p> <ol> <li>AI \u8aaa\uff1a\u300c\u5beb\u5165 <code>main.py</code>\uff01\u300d</li> <li>\u5f71\u5b50\u6a21\u5f0f\u6aa2\u67e5\uff1a<ul> <li>\u5982\u679c\u662f\u5c0f\u6539\u52d5 \u2192 \u653e\u884c (\u81ea\u52d5\u6279\u51c6)\u3002</li> <li>\u5982\u679c\u662f\u522a\u9664\u6a94\u6848 / \u5927\u6539\u52d5 \u2192 \u6514\u622a (\u4e26\u518d\u7d42\u7aef\u6a5f\u554f\u4f60)\u3002</li> </ul> </li> <li>\u4f60\u6c7a\u5b9a\uff1a\u8f38\u5165 <code>y</code> \u6216 <code>n</code>\u3002</li> </ol> <pre><code>graph LR\n    AI[AI \u4ee3\u7406] --&gt;|\u5beb\u5165\u8acb\u6c42| Shadow[\ud83d\udee1\ufe0f \u5f71\u5b50\u6a21\u5f0f]\n    Shadow --&gt;|\u5c0f\u98a8\u96aa| Disk[\u6a94\u6848\u7cfb\u7d71]\n    Shadow --&gt;|\u9ad8\u98a8\u96aa| Human[\ud83d\udc64 \u4f60 (\u4eba\u5de5\u5be9\u6838)]\n    Human --&gt;|Yes| Disk\n    Human --&gt;|No| Reject[\u274c \u62d2\u7d55\u57f7\u884c]\n</code></pre>"},{"location":"features/shadow-mode_zh/#_3","title":"\ud83d\udcca \u4e09\u7a2e\u4fdd\u8b77\u7d1a\u5225","text":"\u7d1a\u5225 \u7b26\u865f \u884c\u70ba \u6700\u9069\u5408 <code>DISABLED</code> \u26a0\ufe0f \u7121\u6514\u622a \u50c5\u9650\u9694\u96e2\u5bb9\u5668 <code>ENABLED</code> \ud83d\udee1\ufe0f \u81ea\u52d5\u6279\u51c6\u4f4e\u98a8\u96aa\uff0c\u963b\u64cb\u9ad8\u98a8\u96aa \u9810\u8a2d - \u5e73\u8861 <code>STRICT</code> \ud83d\udd12 \u6514\u622a\u6240\u6709\u5beb\u5165\u64cd\u4f5c \u751f\u7522\u74b0\u5883"},{"location":"features/shadow-mode_zh/#_4","title":"\u7d1a\u5225\u8a73\u60c5","text":""},{"location":"features/shadow-mode_zh/#disabled","title":"DISABLED\uff08\u26a0\ufe0f \u8b39\u614e\u4f7f\u7528\uff09","text":"<p><pre><code>boring_shadow_mode(action=\"set_level\", level=\"DISABLED\")\n</code></pre> - \u4e0d\u6514\u622a\u4efb\u4f55\u64cd\u4f5c - \u6240\u6709\u5beb\u5165\u7acb\u5373\u57f7\u884c - \u50c5\u5728\u9694\u96e2\u5bb9\u5668\u6216\u6c99\u7bb1\u4e2d\u4f7f\u7528</p>"},{"location":"features/shadow-mode_zh/#enabled","title":"ENABLED\uff08\ud83d\udee1\ufe0f \u5efa\u8b70\u9810\u8a2d\u503c\uff09","text":"<p><pre><code>boring_shadow_mode(action=\"set_level\", level=\"ENABLED\")\n</code></pre> - \u81ea\u52d5\u6279\u51c6\uff1a\u8b80\u53d6\u64cd\u4f5c\u3001\u5c0f\u578b\u6a94\u6848\u7de8\u8f2f - \u8a18\u9304\uff1a\u4e2d\u98a8\u96aa\u8b8a\u66f4\uff08\u65b0\u6a94\u6848 &lt; 1KB\uff09 - \u963b\u64cb\uff1a\u522a\u9664\u3001\u7cfb\u7d71\u6a94\u6848\u3001\u5927\u578b\u91cd\u5beb</p>"},{"location":"features/shadow-mode_zh/#strict","title":"STRICT\uff08\ud83d\udd12 \u6700\u9ad8\u5b89\u5168\u6027\uff09","text":"<p><pre><code>boring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n</code></pre> - \u6240\u6709\u5beb\u5165\u64cd\u4f5c\u90fd\u9700\u8981\u6279\u51c6 - \u9069\u5408\u751f\u7522\u4ee3\u78bc\u5be9\u67e5 - \u7121\u6cd5\u900f\u904e\u4ee3\u7406\u88dc\u4e01\u7e5e\u904e</p>"},{"location":"features/shadow-mode_zh/#_5","title":"\ud83d\udd27 \u914d\u7f6e\u8207\u6301\u4e45\u5316","text":""},{"location":"features/shadow-mode_zh/#_6","title":"\u8de8\u6703\u8a71\u6301\u4e45\u5316","text":"<p>\u5f71\u5b50\u6a21\u5f0f\u8a2d\u5b9a\u6301\u4e45\u4fdd\u5b58\u5728 <code>~/.boring/brain/shadow_config.json</code>\uff1a</p> <pre><code>{\n  \"level\": \"STRICT\",\n  \"auto_approve_patterns\": [\"*.md\", \"docs/*\"],\n  \"always_block_patterns\": [\"*.env\", \"secrets/*\"],\n  \"last_updated\": \"2024-01-01T12:00:00Z\"\n}\n</code></pre>"},{"location":"features/shadow-mode_zh/#mcp","title":"MCP \u914d\u7f6e","text":"<p>\u5728 <code>smithery.yaml</code> \u6216 MCP \u914d\u7f6e\u4e2d\uff1a</p> <pre><code>SHADOW_MODE_LEVEL: \"STRICT\"    # DISABLED|ENABLED|STRICT\nBORING_ALLOW_DANGEROUS: false  # \u751f\u7522\u74b0\u5883\u7d55\u4e0d\u8a2d\u70ba true\n</code></pre>"},{"location":"features/shadow-mode_zh/#_7","title":"\ud83d\udcbb \u5de5\u5177\u53c3\u8003","text":""},{"location":"features/shadow-mode_zh/#_8","title":"\u6aa2\u67e5\u72c0\u614b","text":"<pre><code>boring_shadow_mode(action=\"status\")\n# \u8fd4\u56de: {\"level\": \"ENABLED\", \"pending_count\": 2}\n</code></pre>"},{"location":"features/shadow-mode_zh/#_9","title":"\u8a2d\u5b9a\u7d1a\u5225","text":"<pre><code>boring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n</code></pre>"},{"location":"features/shadow-mode_zh/#_10","title":"\u67e5\u770b\u5f85\u8655\u7406\u64cd\u4f5c","text":"<pre><code>boring_shadow_mode(action=\"list_pending\")\n# \u8fd4\u56de\u7b49\u5f85\u6279\u51c6\u7684\u64cd\u4f5c\u5217\u8868\n</code></pre>"},{"location":"features/shadow-mode_zh/#_11","title":"\u6279\u51c6/\u62d2\u7d55","text":"<pre><code>boring_shadow_mode(action=\"approve\", operation_id=\"op_123\")\nboring_shadow_mode(action=\"reject\", operation_id=\"op_123\")\n</code></pre>"},{"location":"features/shadow-mode_zh/#_12","title":"\ud83c\udfaf \u98a8\u96aa\u5206\u985e","text":""},{"location":"features/shadow-mode_zh/#enabled_1","title":"\u4f4e\u98a8\u96aa\uff08ENABLED \u6a21\u5f0f\u81ea\u52d5\u6279\u51c6\uff09","text":"<ul> <li>\u8b80\u53d6\u6a94\u6848</li> <li>\u5217\u51fa\u76ee\u9304</li> <li>\u67e5\u770b git \u72c0\u614b</li> <li>\u57f7\u884c\u552f\u8b80\u547d\u4ee4</li> </ul>"},{"location":"features/shadow-mode_zh/#_13","title":"\u4e2d\u98a8\u96aa\uff08\u8a18\u9304\u4e26\u57f7\u884c\uff09","text":"<ul> <li>\u5efa\u7acb\u5c0f\u578b\u6a94\u6848\uff08&lt; 1KB\uff09</li> <li>\u9644\u52a0\u5230\u73fe\u6709\u6a94\u6848</li> <li>\u57f7\u884c\u6e2c\u8a66</li> </ul>"},{"location":"features/shadow-mode_zh/#_14","title":"\u9ad8\u98a8\u96aa\uff08\u9700\u8981\u6279\u51c6\uff09","text":"<ul> <li>\u274c \u522a\u9664\u6a94\u6848</li> <li>\u274c \u4fee\u6539\u7cfb\u7d71\u6a94\u6848\uff08<code>.env</code>\u3001<code>config/*</code>\uff09</li> <li>\u274c \u5927\u578b\u6a94\u6848\u91cd\u5beb\uff08&gt; 50% \u5167\u5bb9\u8b8a\u66f4\uff09</li> <li>\u274c \u57f7\u884c\u6709\u526f\u4f5c\u7528\u7684 shell \u547d\u4ee4</li> <li>\u274c Git \u64cd\u4f5c\uff08push\u3001\u5f37\u5236\u64cd\u4f5c\uff09</li> </ul>"},{"location":"features/shadow-mode_zh/#v10175","title":"\ud83d\udd10 \u53d7\u4fdd\u8b77\u7684\u6a94\u6848\u5de5\u5177\uff08V10.17.5+\uff09","text":"<p>\u70ba\u78ba\u4fdd\u5f71\u5b50\u6a21\u5f0f\u4fdd\u8b77\uff0c\u8acb\u4f7f\u7528 Boring \u7684\u6a94\u6848\u5de5\u5177\uff1a</p> <pre><code># \u9019\u4e9b\u5de5\u5177\u7e3d\u662f\u9075\u5b88\u5f71\u5b50\u6a21\u5f0f\nboring_write_file(path=\"config.py\", content=\"...\")\nboring_read_file(path=\"src/main.py\")\n</code></pre> <p>\u26a0\ufe0f \u8b66\u544a\uff1a\u539f\u751f MCP \u5de5\u5177\u5982 <code>write_file</code>\uff08\u90e8\u5206\u5ba2\u6236\u7aef\u63d0\u4f9b\uff09\u53ef\u80fd\u4e0d\u6703\u88ab\u5f71\u5b50\u6a21\u5f0f\u6514\u622a\u3002\u8acb\u59cb\u7d42\u4f7f\u7528 <code>boring_write_file</code> \u9032\u884c\u5b89\u5168\u64cd\u4f5c\u3002</p>"},{"location":"features/shadow-mode_zh/#git-checkpoints-v1031","title":"\ud83d\udee1\ufe0f \u5b89\u5168\u7db2 (Git Checkpoints) (V10.31)","text":"<p>\u96d6\u7136\u5f71\u5b50\u6a21\u5f0f\u53ef\u4ee5\u6514\u622a\u500b\u5225\u64cd\u4f5c\uff0c\u4f46 \u5b89\u5168\u7db2 \u80fd\u5728\u9032\u884c\u8907\u96dc\u91cd\u69cb\u6642\u4fdd\u8b77\u60a8\u7684\u6574\u500b\u4ee3\u78bc\u5eab\u3002</p>"},{"location":"features/shadow-mode_zh/#_15","title":"\u904b\u4f5c\u539f\u7406","text":"<p>\u5b83\u6703\u5728\u60a8\u958b\u59cb\u4e4b\u524d\u5efa\u7acb\u4e00\u500b\u8f15\u91cf\u7d1a\u7684 Git \u6a19\u7c64 (Checkpoint)\u3002\u5982\u679c AI \u641e\u7838\u4e86\uff0c\u60a8\u53ef\u4ee5\u77ac\u9593\u9084\u539f\u5230\u8a72\u6aa2\u67e5\u9ede\u3002</p>"},{"location":"features/shadow-mode_zh/#_16","title":"\u7528\u6cd5","text":"<pre><code># 1. \u5efa\u7acb\u6aa2\u67e5\u9ede\nboring_checkpoint(action=\"save\", message=\"\u91cd\u69cb auth \u524d\")\n# \u56de\u50b3: \"Checkpoint 'checkpoint_20240101_120000' created\"\n\n# 2. \u57f7\u884c\u5371\u96aa\u64cd\u4f5c...\n# ...\n\n# 3. \u5982\u679c\u5931\u6557\uff0c\u9084\u539f\uff01\nboring_checkpoint(action=\"restore\", checkpoint_id=\"checkpoint_20240101_120000\")\n</code></pre> <p>\u6ce8\u610f: \u6b64\u529f\u80fd\u9700\u8981\u4e7e\u6de8\u7684\u5de5\u4f5c\u76ee\u9304\uff08\u6240\u6709\u8b8a\u66f4\u5df2\u63d0\u4ea4\uff09\u3002</p>"},{"location":"features/shadow-mode_zh/#_17","title":"\ud83c\udfe2 \u4f01\u696d\u4f7f\u7528\u6848\u4f8b","text":""},{"location":"features/shadow-mode_zh/#_18","title":"\u4ee3\u78bc\u5be9\u67e5\u5de5\u4f5c\u6d41\u7a0b","text":"<pre><code># \u5be9\u67e5\u8005\u8a2d\u5b9a STRICT \u6a21\u5f0f\nboring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n\n# AI \u63d0\u51fa\u8b8a\u66f4\uff0c\u5168\u90e8\u6392\u968a\u7b49\u5f85\u5be9\u67e5\n# \u5be9\u67e5\u8005\u6aa2\u67e5\u6bcf\u500b\u5f85\u8655\u7406\u64cd\u4f5c\n# \u50c5\u6279\u51c6\u5df2\u9a57\u8b49\u7684\u8b8a\u66f4\n</code></pre>"},{"location":"features/shadow-mode_zh/#cicd","title":"CI/CD \u6574\u5408","text":"<pre><code># \u5728 CI \u7ba1\u9053\u4e2d\n- name: \u4f7f\u7528\u5f71\u5b50\u6a21\u5f0f\u57f7\u884c Boring\n  env:\n    SHADOW_MODE_LEVEL: ENABLED\n    BORING_ALLOW_DANGEROUS: false\n</code></pre>"},{"location":"features/shadow-mode_zh/#_19","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>MCP \u5de5\u5177 - \u5de5\u5177\u53c3\u8003</li> <li>\u54c1\u8cea\u9598\u9053 - CI/CD \u6574\u5408</li> <li>\u5c08\u696d\u6280\u5de7 - \u5b89\u5168\u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"features/token-optimization/","title":"Token Optimization Guide","text":"<p>Requirement: Boring V10.28+</p> <p>Boring MCP introduces a new Token Optimization mechanism designed to address the cost and latency issues of large context windows. Through intelligent <code>verbosity</code> control and Prompt Caching, we can save up to 90% of token consumption.</p>"},{"location":"features/token-optimization/#core-concepts","title":"Core Concepts","text":""},{"location":"features/token-optimization/#1-verbosity-levels","title":"1. Verbosity Levels","text":"<p>All major tools now support the <code>verbosity</code> parameter, providing three levels of output:</p> Level Keyword Token Usage Use Case Content Minimal <code>minimal</code> ~20-100 Automated scans, initial checks Only status, scores, summary stats Standard (Default) <code>standard</code> ~500 Daily development, interactive queries Key summary, Top 5 issues, key code snippets Verbose <code>verbose</code> ~1000+ Deep debugging, full review Full report, all issue lists, fix suggestions"},{"location":"features/token-optimization/#2-prompt-caching","title":"2. Prompt Caching","text":"<p>For static content (like tool discovery <code>boring_discover</code>), we added special cache markers: <code>&lt;!-- CACHEABLE_CONTENT_START --&gt;</code> ... <code>&lt;!-- CACHEABLE_CONTENT_END --&gt;</code></p> <p>This allows Claude and Gemini's Prompt Caching mechanism to automatically identify and cache this constant content, drastically reducing billing tokens for repetitive requests.</p>"},{"location":"features/token-optimization/#configuration-guide","title":"\ud83d\udee0\ufe0f Configuration Guide","text":""},{"location":"features/token-optimization/#global-settings-recommended","title":"Global Settings (Recommended)","text":"<p>You can set the default verbosity for all tools via environment variables.</p> <p>Unix/Mac: <pre><code>export BORING_MCP_VERBOSITY=minimal\n</code></pre></p> <p>Windows (PowerShell): <pre><code>$env:BORING_MCP_VERBOSITY=\"minimal\"\n</code></pre></p> <p>MCP Config (<code>claude_desktop_config.json</code> or <code>smithery.yaml</code>): <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"boring-mcp\",\n      \"env\": {\n        \"BORING_MCP_VERBOSITY\": \"minimal\",\n        \"BORING_MCP_PROFILE\": \"ultra_lite\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"features/token-optimization/#single-call-override","title":"Single Call Override","text":"<p>You can override global settings at any time when calling a specific tool.</p> <pre><code># Even if global is minimal, this returns a detailed report\nboring_security_scan(project_path=\".\", verbosity=\"verbose\")\n</code></pre>"},{"location":"features/token-optimization/#tool-behavior-details","title":"\ud83d\udcca Tool Behavior Details","text":""},{"location":"features/token-optimization/#1-security-scan-boring_security_scan","title":"1. Security Scan (<code>boring_security_scan</code>)","text":"<ul> <li>Minimal: <code>{\"status\": \"failed\", \"summary\": \"Found 3 issues (Secrets: 1, ...)\", \"hint\": \"...\"}</code></li> <li>Standard: Includes <code>top_issues</code> (Top 5 issue summaries) and detailed breakdown statistics.</li> <li>Verbose: Fully includes all <code>issues</code> lists, with file paths, line numbers, fix suggestions, and full descriptions.</li> </ul>"},{"location":"features/token-optimization/#2-rag-search-boring_rag_search","title":"2. RAG Search (<code>boring_rag_search</code>)","text":"<ul> <li>Minimal: Lists only filenames and matching scores (<code>path/to/file.py (0.95)</code>).</li> <li>Standard: Shows matching files and key code snippets (Function/Class definitions).</li> <li>Verbose: Shows full function/class implementation content.</li> </ul>"},{"location":"features/token-optimization/#3-code-review-boring_code_review","title":"3. Code Review (<code>boring_code_review</code>)","text":"<ul> <li>Minimal: Shows only total issue count and severity distribution (<code>High: 2, Low: 5</code>).</li> <li>Standard: Shows summary of top 10 issues and AI-identified major patterns.</li> <li>Verbose: Lists all specific issues, modification suggestions (diff), and complete optimization strategies.</li> </ul>"},{"location":"features/token-optimization/#4-performance-tips-boring_perf_tips","title":"4. Performance Tips (<code>boring_perf_tips</code>)","text":"<ul> <li>Minimal: Shows only the count of optimization opportunities.</li> <li>Standard: Top 3 most important performance optimization suggestions.</li> <li>Verbose: Full analysis report, including complexity analysis and refactoring suggestions.</li> </ul>"},{"location":"features/token-optimization/#best-practices","title":"\ud83d\udca1 Best Practices","text":"<ol> <li>Daily Development: Use Standard (Default). It provides enough context for any LLM to understand while keeping reasonable token usage.</li> <li>Automation/CI: Use Minimal. If you are scripting checks for CI status, Minimal mode is the fastest and cheapest.</li> <li>When Stuck: Switch to Verbose. When AI cannot understand the problem from the summary, explicitly call <code>verbosity=\"verbose\"</code> to provide full context.</li> <li>Extreme Savings: Use with <code>BORING_MCP_PROFILE=\"ultra_lite\"</code>. This hides most tool descriptions, combined with <code>verbosity=\"minimal\"</code> for &gt;95% token savings.</li> </ol>"},{"location":"features/token-optimization/#faq","title":"FAQ","text":"<p>Q: Does Prompt Caching need extra configuration? A: No. As long as your LLM client (Claude/Gemini) supports and enables Caching, markers output by Boring MCP will take effect automatically.</p> <p>Q: Why does Minimal mode not return specific code lines? A: For extreme compression. Minimal mode assumes you only care about \"Are there problems\" or \"Which files\". If you need specific locations, use Standard.</p>"},{"location":"features/token-optimization_zh/","title":"Token Optimization \u5be6\u7528\u6307\u5357","text":"<p>\u7248\u672c\u9700\u6c42: Boring V10.28+</p> <p>Boring MCP \u5f15\u5165\u4e86\u5168\u65b0\u7684 Token \u512a\u5316\u6a5f\u5236\uff0c\u65e8\u5728\u89e3\u6c7a\u9577\u4e0a\u4e0b\u6587\u8996\u7a97\u5e36\u4f86\u7684\u6210\u672c\u8207\u5ef6\u9072\u554f\u984c\u3002\u901a\u904e\u667a\u80fd\u7684 <code>verbosity</code> \u63a7\u5236\u548c Prompt Caching\uff0c\u6211\u5011\u53ef\u4ee5\u7bc0\u7701\u9ad8\u9054 90% \u7684 Token \u6d88\u8017\u3002</p>"},{"location":"features/token-optimization_zh/#_1","title":"\u6838\u5fc3\u6982\u5ff5","text":""},{"location":"features/token-optimization_zh/#1-verbosity","title":"1. Verbosity \u7d1a\u5225","text":"<p>\u6240\u6709\u4e3b\u8981\u5de5\u5177\u73fe\u5728\u90fd\u652f\u6301 <code>verbosity</code> \u53c3\u6578\uff0c\u63d0\u4f9b\u4e09\u500b\u7d1a\u5225\u7684\u8f38\u51fa\uff1a</p> \u7d1a\u5225 \u95dc\u9375\u5b57 Token \u6d88\u8017 \u9069\u7528\u5834\u666f \u56de\u50b3\u5167\u5bb9 \u6975\u7c21 <code>minimal</code> ~20-100 \u81ea\u52d5\u5316\u6383\u63cf\u3001\u521d\u6b65\u6aa2\u67e5 \u50c5\u72c0\u614b\u3001\u5206\u6578\u3001\u7d71\u8a08\u6458\u8981 \u6a19\u6e96 (\u9810\u8a2d) <code>standard</code> ~500 \u65e5\u5e38\u958b\u767c\u3001\u4e92\u52d5\u5f0f\u67e5\u8a62 \u91cd\u9ede\u6458\u8981\u3001Top 5 \u554f\u984c\u3001\u95dc\u9375\u4ee3\u78bc\u6bb5 \u8a73\u7d30 <code>verbose</code> ~1000+ \u6df1\u5ea6\u9664\u932f\u3001\u5b8c\u6574\u5be9\u67e5 \u5b8c\u6574\u5831\u544a\u3001\u6240\u6709\u554f\u984c\u5217\u8868\u3001\u4fee\u5fa9\u5efa\u8b70"},{"location":"features/token-optimization_zh/#2-prompt-caching","title":"2. Prompt Caching","text":"<p>\u5c0d\u65bc\u975c\u614b\u5167\u5bb9\uff08\u5982\u5de5\u5177\u767c\u73fe <code>boring_discover</code>\uff09\uff0c\u6211\u5011\u52a0\u5165\u4e86\u7279\u6b8a\u7684\u7de9\u5b58\u6a19\u8a18\uff1a <code>&lt;!-- CACHEABLE_CONTENT_START --&gt;</code> ... <code>&lt;!-- CACHEABLE_CONTENT_END --&gt;</code></p> <p>\u9019\u5141\u8a31 Claude \u548c Gemini \u7684 Prompt Caching \u6a5f\u5236\u81ea\u52d5\u8b58\u5225\u4e26\u7de9\u5b58\u9019\u4e9b\u5e38\u6578\u5167\u5bb9\uff0c\u5927\u5e45\u964d\u4f4e\u91cd\u8907\u8acb\u6c42\u7684 Token \u8a08\u8cbb\u3002</p>"},{"location":"features/token-optimization_zh/#_2","title":"\ud83d\udee0\ufe0f \u914d\u7f6e\u6307\u5357","text":""},{"location":"features/token-optimization_zh/#_3","title":"\u5168\u5c40\u8a2d\u5b9a (\u63a8\u85a6)","text":"<p>\u4f60\u53ef\u4ee5\u901a\u904e\u74b0\u5883\u8b8a\u6578\u5168\u5c40\u8a2d\u5b9a\u6240\u6709\u5de5\u5177\u7684\u9810\u8a2d\u8a73\u7d30\u5ea6\u3002</p> <p>Unix/Mac: <pre><code>export BORING_MCP_VERBOSITY=minimal\n</code></pre></p> <p>Windows (PowerShell): <pre><code>$env:BORING_MCP_VERBOSITY=\"minimal\"\n</code></pre></p> <p>MCP Config (<code>claude_desktop_config.json</code> \u6216 <code>smithery.yaml</code>): <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"boring-mcp\",\n      \"env\": {\n        \"BORING_MCP_VERBOSITY\": \"minimal\",\n        \"BORING_MCP_PROFILE\": \"ultra_lite\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"features/token-optimization_zh/#override","title":"\u55ae\u6b21\u8abf\u7528\u8986\u5beb (Override)","text":"<p>\u5728\u8abf\u7528\u7279\u5b9a\u5de5\u5177\u6642\uff0c\u4f60\u53ef\u4ee5\u96a8\u6642\u901a\u904e\u53c3\u6578\u8986\u5beb\u5168\u5c40\u8a2d\u5b9a\u3002</p> <pre><code># \u5373\u4f7f\u5168\u5c40\u662f minimal\uff0c\u9019\u88e1\u4ecd\u6703\u8fd4\u56de\u8a73\u7d30\u5831\u544a\nboring_security_scan(project_path=\".\", verbosity=\"verbose\")\n</code></pre>"},{"location":"features/token-optimization_zh/#_4","title":"\ud83d\udcca \u5de5\u5177\u884c\u70ba\u8a73\u89e3","text":""},{"location":"features/token-optimization_zh/#1-boring_security_scan","title":"1. \u5b89\u5168\u6383\u63cf (<code>boring_security_scan</code>)","text":"<ul> <li>Minimal: <code>{\"status\": \"failed\", \"summary\": \"Found 3 issues (Secrets: 1, ...)\", \"hint\": \"...\"}</code></li> <li>Standard: \u5305\u542b <code>top_issues</code> (\u524d 5 \u500b\u554f\u984c\u6458\u8981) \u548c\u8a73\u7d30\u5206\u985e\u7d71\u8a08\u3002</li> <li>Verbose: \u5b8c\u6574\u5305\u542b\u6240\u6709\u554f\u984c\u7684 <code>issues</code> \u5217\u8868\uff0c\u542b\u6a94\u6848\u8def\u5f91\u3001\u884c\u865f\u3001\u4fee\u5fa9\u5efa\u8b70\u548c\u5b8c\u6574\u63cf\u8ff0\u3002</li> </ul>"},{"location":"features/token-optimization_zh/#2-rag-boring_rag_search","title":"2. RAG \u641c\u5c0b (<code>boring_rag_search</code>)","text":"<ul> <li>Minimal: \u50c5\u5217\u51fa\u6a94\u6848\u540d\u7a31\u548c\u5339\u914d\u5206\u6578 (<code>path/to/file.py (0.95)</code>)\u3002</li> <li>Standard: \u986f\u793a\u5339\u914d\u7684\u6a94\u6848\u53ca\u95dc\u9375\u7684 \u4ee3\u78bc\u7247\u6bb5 (Function/Class \u5b9a\u7fa9)\u3002</li> <li>Verbose: \u986f\u793a\u5b8c\u6574\u7684\u51fd\u6578/\u985e\u5225\u5be6\u4f5c\u5167\u5bb9\u3002</li> </ul>"},{"location":"features/token-optimization_zh/#3-boring_code_review","title":"3. \u4ee3\u78bc\u5be9\u67e5 (<code>boring_code_review</code>)","text":"<ul> <li>Minimal: \u50c5\u986f\u793a\u554f\u984c\u7e3d\u6578\u548c\u56b4\u91cd\u7a0b\u5ea6\u5206\u4f48 (<code>High: 2, Low: 5</code>)\u3002</li> <li>Standard: \u986f\u793a\u524d 10 \u500b\u554f\u984c\u6458\u8981\u53ca AI \u8b58\u5225\u7684\u4e3b\u8981\u6a21\u5f0f\u3002</li> <li>Verbose: \u5217\u51fa\u6240\u6709\u5177\u9ad4\u554f\u984c\u3001\u4fee\u6539\u5efa\u8b70 (diff) \u548c\u5b8c\u6574\u7684\u512a\u5316\u7b56\u7565\u3002</li> </ul>"},{"location":"features/token-optimization_zh/#4-boring_perf_tips","title":"4. \u6027\u80fd\u5efa\u8b70 (<code>boring_perf_tips</code>)","text":"<ul> <li>Minimal: \u50c5\u986f\u793a\u512a\u5316\u6a5f\u6703\u6578\u91cf\u3002</li> <li>Standard: \u524d 3 \u500b\u6700\u91cd\u8981\u7684\u6027\u80fd\u512a\u5316\u5efa\u8b70\u3002</li> <li>Verbose: \u5b8c\u6574\u5206\u6790\u5831\u544a\uff0c\u5305\u62ec\u8907\u96dc\u5ea6\u5206\u6790\u548c\u91cd\u69cb\u5efa\u8b70\u3002</li> </ul>"},{"location":"features/token-optimization_zh/#best-practices","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10 (Best Practices)","text":"<ol> <li>\u65e5\u5e38\u958b\u767c: \u4f7f\u7528 Standard (\u9810\u8a2d)\u3002\u5b83\u63d0\u4f9b\u4e86\u8db3\u5920\u7684\u4e0a\u4e0b\u6587\u4f9b LLM \u7406\u89e3\uff0c\u540c\u6642\u4fdd\u6301\u5408\u7406\u7684 Token \u7528\u91cf\u3002</li> <li>\u81ea\u52d5\u5316/CI: \u4f7f\u7528 Minimal\u3002\u5982\u679c\u4f60\u662f\u7de8\u5beb\u8173\u672c\u4f86\u6aa2\u67e5 CI \u72c0\u614b\uff0cMinimal \u6a21\u5f0f\u6700\u5feb\u4e14\u6700\u7701\u9322\u3002</li> <li>\u9047\u5230\u56f0\u96e3\u6642: \u5207\u63db\u5230 Verbose\u3002\u7576 AI \u7121\u6cd5\u6839\u64da\u6458\u8981\u7406\u89e3\u554f\u984c\u6642\uff0c\u986f\u5f0f\u8abf\u7528 <code>verbosity=\"verbose\"</code> \u63d0\u4f9b\u5b8c\u6574\u4e0a\u4e0b\u6587\u3002</li> <li>\u6975\u81f4\u7701\u9322: \u914d\u5408 <code>BORING_MCP_PROFILE=\"ultra_lite\"</code> \u4f7f\u7528\u3002\u9019\u6703\u96b1\u85cf\u5927\u90e8\u5206\u5de5\u5177\u63cf\u8ff0\uff0c\u7d50\u5408 <code>verbosity=\"minimal\"</code> \u53ef\u5be6\u73fe 95% \u4ee5\u4e0a\u7684 Token \u7bc0\u7701\u3002</li> </ol>"},{"location":"features/token-optimization_zh/#_5","title":"\u5e38\u898b\u554f\u984c","text":"<p>Q: Prompt Caching \u9700\u8981\u984d\u5916\u914d\u7f6e\u55ce\uff1f A: \u4e0d\u9700\u8981\u3002\u53ea\u8981\u4f60\u7684 LLM \u5ba2\u6236\u7aef (Claude/Gemini) \u652f\u63f4\u4e26\u555f\u7528\u4e86 Caching\uff0cBoring MCP \u8f38\u51fa\u7684\u6a19\u8a18\u6703\u81ea\u52d5\u751f\u6548\u3002</p> <p>Q: \u70ba\u4ec0\u9ebc Minimal \u6a21\u5f0f\u6c92\u6709\u8fd4\u56de\u5177\u9ad4\u4ee3\u78bc\u884c\uff1f A: \u70ba\u4e86\u6975\u81f4\u58d3\u7e2e\u3002Minimal \u6a21\u5f0f\u5047\u8a2d\u4f60\u53ea\u95dc\u5fc3\u300c\u6709\u6c92\u6709\u554f\u984c\u300d\u6216\u300c\u5728\u54ea\u500b\u6a94\u6848\u300d\u3002\u5982\u679c\u9700\u8981\u5177\u9ad4\u4f4d\u7f6e\uff0c\u8acb\u4f7f\u7528 Standard\u3002</p>"},{"location":"features/usage-dashboard/","title":"Usage Analytics Dashboard (P4)","text":"<p>\"Know your Agent.\"</p> <p>The Usage Analytics Dashboard (P4) provides deep insights into how your AI Agent is interacting with your project. It transforms the \"Black Box\" of AI operations into transparent, actionable metrics.</p>"},{"location":"features/usage-dashboard/#features","title":"Features","text":""},{"location":"features/usage-dashboard/#1-personal-stats-panel","title":"1. Personal Stats Panel","text":"<p>Available in both the CLI Monitor and Web Dashboard, this panel shows: - Top Tools: Which tools does the Agent use most? (e.g., <code>read_file</code> vs <code>boring_rag_search</code>) - Activity Volume: Total API calls over time. - Efficiency: Identifying unused or redundant tool calls.</p>"},{"location":"features/usage-dashboard/#2-self-awareness-mcp-tool","title":"2. Self-Awareness (MCP Tool)","text":"<p>We introduced a specific tool, <code>boring_usage_stats</code>, that allows the Agent to introspect its own behavior. - Prompt: \"How much have I used the RAG tools today?\" - Response: The Agent queries <code>usage.json</code> and reports its own efficiency.</p>"},{"location":"features/usage-dashboard/#accessing-the-dashboard","title":"Accessing the Dashboard","text":""},{"location":"features/usage-dashboard/#cli-monitor-tui","title":"CLI Monitor (TUI)","text":"<p>Fast, terminal-based monitoring.</p> <pre><code>boring-monitor\n</code></pre>"},{"location":"features/usage-dashboard/#web-dashboard-streamlit","title":"Web Dashboard (Streamlit)","text":"<p>Rich, graphical visualization.</p> <p><pre><code>boring-monitor --web\n</code></pre> (Requires <code>boring-aicoding[gui]</code>)</p>"},{"location":"features/usage-dashboard/#data-storage","title":"Data Storage","text":"<p>Stats are persisted in <code>~/.boring/usage.json</code>. This JSON file acts as the \"Long-Term Episodic Memory\" for tool usage patterns.</p>"},{"location":"features/usage-dashboard_zh/","title":"\u4f7f\u7528\u91cf\u5206\u6790\u5100\u8868\u677f (Usage Analytics Dashboard) - P4","text":"<p>\"\u4e86\u89e3\u4f60\u7684 Agent\u3002\"</p> <p>\u4f7f\u7528\u91cf\u5206\u6790\u5100\u8868\u677f (P4) \u63d0\u4f9b\u6df1\u5165\u7684\u6d1e\u5bdf\uff0c\u8b93\u60a8\u4e86\u89e3 AI Agent \u5982\u4f55\u8207\u5c08\u6848\u4e92\u52d5\u3002\u5b83\u5c07 AI \u64cd\u4f5c\u7684 \"\u9ed1\u76d2\u5b50\" \u8f49\u5316\u70ba\u900f\u660e\u3001\u53ef\u64cd\u4f5c\u7684\u6307\u6a19\u3002</p>"},{"location":"features/usage-dashboard_zh/#_1","title":"\u529f\u80fd\u7279\u8272","text":""},{"location":"features/usage-dashboard_zh/#1-personal-stats-panel","title":"1. \u500b\u4eba\u7d71\u8a08\u9762\u677f (Personal Stats Panel)","text":"<p>\u5728 CLI Monitor \u548c Web Dashboard \u4e2d\u5747\u53ef\u4f7f\u7528\uff0c\u986f\u793a\uff1a - \u71b1\u9580\u5de5\u5177\uff1aAgent \u6700\u5e38\u4f7f\u7528\u54ea\u4e9b\u5de5\u5177\uff1f\uff08\u4f8b\u5982\uff1a<code>read_file</code> vs <code>boring_rag_search</code>\uff09 - \u6d3b\u52d5\u91cf\uff1a\u96a8\u6642\u9593\u8b8a\u5316\u7684 API \u547c\u53eb\u7e3d\u6578\u3002 - \u6548\u7387\u5206\u6790\uff1a\u8b58\u5225\u672a\u4f7f\u7528\u6216\u591a\u9918\u7684\u5de5\u5177\u547c\u53eb\u3002</p>"},{"location":"features/usage-dashboard_zh/#2-self-awareness-mcp-tool","title":"2. \u81ea\u6211\u610f\u8b58 (Self-Awareness MCP Tool)","text":"<p>\u6211\u5011\u5f15\u5165\u4e86\u4e00\u500b\u7279\u6b8a\u5de5\u5177 <code>boring_usage_stats</code>\uff0c\u5141\u8a31 Agent \u5167\u7701 \u81ea\u5df1\u7684\u884c\u70ba\u3002 - \u63d0\u554f\uff1a\"\u6211\u4eca\u5929\u7528\u4e86\u591a\u5c11\u6b21 RAG \u5de5\u5177\uff1f\" - \u56de\u61c9\uff1aAgent \u67e5\u8a62 <code>usage.json</code> \u4e26\u5831\u544a\u81ea\u5df1\u7684\u6548\u7387\u3002</p>"},{"location":"features/usage-dashboard_zh/#_2","title":"\u5b58\u53d6\u5100\u8868\u677f","text":""},{"location":"features/usage-dashboard_zh/#cli-monitor-tui","title":"CLI Monitor (TUI)","text":"<p>\u5feb\u901f\u3001\u57fa\u65bc\u7d42\u7aef\u7684\u76e3\u63a7\u4ecb\u9762\u3002</p> <pre><code>boring-monitor\n</code></pre>"},{"location":"features/usage-dashboard_zh/#web-dashboard-streamlit","title":"Web Dashboard (Streamlit)","text":"<p>\u8c50\u5bcc\u7684\u5716\u5f62\u5316\u8996\u89ba\u5448\u73fe\u3002</p> <p><pre><code>boring-monitor --web\n</code></pre> \uff08\u9700\u8981\u5b89\u88dd <code>boring-aicoding[gui]</code>\uff09</p>"},{"location":"features/usage-dashboard_zh/#_3","title":"\u6578\u64da\u5132\u5b58","text":"<p>\u7d71\u8a08\u6578\u64da\u6301\u4e45\u5316\u5132\u5b58\u5728 <code>~/.boring/usage.json</code>\u3002\u9019\u500b JSON \u6a94\u6848\u5145\u7576\u5de5\u5177\u4f7f\u7528\u6a21\u5f0f\u7684 \"\u9577\u671f\u60c5\u7bc0\u8a18\u61b6\"\u3002</p>"},{"location":"features/vibe-coder/","title":"\u2728 Vibe Coder Experience (V10.24)","text":"<p>Philosophy: \"Don't write code. Just describe the vibe.\"</p> <p>The Vibe Coder feature set in Boring-Gemini V10.24 is designed for the modern AI-assisted developer who prefers natural language over manual configuration. It transforms the 60+ complex MCP tools into a seamless, conversational interface.</p>"},{"location":"features/vibe-coder/#the-universal-router","title":"\ud83c\udfaf The Universal Router","text":"<p>Instead of remembering dozens of tool names like <code>boring_rag_search</code>, <code>boring_security_scan</code>, or <code>boring_test_gen</code>, you now have a single entry point: <code>boring()</code>.</p>"},{"location":"features/vibe-coder/#how-it-works","title":"How it Works","text":"<p>The router uses semantic analysis to understand your intent and route your request to the best tool.</p> <pre><code># Old Way (Classic MCP)\n# You had to know the tool name and specific parameters\nclient.call_tool(\"boring_rag_search\", query=\"authentication logic\", threshold=0.5)\n\n# \u2728 Vibe Coder Way\n# Just say what you want\nboring(\"search for authentication logic\")\n</code></pre>"},{"location":"features/vibe-coder/#supported-categories","title":"Supported Categories","text":"<p>The router understands intents across 17 categories:</p> Category Keywords (English/Chinese) Target Tools Coding <code>code</code>, <code>search</code>, <code>\u627e\u7a0b\u5f0f\u78bc</code> <code>rag_search</code> Testing <code>test</code>, <code>verify</code>, <code>\u5e6b\u6211\u5beb\u6e2c\u8a66</code> <code>test_gen</code>, <code>verify</code> Review <code>review</code>, <code>audit</code>, <code>\u5be9\u67e5</code>, <code>\u5065\u6aa2</code> <code>code_review</code>, <code>security_scan</code> Planning <code>plan</code>, <code>architect</code>, <code>\u6211\u60f3\u505a...</code> <code>prompt_plan</code> Git <code>commit</code>, <code>push</code>, <code>\u63d0\u4ea4</code> <code>commit</code> Reasoning <code>reason</code>, <code>think</code>, <code>\u5206\u6790</code>, <code>\u601d\u8003</code> <code>critical_think</code>"},{"location":"features/vibe-coder/#cli-usage-boring-route","title":"\ud83d\udcbb CLI Usage: <code>boring-route</code>","text":"<p>We've added a CLI tool so you can use Vibe Coder capabilities directly from your terminal, without needing an elaborate IDE setup.</p> <pre><code># Ask for tests\nboring-route \"\u5e2e\u6211\u5199\u6d4b\u8bd5\"\n# \ud83c\udfaf Matched: boring_test_gen (100%)\n\n# Check security\nboring-route \"review my code for security\"\n# \ud83c\udfaf Matched: boring_security_scan (85%)\n</code></pre>"},{"location":"features/vibe-coder/#tool-profiles","title":"\ud83c\udf9b\ufe0f Tool Profiles","text":"<p>To further optimize your experience and save LLM token usage, we introduced Tool Profiles.</p> Profile Tools Loaded Best For Minimal 8 Pure conversation, minimal overhead Lite (Default) 19 Everyday Vibe Coding (Router + Essentials) Standard 50 Heavy development tasks Full 60+ Power user, full control"},{"location":"features/vibe-coder/#configuration","title":"Configuration","text":"<p>In <code>.boring.toml</code>: <pre><code>[boring.mcp]\nprofile = \"lite\"\nenable_router = true\n</code></pre></p>"},{"location":"features/vibe-coder/#why-this-matters","title":"\ud83d\ude80 Why This Matters","text":"<ol> <li>Context Efficiency: Reduces context window usage by ~80% (19 tools vs 60 tools).</li> <li>Accuracy: The router logic helps the LLM avoid \"hallucinating\" tool names.</li> <li>Speed: Faster tool selection means faster turnaround time.</li> <li>Simplicity: You only need to know one function: <code>boring()</code>.</li> </ol>"},{"location":"features/vibe-coder_zh/","title":"\u2728 Vibe Coder \u9ad4\u9a57 (\u81ea\u7136\u8a9e\u8a00\u64cd\u4f5c)","text":"<p>\u7c21\u55ae\u8aaa\uff1a\u5c31\u50cf\u8ddf\u771f\u4eba\u8cc7\u6df1\u5de5\u7a0b\u5e2b\u8b1b\u8a71\u4e00\u6a23\u3002\u4f60\u4e0d\u7528\u8a18\u6307\u4ee4\uff0c\u53ea\u8981\u8aaa\u4eba\u8a71\u3002</p>"},{"location":"features/vibe-coder_zh/#just-ask","title":"\ud83d\ude4b \u53ea\u8981\u958b\u53e3\u8aaa (Just Ask)","text":"<p>\u4ee5\u524d\u4f60\u8981\u8a18\u4f4f\u4e00\u5806\u6307\u4ee4\uff1a<code>boring-rag --query \"login\" --limit 5</code>\u3002 \u73fe\u5728\uff0c\u4f60\u53ea\u8981\u544a\u8a34 Vibe Coder (\u6211\u5011\u7684 AI \u8def\u7531\u52a9\u624b)\uff1a</p> <p>\"\u5e6b\u6211\u627e\u4e00\u4e0b\u767b\u5165\u908f\u8f2f\u58de\u5728\u54ea\" \"\u9019\u6bb5\u4ee3\u78bc\u5b89\u5168\u55ce\uff1f\" \"\u5e6b\u6211\u628a\u9019\u500b\u8b8a\u6578\u6539\u540d\"</p> <p>\u5b83\u6703\u807d\u61c2\u4f60\u7684\u610f\u601d\uff0c\u7136\u5f8c\u81ea\u52d5\u53bb\u5e6b\u4f60\u8dd1\u5de5\u5177\u3002</p>"},{"location":"features/vibe-coder_zh/#cheat-sheet","title":"\ud83d\udde3\ufe0f \u91d1\u53e5\u5c0f\u6284 (Cheat Sheet)","text":"<p>\u628a\u9019\u4e9b\u53e5\u5b50\u8a18\u4e0b\u4f86\uff0c\u6216\u662f\u76f4\u63a5\u8907\u88fd\u8cbc\u4e0a\uff1a</p>"},{"location":"features/vibe-coder_zh/#1-rag","title":"1. \u627e\u6771\u897f (RAG)","text":"<ul> <li>\u300c\u5e6b\u6211\u627e\u4e00\u4e0b\u8ddf [\u529f\u80fd] \u6709\u95dc\u7684\u7a0b\u5f0f\u78bc\u300d</li> <li>\u300c[\u51fd\u5f0f\u540d\u7a31] \u662f\u505a\u4ec0\u9ebc\u7528\u7684\uff1f\u300d</li> <li>\u300c\u54ea\u88e1\u6709\u7528\u5230 [\u8b8a\u6578]\uff1f\u300d</li> </ul>"},{"location":"features/vibe-coder_zh/#2-review","title":"2. \u6aa2\u67e5\u54c1\u8cea (Review)","text":"<ul> <li>\u300c\u5e6b\u6211 Code Review \u525b\u5beb\u7684\u6a94\u6848\u300d</li> <li>\u300c\u6aa2\u67e5\u9019\u6bb5\u6709\u6c92\u6709 \u5b89\u5168\u6f0f\u6d1e\u300d</li> <li>\u300c\u9019\u5beb\u6cd5 \u6548\u80fd \u597d\u55ce\uff1f\u300d</li> </ul>"},{"location":"features/vibe-coder_zh/#3-action","title":"3. \u52d5\u624b\u505a (Action)","text":"<ul> <li>\u300c\u5e6b\u6211\u70ba\u9019\u500b\u6a94\u6848 \u5beb\u6e2c\u8a66\u300d</li> <li>\u300c\u5e6b\u6211\u628a\u9019\u500b\u529f\u80fd \u63d0\u4ea4 (Commit)\u300d</li> <li>\u300c\u5e6b\u6211 \u64ec\u5b9a\u8a08\u756b\u300d</li> <li>\u300c\u5e6b\u6211 \u6df1\u5165\u5206\u6790/\u601d\u8003 \u9019\u6bb5\u908f\u8f2f\u300d</li> </ul>"},{"location":"features/vibe-coder_zh/#_1","title":"\ud83d\ude80 \u80cc\u5f8c\u539f\u7406 (\u7d66\u597d\u5947\u7684\u4eba)","text":"<p>\u4f60\u53ea\u6709\u4e00\u500b\u5165\u53e3\uff1a<code>boring()</code>\u3002</p> <p>\u7576\u4f60\u8aaa\u8a71\u6642\uff0cVibe Coder \u6703\u9032\u884c\u300c\u610f\u5716\u5206\u6790\u300d\uff1a 1.  \u4f60\u8aaa\uff1a\u300c\u5e6b\u6211\u627e\u767b\u5165\u908f\u8f2f\u300d 2.  \u5206\u6790\uff1a\u300c\u610f\u5716 = \u641c\u5c0b\u4ee3\u78bc\u300d 3.  \u57f7\u884c\uff1a\u547c\u53eb <code>boring_rag_search</code> \u5de5\u5177</p> <p>\u9019\u4ee3\u8868\u4f60\u4e0d\u518d\u9700\u8981\u53bb\u8a18\u90a3 98 \u500b\u8907\u96dc\u7684\u5de5\u5177\u540d\u7a31\u4e86\u3002</p>"},{"location":"features/vibe-coder_zh/#profile","title":"\ud83c\udf9b\ufe0f \u5982\u4f55\u8a2d\u5b9a\uff1f (Profile)","text":"<p>\u6211\u5011\u63d0\u4f9b\u4e86\u4e0d\u540c\u7684\u300c\u5de5\u5177\u5305\u300d\u6a21\u5f0f\uff0c\u5728 <code>.boring.toml</code> \u6216 <code>mcp.json</code> \u8a2d\u5b9a <code>BORING_MCP_PROFILE</code>\uff1a</p> <ul> <li><code>ultra_lite</code> (\u8d85\u7d1a\u7701\u9322\u5305)\uff1a\u53ea\u7d66\u4f60\u6700\u57fa\u672c\u7684\u641c\u5c0b\u548c\u8b80\u5beb\u529f\u80fd\u3002\u9069\u5408\u53ea\u60f3\u7c21\u55ae\u554f\u7b54\u7684\u4eba\u3002</li> <li><code>lite</code> (\u63a8\u85a6)\uff1a\u5305\u542b\u641c\u5c0b\u3001\u8b80\u5beb\u3001\u57fa\u672c\u6e2c\u8a66\u3002\u9069\u5408 90% \u7684\u65e5\u5e38\u958b\u767c\u3002</li> <li><code>standard</code>\uff1a\u5168\u529f\u80fd\u958b\u767c\u3002</li> </ul>"},{"location":"getting-started/installation/","title":"\u5b89\u88dd\u6307\u5357 (Installation)","text":"<p>\ud83d\ude80 \u63a8\u85a6\u65b9\u5f0f: \u4f7f\u7528 One-Click Bootstrapper (\u81ea\u52d5\u914d\u7f6e\u74b0\u5883\u8207 MCP)\u3002 \u624b\u52d5\u65b9\u5f0f: \u4f7f\u7528 <code>pip</code> \u5b89\u88dd\u5f8c\u57f7\u884c <code>boring wizard</code>\u3002</p>"},{"location":"getting-started/installation/#1-one-click-bootstrapper","title":"\ud83d\ude80 \u65b9\u5f0f 1: One-Click Bootstrapper (\u63a8\u85a6)","text":"<p>\u9019\u662f\u4e00\u9375\u5b8c\u6210\u5b89\u88dd\u8207\u914d\u7f6e\u7684\u6700\u5feb\u65b9\u5f0f\u3002\u5b83\u6703\u81ea\u52d5\uff1a 1. \u70ba Boring \u5efa\u7acb\u7368\u7acb\u7684 Python \u865b\u64ec\u74b0\u5883 (<code>~/.boring/env</code>) 2. \u5b89\u88dd\u6700\u65b0\u7248 <code>boring-aicoding</code> 3. \u81ea\u52d5\u555f\u52d5\u914d\u7f6e\u7cbe\u9748 (<code>boring wizard</code>) \u4f86\u8a2d\u5b9a\u4f60\u7684\u7de8\u8f2f\u5668 (Cursor/Claude/VSCode)</p>"},{"location":"getting-started/installation/#windows-powershell","title":"Windows (PowerShell)","text":"<pre><code>powershell -c \"irm https://raw.githubusercontent.com/Boring206/boring-gemini/main/scripts/install.ps1 | iex\"\n</code></pre>"},{"location":"getting-started/installation/#linux-macos","title":"Linux / macOS","text":"<pre><code>curl -fsSL https://raw.githubusercontent.com/Boring206/boring-gemini/main/scripts/install.sh | bash\n</code></pre>"},{"location":"getting-started/installation/#2-pip","title":"\ud83d\udee0\ufe0f \u65b9\u5f0f 2: \u624b\u52d5\u5b89\u88dd (pip)","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u624b\u52d5\u7ba1\u7406 Python \u74b0\u5883\uff1a</p>"},{"location":"getting-started/installation/#1","title":"1. \u5b89\u88dd\u5957\u4ef6","text":"<pre><code># \u63a8\u85a6 (\u5305\u542b RAG \u652f\u6301)\npip install \"boring-aicoding[all]\"\n\n# \u6216\u8005\u57fa\u790e\u7248\npip install boring-aicoding\n</code></pre>"},{"location":"getting-started/installation/#2-mcp","title":"2. \u914d\u7f6e\u7de8\u8f2f\u5668 (MCP)","text":"<p>\u57f7\u884c\u6b64\u6307\u4ee4\u4f86\u81ea\u52d5\u6383\u63cf\u4e26\u914d\u7f6e\u4f60\u7684 IDE\uff1a <pre><code>boring wizard\n</code></pre> (\u652f\u63f4\u8a2d\u5b9a Standard/Lite/Full/Custom \u914d\u7f6e\u6a94)</p>"},{"location":"getting-started/installation/#supported-clients","title":"\ud83d\udda5\ufe0f \u652f\u63f4\u7684\u7de8\u8f2f\u5668\u8207\u5ba2\u6236\u7aef (Supported Clients)","text":"<p>Boring Wizard (V14+) \u652f\u63f4\u81ea\u52d5\u5075\u6e2c\u8207\u914d\u7f6e\u4ee5\u4e0b 15+ \u7a2e AI \u5ba2\u6236\u7aef\uff1a</p>"},{"location":"getting-started/installation/#ides-editors","title":"\ud83d\udfe2 IDEs &amp; Editors","text":"<ul> <li>Cursor (\u539f\u751f\u652f\u63f4)</li> <li>VS Code (\u914d\u5408 Cline / Continue)</li> <li>Windsurf (Codeium)</li> <li>Trae (ByteDance)</li> <li>Void (Fork of Cursor)</li> <li>OpenCode</li> </ul>"},{"location":"getting-started/installation/#cli-agents","title":"\ud83d\udd35 CLI Agents","text":"<ul> <li>Claude Code (Anthropic)</li> <li>Goose (Block)</li> <li>Aider (Pair Programming)</li> <li>Gemini CLI (Google)</li> <li>Qwen Code</li> </ul>"},{"location":"getting-started/installation/#autonomous-agents","title":"\ud83d\udfe3 Autonomous Agents","text":"<ul> <li>OpenHands (All-in-One)</li> <li>Cline (Autonomous)</li> <li>Continue.dev (Extension)</li> </ul> <p>\ud83d\udca1 \u63d0\u793a: \u53ea\u9700\u57f7\u884c <code>boring wizard</code>\uff0c\u7cfb\u7d71\u6703\u81ea\u52d5\u6383\u63cf\u60a8\u5df2\u5b89\u88dd\u7684\u8edf\u9ad4\u4e26\u63d0\u4f9b\u914d\u7f6e\u9078\u9805\u3002</p> \ud83d\udee0\ufe0f \u624b\u52d5\u914d\u7f6e\u53c3\u8003 (Manual Config Reference)  \u82e5\u60a8\u9700\u8981\u624b\u52d5\u914d\u7f6e MCP\uff0c\u4ee5\u4e0b\u662f\u5404\u5ba2\u6236\u7aef\u7684\u6a19\u6e96\u914d\u7f6e\u8def\u5f91\uff1a  | \u5ba2\u6236\u7aef | \u914d\u7f6e\u6a94\u8def\u5f91 | \u683c\u5f0f | |--------|------------|------| | **Claude** | `~/.claude.json` | JSON | | **Goose** | `~/.config/goose/config.yaml` | YAML | | **Continue** | `~/.continue/mcpServers/boring.yaml` | YAML | | **Windsurf** | `~/.../Windsurf/User/globalStorage/mcpServers.json` | JSON | | **Trae** | `~/.../Trae/User/globalStorage/mcpServers.json` | JSON | | **Aider** | `.aider.conf.yml` | YAML | | **Cline** | VSCode Settings (`cline.mcpServers`) | JSON |"},{"location":"getting-started/installation/#3-smithery-uv","title":"\u26a1 \u65b9\u5f0f 3: \u9032\u968e\u7528\u6236 (Smithery / uv)","text":"Smithery (Gemini CLI)  \u9069\u5408\u4e0d\u60f3\u6c61\u67d3\u672c\u5730\u74b0\u5883\u7684\u7528\u6236\uff1a <pre><code>npx -y @smithery/cli@latest install boring/boring --client gemini-cli\n</code></pre> uv (\u6975\u901f\u5b89\u88dd)  \u4f7f\u7528 `uv` \u7372\u5f97 10-100x \u5b89\u88dd\u901f\u5ea6\uff1a <pre><code># \u5b89\u88dd\nuv pip install \"boring-aicoding[all]\"\n\n# \u914d\u7f6e MCP (\u63a8\u85a6\u4f7f\u7528 wizard\uff0c\u6216\u624b\u52d5\u53c3\u8003\u4e0b\u65b9)\nboring wizard\n</code></pre>"},{"location":"getting-started/installation/#_1","title":"\u2705 \u9a57\u8b49\u5b89\u88dd","text":"<p>\u5728\u7d42\u7aef\u6a5f\u8f38\u5165\uff1a <pre><code>boring --version\n# Output: boring v14.0.0 (or newer)\n</code></pre></p>"},{"location":"getting-started/installation/#4-offline-first","title":"\ud83d\udd0c \u65b9\u5f0f 4: \u96e2\u7dda\u512a\u5148\u6a21\u5f0f (Offline-First)","text":"<p>\u5982\u679c\u60a8\u9700\u8981\u96f6\u7db2\u8def\u4f9d\u8cf4\u7684\u958b\u767c\u74b0\u5883\uff1a</p>"},{"location":"getting-started/installation/#1_1","title":"1. \u5b89\u88dd\u5305\u542b\u672c\u5730\u652f\u63f4\u7684\u5957\u4ef6","text":"<pre><code>pip install \"boring-aicoding[local]\"\n</code></pre>"},{"location":"getting-started/installation/#2","title":"2. \u4e0b\u8f09\u6a21\u578b","text":"<pre><code>boring model download\n</code></pre>"},{"location":"getting-started/installation/#3","title":"3. \u555f\u7528\u96e2\u7dda\u6a21\u5f0f","text":"<pre><code>boring offline enable\n</code></pre> <p>\ud83d\udcd6 \u8a73\u60c5\u8acb\u898b: \u96e2\u7dda\u6a21\u5f0f\u5feb\u901f\u5165\u9580</p>"},{"location":"getting-started/quickstart/","title":"\u5feb\u901f\u5165\u9580 (Quick Start)","text":"<p>\ud83c\udf89 \u606d\u559c\uff01\u60a8\u96e2 AI \u5168\u81ea\u52d5\u958b\u767c\u53ea\u5dee\u4e00\u6b65\u3002 \u9019\u88e1\u6c92\u6709\u8907\u96dc\u6307\u4ee4\uff0c\u53ea\u6709\u7c21\u55ae\u7684\u5c0d\u8a71\u3002</p>"},{"location":"getting-started/quickstart/#choose-your-environment","title":"\ud83d\ude80 \u9078\u64c7\u60a8\u7684\u74b0\u5883 (Choose Your Environment)","text":""},{"location":"getting-started/quickstart/#a-cursor-claude-desktop","title":"\u60c5\u5883 A\uff1a\u60a8\u6b63\u5728\u4f7f\u7528 Cursor \u6216 Claude Desktop \ud83d\udcdd","text":"<p>\u9019\u662f\u6700\u63a8\u85a6\u7684\u65b9\u5f0f\uff01\u60a8\u53ea\u9700\u8981\u50cf\u804a\u5929\u4e00\u6a23\u3002</p> <ol> <li>\u78ba\u8a8d\u60a8\u5df2\u57f7\u884c One-Click Install (\u6216 <code>boring wizard</code>) \u8a2d\u5b9a\u597d Boring MCP Server\u3002</li> <li>\u6253\u958b\u5c0d\u8a71\u8996\u7a97 (Chat)\u3002</li> <li>\u76f4\u63a5\u8f38\u5165\u60f3\u8981\u7684\u6307\u4ee4 (\u4e0d\u7528\u80cc\u6307\u4ee4\uff0c\u7528\u53e3\u8a9e\u5c31\u884c)\uff1a</li> </ol> \u60a8\u60f3\u505a\u4ec0\u9ebc \u8f38\u5165\u7bc4\u4f8b \u958b\u59cb\u65b0\u5c08\u6848 \u300c\u5e6b\u6211\u521d\u59cb\u5316\u4e00\u500b\u65b0\u5c08\u6848\uff0c\u6211\u8981\u505a\u4e00\u500b\u98df\u8b5c\u7db2\u7ad9\u300d \u4fee\u5fa9\u932f\u8aa4 \u300c\u5e6b\u6211\u4fee\u9019\u500b bug (\u4e26\u8cbc\u4e0a\u932f\u8aa4\u8a0a\u606f)\u300d \u7406\u89e3\u7a0b\u5f0f\u78bc \u300c\u89e3\u91cb\u4e00\u4e0b\u9019\u6bb5\u6263\u662f\u5e79\u561b\u7684\uff1f\u300d \u5065\u6aa2\u5c08\u6848 \u300cVibe Check! \u5e6b\u6211\u770b\u7a0b\u5f0f\u78bc\u54c1\u8cea\u300d <p>\ud83d\udca1 \u5c0f\u6487\u6b65: \u60a8\u751a\u81f3\u4e0d\u7528\u8aaa\u662f\u54ea\u500b\u6a94\u6848\uff0cBoring AI \u6703\u81ea\u5df1\u53bb\u7ffb\u627e\u3002</p>"},{"location":"getting-started/quickstart/#b-terminal-power-user","title":"\u60c5\u5883 B\uff1a\u60a8\u559c\u6b61\u7d42\u7aef\u6a5f (Terminal Power User) \ud83d\udcbb","text":"<p>\u5982\u679c\u60a8\u662f\u99ed\u5ba2\u98a8\u683c\uff0c\u559c\u6b61\u5728\u7d42\u7aef\u6a5f\u64cd\u4f5c\uff1a</p> <pre><code># 1. \u5efa\u7acb\u5c08\u6848\nboring-setup my-cool-project\ncd my-cool-project\n\n# 2. \u555f\u52d5\u4e92\u52d5\u6a21\u5f0f\nboring start\n</code></pre> <p>\u9032\u5165\u4e92\u52d5\u4ecb\u9762\u5f8c\uff0c\u4e00\u6a23\u7528\u81ea\u7136\u8a9e\u8a00\u8ddf\u5b83\u804a\u5929\u5373\u53ef\uff01</p>"},{"location":"getting-started/quickstart/#cheat-sheet","title":"\ud83c\udfaf \u5e38\u898b\u8d77\u624b\u5f0f (Cheat Sheet)","text":"<p>\u4e0d\u7ba1\u60a8\u7528\u54ea\u500b\u74b0\u5883\uff0c\u9019\u4e9b\u8a71\u90fd\u5f88\u597d\u7528\uff1a</p> <ul> <li>\u300c\u5e6b\u6211\u898f\u5283\u529f\u80fd...\u300d (Plan feature)</li> <li>\u300c\u505a\u4e00\u6b21\u5b89\u5168\u6383\u63cf\u300d (Security Scan)</li> <li>\u300c\u5be9\u67e5\u6211\u7684\u7a0b\u5f0f\u78bc\u300d (Code Review)</li> <li>\u300c\u9019\u88e1\u6709\u6c92\u6709\u6548\u80fd\u554f\u984c\uff1f\u300d (Perf Check)</li> </ul> <p>\ud83d\udc49 \u4e0b\u4e00\u6b65\uff1a\u770b\u770b\u6211\u5011\u7684 Vibe Coder \u98df\u8b5c \u5b78\u7fd2\u66f4\u591a\u5492\u8a9e\uff01</p>"},{"location":"guides/api-integration/","title":"Python API Integration Guide (V10.26)","text":"<p>Embed Boring's Intelligence, Judge, and Shadow Mode directly into your Python apps.</p> <p>Boring-Gemini is not just a CLI tool; it's a modular Python library. You can import its core modules into your own AI applications or automation scripts.</p>"},{"location":"guides/api-integration/#installation","title":"\ud83d\udce6 Installation","text":"<pre><code>pip install boring-aicoding\n</code></pre>"},{"location":"guides/api-integration/#intelligence-api-brain-memory","title":"\ud83e\udde0 Intelligence API (Brain &amp; Memory)","text":"<p>The <code>boring.intelligence</code> module provides knowledge management, pattern learning, and vector memory capabilities.</p>"},{"location":"guides/api-integration/#1-knowledge-base-management-brainmanager","title":"1. Knowledge Base Management (BrainManager)","text":"<p>Use <code>BrainManager</code> to access or update long-term memory and learned patterns in <code>.boring/brain</code>.</p> <pre><code>from boring.intelligence.brain_manager import BrainManager, LearnedPattern\n\n# Initialize (automatically loads .boring/brain)\nbrain = BrainManager(project_path=\"./my_project\")\n\n# 1. Query learned patterns (Pattern Mining)\npatterns = brain.get_patterns(category=\"error_handling\")\nfor p in patterns:\n    print(f\"Pattern [{p.confidence}]: {p.description}\")\n\n# 2. Record new knowledge\nnew_pattern = LearnedPattern(\n    trigger=\"ConnectionError\",\n    solution=\"Implement exponential backoff in retry logic\",\n    confidence=0.9\n)\nbrain.learn_pattern(new_pattern)\n</code></pre>"},{"location":"guides/api-integration/#2-hybrid-rag-ragretriever","title":"2. Hybrid RAG (RAGRetriever)","text":"<p>Use the high-level <code>RAGRetriever</code> for semantic search and dependency expansion.</p> <pre><code>from boring.rag.rag_retriever import RAGRetriever\n\nretriever = RAGRetriever(project_path=\".\")\n\n# Semantic Search (RAG)\nresults = retriever.search(\"safe file handling\", top_k=3)\nfor res in results:\n    print(f\"Found in {res['path']}: {res['snippet']}\")\n</code></pre>"},{"location":"guides/api-integration/#judge-api-evaluation-rubrics","title":"\u2696\ufe0f Judge API (Evaluation &amp; Rubrics)","text":"<p>The <code>boring.judge</code> module provides a structured evaluation framework, perfect for controlling LLM output quality.</p>"},{"location":"guides/api-integration/#defining-rubrics","title":"Defining Rubrics","text":"<p>You can define your own <code>Rubric</code> and apply it to evaluation processes.</p> <pre><code>from boring.judge.rubrics import Rubric, Criterion\n\n# 1. Define Rubric\nsecurity_rubric = Rubric(\n    name=\"API Security\",\n    criteria=[\n        Criterion(name=\"Auth\", description=\"Standard OIDC/OAuth2 usage\", weight=1.0),\n        Criterion(name=\"Validation\", description=\"Input sanitization\", weight=0.8),\n        Criterion(name=\"Logging\", description=\"No secrets in logs\", weight=1.0),\n    ]\n)\n\n# 2. Export to Markdown (for LLM context)\nprint(security_rubric.to_markdown())\n\n# 3. Programmatic scoring usage\n# score = evaluator.evaluate(code, security_rubric)\n</code></pre>"},{"location":"guides/api-integration/#loop-api-workflow-security","title":"\ud83d\udee1\ufe0f Loop API (Workflow &amp; Security)","text":"<p>The <code>boring.loop</code> module provides security guards and atomic operations, ideal for building robust automation scripts.</p>"},{"location":"guides/api-integration/#1-shadow-mode-protection-shadowmodeguard","title":"1. Shadow Mode Protection (ShadowModeGuard)","text":"<p>Wrap your scripts in Shadow Mode to prevent accidental destructive operations.</p> <pre><code>from boring.loop.shadow_mode import ShadowModeGuard, OperationSeverity, ShadowModeLevel\n\n# Initialize Guard (Strict Mode)\nguard = ShadowModeGuard(level=ShadowModeLevel.STRICT)\n\n# Attempt operation\ndef delete_database():\n    op = guard.create_operation(\n        type=\"delete\",\n        target=\"./data.db\",\n        severity=OperationSeverity.CRITICAL\n    )\n\n    if guard.allow(op):\n        print(\"Deleting...\")\n        # os.remove(\"./data.db\")\n    else:\n        print(f\"Operation blocked: {op.reason}\")\n\ndelete_database()\n# Output: Operation blocked: High severity requires approval in STRICT mode\n</code></pre>"},{"location":"guides/api-integration/#2-atomic-transactions-transactionmanager","title":"2. Atomic Transactions (TransactionManager)","text":"<p>Ensure a set of file operations either all succeed or all roll back.</p> <pre><code>from boring.loop.transactions import TransactionManager\n\ntx = TransactionManager(project_path=\".\")\n\nwith tx.begin() as transaction:\n    try:\n        # Operations are staged first\n        transaction.write(\"config.py\", \"DEBUG = False\")\n        transaction.write(\"src/main.py\", \"import config\")\n\n        # Commit (Atomic Write)\n        transaction.commit()\n        print(\"Update successful\")\n\n    except Exception as e:\n        # Auto-rollback (No files modified)\n        transaction.rollback()\n        print(f\"Update failed, rolled back: {e}\")\n</code></pre>"},{"location":"guides/api-integration_zh/","title":"Boring Python API \u958b\u767c\u8207\u6574\u5408\u6307\u5357 (V10.26)","text":"<p>\u5c07 Boring \u7684\u667a\u6167 (Intelligence)\u3001\u8a55\u4f30 (Judge) \u8207\u5b89\u5168 (Shadow Mode) \u76f4\u63a5\u5d4c\u5165\u60a8\u7684 Python \u61c9\u7528\u7a0b\u5f0f\u4e2d\u3002</p> <p>Boring-Gemini \u4e0d\u50c5\u50c5\u662f\u4e00\u500b CLI \u5de5\u5177\uff0c\u5b83\u4e5f\u662f\u4e00\u500b\u6a21\u7d44\u5316\u7684 Python \u5eab\u3002\u60a8\u53ef\u4ee5\u5c07\u5176\u6838\u5fc3\u6a21\u7d44\u5c0e\u5165\u5230\u60a8\u81ea\u5df1\u7684 AI \u61c9\u7528\u7a0b\u5f0f\u6216\u81ea\u52d5\u5316\u8173\u672c\u4e2d\u3002</p>"},{"location":"guides/api-integration_zh/#_1","title":"\ud83d\udce6 \u5b89\u88dd","text":"<pre><code>pip install boring-aicoding\n</code></pre>"},{"location":"guides/api-integration_zh/#intelligence-api","title":"\ud83e\udde0 Intelligence API (\u5927\u8166\u8207\u8a18\u61b6)","text":"<p><code>boring.intelligence</code> \u6a21\u7d44\u63d0\u4f9b\u4e86\u77e5\u8b58\u7ba1\u7406\u3001\u6a21\u5f0f\u5b78\u7fd2\u548c\u5411\u91cf\u8a18\u61b6\u529f\u80fd\u3002</p>"},{"location":"guides/api-integration_zh/#1-brainmanager","title":"1. \u7ba1\u7406\u77e5\u8b58\u5eab (BrainManager)","text":"<p>\u4f7f\u7528 <code>BrainManager</code> \u4f86\u5b58\u53d6\u6216\u66f4\u65b0 <code>.boring/brain</code> \u4e2d\u7684\u9577\u671f\u8a18\u61b6\u8207\u5b78\u7fd2\u6a21\u5f0f\u3002</p> <pre><code>from boring.intelligence.brain_manager import BrainManager, LearnedPattern\n\n# \u521d\u59cb\u5316 (\u81ea\u52d5\u8f09\u5165 .boring/brain)\nbrain = BrainManager(project_path=\"./my_project\")\n\n# 1. \u67e5\u8a62\u5df2\u5b78\u7fd2\u7684\u6a21\u5f0f (Pattern Mining)\npatterns = brain.get_patterns(category=\"error_handling\")\nfor p in patterns:\n    print(f\"Pattern [{p.confidence}]: {p.description}\")\n\n# 2. \u8a18\u9304\u65b0\u5b78\u5230\u7684\u77e5\u8b58\nnew_pattern = LearnedPattern(\n    trigger=\"ConnectionError\",\n    solution=\"Implement exponential backoff in retry logic\",\n    confidence=0.9\n)\nbrain.learn_pattern(new_pattern)\n</code></pre>"},{"location":"guides/api-integration_zh/#2-rag-ragretriever","title":"2. \u6df7\u5408 RAG (RAGRetriever)","text":"<p>\u4f7f\u7528\u9ad8\u968e\u7684 <code>RAGRetriever</code> \u9032\u884c\u8a9e\u7fa9\u641c\u5c0b\u8207\u4f9d\u8cf4\u64f4\u5c55\u3002</p> <pre><code>from boring.rag.rag_retriever import RAGRetriever\n\nretriever = RAGRetriever(project_path=\".\")\n\n# \u8a9e\u7fa9\u641c\u5c0b (RAG)\nresults = retriever.search(\"safe file handling\", top_k=3)\nfor res in results:\n    print(f\"Found in {res['path']}: {res['snippet']}\")\n</code></pre>"},{"location":"guides/api-integration_zh/#judge-api","title":"\u2696\ufe0f Judge API (\u8a55\u4f30\u8207\u6e96\u5247)","text":"<p><code>boring.judge</code> \u6a21\u7d44\u63d0\u4f9b\u4e86\u7d50\u69cb\u5316\u7684\u8a55\u4f30\u6846\u67b6\uff0c\u9069\u5408\u7528\u65bc LLM \u8f38\u51fa\u7684\u54c1\u8cea\u63a7\u7ba1\u3002</p>"},{"location":"guides/api-integration_zh/#rubric","title":"\u5b9a\u7fa9\u8a55\u4f30\u6e96\u5247 (Rubric)","text":"<p>\u60a8\u53ef\u4ee5\u5b9a\u7fa9\u81ea\u5df1\u7684 <code>Rubric</code> \u4e26\u5c07\u5176\u61c9\u7528\u65bc\u8a55\u4f30\u6d41\u7a0b\u3002</p> <pre><code>from boring.judge.rubrics import Rubric, Criterion\n\n# 1. \u5b9a\u7fa9\u6e96\u5247\nsecurity_rubric = Rubric(\n    name=\"API Security\",\n    criteria=[\n        Criterion(name=\"Auth\", description=\"Standard OIDC/OAuth2 usage\", weight=1.0),\n        Criterion(name=\"Validation\", description=\"Input sanitization\", weight=0.8),\n        Criterion(name=\"Logging\", description=\"No secrets in logs\", weight=1.0),\n    ]\n)\n\n# 2. \u5c0e\u51fa\u70ba Markdown (\u4f9b LLM \u4f7f\u7528)\nprint(security_rubric.to_markdown())\n\n# 3. \u7a0b\u5f0f\u5316\u8a55\u5206 (\u5982\u679c\u5df2\u6709 Score \u7269\u4ef6)\n# score = evaluator.evaluate(code, security_rubric)\n</code></pre>"},{"location":"guides/api-integration_zh/#loop-api","title":"\ud83d\udee1\ufe0f Loop API (\u5de5\u4f5c\u6d41\u8207\u5b89\u5168)","text":"<p><code>boring.loop</code> \u6a21\u7d44\u63d0\u4f9b\u4e86\u5b89\u5168\u9632\u8b77\u548c\u539f\u5b50\u64cd\u4f5c\uff0c\u975e\u5e38\u9069\u5408\u69cb\u5efa\u5f37\u5065\u7684\u81ea\u52d5\u5316\u8173\u672c\u3002</p>"},{"location":"guides/api-integration_zh/#1-shadow-mode-shadowmodeguard","title":"1. Shadow Mode \u4fdd\u8b77 (ShadowModeGuard)","text":"<p>\u5c07\u60a8\u7684\u8173\u672c\u5305\u88f9\u5728 Shadow Mode \u4e2d\uff0c\u9632\u6b62\u610f\u5916\u7684\u6bc0\u6ec5\u6027\u64cd\u4f5c\u3002</p> <pre><code>from boring.loop.shadow_mode import ShadowModeGuard, OperationSeverity, ShadowModeLevel\n\n# \u521d\u59cb\u5316\u5b88\u885b (\u56b4\u683c\u6a21\u5f0f)\nguard = ShadowModeGuard(level=ShadowModeLevel.STRICT)\n\n# \u5617\u8a66\u57f7\u884c\u64cd\u4f5c\ndef delete_database():\n    op = guard.create_operation(\n        type=\"delete\",\n        target=\"./data.db\",\n        severity=OperationSeverity.CRITICAL\n    )\n\n    if guard.allow(op):\n        print(\"Deleting...\")\n        # os.remove(\"./data.db\")\n    else:\n        print(f\"Operation blocked: {op.reason}\")\n\ndelete_database()\n# Output: Operation blocked: High severity requires approval in STRICT mode\n</code></pre>"},{"location":"guides/api-integration_zh/#2-transactionmanager","title":"2. \u539f\u5b50\u4ea4\u6613 (TransactionManager)","text":"<p>\u78ba\u4fdd\u4e00\u7d44\u6a94\u6848\u64cd\u4f5c\u8981\u9ebc\u5168\u90e8\u6210\u529f\uff0c\u8981\u9ebc\u5168\u90e8\u56de\u6efe\u3002</p> <pre><code>from boring.loop.transactions import TransactionManager\n\ntx = TransactionManager(project_path=\".\")\n\nwith tx.begin() as transaction:\n    try:\n        # \u9019\u4e9b\u64cd\u4f5c\u6703\u5148\u5beb\u5165\u66ab\u5b58\u5340\n        transaction.write(\"config.py\", \"DEBUG = False\")\n        transaction.write(\"src/main.py\", \"import config\")\n\n        # \u63d0\u4ea4 (\u539f\u5b50\u5beb\u5165)\n        transaction.commit()\n        print(\"\u539f\u5b50\u66f4\u65b0\u6210\u529f\")\n\n    except Exception as e:\n        # \u81ea\u52d5\u56de\u6efe (\u4e0d\u4fee\u6539\u4efb\u4f55\u6a94\u6848)\n        transaction.rollback()\n        print(f\"\u66f4\u65b0\u5931\u6557\uff0c\u5df2\u56de\u6efe: {e}\")\n</code></pre>"},{"location":"guides/architect_mode/","title":"Architect Mode Guide (V10.16)","text":""},{"location":"guides/architect_mode/#overview","title":"Overview","text":"<p>Architect Mode is a specialized evaluation mode initiated by the <code>PRODUCTION_RUBRIC</code>. It switches the AI persona from a \"Helpful Code Reviewer\" to a \"Hostile Principal Architect\".</p>"},{"location":"guides/architect_mode/#how-to-use","title":"How to Use","text":"<p>Run <code>boring evaluate</code> with the <code>--level production</code> flag:</p> <pre><code>boring evaluate src/core/database.py --level production\n</code></pre>"},{"location":"guides/architect_mode/#what-to-expect","title":"What to Expect","text":"<p>The Hostile Architect will NOT care about: - Variable naming - PEP 8 formatting - Missing docstrings (unless critical)</p> <p>It WILL aggressively attack your design on: 1.  Concurrency: \"This lock implementation will cause a deadlock under high load.\" 2.  Scalability: \"This N+1 query pattern will kill your DB at 10k RPS.\" 3.  Resilience: \"Where is the circuit breaker for this external API call?\" 4.  Tech Stack: \"Why are you using <code>requests</code> (blocking) instead of <code>httpx</code> (async)?\"</p>"},{"location":"guides/architect_mode/#configuration","title":"Configuration","text":"<p>You can customize the prompt in <code>src/boring/judge.py</code> if you find the architect too mean (or not mean enough).</p>"},{"location":"guides/architect_mode_zh/","title":"\u67b6\u69cb\u5e2b\u6a21\u5f0f\u6307\u5357 (Architect Mode Guide V10.16)","text":""},{"location":"guides/architect_mode_zh/#_1","title":"\u6982\u8ff0","text":"<p>\u67b6\u69cb\u5e2b\u6a21\u5f0f\u662f\u900f\u904e <code>PRODUCTION_RUBRIC</code> \u555f\u52d5\u7684\u7279\u6b8a\u8a55\u4f30\u6a21\u5f0f\u3002\u5b83\u6703\u5c07 AI \u7684\u4eba\u8a2d\u5f9e\u300c\u53cb\u5584\u7684\u4ee3\u78bc\u5be9\u67e5\u54e1\u300d\u5207\u63db\u70ba\u300c\u56b4\u53b2\u7684\u9996\u5e2d\u67b6\u69cb\u5e2b\u300d\u3002</p>"},{"location":"guides/architect_mode_zh/#_2","title":"\u5982\u4f55\u4f7f\u7528","text":"<p>\u57f7\u884c <code>boring evaluate</code> \u4e26\u52a0\u4e0a <code>--level production</code> \u65d7\u6a19\uff1a</p> <pre><code>boring evaluate src/core/database.py --level production\n</code></pre>"},{"location":"guides/architect_mode_zh/#_3","title":"\u9810\u671f\u7d50\u679c","text":"<p>\u9019\u4f4d\u56b4\u53b2\u67b6\u69cb\u5e2b \u4e0d\u6703 \u5728\u610f\uff1a - \u8b8a\u6578\u547d\u540d - PEP 8 \u683c\u5f0f\u554f\u984c - \u7f3a\u5c11\u7684 docstrings (\u9664\u975e\u975e\u5e38\u95dc\u9375)</p> <p>\u5b83 \u6703 \u91dd\u5c0d\u4f60\u7684\u8a2d\u8a08\u9032\u884c\u731b\u70c8\u653b\u64ca\uff1a 1.  \u4e26\u767c\u6027 (Concurrency): \"\u5728\u9ad8\u8ca0\u8f09\u4e0b\uff0c\u9019\u500b\u9396\u7684\u5be6\u4f5c\u6703\u5c0e\u81f4\u6b7b\u9396 (Deadlock)\u3002\" 2.  \u64f4\u5c55\u6027 (Scalability): \"\u9019\u500b N+1 \u67e5\u8a62\u6a21\u5f0f\u5728 10k RPS \u6642\u6703\u641e\u57ae\u4f60\u7684\u8cc7\u6599\u5eab\u3002\" 3.  \u97cc\u6027 (Resilience): \"\u9019\u500b\u5916\u90e8 API \u547c\u53eb\u7684\u65b7\u8def\u5668 (Circuit Breaker) \u5728\u54ea\u88e1\uff1f\" 4.  \u6280\u8853\u5806\u758a (Tech Stack): \"\u70ba\u4ec0\u9ebc\u7528 <code>requests</code> (blocking) \u800c\u4e0d\u662f <code>httpx</code> (async)\uff1f\"</p>"},{"location":"guides/architect_mode_zh/#_4","title":"\u8a2d\u5b9a","text":"<p>\u5982\u679c\u4f60\u89ba\u5f97\u67b6\u69cb\u5e2b\u592a\u5147\uff08\u6216\u4e0d\u5920\u5147\uff09\uff0c\u53ef\u4ee5\u5728 <code>src/boring/judge.py</code> \u4e2d\u81ea\u8a02 Prompt\u3002</p>"},{"location":"guides/connection/","title":"AI Connection Guide","text":"<p>Boring-Gemini is an AI-powered development engine that requires a connection to a powerful LLM (Large Language Model) to function. This guide will help you set up different AI providers.</p>"},{"location":"guides/connection/#supported-providers","title":"Supported Providers","text":"Provider Scenario Pros Cons Google Gemini Default/Recommended Best compatibility, Native Function Calling, Long Context Window Requires Internet Ollama Local/Privacy Fully offline, private, no API cost Requires strong hardware, limited advanced Tool features Claude Alternative Strong reasoning (via Adapter) Requires extra setup"},{"location":"guides/connection/#1-google-gemini-recommended","title":"1. Google Gemini (Recommended) \ud83d\udc8e","text":"<p>Boring is optimized for the Gemini architecture, so using Gemini provides the complete experience (One Dragon, Vibe Check, etc.).</p>"},{"location":"guides/connection/#method-a-api-key-fastest","title":"Method A: API Key (Fastest) \ud83d\ude80","text":"<p>This is the simplest and most stable method.</p> <ol> <li>Get Key: Visit Google AI Studio to create an API Key.</li> <li> <p>Set Environment Variable:</p> <p>Windows (PowerShell): <pre><code>$env:GOOGLE_API_KEY=\"YOUR_API_KEY_HERE\"\n</code></pre></p> <p>Linux / macOS: <pre><code>export GOOGLE_API_KEY=\"YOUR_API_KEY_HERE\"\n</code></pre></p> <p>Persistent (Optional): Create a <code>.env</code> file in the project root: <pre><code>GOOGLE_API_KEY=YOUR_API_KEY_HERE\n</code></pre></p> </li> </ol>"},{"location":"guides/connection/#method-b-gemini-cli-keyless","title":"Method B: Gemini CLI (Keyless) \ud83d\udee1\ufe0f","text":"<p>If you prefer not to manage API Keys or want to use Google Cloud quotas.</p> <ol> <li>Run the Boring Setup Wizard:     <pre><code>boring wizard\n</code></pre></li> <li>Select Yes when asked to install Node.js and Gemini CLI.</li> <li>The system will guide you through Google Account login (OAuth).</li> </ol>"},{"location":"guides/connection/#2-ollama-local-llm","title":"2. Ollama (Local LLM) \ud83e\udd99","text":"<p>Boring supports connecting to local models via Ollama (e.g., Llama 3, Mistral, Gemma 2).</p>"},{"location":"guides/connection/#prerequisites","title":"Prerequisites","text":"<ol> <li>Install Ollama.</li> <li>Download a model (e.g., Llama 3):     <pre><code>ollama pull llama3\n</code></pre></li> <li>Ensure Ollama is running (Default Port 11434).</li> </ol>"},{"location":"guides/connection/#configuration","title":"Configuration","text":"<p>You only need to set environment variables to switch the Provider.</p> <p>Windows (PowerShell): <pre><code># 1. Switch Provider\n$env:BORING_LLM_PROVIDER=\"ollama\"\n\n# 2. (Optional) Specify model, default is llama3\n$env:BORING_LLM_MODEL=\"llama3\"\n\n# 3. (Optional) If Ollama runs on a different port\n$env:OLLAMA_BASE_URL=\"http://localhost:11434\"\n</code></pre></p> <p>Linux / macOS: <pre><code>export BORING_LLM_PROVIDER=\"ollama\"\nexport BORING_LLM_MODEL=\"llama3\"\n</code></pre></p>"},{"location":"guides/connection/#known-limitations-ollama-mode","title":"Known Limitations (Ollama Mode)","text":"<ul> <li>Function Calling: Currently, Ollama mode relies mainly on Prompt Engineering for tool calls, which is less accurate than Gemini Native Function Calling.</li> <li>Context Window: Limited by the local model's context size (usually 4k-8k), so it might not handle RAG retrieval for very large files.</li> </ul>"},{"location":"guides/connection/#3-verify-connection","title":"3. Verify Connection","text":"<p>After setup, run the following to test:</p> <pre><code># Simple test\nboring \"Hello, which model are you using?\"\n\n# Check health (Shows current Provider)\nboring health\n</code></pre>"},{"location":"guides/connection/#faq","title":"FAQ","text":"<p>Q: Can I set up both Gemini and Ollama? A: Yes. Boring prioritizes the <code>BORING_LLM_PROVIDER</code> variable. If unset, it defaults to Gemini. You can switch between them by toggling this variable.</p> <p>Q: Ollama response is slow? A: Please ensure your GPU is powerful enough. Some Boring features (like Rerank, Embedding) also consume resources, which might compete with Ollama for VRAM.</p> <p>Q: Support for OpenAI or Anthropic? A: Core support focuses on Gemini and Ollama. While there is experimental Adapter support for Claude, Gemini is recommended for a stable experience.</p>"},{"location":"guides/connection_zh/","title":"AI \u9023\u63a5\u6307\u5357 (AI Connection Guide)","text":"<p>Boring-Gemini \u662f\u4e00\u500b AI \u9a45\u52d5\u7684\u958b\u767c\u5f15\u64ce\uff0c\u5b83\u9700\u8981\u9023\u63a5\u5230\u4e00\u500b\u5f37\u5927\u7684 LLM (Large Language Model) \u624d\u80fd\u904b\u4f5c\u3002\u672c\u6307\u5357\u5c07\u5354\u52a9\u60a8\u8a2d\u5b9a\u4e0d\u540c\u7684 AI \u4f9b\u61c9\u5546\u3002</p>"},{"location":"guides/connection_zh/#_1","title":"\u652f\u63f4\u7684\u4f9b\u61c9\u5546","text":"\u4f9b\u61c9\u5546 \u9069\u7528\u5834\u666f \u512a\u9ede \u7f3a\u9ede Google Gemini \u9810\u8a2d/\u63a8\u85a6 \u6700\u4f73\u76f8\u5bb9\u6027\u3001\u652f\u63f4 Native Function Calling\u3001\u9577 Context Window \u9700\u7db2\u8def\u9023\u7dda Ollama \u672c\u5730/\u96b1\u79c1 \u5b8c\u5168\u96e2\u7dda\u3001\u96b1\u79c1\u5b89\u5168\u3001\u7121 API \u8cbb\u7528 \u9700\u8f03\u5f37\u786c\u9ad4\u3001\u4e0d\u652f\u63f4\u90e8\u5206\u9032\u968e Tool \u529f\u80fd Claude \u66ff\u4ee3\u65b9\u6848 \u5f37\u5927\u7684\u63a8\u7406\u80fd\u529b (\u900f\u904e Adapter) \u9700\u8981\u984d\u5916\u8a2d\u5b9a"},{"location":"guides/connection_zh/#1-google-gemini","title":"1. Google Gemini (\u63a8\u85a6) \ud83d\udc8e","text":"<p>Boring \u662f\u5c08\u70ba Gemini \u67b6\u69cb\u512a\u5316\u7684\uff0c\u56e0\u6b64\u4f7f\u7528 Gemini \u80fd\u7372\u5f97\u6700\u5b8c\u6574\u7684\u9ad4\u9a57 (One Dragon, Vibe Check \u7b49)\u3002</p>"},{"location":"guides/connection_zh/#a-api-key","title":"\u65b9\u6cd5 A\uff1a\u4f7f\u7528 API Key (\u6700\u5feb\u901f) \ud83d\ude80","text":"<p>\u9019\u662f\u6700\u7c21\u55ae\u4e14\u7a69\u5b9a\u7684\u65b9\u5f0f\u3002</p> <ol> <li>\u53d6\u5f97 Key: \u524d\u5f80 Google AI Studio \u5efa\u7acb API Key\u3002</li> <li> <p>\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578:</p> <p>Windows (PowerShell): <pre><code>$env:GOOGLE_API_KEY=\"\u60a8\u7684_API_KEY\"\n</code></pre></p> <p>Linux / macOS: <pre><code>export GOOGLE_API_KEY=\"\u60a8\u7684_API_KEY\"\n</code></pre></p> <p>\u6c38\u4e45\u751f\u6548 (\u53ef\u9078): \u5728\u5c08\u6848\u6839\u76ee\u9304\u5efa\u7acb <code>.env</code> \u6a94\u6848\uff1a <pre><code>GOOGLE_API_KEY=\u60a8\u7684_API_KEY\n</code></pre></p> </li> </ol>"},{"location":"guides/connection_zh/#b-gemini-cli-key","title":"\u65b9\u6cd5 B\uff1a\u4f7f\u7528 Gemini CLI (\u514d Key) \ud83d\udee1\ufe0f","text":"<p>\u5982\u679c\u60a8\u4e0d\u60f3\u7ba1\u7406 API Key\uff0c\u6216\u662f\u5e0c\u671b\u4f7f\u7528 Google Cloud \u7684\u914d\u984d\u3002</p> <ol> <li>\u57f7\u884c Boring \u8a2d\u5b9a\u7cbe\u9748\uff1a     <pre><code>boring wizard\n</code></pre></li> <li>\u7576\u8a62\u554f\u662f\u5426\u5b89\u88dd Node.js \u548c Gemini CLI \u6642\uff0c\u9078\u64c7 Yes\u3002</li> <li>\u7cfb\u7d71\u6703\u81ea\u52d5\u5f15\u5c0e\u60a8\u9032\u884c Google \u5e33\u865f\u767b\u5165 (OAuth)\u3002</li> </ol>"},{"location":"guides/connection_zh/#2-ollama","title":"2. Ollama (\u672c\u5730\u6a21\u578b) \ud83e\udd99","text":"<p>Boring \u652f\u63f4\u900f\u904e Ollama \u9023\u63a5\u672c\u5730\u6a21\u578b (\u5982 Llama 3, Mistral, Gemma 2)\u3002</p>"},{"location":"guides/connection_zh/#_2","title":"\u524d\u7f6e\u9700\u6c42","text":"<ol> <li>\u5b89\u88dd Ollama\u3002</li> <li>\u4e0b\u8f09\u6a21\u578b (\u4f8b\u5982 Llama 3):     <pre><code>ollama pull llama3\n</code></pre></li> <li>\u78ba\u8a8d Ollama \u6b63\u5728\u57f7\u884c (\u9810\u8a2d Port 11434)\u3002</li> </ol>"},{"location":"guides/connection_zh/#_3","title":"\u8a2d\u5b9a\u6b65\u9a5f","text":"<p>\u60a8\u53ea\u9700\u8981\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578\u4f86\u5207\u63db Provider\u3002</p> <p>Windows (PowerShell): <pre><code># 1. \u5207\u63db Provider\n$env:BORING_LLM_PROVIDER=\"ollama\"\n\n# 2. (\u9078\u586b) \u6307\u5b9a\u6a21\u578b\uff0c\u9810\u8a2d\u70ba llama3\n$env:BORING_LLM_MODEL=\"llama3\"\n\n# 3. (\u9078\u586b) \u5982\u679c Ollama \u6539\u904e Port\n$env:OLLAMA_BASE_URL=\"http://localhost:11434\"\n</code></pre></p> <p>Linux / macOS: <pre><code>export BORING_LLM_PROVIDER=\"ollama\"\nexport BORING_LLM_MODEL=\"llama3\"\n</code></pre></p>"},{"location":"guides/connection_zh/#ollama","title":"\u5df2\u77e5\u9650\u5236 (Ollama \u6a21\u5f0f)","text":"<ul> <li>\u5de5\u5177\u547c\u53eb (Function Calling): \u76ee\u524d Ollama \u6a21\u5f0f\u4e3b\u8981\u4f9d\u8cf4 Prompt Engineering \u9032\u884c\u5de5\u5177\u547c\u53eb\uff0c\u6e96\u78ba\u5ea6\u4e0d\u5982 Gemini Native Function Calling\u3002</li> <li>Context Window: \u53d7\u9650\u65bc\u672c\u5730\u6a21\u578b\u7684 Context \u5927\u5c0f (\u901a\u5e38 4k-8k)\uff0c\u53ef\u80fd\u7121\u6cd5\u8655\u7406\u8d85\u5927\u578b\u6a94\u6848\u7684 RAG \u6aa2\u7d22\u3002</li> </ul>"},{"location":"guides/connection_zh/#3","title":"3. \u9a57\u8b49\u9023\u7dda","text":"<p>\u8a2d\u5b9a\u5b8c\u6210\u5f8c\uff0c\u60a8\u53ef\u4ee5\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\u6e2c\u8a66\uff1a</p> <pre><code># \u7c21\u55ae\u6e2c\u8a66\nboring \"\u54c8\u56c9\uff0c\u4f60\u73fe\u5728\u662f\u7528\u54ea\u500b\u6a21\u578b\uff1f\"\n\n# \u6aa2\u67e5\u5065\u5eb7\u72c0\u614b (\u6703\u986f\u793a\u76ee\u524d\u7684 Provider)\nboring health\n</code></pre>"},{"location":"guides/connection_zh/#faq","title":"\u5e38\u898b\u554f\u984c (FAQ)","text":"<p>Q: \u6211\u53ef\u4ee5\u540c\u6642\u8a2d\u5b9a Gemini \u548c Ollama \u55ce\uff1f A: \u53ef\u4ee5\u3002Boring \u6703\u512a\u5148\u8b80\u53d6 <code>BORING_LLM_PROVIDER</code> \u8b8a\u6578\u3002\u5982\u679c\u6c92\u8a2d\u5b9a\uff0c\u9810\u8a2d\u6703\u8dd1 Gemini\u3002\u60a8\u53ef\u4ee5\u900f\u904e\u5207\u63db\u6b64\u8b8a\u6578\u5728\u5169\u8005\u9593\u5feb\u901f\u5207\u63db\u3002</p> <p>Q: Ollama \u56de\u61c9\u5f88\u6162\uff1f A: \u8acb\u78ba\u8a8d\u60a8\u7684 GPU \u662f\u5426\u8db3\u5920\u5f37\u5927\u3002Boring \u7684\u67d0\u4e9b\u529f\u80fd (\u5982 Rerank, Embedding) \u672c\u8eab\u4e5f\u6703\u6d88\u8017\u8cc7\u6e90\uff0c\u8207 Ollama \u540c\u6642\u8dd1\u53ef\u80fd\u6703\u6436\u4f54\u986f\u5b58\u3002</p> <p>Q: \u652f\u63f4 OpenAI \u6216 Anthropic \u55ce\uff1f A: \u76ee\u524d\u6838\u5fc3\u652f\u63f4\u96c6\u4e2d\u5728 Gemini \u548c Ollama\u3002\u96d6\u6709\u5be6\u9a57\u6027\u7684 Adapter \u652f\u63f4 Claude\uff0c\u4f46\u5efa\u8b70\u4ee5 Gemini \u70ba\u4e3b\u4ee5\u7372\u5f97\u7a69\u5b9a\u9ad4\u9a57\u3002</p>"},{"location":"guides/cookbook/","title":"Cookbook - Complete Feature Recipes","text":"<p>Ready-to-use recipes for every Boring feature. Copy, paste, and customize.</p>"},{"location":"guides/cookbook/#recipe-index","title":"\ud83d\udcda Recipe Index","text":""},{"location":"guides/cookbook/#getting-started","title":"\ud83d\ude80 Getting Started","text":"<ul> <li>Recipe 1: First Project Setup</li> <li>Recipe 2: MCP Server Configuration</li> </ul>"},{"location":"guides/cookbook/#daily-workflows","title":"\ud83d\udd27 Daily Workflows","text":"<ul> <li>Recipe 3: Quick Bug Fix</li> <li>Recipe 4: Feature Development</li> <li>Recipe 5: The \"One Dragon\" Run</li> <li>Recipe 6: Code Review</li> </ul>"},{"location":"guides/cookbook/#security-quality","title":"\ud83d\udd12 Security &amp; Quality","text":"<ul> <li>Recipe 7: Vibe Check</li> <li>Recipe 8: Security Audit</li> <li>Recipe 9: Shadow Mode Setup</li> </ul>"},{"location":"guides/cookbook/#advanced","title":"\ud83e\udde0 Advanced","text":"<ul> <li>Recipe 10: Multi-Agent Workflow</li> <li>Recipe 11: RAG Knowledge Base</li> <li>Recipe 12: CI/CD Integration</li> </ul>"},{"location":"guides/cookbook/#recipe-1-first-project-setup","title":"Recipe 1: First Project Setup","text":""},{"location":"guides/cookbook/#ingredients","title":"Ingredients","text":"<ul> <li>Empty directory or existing project</li> <li>Python 3.9+</li> <li>pip</li> </ul>"},{"location":"guides/cookbook/#steps","title":"Steps","text":"<pre><code># 1. Install Boring\npip install boring-aicoding\n\n# 2. Initialize project (if new)\nboring-setup my-project\ncd my-project\n\n### Quick Start\n\nBefore starting development, we recommend running the health check:\n\n# Or use Vibe Coder CLI directly\nboring-route \"Initialize a new project called my-project\"\n</code></pre>"},{"location":"guides/cookbook/#expected-output","title":"Expected Output","text":"<pre><code>\ud83d\ude80 Boring v10.18.3 started\n\ud83d\udcc1 Project: my-project\n\ud83d\udd0d Monitoring for changes...\n</code></pre>"},{"location":"guides/cookbook/#recipe-2-mcp-server-configuration","title":"Recipe 2: MCP Server Configuration","text":""},{"location":"guides/cookbook/#for-claude-desktop","title":"For Claude Desktop","text":"<p>Edit <code>~/Library/Application Support/Claude/claude_desktop_config.json</code> (macOS) or <code>%APPDATA%\\Claude\\claude_desktop_config.json</code> (Windows):</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"PROJECT_ROOT_DEFAULT\": \"/path/to/your/project\",\n        \"SHADOW_MODE_LEVEL\": \"ENABLED\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/cookbook/#for-cursor","title":"For Cursor","text":"<p>In Settings \u2192 MCP Servers: <pre><code>{\n  \"boring\": {\n    \"command\": \"boring-mcp\",\n    \"args\": [],\n    \"env\": {\n      \"PROJECT_ROOT_DEFAULT\": \".\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"guides/cookbook/#for-smithery-cloud","title":"For Smithery (Cloud)","text":"<pre><code>npx -y @anthropic-ai/mcp install @boring/boring\n</code></pre>"},{"location":"guides/cookbook/#recipe-3-quick-bug-fix","title":"Recipe 3: Quick Bug Fix","text":""},{"location":"guides/cookbook/#problem","title":"Problem","text":"<p>You have a bug and want AI to fix it.</p>"},{"location":"guides/cookbook/#steps_1","title":"Steps","text":"<pre><code># Option 1: Vibe Coder (Recommended)\n# You: \"Fix the login function - it crashes when password is empty\"\n\n# Option 2: CLI\n# $ boring-route \"Fix the login bug\"\n\n# Option 3: Python Tool\nboring_apply_patch(\n    project_path=\".\",\n    description=\"Fix the login function - it crashes when password is empty\"\n)\n</code></pre>"},{"location":"guides/cookbook/#verification","title":"Verification","text":"<pre><code>boring_verify(level=\"FULL\")\n</code></pre>"},{"location":"guides/cookbook/#recipe-4-feature-development","title":"Recipe 4: Feature Development","text":""},{"location":"guides/cookbook/#using-speckit-workflow","title":"Using SpecKit Workflow","text":""},{"location":"guides/cookbook/#vibe-coder-prompt","title":"Vibe Coder Prompt","text":"<p>You: \"Deeply analyze the user authentication requirements, then create a detailed checklist and implement it.\"</p>"},{"location":"guides/cookbook/#python-workflow-speckit","title":"Python Workflow (SpecKit)","text":""},{"location":"guides/cookbook/#vibe-coder-prompt_1","title":"Vibe Coder Prompt","text":"<p>You: \"Deeply analyze the user authentication requirements, then create a detailed checklist and implement it.\"</p>"},{"location":"guides/cookbook/#python-workflow-speckit_1","title":"Python Workflow (SpecKit)","text":"<pre><code># Step 1: Establish principles\nspeckit_constitution(project_path=\".\")\n# ... (rest of manual steps)\n</code></pre>"},{"location":"guides/cookbook/#recipe-5-the-one-dragon-run-autonomous-dev","title":"Recipe 5: The \"One Dragon\" Run (Autonomous Dev) \ud83d\udc09","text":"<p>Goal: Build a complete feature while you are AFK (Away From Keyboard).</p> <p>Ingredients: *   <code>boring start</code> (CLI) *   A <code>task.md</code> file *   Coffee \u2615</p> <p>Steps:</p> <ol> <li> <p>Define the Mission: Create a <code>task.md</code> in your project root.     <pre><code># Task: Build Login Page\n- [ ] Create login.html with Bootstrap\n- [ ] Create styles.css (Dark Mode)\n- [ ] Write logic.js for validation\n- [ ] Verify functionality\n</code></pre></p> </li> <li> <p>Launch the Dragon:     Open your terminal and run:     <pre><code>boring start\n</code></pre></p> </li> <li> <p>Monitor (Optional):     Open another terminal to watch the brain at work:     <pre><code>boring-monitor\n</code></pre></p> </li> <li> <p>Result:     Boring will loop through Plan -&gt; Code -&gt; Test -&gt; Fix until all checkboxes in <code>task.md</code> are marked <code>[x]</code>.</p> </li> </ol>"},{"location":"guides/cookbook/#recipe-6-code-review","title":"Recipe 6: Code Review","text":""},{"location":"guides/cookbook/#direct-evaluation","title":"Direct Evaluation","text":"<pre><code>boring_evaluate(\n    target=\"src/main.py\",\n    level=\"DIRECT\",\n    criteria=[\"correctness\", \"security\", \"performance\", \"maintainability\"]\n)\n</code></pre>"},{"location":"guides/cookbook/#pairwise-comparison","title":"Pairwise Comparison","text":"<pre><code>boring_evaluate(\n    level=\"PAIRWISE\",\n    target_a=\"src/auth_v1.py\",\n    target_b=\"src/auth_v2.py\"\n)\n</code></pre>"},{"location":"guides/cookbook/#rubric-based-scoring","title":"Rubric-Based Scoring","text":"<pre><code>boring_evaluate(\n    target=\"src/\",\n    level=\"RUBRIC\",\n    rubric_path=\".boring/rubrics/production-ready.md\"\n)\n</code></pre>"},{"location":"guides/cookbook/#recipe-7-vibe-check-quality-police","title":"Recipe 7: Vibe Check (Quality Police)","text":""},{"location":"guides/cookbook/#project-health-check","title":"Project Health Check","text":"<pre><code>boring_vibe_check(\n    target_path=\"src/\",\n    verbosity=\"standard\"\n)\n# Returns a Vibe Score (0-100)\n</code></pre>"},{"location":"guides/cookbook/#recipe-8-security-audit","title":"Recipe 8: Security Audit","text":""},{"location":"guides/cookbook/#full-security-scan","title":"Full Security Scan","text":"<pre><code>boring_security_scan(\n    project_path=\".\",\n    scan_type=\"all\"  # sast + secrets + dependencies\n)\n</code></pre>"},{"location":"guides/cookbook/#secrets-only","title":"Secrets Only","text":"<pre><code>boring_security_scan(\n    project_path=\".\",\n    scan_type=\"secrets\"\n)\n</code></pre>"},{"location":"guides/cookbook/#with-auto-fix","title":"With Auto-Fix","text":"<pre><code>boring_security_scan(\n    project_path=\".\",\n    scan_type=\"all\",\n    fix_mode=True\n)\n</code></pre>"},{"location":"guides/cookbook/#recipe-9-shadow-mode-setup","title":"Recipe 9: Shadow Mode Setup","text":""},{"location":"guides/cookbook/#enable-for-production","title":"Enable for Production","text":"<pre><code># Set STRICT mode\nboring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n\n# Verify status\nboring_shadow_mode(action=\"status\")\n</code></pre>"},{"location":"guides/cookbook/#configure-patterns","title":"Configure Patterns","text":"<p>Edit <code>~/.boring/brain/shadow_config.json</code>: <pre><code>{\n  \"level\": \"STRICT\",\n  \"auto_approve_patterns\": [\"*.md\", \"docs/*\"],\n  \"always_block_patterns\": [\"*.env\", \"secrets/*\", \".git/*\"]\n}\n</code></pre></p>"},{"location":"guides/cookbook/#recipe-10-multi-agent-workflow","title":"Recipe 10: Multi-Agent Workflow","text":""},{"location":"guides/cookbook/#plan-and-implement","title":"Plan and Implement","text":"<pre><code>boring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\n        \"feature\": \"Real-time notifications\",\n        \"tech_stack\": [\"WebSockets\", \"Redis\", \"FastAPI\"]\n    },\n    execute=True  # Actually run, not just generate prompt\n)\n</code></pre>"},{"location":"guides/cookbook/#review-and-fix","title":"Review and Fix","text":"<pre><code>boring_multi_agent(\n    workflow=\"review_and_fix\",\n    context={\n        \"target\": \"src/\",\n        \"focus\": [\"security\", \"performance\"]\n    }\n)\n</code></pre>"},{"location":"guides/cookbook/#recipe-11-rag-knowledge-base","title":"Recipe 11: RAG Knowledge Base","text":""},{"location":"guides/cookbook/#build-index","title":"Build Index","text":"<pre><code>boring_rag_index(\n    project_path=\".\",\n    force=False  # Incremental\n)\n</code></pre>"},{"location":"guides/cookbook/#search-code","title":"Search Code","text":"<pre><code>boring_rag_search(\n    query=\"authentication middleware\",\n    project_path=\".\",\n    top_k=10,\n    expand_graph=True\n)\n</code></pre>"},{"location":"guides/cookbook/#multi-project-search","title":"Multi-Project Search","text":"<pre><code>boring_rag_search(\n    query=\"error handling patterns\",\n    additional_roots=[\n        \"/path/to/shared-libs\",\n        \"/path/to/reference-project\"\n    ]\n)\n</code></pre>"},{"location":"guides/cookbook/#recipe-12-cicd-integration","title":"Recipe 12: CI/CD Integration","text":""},{"location":"guides/cookbook/#github-actions","title":"GitHub Actions","text":"<pre><code># .github/workflows/quality-gates.yml\nname: Quality Gates\n\non: [push, pull_request]\n\njobs:\n  verify:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n      - run: pip install boring-aicoding\n      - run: boring verify --level FULL\n\n  security:\n    runs-on: ubuntu-latest\n    needs: verify\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install boring-aicoding\n      - run: |\n          python -c \"\n          from boring.mcp.tools import boring_security_scan\n          result = boring_security_scan('.', 'all')\n          if result.get('critical_count', 0) &gt; 0:\n              exit(1)\n          \"\n</code></pre>"},{"location":"guides/cookbook/#see-also","title":"See Also","text":"<ul> <li>Vibe Coder Guide - For visual/description-based developers</li> <li>Quick Tutorials - Step-by-step guides</li> <li>MCP Tools - Complete tool reference</li> </ul>"},{"location":"guides/cookbook_zh/","title":"\ud83c\udf73 Vibe Coder \u98df\u8b5c (The Cookbook)","text":"<p>\u9019\u4e0d\u662f\u4e00\u822c\u7684\u7a0b\u5f0f\u8a2d\u8a08\u66f8\u3002 \u9019\u88e1\u6c92\u6709\u7e41\u7463\u7684 API \u547c\u53eb\uff0c\u53ea\u6709 \u300c\u5982\u4f55\u7528\u4e00\u53e5\u8a71\u8b93 AI \u5e6b\u4f60\u5beb\u51fa\u597d\u7a0b\u5f0f\u300d\u3002</p>"},{"location":"guides/cookbook_zh/#quick-fixes","title":"\ud83e\udd57 \u524d\u83dc\uff1a\u5feb\u901f\u4fee\u5fa9 (Quick Fixes)","text":"<p>\u7576\u4f60\u770b\u5230\u7d05\u8272\u7684 Error\uff0c\u6216\u662f\u60f3\u505a\u9ede\u5c0f\u4fee\u6539\u6642\u3002</p>"},{"location":"guides/cookbook_zh/#1-bug","title":"\u98df\u8b5c 1\uff1a\u4e00\u9375\u4fee bug","text":"<p>\u60c5\u5883\uff1a\u7d42\u7aef\u6a5f\u5674\u51fa <code>IndexError: list index out of range</code>\u3002 \u505a\u6cd5\uff1a 1. \u76f4\u63a5\u628a Error Log \u8cbc\u7d66 Vibe Coder\u3002 2. \u8aaa\uff1a</p> <p>\u300c\u5e6b\u6211\u4fee\u9019\u500b\u932f\u8aa4\u300d \u6216 \u300cFix this error\u300d</p> <p>\u80cc\u5f8c\u539f\u7406\uff1aAI \u6703\u547c\u53eb <code>boring_apply_patch</code> \u6216 <code>boring_suggest_next</code> \u627e\u51fa\u554f\u984c\u6a94\u6848\u4e26\u4fee\u6b63\u3002</p>"},{"location":"guides/cookbook_zh/#2-refactoring","title":"\u98df\u8b5c 2\uff1a\u6574\u7406\u4e82\u7cdf\u7cdf\u7684\u7a0b\u5f0f\u78bc (Refactoring)","text":"<p>\u60c5\u5883\uff1a\u4f60\u525b\u5beb\u5b8c\u4e00\u6bb5\u529f\u80fd\uff0c\u4f46\u7a0b\u5f0f\u78bc\u919c\u5f97\u50cf\u7fa9\u5927\u5229\u9eb5\u3002 \u505a\u6cd5\uff1a\u6253\u958b\u90a3\u96bb\u6a94\u6848\uff0c\u7136\u5f8c\u8aaa\uff1a</p> <p>\u300c\u5e6b\u6211\u91cd\u69cb\u9019\u6bb5\u7a0b\u5f0f\u78bc\uff0c\u8b93\u5b83\u66f4\u597d\u8b80\u300d \u300cRefactor this function to be cleaner\u300d</p> <p>\u4e3b\u5eda\u79d8\u8a23 \ud83e\uddc2\uff1a\u52a0\u4e0a\u300c\u4fdd\u6301\u908f\u8f2f\u4e0d\u8b8a (Keep logic same)\u300d\uff0cAI \u6703\u66f4\u5c0f\u5fc3\u3002</p>"},{"location":"guides/cookbook_zh/#feature-development","title":"\ud83e\udd69 \u4e3b\u83dc\uff1a\u529f\u80fd\u958b\u767c (Feature Development)","text":"<p>\u9019\u662f Vibe Coder \u6700\u5f37\u5927\u7684\u5730\u65b9\uff1aSpecKit \u6d41\u7a0b\u3002</p>"},{"location":"guides/cookbook_zh/#3","title":"\u98df\u8b5c 3\uff1a\u5f9e\u96f6\u958b\u59cb\u505a\u65b0\u529f\u80fd","text":"<p>\u60c5\u5883\uff1a\u8001\u95c6\u8aaa\u300c\u6211\u5011\u8981\u52a0\u4e00\u500b OAuth \u767b\u5165\u529f\u80fd\u300d\u3002 \u505a\u6cd5\uff1a\u4e0d\u8981\u6025\u8457\u5beb code\uff01</p> <p>\u6b65\u9a5f 1\uff1a\u9ede\u9910 (\u898f\u5283)</p> <p>\u300c\u6211\u60f3\u505a Google \u767b\u5165\u529f\u80fd\uff0c\u5e6b\u6211\u898f\u5283\u4e00\u4e0b (Plan this)\u300d</p> <p>\u6b65\u9a5f 2\uff1a\u78ba\u8a8d\u83dc\u55ae (SpecKit) AI \u6703\u751f\u6210\u4e00\u500b\u8a08\u756b (<code>.boring/plans/google-auth.md</code>)\u3002</p> <p>\u300c\u628a\u9019\u500b\u8a08\u756b\u62c6\u6210\u4efb\u52d9\u6e05\u55ae (Break into tasks)\u300d</p> <p>\u6b65\u9a5f 3\uff1a\u958b\u706b (\u5be6\u4f5c)</p> <p>\u300c\u597d\uff0c\u958b\u59cb\u505a\u7b2c\u4e00\u500b\u4efb\u52d9\u300d \u300cImplement task 1\u300d</p>"},{"location":"guides/cookbook_zh/#4","title":"\u98df\u8b5c 4\uff1a\u5beb\u6e2c\u8a66\u4e0d\u6c42\u4eba","text":"<p>\u60c5\u5883\uff1a\u529f\u80fd\u5beb\u5b8c\u4e86\uff0c\u4f46\u4f60\u61f6\u5f97\u5beb\u55ae\u5143\u6e2c\u8a66\u3002 \u505a\u6cd5\uff1a</p> <p>\u300c\u5e6b\u6211\u70ba <code>auth.py</code> \u5beb\u6e2c\u8a66\u300d \u300cGenerate unit tests for this file\u300d</p> <p>\u9810\u671f\u7d50\u679c\uff1aAI \u6703\u81ea\u52d5\u547c\u53eb <code>boring_test_gen</code>\uff0c\u5728 <code>tests/</code> \u76ee\u9304\u4e0b\u751f\u51fa\u5b8c\u6574\u7684\u6e2c\u8a66\u6a94\u3002</p>"},{"location":"guides/cookbook_zh/#5-the-one-dragon-run","title":"\u98df\u8b5c 5\uff1a\u4e00\u689d\u9f8d\u904b\u884c (The One Dragon Run) \ud83d\udc09","text":"<p>\u76ee\u6a19\uff1a\u5728\u4f60\u96e2\u958b\u9375\u76e4 (AFK) \u6642\uff0c\u81ea\u52d5\u69cb\u5efa\u5b8c\u6574\u529f\u80fd\u3002</p> <p>\u98df\u6750\uff1a *   <code>boring start</code> (CLI \u6307\u4ee4) *   \u4e00\u500b <code>task.md</code> \u6a94\u6848 *   \u4e00\u676f\u5496\u5561 \u2615</p> <p>\u505a\u6cd5\uff1a</p> <ol> <li> <p>\u5b9a\u7fa9\u4efb\u52d9\uff1a\u5728\u5c08\u6848\u6839\u76ee\u9304\u5efa\u7acb <code>task.md</code>\u3002     <pre><code># Task: \u5efa\u7acb\u767b\u5165\u9801\u9762\n- [ ] \u4f7f\u7528 Bootstrap \u5efa\u7acb login.html\n- [ ] \u5efa\u7acb styles.css (\u6df1\u8272\u6a21\u5f0f)\n- [ ] \u64b0\u5beb logic.js \u9032\u884c\u9a57\u8b49\n- [ ] \u9a57\u8b49\u529f\u80fd\u904b\u4f5c\u6b63\u5e38\n</code></pre></p> </li> <li> <p>\u91cb\u653e\u60e1\u9f8d\uff1a     \u6253\u958b\u4f60\u7684\u7d42\u7aef\u6a5f\u4e26\u57f7\u884c\uff1a     <pre><code>boring start\n</code></pre></p> </li> <li> <p>\u76e3\u63a7 (\u9078\u7528)\uff1a     \u6253\u958b\u53e6\u4e00\u500b\u7d42\u7aef\u6a5f\u770b\u5927\u8166\u5982\u4f55\u904b\u4f5c\uff1a     <pre><code>boring-monitor\n</code></pre></p> </li> <li> <p>\u7d50\u679c\uff1a     Boring \u6703\u7121\u9650\u8ff4\u5708\u57f7\u884c \u898f\u5283 -&gt; \u5beb\u78bc -&gt; \u6e2c\u8a66 -&gt; \u4fee\u5fa9\uff0c\u76f4\u5230 <code>task.md</code> \u4e2d\u6240\u6709\u65b9\u6846\u90fd\u88ab\u6253\u52fe <code>[x]</code>\u3002</p> </li> </ol>"},{"location":"guides/cookbook_zh/#quality-security","title":"\ud83c\udf70 \u751c\u9ede\uff1a\u54c1\u8cea\u8207\u5b89\u5168 (Quality &amp; Security)","text":"<p>\u4e0a\u7dda\u524d\u7684\u6700\u5f8c\u6aa2\u67e5\u3002</p>"},{"location":"guides/cookbook_zh/#6vibe-check","title":"\u98df\u8b5c 6\uff1aVibe Check (\u5c08\u6848\u5065\u6aa2)","text":"<p>\u60c5\u5883\uff1a\u4f60\u60f3\u77e5\u9053\u5c08\u6848\u73fe\u5728\u5065\u4e0d\u5065\u5eb7\u3002 \u505a\u6cd5\uff1a</p> <p>\u300cVibe Check!\u300d \u300c\u5e6b\u6211\u5065\u6aa2\u4e00\u4e0b\u5c08\u6848\u300d</p> <p>\u7d50\u679c\uff1a\u4f60\u6703\u5f97\u5230\u4e00\u500b Vibe Score (0-100)\u3002 - 90+: \u7c73\u5176\u6797\u4e09\u661f \ud83c\udf1f - 60-: \u9700\u8981\u9032\u5eda\u623f\u91cd\u7df4 \ud83e\uddf9</p>"},{"location":"guides/cookbook_zh/#7","title":"\u98df\u8b5c 7\uff1a\u5b89\u5168\u6383\u63cf","text":"<p>\u60c5\u5883\uff1a\u6015\u628a API Key \u63a8\u5230 GitHub\u3002 \u505a\u6cd5\uff1a</p> <p>\u300c\u505a\u4e00\u6b21\u5b89\u5168\u6383\u63cf\u300d \u300cScan for secrets\u300d</p> <p>\u4e3b\u5eda\u79d8\u8a23 \ud83e\uddc2\uff1a\u52a0\u4e0a <code>fix_mode=True</code> (\u6216\u662f\u8aaa\u300c\u9806\u4fbf\u5e6b\u6211\u4fee\u300d)\uff0cAI \u6703\u81ea\u52d5\u628a Key \u63db\u6210\u74b0\u5883\u8b8a\u6578\u3002</p>"},{"location":"guides/cookbook_zh/#pro-tips","title":"\ud83c\udf79 \u7279\u8abf\uff1a\u9032\u968e\u6280\u5de7 (Pro Tips)","text":""},{"location":"guides/cookbook_zh/#recipe-8","title":"\u98df\u8b5c 8\uff1aRAG \u77e5\u8b58\u5eab\u67e5\u8a62","text":"<p>\u60c5\u5883\uff1a\u63a5\u624b\u5225\u4eba\u7684\u5c08\u6848\uff0c\u770b\u4e0d\u61c2\u9019\u662f\u5e79\u561b\u7684\u3002 \u505a\u6cd5\uff1a</p> <p>\u300c\u89e3\u91cb\u4e00\u4e0b\u9019\u908a\u7684 DB \u9023\u7dda\u662f\u600e\u9ebc\u8655\u7406\u7684\uff1f\u300d \u300cWhere is the authentication logic?\u300d</p> <p>\u80cc\u5f8c\u539f\u7406\uff1aAI \u6703\u7528 <code>boring_rag_search</code> \u53bb\u7ffb\u95b1\u6574\u500b\u5c08\u6848\u7684\u77e5\u8b58\u5eab\uff0c\u4e26\u5229\u7528 <code>expand_graph=True</code> \u81ea\u52d5\u8ffd\u8e64\u76f8\u95dc\u4f9d\u8cf4\uff0c\u628a\u76f8\u95dc\u7684\u7a0b\u5f0f\u78bc\u7247\u6bb5\u627e\u51fa\u4f86\u89e3\u91cb\u7d66\u4f60\u807d\u3002</p>"},{"location":"guides/cookbook_zh/#9-shadow-mode","title":"\u98df\u8b5c 9\uff1a\u5f71\u5b50\u6a21\u5f0f (Shadow Mode)","text":"<p>\u60c5\u5883\uff1a\u4f60\u4fe1\u4efb AI\uff0c\u4f46\u4e0d\u60f3\u8b93\u5b83\u4e82\u6539\u91cd\u8981\u6a94\u6848\u3002 \u505a\u6cd5\uff1a</p> <p>\u300c\u958b\u555f Shadow Mode\u300d</p> <p>\u5f9e\u6b64\u4e4b\u5f8c\uff0cAI \u5c0d \u654f\u611f\u6a94\u6848 (\u5982 <code>.env</code>, \u914d\u7f6e\u6a94) \u7684\u4fee\u6539\uff0c\u90fd\u9700\u8981\u4f60\u9ede\u982d\u6279\u51c6\u624d\u6703\u751f\u6548\u3002\u5c31\u50cf\u5eda\u623f\u88e1\u7684\u300c\u4e3b\u5eda\u5be9\u6838\u300d\u6a5f\u5236\u3002</p> <p>\ud83d\udc68\u200d\ud83c\udf73 \u795d\u60a8\u70f9\u98ea\u6109\u5feb\uff01 (Happy Coding!)</p>"},{"location":"guides/evaluation-metrics/","title":"\u8a55\u4f30\u6307\u6a19\u6307\u5357 (Evaluation Metrics Guide)","text":"<p>boring-gemini V10.25 \u65b0\u589e\u7684 LLM-as-a-Judge \u8a55\u4f30\u7cfb\u7d71\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684\u7d71\u8a08\u6307\u6a19\u4f86\u9a57\u8b49\u8a55\u4f30\u54c1\u8cea\u3002</p>"},{"location":"guides/evaluation-metrics/#_1","title":"\ud83d\udcca \u6838\u5fc3\u6307\u6a19\u7e3d\u89bd","text":"\u6307\u6a19 \u6e2c\u91cf\u4ec0\u9ebc \u9069\u7528\u5834\u666f \u7bc4\u570d Cohen's \u03ba (Kappa) \u5169\u500b\u8a55\u5be9\u8005\u7684\u4e00\u81f4\u6027 AI \u8a55\u5206 vs \u4eba\u985e\u8a55\u5be9 -1 ~ 1 Spearman's \u03c1 (Rho) \u5169\u7d44\u6392\u540d\u7684\u76f8\u95dc\u6027 \u5206\u6578\u7684\u6392\u5e8f\u662f\u5426\u4e00\u81f4 -1 ~ 1 F1 Score \u5206\u985e\u7684\u6e96\u78ba\u5ea6 \u901a\u904e/\u4e0d\u901a\u904e \u7b49\u4e8c\u5206\u985e 0 ~ 1 Position Consistency \u6210\u5c0d\u6bd4\u8f03\u7684\u7a69\u5b9a\u6027 A vs B \u6bd4\u8f03\u662f\u5426\u6709\u504f\u898b 0 ~ 1"},{"location":"guides/evaluation-metrics/#_2","title":"\ud83c\udfaf \u8a73\u7d30\u8aaa\u660e","text":""},{"location":"guides/evaluation-metrics/#1-cohens-kappa","title":"1\ufe0f\u20e3 Cohen's Kappa (\u4e00\u81f4\u6027\u6307\u6a19)","text":"<p>\u554f\u984c\uff1a\u300cAI \u8a55\u5206\u8ddf\u4eba\u985e\u5c08\u5bb6\u4e00\u81f4\u55ce\uff1f\u300d</p> <pre><code>from boring.judge.metrics import cohens_kappa\n\nhuman_scores = [4, 3, 5, 2, 4]\nai_scores = [4, 3, 4, 2, 4]  # \u7b2c3\u500b\u4e0d\u540c (5 vs 4)\n\nkappa = cohens_kappa(ai_scores, human_scores)\nprint(f\"Kappa: {kappa:.2f}\")  # 0.71 - \u9ad8\u5ea6\u4e00\u81f4\n</code></pre> <p>\u89e3\u8b80\u6a19\u6e96\uff1a</p> \u03ba \u503c \u89e3\u8b80 &gt; 0.8 \u5e7e\u4e4e\u5b8c\u7f8e\u4e00\u81f4 0.6-0.8 \u9ad8\u5ea6\u4e00\u81f4 \u2705 0.4-0.6 \u4e2d\u7b49\u4e00\u81f4 0.2-0.4 \u4e00\u822c\u4e00\u81f4 &lt; 0.2 \u5fae\u5f31\u4e00\u81f4 <p>\u7528\u9014\uff1a\u9a57\u8b49 AI \u8a55\u4f30\u7cfb\u7d71\u662f\u5426\u53ef\u4ee5\u53d6\u4ee3\u4eba\u985e\u5be9\u67e5</p>"},{"location":"guides/evaluation-metrics/#2-spearmans","title":"2\ufe0f\u20e3 Spearman's \u03c1 (\u76f8\u95dc\u6027\u6307\u6a19)","text":"<p>\u554f\u984c\uff1a\u300cAI \u6392\u540d\u9806\u5e8f\u8ddf\u4eba\u985e\u4e00\u6a23\u55ce\uff1f\u300d</p> <pre><code>from boring.judge.metrics import spearmans_rho\n\nhuman_ranks = [1, 2, 3, 4, 5]\nai_ranks = [1, 2, 3, 4, 5]  # \u6392\u540d\u5b8c\u5168\u4e00\u81f4\n\nrho, p_value = spearmans_rho(ai_ranks, human_ranks)\nprint(f\"Spearman \u03c1: {rho:.2f}\")  # 1.0 - \u5b8c\u7f8e\u76f8\u95dc\n</code></pre> <p>\u89e3\u8b80\u6a19\u6e96\uff1a</p> \u03c1 \u503c \u89e3\u8b80 &gt; 0.9 \u5f37\u76f8\u95dc \u2705 0.7-0.9 \u4e2d\u76f8\u95dc 0.5-0.7 \u5f31\u76f8\u95dc &lt; 0.5 \u7121\u986f\u8457\u76f8\u95dc <p>\u7528\u9014\uff1a\u5373\u4f7f\u5206\u6578\u6578\u503c\u4e0d\u540c\uff0c\u9a57\u8b49\u6392\u5e8f\u662f\u5426\u6b63\u78ba</p> <p>[!TIP] Spearman \u9069\u5408\u5e8f\u6578\u8cc7\u6599\uff08\u5982 1-5 \u5206\u8a55\u5206\uff09\uff0c\u56e0\u70ba\u5b83\u53ea\u770b\u6392\u540d\u9806\u5e8f\uff0c\u4e0d\u53d7\u5206\u6578\u7d55\u5c0d\u503c\u5f71\u97ff\u3002</p>"},{"location":"guides/evaluation-metrics/#3-f1-score","title":"3\ufe0f\u20e3 F1 Score (\u5206\u985e\u6e96\u78ba\u5ea6)","text":"<p>\u554f\u984c\uff1a\u300cAI \u5224\u65b7\u901a\u904e/\u4e0d\u901a\u904e\u6e96\u78ba\u55ce\uff1f\u300d</p> <pre><code>from boring.judge.metrics import f1_score\n\nactual = [1, 1, 0, 1]    # 1=\u901a\u904e, 0=\u4e0d\u901a\u904e\npredicted = [1, 0, 0, 1]  # AI \u9810\u6e2c\n\nf1 = f1_score(predicted, actual)\nprint(f\"F1: {f1:.2f}\")  # 0.80\n</code></pre> <p>\u516c\u5f0f\uff1a</p> <pre><code>F1 = 2 \u00d7 (Precision \u00d7 Recall) / (Precision + Recall)\n</code></pre> <p>\u7528\u9014\uff1a\u8a55\u4f30\u4e8c\u5206\u985e\u5224\u65b7\u7684\u6e96\u78ba\u6027</p>"},{"location":"guides/evaluation-metrics/#4-position-consistency","title":"4\ufe0f\u20e3 Position Consistency (\u4f4d\u7f6e\u4e00\u81f4\u6027)","text":"<p>\u554f\u984c\uff1a\u300c\u6210\u5c0d\u6bd4\u8f03\u6709\u6c92\u6709\u4f4d\u7f6e\u504f\u898b\uff1f\u300d</p> <pre><code>from boring.judge.metrics import pairwise_metrics\n\ncomparisons = [\n    {\"winner\": \"A\", \"position_consistent\": True},\n    {\"winner\": \"B\", \"position_consistent\": True},\n    {\"winner\": \"A\", \"position_consistent\": False},  # \u4f4d\u7f6e\u4e0d\u4e00\u81f4\n]\n\nmetrics = pairwise_metrics(comparisons)\nprint(f\"Position Consistency: {metrics.position_consistency:.0%}\")  # 67%\n</code></pre> <p>\u7528\u9014\uff1a\u6aa2\u6e2c\u4f4d\u7f6e\u504f\u898b\uff08\u7b2c\u4e00\u500b\u9078\u9805\u88ab\u504f\u597d\u7684\u50be\u5411\uff09</p>"},{"location":"guides/evaluation-metrics/#_3","title":"\ud83d\udcc8 \u4f55\u6642\u4f7f\u7528\u54ea\u500b\u6307\u6a19\uff1f","text":"\u4f60\u7684\u8a55\u4f30\u4efb\u52d9 \u63a8\u85a6\u6307\u6a19 \u7d66\u7a0b\u5f0f\u78bc\u6253 1-5 \u5206 Kappa + Spearman \u5224\u65b7\u7a0b\u5f0f\u78bc \u597d/\u58de F1 Score \u6bd4\u8f03\u5169\u6bb5\u7a0b\u5f0f\u78bc\u8ab0\u66f4\u597d Position Consistency \u6aa2\u67e5 AI \u8a55\u5206\u6709\u6c92\u6709\u504f\u898b Bias Report"},{"location":"guides/evaluation-metrics/#mcp","title":"\ud83d\udd27 MCP \u5de5\u5177\u4f7f\u7528","text":""},{"location":"guides/evaluation-metrics/#_4","title":"\u67e5\u770b\u8a55\u4f30\u6307\u6a19","text":"<pre><code>boring_evaluation_metrics\n</code></pre>"},{"location":"guides/evaluation-metrics/#_5","title":"\u67e5\u770b\u504f\u898b\u5831\u544a","text":"<pre><code>boring_bias_report\n</code></pre>"},{"location":"guides/evaluation-metrics/#_6","title":"\u81ea\u7136\u8a9e\u8a00\u89f8\u767c","text":"<pre><code>boring \"show evaluation metrics\"\nboring \"\u8a55\u4f30\u6307\u6a19\"\nboring \"show me the bias report\"\nboring \"\u67e5\u770b\u504f\u898b\u5831\u544a\"\n</code></pre>"},{"location":"guides/evaluation-metrics/#_7","title":"\ud83d\udcda \u9032\u968e\u8cc7\u6e90","text":"<ul> <li>LLM-as-a-Judge \u8ad6\u6587</li> <li>Cohen's Kappa \u8a73\u89e3</li> <li>Spearman \u76f8\u95dc\u4fc2\u6578</li> </ul>"},{"location":"guides/evaluation-metrics_en/","title":"Evaluation Metrics Guide","text":"<p>boring-gemini V10.25 introduces a comprehensive LLM-as-a-Judge evaluation system with statistical metrics to verify evaluation quality.</p>"},{"location":"guides/evaluation-metrics_en/#core-metrics-overview","title":"\ud83d\udcca Core Metrics Overview","text":"Metric What It Measures Use Case Range Cohen's \u03ba (Kappa) Agreement between two raters AI vs Human scoring -1 ~ 1 Spearman's \u03c1 (Rho) Rank correlation Are rankings consistent? -1 ~ 1 F1 Score Classification accuracy Pass/Fail decisions 0 ~ 1 Position Consistency Pairwise comparison stability Is there position bias? 0 ~ 1"},{"location":"guides/evaluation-metrics_en/#detailed-explanations","title":"\ud83c\udfaf Detailed Explanations","text":""},{"location":"guides/evaluation-metrics_en/#1-cohens-kappa-agreement-metric","title":"1\ufe0f\u20e3 Cohen's Kappa (Agreement Metric)","text":"<p>Question: \"Does AI scoring agree with human experts?\"</p> <pre><code>from boring.judge.metrics import cohens_kappa\n\nhuman_scores = [4, 3, 5, 2, 4]\nai_scores = [4, 3, 4, 2, 4]  # 3rd differs (5 vs 4)\n\nkappa = cohens_kappa(ai_scores, human_scores)\nprint(f\"Kappa: {kappa:.2f}\")  # 0.71 - Substantial agreement\n</code></pre> <p>Interpretation:</p> \u03ba Value Interpretation &gt; 0.8 Almost perfect agreement 0.6-0.8 Substantial agreement \u2705 0.4-0.6 Moderate agreement 0.2-0.4 Fair agreement &lt; 0.2 Slight agreement <p>Purpose: Validate if AI evaluation can replace human review</p>"},{"location":"guides/evaluation-metrics_en/#2-spearmans-correlation-metric","title":"2\ufe0f\u20e3 Spearman's \u03c1 (Correlation Metric)","text":"<p>Question: \"Is AI ranking order same as human ranking?\"</p> <pre><code>from boring.judge.metrics import spearmans_rho\n\nhuman_ranks = [1, 2, 3, 4, 5]\nai_ranks = [1, 2, 3, 4, 5]  # Perfect match\n\nrho, p_value = spearmans_rho(ai_ranks, human_ranks)\nprint(f\"Spearman \u03c1: {rho:.2f}\")  # 1.0 - Perfect correlation\n</code></pre> <p>Interpretation:</p> \u03c1 Value Interpretation &gt; 0.9 Strong correlation \u2705 0.7-0.9 Moderate correlation 0.5-0.7 Weak correlation &lt; 0.5 No significant correlation <p>Purpose: Verify ranking is correct even if absolute scores differ</p> <p>[!TIP] Spearman is ideal for ordinal data (like 1-5 ratings) because it only considers rank order, not absolute values.</p>"},{"location":"guides/evaluation-metrics_en/#3-f1-score-classification-accuracy","title":"3\ufe0f\u20e3 F1 Score (Classification Accuracy)","text":"<p>Question: \"Is AI pass/fail judgment accurate?\"</p> <pre><code>from boring.judge.metrics import f1_score\n\nactual = [1, 1, 0, 1]    # 1=pass, 0=fail\npredicted = [1, 0, 0, 1]  # AI predictions\n\nf1 = f1_score(predicted, actual)\nprint(f\"F1: {f1:.2f}\")  # 0.80\n</code></pre> <p>Formula:</p> <pre><code>F1 = 2 \u00d7 (Precision \u00d7 Recall) / (Precision + Recall)\n</code></pre> <p>Purpose: Evaluate binary classification accuracy</p>"},{"location":"guides/evaluation-metrics_en/#4-position-consistency","title":"4\ufe0f\u20e3 Position Consistency","text":"<p>Question: \"Is there position bias in pairwise comparison?\"</p> <pre><code>from boring.judge.metrics import pairwise_metrics\n\ncomparisons = [\n    {\"winner\": \"A\", \"position_consistent\": True},\n    {\"winner\": \"B\", \"position_consistent\": True},\n    {\"winner\": \"A\", \"position_consistent\": False},  # Inconsistent\n]\n\nmetrics = pairwise_metrics(comparisons)\nprint(f\"Position Consistency: {metrics.position_consistency:.0%}\")  # 67%\n</code></pre> <p>Purpose: Detect position bias (preference for first option)</p>"},{"location":"guides/evaluation-metrics_en/#when-to-use-which-metric","title":"\ud83d\udcc8 When to Use Which Metric?","text":"Your Evaluation Task Recommended Metric Rate code 1-5 Kappa + Spearman Judge code Good/Bad F1 Score Compare two code snippets Position Consistency Check for AI bias Bias Report"},{"location":"guides/evaluation-metrics_en/#mcp-tool-usage","title":"\ud83d\udd27 MCP Tool Usage","text":""},{"location":"guides/evaluation-metrics_en/#view-evaluation-metrics","title":"View Evaluation Metrics","text":"<pre><code>boring_evaluation_metrics\n</code></pre>"},{"location":"guides/evaluation-metrics_en/#view-bias-report","title":"View Bias Report","text":"<pre><code>boring_bias_report\n</code></pre>"},{"location":"guides/evaluation-metrics_en/#natural-language-triggers","title":"Natural Language Triggers","text":"<pre><code>boring \"show evaluation metrics\"\nboring \"\u8a55\u4f30\u6307\u6a19\"\nboring \"show me the bias report\"\nboring \"\u67e5\u770b\u504f\u898b\u5831\u544a\"\n</code></pre>"},{"location":"guides/evaluation-metrics_en/#further-reading","title":"\ud83d\udcda Further Reading","text":"<ul> <li>LLM-as-a-Judge Paper</li> <li>Cohen's Kappa Explained</li> <li>Spearman Correlation</li> </ul>"},{"location":"guides/git-hooks/","title":"Git Hooks Integration","text":"<p>Automate quality checks on every commit and push. Never push broken code again.</p>"},{"location":"guides/git-hooks/#quick-setup","title":"\ud83d\ude80 Quick Setup","text":""},{"location":"guides/git-hooks/#one-command-installation","title":"One-Command Installation","text":"<pre><code>boring hooks install\n</code></pre> <p>This installs: - pre-commit - Runs STANDARD verification - pre-push - Runs FULL verification</p>"},{"location":"guides/git-hooks/#hook-levels","title":"\ud83d\udccb Hook Levels","text":"Hook Trigger Verification Level Bypass pre-commit <code>git commit</code> STANDARD <code>--no-verify</code> pre-push <code>git push</code> FULL <code>--no-verify</code>"},{"location":"guides/git-hooks/#what-each-level-checks","title":"What Each Level Checks","text":"<p>STANDARD (pre-commit): - \u2705 Syntax errors - \u2705 Linting (ruff) - \u2705 Formatting - \u2705 Import sorting</p> <p>FULL (pre-push): - Everything in STANDARD, plus: - \u2705 Unit tests - \u2705 Security scan - \u2705 Dependency audit</p>"},{"location":"guides/git-hooks/#configuration","title":"\u2699\ufe0f Configuration","text":""},{"location":"guides/git-hooks/#custom-hook-config-boringtoml","title":"Custom Hook Config (.boring.toml)","text":"<pre><code>[boring.hooks]\npre_commit_level = \"STANDARD\"    # BASIC|STANDARD|FULL\npre_push_level = \"FULL\"          # STANDARD|FULL\nauto_fix = true                  # Auto-fix linting issues\ntimeout_seconds = 300            # Max hook runtime\n\n[boring.hooks.bypass_patterns]\n# Skip verification for these file patterns\nskip_files = [\"*.md\", \"docs/*\", \"*.txt\"]\n</code></pre>"},{"location":"guides/git-hooks/#manual-hook-scripts","title":"Manual Hook Scripts","text":"<p>If you prefer manual control, create <code>.git/hooks/pre-commit</code>:</p> <pre><code>#!/bin/bash\nboring verify --level STANDARD\nexit $?\n</code></pre> <p>And <code>.git/hooks/pre-push</code>:</p> <pre><code>#!/bin/bash\nboring verify --level FULL\nexit $?\n</code></pre> <p>Make them executable: <pre><code>chmod +x .git/hooks/pre-commit .git/hooks/pre-push\n</code></pre></p>"},{"location":"guides/git-hooks/#commands","title":"\ud83d\udee0\ufe0f Commands","text":""},{"location":"guides/git-hooks/#install-hooks","title":"Install Hooks","text":"<pre><code>boring hooks install\n</code></pre>"},{"location":"guides/git-hooks/#check-status","title":"Check Status","text":"<pre><code>boring hooks status\n\n# Output:\n# pre-commit: \u2705 Installed (STANDARD)\n# pre-push: \u2705 Installed (FULL)\n</code></pre>"},{"location":"guides/git-hooks/#uninstall-hooks","title":"Uninstall Hooks","text":"<pre><code>boring hooks uninstall\n</code></pre>"},{"location":"guides/git-hooks/#upgrade-hooks","title":"Upgrade Hooks","text":"<pre><code>boring hooks install --force\n</code></pre>"},{"location":"guides/git-hooks/#workflow-example","title":"\ud83d\udd04 Workflow Example","text":"<pre><code># Make changes\nvim src/main.py\n\n# Stage changes\ngit add src/main.py\n\n# Commit triggers pre-commit hook\ngit commit -m \"feat: add user authentication\"\n# \u2705 Syntax Check: Passed\n# \u2705 Linting: Passed (3 auto-fixed)\n# \u2705 Formatting: Passed\n# [main abc1234] feat: add user authentication\n\n# Push triggers pre-push hook\ngit push origin main\n# \u2705 Syntax Check: Passed\n# \u2705 Linting: Passed\n# \u2705 Tests: 42 passed\n# \u2705 Security: No issues\n# Pushing to origin...\n</code></pre>"},{"location":"guides/git-hooks/#performance-tips","title":"\u26a1 Performance Tips","text":""},{"location":"guides/git-hooks/#use-incremental-mode","title":"Use Incremental Mode","text":"<p>Hooks automatically use incremental verification: - Only checks staged files (pre-commit) - Only checks commits to push (pre-push)</p>"},{"location":"guides/git-hooks/#skip-heavy-checks","title":"Skip Heavy Checks","text":"<p>For quick commits during development:</p> <pre><code># .boring.toml\n[boring.hooks]\npre_commit_level = \"BASIC\"  # Fast syntax check only\npre_push_level = \"STANDARD\" # Save FULL for CI\n</code></pre>"},{"location":"guides/git-hooks/#bypass-when-needed","title":"Bypass When Needed","text":"<pre><code># Skip hooks (use sparingly!)\ngit commit --no-verify -m \"WIP: work in progress\"\ngit push --no-verify\n</code></pre>"},{"location":"guides/git-hooks/#team-configuration","title":"\ud83c\udfe2 Team Configuration","text":""},{"location":"guides/git-hooks/#shared-hook-config","title":"Shared Hook Config","text":"<p>Commit <code>.boring.toml</code> to share with team:</p> <pre><code>git add .boring.toml\ngit commit -m \"Add team quality standards\"\n</code></pre>"},{"location":"guides/git-hooks/#recommended-team-settings","title":"Recommended Team Settings","text":"<pre><code># .boring.toml\n[boring.hooks]\npre_commit_level = \"STANDARD\"\npre_push_level = \"FULL\"\nauto_fix = true\n\n[boring.quality_gates]\nmin_coverage = 40\nmax_complexity = 15\n</code></pre>"},{"location":"guides/git-hooks/#troubleshooting","title":"\ud83d\udd27 Troubleshooting","text":""},{"location":"guides/git-hooks/#hook-not-running","title":"Hook Not Running","text":"<pre><code># Check if hooks are installed\nls -la .git/hooks/\n\n# Reinstall\nboring hooks install --force\n</code></pre>"},{"location":"guides/git-hooks/#hook-too-slow","title":"Hook Too Slow","text":"<pre><code># .boring.toml\n[boring.hooks]\npre_commit_level = \"BASIC\"  # Faster\ntimeout_seconds = 60        # Add timeout\n</code></pre>"},{"location":"guides/git-hooks/#tests-failing-in-hook","title":"Tests Failing in Hook","text":"<pre><code># Run verification manually to see details\nboring verify --level FULL --verbose\n</code></pre>"},{"location":"guides/git-hooks/#see-also","title":"See Also","text":"<ul> <li>Quality Gates - CI/CD integration</li> <li>Performance - Optimization</li> <li>Pro Tips - Best practices</li> </ul>"},{"location":"guides/git-hooks_zh/","title":"Git Hooks \u6574\u5408","text":"<p>\u81ea\u52d5\u5316\u6bcf\u6b21\u63d0\u4ea4\u548c\u63a8\u9001\u7684\u54c1\u8cea\u6aa2\u67e5\u3002\u518d\u4e5f\u4e0d\u6703\u63a8\u9001\u58de\u6389\u7684\u4ee3\u78bc\u3002</p>"},{"location":"guides/git-hooks_zh/#_1","title":"\ud83d\ude80 \u5feb\u901f\u8a2d\u5b9a","text":""},{"location":"guides/git-hooks_zh/#_2","title":"\u4e00\u9375\u5b89\u88dd","text":"<pre><code>boring hooks install\n</code></pre> <p>\u9019\u6703\u5b89\u88dd\uff1a - pre-commit - \u57f7\u884c STANDARD \u9a57\u8b49 - pre-push - \u57f7\u884c FULL \u9a57\u8b49</p>"},{"location":"guides/git-hooks_zh/#hook","title":"\ud83d\udccb Hook \u7d1a\u5225","text":"Hook \u89f8\u767c\u6642\u6a5f \u9a57\u8b49\u7d1a\u5225 \u7e5e\u904e\u65b9\u5f0f pre-commit <code>git commit</code> STANDARD <code>--no-verify</code> pre-push <code>git push</code> FULL <code>--no-verify</code>"},{"location":"guides/git-hooks_zh/#_3","title":"\u6bcf\u500b\u7d1a\u5225\u6aa2\u67e5\u7684\u5167\u5bb9","text":"<p>STANDARD\uff08pre-commit\uff09\uff1a - \u2705 \u8a9e\u6cd5\u932f\u8aa4 - \u2705 Linting\uff08ruff\uff09 - \u2705 \u683c\u5f0f\u5316 - \u2705 Import \u6392\u5e8f</p> <p>FULL\uff08pre-push\uff09\uff1a - STANDARD \u7684\u6240\u6709\u5167\u5bb9\uff0c\u52a0\u4e0a\uff1a - \u2705 \u55ae\u5143\u6e2c\u8a66 - \u2705 \u5b89\u5168\u6383\u63cf - \u2705 \u4f9d\u8cf4\u5be9\u8a08</p>"},{"location":"guides/git-hooks_zh/#_4","title":"\u2699\ufe0f \u914d\u7f6e","text":""},{"location":"guides/git-hooks_zh/#hook-boringtoml","title":"\u81ea\u8a02 Hook \u914d\u7f6e\uff08.boring.toml\uff09","text":"<pre><code>[boring.hooks]\npre_commit_level = \"STANDARD\"    # BASIC|STANDARD|FULL\npre_push_level = \"FULL\"          # STANDARD|FULL\nauto_fix = true                  # \u81ea\u52d5\u4fee\u5fa9 linting \u554f\u984c\ntimeout_seconds = 300            # \u6700\u5927 hook \u57f7\u884c\u6642\u9593\n\n[boring.hooks.bypass_patterns]\n# \u8df3\u904e\u9019\u4e9b\u6a94\u6848\u6a21\u5f0f\u7684\u9a57\u8b49\nskip_files = [\"*.md\", \"docs/*\", \"*.txt\"]\n</code></pre>"},{"location":"guides/git-hooks_zh/#hook_1","title":"\u624b\u52d5 Hook \u8173\u672c","text":"<p>\u5982\u679c\u4f60\u504f\u597d\u624b\u52d5\u63a7\u5236\uff0c\u5efa\u7acb <code>.git/hooks/pre-commit</code>\uff1a</p> <pre><code>#!/bin/bash\nboring verify --level STANDARD\nexit $?\n</code></pre> <p>\u548c <code>.git/hooks/pre-push</code>\uff1a</p> <pre><code>#!/bin/bash\nboring verify --level FULL\nexit $?\n</code></pre> <p>\u8a2d\u70ba\u53ef\u57f7\u884c\uff1a <pre><code>chmod +x .git/hooks/pre-commit .git/hooks/pre-push\n</code></pre></p>"},{"location":"guides/git-hooks_zh/#_5","title":"\ud83d\udee0\ufe0f \u547d\u4ee4","text":""},{"location":"guides/git-hooks_zh/#hooks","title":"\u5b89\u88dd Hooks","text":"<pre><code>boring hooks install\n</code></pre>"},{"location":"guides/git-hooks_zh/#_6","title":"\u6aa2\u67e5\u72c0\u614b","text":"<pre><code>boring hooks status\n\n# \u8f38\u51fa\uff1a\n# pre-commit: \u2705 \u5df2\u5b89\u88dd\uff08STANDARD\uff09\n# pre-push: \u2705 \u5df2\u5b89\u88dd\uff08FULL\uff09\n</code></pre>"},{"location":"guides/git-hooks_zh/#hooks_1","title":"\u89e3\u9664\u5b89\u88dd Hooks","text":"<pre><code>boring hooks uninstall\n</code></pre>"},{"location":"guides/git-hooks_zh/#hooks_2","title":"\u5347\u7d1a Hooks","text":"<pre><code>boring hooks install --force\n</code></pre>"},{"location":"guides/git-hooks_zh/#_7","title":"\ud83d\udd04 \u5de5\u4f5c\u6d41\u7a0b\u7bc4\u4f8b","text":"<pre><code># \u505a\u8b8a\u66f4\nvim src/main.py\n\n# \u66ab\u5b58\u8b8a\u66f4\ngit add src/main.py\n\n# \u63d0\u4ea4\u89f8\u767c pre-commit hook\ngit commit -m \"feat: \u65b0\u589e\u4f7f\u7528\u8005\u8a8d\u8b49\"\n# \u2705 \u8a9e\u6cd5\u6aa2\u67e5\uff1a\u901a\u904e\n# \u2705 Linting\uff1a\u901a\u904e\uff083 \u500b\u81ea\u52d5\u4fee\u5fa9\uff09\n# \u2705 \u683c\u5f0f\u5316\uff1a\u901a\u904e\n# [main abc1234] feat: \u65b0\u589e\u4f7f\u7528\u8005\u8a8d\u8b49\n\n# \u63a8\u9001\u89f8\u767c pre-push hook\ngit push origin main\n# \u2705 \u8a9e\u6cd5\u6aa2\u67e5\uff1a\u901a\u904e\n# \u2705 Linting\uff1a\u901a\u904e\n# \u2705 \u6e2c\u8a66\uff1a42 \u901a\u904e\n# \u2705 \u5b89\u5168\uff1a\u7121\u554f\u984c\n# \u63a8\u9001\u5230 origin...\n</code></pre>"},{"location":"guides/git-hooks_zh/#_8","title":"\u26a1 \u6548\u80fd\u6280\u5de7","text":""},{"location":"guides/git-hooks_zh/#_9","title":"\u4f7f\u7528\u589e\u91cf\u6a21\u5f0f","text":"<p>Hooks \u81ea\u52d5\u4f7f\u7528\u589e\u91cf\u9a57\u8b49\uff1a - \u53ea\u6aa2\u67e5\u5df2\u66ab\u5b58\u7684\u6a94\u6848\uff08pre-commit\uff09 - \u53ea\u6aa2\u67e5\u8981\u63a8\u9001\u7684\u63d0\u4ea4\uff08pre-push\uff09</p>"},{"location":"guides/git-hooks_zh/#_10","title":"\u8df3\u904e\u91cd\u578b\u6aa2\u67e5","text":"<p>\u958b\u767c\u671f\u9593\u7684\u5feb\u901f\u63d0\u4ea4\uff1a</p> <pre><code># .boring.toml\n[boring.hooks]\npre_commit_level = \"BASIC\"  # \u50c5\u5feb\u901f\u8a9e\u6cd5\u6aa2\u67e5\npre_push_level = \"STANDARD\" # \u5c07 FULL \u7559\u7d66 CI\n</code></pre>"},{"location":"guides/git-hooks_zh/#_11","title":"\u5fc5\u8981\u6642\u7e5e\u904e","text":"<pre><code># \u8df3\u904e hooks\uff08\u8b39\u614e\u4f7f\u7528\uff01\uff09\ngit commit --no-verify -m \"WIP: \u9032\u884c\u4e2d\u7684\u5de5\u4f5c\"\ngit push --no-verify\n</code></pre>"},{"location":"guides/git-hooks_zh/#_12","title":"\ud83c\udfe2 \u5718\u968a\u914d\u7f6e","text":""},{"location":"guides/git-hooks_zh/#hook_2","title":"\u5171\u4eab Hook \u914d\u7f6e","text":"<p>\u63d0\u4ea4 <code>.boring.toml</code> \u8207\u5718\u968a\u5206\u4eab\uff1a</p> <pre><code>git add .boring.toml\ngit commit -m \"\u65b0\u589e\u5718\u968a\u54c1\u8cea\u6a19\u6e96\"\n</code></pre>"},{"location":"guides/git-hooks_zh/#_13","title":"\u5efa\u8b70\u7684\u5718\u968a\u8a2d\u5b9a","text":"<pre><code># .boring.toml\n[boring.hooks]\npre_commit_level = \"STANDARD\"\npre_push_level = \"FULL\"\nauto_fix = true\n\n[boring.quality_gates]\nmin_coverage = 40\nmax_complexity = 15\n</code></pre>"},{"location":"guides/git-hooks_zh/#_14","title":"\ud83d\udd27 \u7591\u96e3\u6392\u89e3","text":""},{"location":"guides/git-hooks_zh/#hook_3","title":"Hook \u6c92\u6709\u57f7\u884c","text":"<pre><code># \u6aa2\u67e5 hooks \u662f\u5426\u5df2\u5b89\u88dd\nls -la .git/hooks/\n\n# \u91cd\u65b0\u5b89\u88dd\nboring hooks install --force\n</code></pre>"},{"location":"guides/git-hooks_zh/#hook_4","title":"Hook \u592a\u6162","text":"<pre><code># .boring.toml\n[boring.hooks]\npre_commit_level = \"BASIC\"  # \u66f4\u5feb\ntimeout_seconds = 60        # \u65b0\u589e\u8d85\u6642\n</code></pre>"},{"location":"guides/git-hooks_zh/#hook_5","title":"\u6e2c\u8a66\u5728 Hook \u4e2d\u5931\u6557","text":"<pre><code># \u624b\u52d5\u57f7\u884c\u9a57\u8b49\u67e5\u770b\u8a73\u60c5\nboring verify --level FULL --verbose\n</code></pre>"},{"location":"guides/git-hooks_zh/#_15","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u54c1\u8cea\u9598\u9053 - CI/CD \u6574\u5408</li> <li>\u6548\u80fd - \u512a\u5316</li> <li>\u5c08\u696d\u6280\u5de7 - \u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"guides/human-alignment/","title":"Human Alignment &amp; Preferences","text":"<p>How to steer Boring's AI to match your personal or team's \"Human Needs\".</p>"},{"location":"guides/human-alignment/#the-alignment-engine","title":"\ud83e\udde0 The Alignment Engine","text":"<p>Boring doesn't just work in a vacuum. It is designed to adapt to how you work. This is achieved through two main systems: Rubrics (Explicit Rules) and Learned Memory (Implicit Habits).</p>"},{"location":"guides/human-alignment/#1-explicit-steering-rubrics","title":"\ud83d\udccb 1. Explicit Steering: Rubrics","text":"<p>Rubrics are JSON files located in <code>.boring/brain/rubrics/</code>. They tell the AI exactly how to evaluate its own work before presenting it to you.</p>"},{"location":"guides/human-alignment/#how-to-use-them","title":"How to use them:","text":"<ol> <li>Create a Rubric: Define a new <code>.json</code> file (e.g., <code>mobile_standards.json</code>).</li> <li>Define Criteria: Add weights and levels for things like \"Performance\", \"Accessibility\", or \"Variable Naming\".</li> <li>AI Self-Correction: When Boring runs a task, it uses these rubrics to grade itself. If it gets a low score, it will automatically refactor the code until it meets your \"Human Standards\".</li> </ol>"},{"location":"guides/human-alignment/#2-implicit-learning-memory","title":"\ud83d\udcbe 2. Implicit Learning: Memory","text":"<p>Every time you correct Boring (e.g., \"I prefer using <code>async/await</code> here\"), Boring uses the <code>boring_learn</code> tool to save that preference.</p>"},{"location":"guides/human-alignment/#the-learning-loop","title":"The Learning Loop:","text":"<ul> <li>Interaction: You provide feedback or fix an error.</li> <li>Pattern Extraction: Boring identifies the \"Fix Pattern\" and stores it in <code>.boring/brain/learned_patterns/</code>.</li> <li>Precognition: Next time a similar situation occurs, Boring will proactively use your preferred style.</li> </ul>"},{"location":"guides/human-alignment/#3-adaptive-workflows-speckit","title":"\ud83d\udd04 3. Adaptive Workflows (SpecKit)","text":"<p>The <code>.agent/workflows/</code> files are not static. The Workflow Evolver analyzes your project's unique requirements and modifies these checklists automatically.</p>"},{"location":"guides/human-alignment/#making-it-more-human","title":"Making it \"More Human\":","text":"<ul> <li>If your team requires a security audit for every DB change, just mention it in your <code>PROMPT.md</code>.</li> <li>Boring will evolve your <code>speckit-tasks.md</code> to include a mandatory <code>[ ] Security Check</code> step.</li> </ul>"},{"location":"guides/human-alignment/#best-practices-for-alignment","title":"\ud83d\udca1 Best Practices for Alignment","text":"<ol> <li>Be Explicit: Use <code>boring profile learn</code> to manually teach the AI your favorite libraries or linting styles.</li> <li>Review the Brain: Occasionally check <code>.boring/brain/learned_patterns/</code> to see what the AI has learned about you. You can manually delete any patterns that are no longer relevant.</li> <li>Team Sharing: Commit the <code>.boring/brain/rubrics/</code> folder to Git so your entire team shares the same \"Human Quality Gates\".</li> </ol>"},{"location":"guides/human-alignment_zh/","title":"\u4eba\u985e\u5c0d\u9f4a\u8207\u504f\u597d\u7cfb\u7d71 (Human Alignment)","text":"<p>\u5982\u4f55\u5f15\u5c0e Boring \u7684 AI \u4ee3\u7406\u4eba\uff0c\u4f7f\u5176\u884c\u70ba\u7b26\u5408\u60a8\u500b\u4eba\u6216\u5718\u968a\u7684\u300c\u4eba\u985e\u9700\u6c42\u300d\u3002</p>"},{"location":"guides/human-alignment_zh/#_1","title":"\ud83e\udde0 \u5c0d\u9f4a\u5f15\u64ce","text":"<p>Boring \u4e26\u975e\u5728\u771f\u7a7a\u72c0\u614b\u4e0b\u904b\u4f5c\u3002\u5b83\u88ab\u8a2d\u8a08\u70ba\u80fd\u5920\u9069\u61c9\u60a8\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002\u9019\u4e3b\u8981\u900f\u904e\u5169\u500b\u7cfb\u7d71\u5be6\u73fe\uff1aRubrics\uff08\u986f\u5f0f\u898f\u5247\uff09\u548c Learned Memory\uff08\u96b1\u6027\u7fd2\u6163\uff09\u3002</p>"},{"location":"guides/human-alignment_zh/#1-rubrics","title":"\ud83d\udccb 1. \u986f\u5f0f\u5f15\u5c0e\uff1a\u8a55\u5206\u8868 (Rubrics)","text":"<p>\u8a55\u5206\u8868\u662f\u4f4d\u65bc <code>.boring/brain/rubrics/</code> \u4e2d\u7684 JSON \u6a94\u6848\u3002\u5b83\u5011\u544a\u8a34 AI \u5728\u5411\u60a8\u5c55\u793a\u6210\u54c1\u4e4b\u524d\uff0c\u8a72\u5982\u4f55\u7cbe\u78ba\u8a55\u4f30\u81ea\u5df1\u7684\u5de5\u4f5c\u3002</p>"},{"location":"guides/human-alignment_zh/#_2","title":"\u5982\u4f55\u4f7f\u7528\uff1a","text":"<ol> <li>\u5efa\u7acb\u8a55\u5206\u8868\uff1a\u5b9a\u7fa9\u4e00\u500b\u65b0\u7684 <code>.json</code> \u6a94\u6848\uff08\u4f8b\u5982 <code>mobile_standards.json</code>\uff09\u3002</li> <li>\u5b9a\u7fa9\u6e96\u5247\uff1a\u70ba\u300c\u6548\u80fd\u300d\u3001\u300c\u7121\u969c\u7919\u300d\u6216\u300c\u8b8a\u6578\u547d\u540d\u300d\u7b49\u9805\u76ee\u6dfb\u52a0\u6b0a\u91cd\u8207\u7b49\u7d1a\u3002</li> <li>AI \u81ea\u6211\u4fee\u6b63\uff1a\u7576 Boring \u57f7\u884c\u4efb\u52d9\u6642\uff0c\u5b83\u6703\u4f7f\u7528\u9019\u4e9b\u8a55\u5206\u8868\u70ba\u81ea\u5df1\u6253\u5206\u3002\u5982\u679c\u5206\u6578\u904e\u4f4e\uff0c\u5b83\u6703\u81ea\u52d5\u91cd\u69cb\u7a0b\u5f0f\u78bc\uff0c\u76f4\u5230\u7b26\u5408\u60a8\u7684\u300c\u4eba\u985e\u6a19\u6e96\u300d\u3002</li> </ol>"},{"location":"guides/human-alignment_zh/#2-memory","title":"\ud83d\udcbe 2. \u96b1\u6027\u5b78\u7fd2\uff1a\u8a18\u61b6 (Memory)","text":"<p>\u6bcf\u7576\u60a8\u7cfe\u6b63 Boring\uff08\u4f8b\u5982\u8aaa\uff1a\u300c\u6211\u66f4\u559c\u6b61\u5728\u9019\u88e1\u4f7f\u7528 <code>async/await</code>\u300d\uff09\uff0cBoring \u5c31\u6703\u4f7f\u7528 <code>boring_learn</code> \u5de5\u5177\u4f86\u4fdd\u5b58\u8a72\u504f\u597d\u3002</p>"},{"location":"guides/human-alignment_zh/#_3","title":"\u5b78\u7fd2\u5faa\u74b0\uff1a","text":"<ul> <li>\u4e92\u52d5\uff1a\u60a8\u63d0\u4f9b\u56de\u994b\u6216\u4fee\u6b63\u932f\u8aa4\u3002</li> <li>\u6a21\u5f0f\u63d0\u53d6\uff1aBoring \u8fa8\u8b58\u51fa\u300c\u4fee\u6b63\u6a21\u5f0f (Fix Pattern)\u300d\u4e26\u5c07\u5176\u5b58\u5132\u5728 <code>.boring/brain/learned_patterns/</code> \u4e2d\u3002</li> <li>\u5148\u9a57\u884c\u70ba\uff1a\u4e0b\u6b21\u767c\u751f\u985e\u4f3c\u60c5\u6cc1\u6642\uff0cBoring \u6703\u4e3b\u52d5\u63a1\u7528\u60a8\u504f\u597d\u7684\u98a8\u683c\u3002</li> </ul>"},{"location":"guides/human-alignment_zh/#3-speckit-evolution","title":"\ud83d\udd04 3. \u9069\u61c9\u6027\u5de5\u4f5c\u6d41 (SpecKit Evolution)","text":"<p><code>.agent/workflows/</code> \u6a94\u6848\u4e26\u975e\u975c\u614b\u7684\u3002Workflow Evolver \u6703\u5206\u6790\u60a8\u5c08\u6848\u7684\u7368\u7279\u9700\u6c42\uff0c\u4e26\u81ea\u52d5\u4fee\u6539\u9019\u4e9b\u6aa2\u67e5\u6e05\u55ae\u3002</p>"},{"location":"guides/human-alignment_zh/#_4","title":"\u8b93\u5b83\u300c\u66f4\u61c2\u4eba\u5fc3\u300d\uff1a","text":"<ul> <li>\u5982\u679c\u60a8\u7684\u5718\u968a\u8981\u6c42\u6bcf\u6b21\u8b8a\u66f4\u8cc7\u6599\u5eab\u90fd\u5fc5\u9808\u9032\u884c\u5b89\u5168\u5be9\u6838\uff0c\u53ea\u9700\u5728 <code>PROMPT.md</code> \u4e2d\u63d0\u5230\u9019\u4e00\u9ede\u3002</li> <li>Boring \u6703\u9032\u5316\u60a8\u7684 <code>speckit-tasks.md</code>\uff0c\u81ea\u52d5\u52a0\u5165\u4e00\u500b\u5f37\u5236\u7684 <code>[ ] \u5b89\u5168\u6aa2\u67e5</code> \u6b65\u9a5f\u3002</li> </ul>"},{"location":"guides/human-alignment_zh/#_5","title":"\ud83d\udca1 \u5c0d\u9f4a\u7684\u6700\u4f73\u5be6\u8e10","text":"<ol> <li>\u660e\u78ba\u8868\u9054\uff1a\u4f7f\u7528 <code>boring profile learn</code> \u624b\u52d5\u6559\u6703 AI \u60a8\u6700\u559c\u6b61\u7684\u7a0b\u5f0f\u5eab\u6216 Linting \u98a8\u683c\u3002</li> <li>\u5be9\u6838\u5927\u8166\uff1a\u5b9a\u671f\u6aa2\u67e5 <code>.boring/brain/learned_patterns/</code> \u770b\u770b AI \u5b78\u5230\u4e86\u95dc\u65bc\u60a8\u7684\u4ec0\u9ebc\u3002\u60a8\u53ef\u4ee5\u624b\u52d5\u522a\u9664\u4e0d\u518d\u9069\u7528\u7684\u6a21\u5f0f\u3002</li> <li>\u5718\u968a\u5171\u4eab\uff1a\u5c07 <code>.boring/brain/rubrics/</code> \u8cc7\u6599\u593e\u63d0\u4ea4\u81f3 Git\uff0c\u9019\u6a23\u6574\u500b\u5718\u968a\u5c31\u80fd\u5171\u4eab\u76f8\u540c\u7684\u300c\u4eba\u985e\u54c1\u8cea\u9598\u9053\u300d\u3002</li> </ol>"},{"location":"guides/knowledge-management/","title":"Knowledge &amp; Brain Management Guide","text":"<p>How to manage, backup, and share Boring's intelligence.</p>"},{"location":"guides/knowledge-management/#what-is-the-brain","title":"\ud83e\udde0 What is the \"Brain\"?","text":"<p>Boring stores its persistent intelligence in a dedicated directory called <code>.boring/brain</code> (usually located in <code>~/.boring/brain</code>). This directory contains:</p> <ol> <li>Learnings (<code>patterns/</code>): Captured error-solution patterns.</li> <li>Rubrics (<code>rubrics/</code>): Project-specific quality criteria.</li> <li>Shadow Config: Global Shadow Mode settings.</li> </ol>"},{"location":"guides/knowledge-management/#backup-migration","title":"\ud83d\udcbe Backup &amp; Migration","text":""},{"location":"guides/knowledge-management/#sharing-progress-with-a-team","title":"Sharing Progress with a Team","text":"<p>To allow a team member to benefit from what Boring has already learned: 1.  Export patterns: Use <code>boring_global_export</code> to share specific patterns. 2.  Import: The colleague can use <code>boring_global_import</code>.</p>"},{"location":"guides/knowledge-management/#migrating-across-projects","title":"Migrating across Projects","text":"<p>Starting in V10.31, Active Recall automatically handles cross-project knowledge retrieval from the global brain.</p>"},{"location":"guides/knowledge-management/#rag-index-management","title":"\ud83d\udd04 RAG Index Management","text":"<p>The RAG index ensures Boring \"knows\" where everything is. If your codebase changes significantly and Boring seems confused:</p>"},{"location":"guides/knowledge-management/#reconstruction","title":"Reconstruction","text":"<p><pre><code>boring rag-reindex --force\n</code></pre> This will delete the old vector storage and perform a fresh scan.</p>"},{"location":"guides/knowledge-management/#resetting-the-brain","title":"\ud83e\uddf9 Resetting the Brain","text":"<p>If you want Boring to start with a clean slate (forgetting all previous errors and fixes): 1.  Stop Boring. 2.  Delete the directory: <code>rm -rf .boring/brain</code> 3.  Restart: Boring will re-initialize a fresh \"infant\" brain.</p>"},{"location":"guides/knowledge-management/#best-practices","title":"\ud83d\udca1 Best Practices","text":"<ul> <li>Periodic Backups: Knowledge in <code>~/.boring/brain/</code> is global. Keep it safe!</li> <li>Selective Learning: Use the <code>boring_learn_pattern</code> tool explicitly if you find a very clever fix that you want the agent to remember forever.</li> </ul>"},{"location":"guides/knowledge-management_zh/","title":"\u77e5\u8b58\u7ba1\u7406\u8207\u5927\u8166\u7dad\u8b77\u6307\u5357","text":"<p>\u5982\u4f55\u7ba1\u7406\u3001\u5099\u4efd\u53ca\u5206\u4eab Boring \u7684\u5b78\u7fd2\u6210\u679c\u3002</p>"},{"location":"guides/knowledge-management_zh/#boringbrain","title":"\ud83e\udde0 \u4ec0\u9ebc\u662f\u300c\u5927\u8166\u300d(.boring/brain)\uff1f","text":"<p>Boring \u5c07\u5176\u6301\u4e45\u6027\u7684\u667a\u6167\u5132\u5b58\u5728\u540d\u70ba <code>.boring/brain</code> \u7684\u76ee\u9304\u4e2d\u3002\u9019\u500b\u76ee\u9304\u5305\u542b\uff1a</p> <ol> <li>\u5b78\u7fd2\u7d93\u9a57 (<code>learnings.json</code>)\uff1a\u64f7\u53d6\u5230\u7684\u300c\u932f\u8aa4-\u4fee\u5fa9\u300d\u6a21\u5f0f\u3002</li> <li>RAG \u7d22\u5f15 (ChromaDB)\uff1a\u4ee3\u78bc\u5eab\u7684\u5411\u91cf\u4e2d\u7e7c\u8cc7\u6599\u3002</li> <li>\u4e0a\u4e0b\u6587 (Context)\uff1a\u8a08\u756b\u8207\u9032\u5ea6\u7684\u6b77\u53f2\u8a18\u9304\u3002</li> </ol>"},{"location":"guides/knowledge-management_zh/#_2","title":"\ud83d\udcbe \u5099\u4efd\u8207\u9077\u79fb","text":""},{"location":"guides/knowledge-management_zh/#_3","title":"\u8207\u5718\u968a\u5206\u4eab\u9032\u5ea6","text":"<p>\u82e5\u8981\u8b93\u5718\u968a\u6210\u54e1\u53d7\u76ca\u65bc Boring \u5df2\u5b78\u7fd2\u5230\u7684\u7d93\u9a57\uff1a 1.  \u8907\u88fd\u4e2d\u7e7c\u8cc7\u6599\uff1a\u5206\u4eab <code>.boring/brain/learnings.json</code> \u6a94\u6848\u3002 2.  \u532f\u5165\uff1a\u540c\u4e8b\u53ef\u4ee5\u5c07\u6b64\u6a94\u6848\u653e\u7f6e\u5728\u4ed6\u5011\u672c\u5730\u7684 <code>.boring/brain/</code> \u76ee\u9304\u4e2d\u3002</p>"},{"location":"guides/knowledge-management_zh/#_4","title":"\u8de8\u5c08\u6848\u9077\u79fb","text":"<p>\u5982\u679c\u60a8\u555f\u52d5\u4e86\u4e00\u500b\u8207\u820a\u5c08\u6848\u985e\u4f3c\u7684\u65b0\u5c08\u6848\uff0c\u53ef\u4ee5\u900f\u904e\u8907\u88fd <code>learnings.json</code> \u5feb\u901f\u300c\u7e7c\u627f\u300d\u4e4b\u524d\u7684\u4fee\u5fa9\u7d93\u9a57\u3002</p>"},{"location":"guides/knowledge-management_zh/#rag","title":"\ud83d\udd04 RAG \u7d22\u5f15\u7ba1\u7406","text":"<p>RAG \u7d22\u5f15\u78ba\u4fdd Boring \u300c\u77e5\u9053\u300d\u6bcf\u4e00\u6bb5\u4ee3\u78bc\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u4ee3\u78bc\u5eab\u767c\u751f\u91cd\u5927\u8b8a\u52d5\uff0c\u800c Boring \u986f\u5f97\u56f0\u60d1\uff1a</p>"},{"location":"guides/knowledge-management_zh/#_5","title":"\u91cd\u5efa\u7d22\u5f15","text":"<p><pre><code>boring rag-reindex --force\n</code></pre> \u9019\u5c07\u522a\u9664\u820a\u7684\u5411\u91cf\u5132\u5b58\u4e26\u57f7\u884c\u5168\u65b0\u7684\u6383\u63cf\u3002</p>"},{"location":"guides/knowledge-management_zh/#_6","title":"\ud83e\uddf9 \u91cd\u7f6e\u5927\u8166","text":"<p>\u5982\u679c\u60a8\u5e0c\u671b Boring \u5f9e\u96f6\u958b\u59cb\uff08\u5fd8\u8a18\u6240\u6709\u4e4b\u524d\u7684\u932f\u8aa4\u548c\u4fee\u5fa9\uff09\uff1a 1.  \u505c\u6b62 Boring\u3002 2.  \u522a\u9664\u76ee\u9304\uff1a<code>rm -rf .boring/brain</code> 3.  \u91cd\u555f\uff1aBoring \u6703\u91cd\u65b0\u521d\u59cb\u5316\u4e00\u500b\u4e7e\u6de8\u7684\u5927\u8166\u3002</p>"},{"location":"guides/knowledge-management_zh/#_7","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10","text":"<ul> <li>\u5b9a\u671f\u5099\u4efd\uff1a\u60a8\u53ef\u4ee5\u8003\u616e\u5c07\u6700\u65b0\u7684 <code>learnings.json</code> \u653e\u5165 Git \u7248\u63a7\uff0c\u4ee5\u8ffd\u8e64\u5c08\u6848\u77e5\u8b58\u5eab\u7684\u6f14\u9032\u3002</li> <li>\u4e3b\u52d5\u5b78\u7fd2\uff1a\u5982\u679c\u60a8\u767c\u73fe\u4e86\u4e00\u500b\u975e\u5e38\u5de7\u5999\u7684\u4fee\u5fa9\u65b9\u5f0f\uff0c\u53ef\u4ee5\u624b\u52d5\u547c\u53eb <code>boring_learn</code> \u5de5\u5177\uff0c\u78ba\u4fdd\u4ee3\u7406\u6c38\u9060\u8a18\u5f97\u5b83\u3002</li> </ul>"},{"location":"guides/knowledge-system/","title":"Knowledge System - Brain, RAG &amp; Patterns","text":"<p>Boring's intelligent memory system that learns and remembers across projects.</p>"},{"location":"guides/knowledge-system/#architecture-overview","title":"\ud83e\udde0 Architecture Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 KNOWLEDGE SYSTEM                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                         \u2502\n\u2502  ~/.boring/brain/          (Global - All Projects)     \u2502\n\u2502  \u251c\u2500\u2500 patterns/             Learned error solutions     \u2502\n\u2502  \u251c\u2500\u2500 rubrics/              Evaluation criteria         \u2502\n\u2502  \u251c\u2500\u2500 shadow_config.json    Shadow Mode settings        \u2502\n\u2502  \u2514\u2500\u2500 quality_history.json  Score trends                \u2502\n\u2502                                                         \u2502\n\u2502  .boring/memory/           (Project-Specific)          \u2502\n\u2502  \u251c\u2500\u2500 sessions/             Session history             \u2502\n\u2502  \u251c\u2500\u2500 db.sqlite             Structured memory           \u2502\n\u2502  \u2514\u2500\u2500 rag_index/            Web/Doc embeddings          \u2502\n\u2502                                                         \u2502\n\u2502  .boring/cache/            (Ephemeral - Temp)          \u2502\n\u2502  \u2514\u2500\u2500 rag_cache/            Code embeddings             \u2502\n\u2502                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/knowledge-system/#directory-reference","title":"\ud83d\udcc1 Directory Reference","text":"Directory Scope Purpose Migration <code>~/.boring/brain/</code> Global Cross-project knowledge Copy to new machine <code>.boring/memory/</code> Project Project-specific context Commit to repo <code>.boring/cache/</code> Temp Ephemeral cache Regenerated"},{"location":"guides/knowledge-system/#boringbrain-global-knowledge","title":"\ud83e\udde0 .boring/brain (Global Knowledge)","text":""},{"location":"guides/knowledge-system/#location","title":"Location","text":"<ul> <li>Linux/macOS: <code>~/.boring/brain/</code></li> <li>Windows: <code>C:\\Users\\&lt;username&gt;\\.boring\\brain\\</code></li> </ul>"},{"location":"guides/knowledge-system/#contents","title":"Contents","text":""},{"location":"guides/knowledge-system/#patterns-learned-patterns","title":"patterns/ - Learned Patterns","text":"<pre><code>{\n  \"error_patterns\": [\n    {\n      \"error\": \"ModuleNotFoundError: No module named 'foo'\",\n      \"solution\": \"pip install foo\",\n      \"confidence\": 0.95,\n      \"occurrences\": 15\n    }\n  ]\n}\n</code></pre> <p>AI learns from your error-solution pairs and applies them automatically.</p>"},{"location":"guides/knowledge-system/#rubrics-evaluation-criteria","title":"rubrics/ - Evaluation Criteria","text":"<pre><code># production-ready.md\n- [ ] All tests passing (100%)\n- [ ] No security vulnerabilities\n- [ ] Documentation complete\n- [ ] Performance benchmarked\n</code></pre> <p>Custom rubrics for <code>boring_evaluate</code>.</p>"},{"location":"guides/knowledge-system/#shadow_configjson-security-settings","title":"shadow_config.json - Security Settings","text":"<pre><code>{\n  \"level\": \"STRICT\",\n  \"auto_approve_patterns\": [\"*.md\", \"docs/*\"],\n  \"always_block_patterns\": [\"*.env\", \"secrets/*\"]\n}\n</code></pre> <p>Persistent across sessions.</p>"},{"location":"guides/knowledge-system/#migration","title":"Migration","text":"<pre><code># Backup\ncp -r ~/.boring/brain ~/boring_brain_backup\n\n# Restore on new machine\ncp -r ~/boring_brain_backup ~/.boring/brain\n</code></pre>"},{"location":"guides/knowledge-system/#boringmemory-project-knowledge","title":"\ud83d\udcc2 .boring/memory (Project Knowledge)","text":""},{"location":"guides/knowledge-system/#location_1","title":"Location","text":"<ul> <li>In your project root: <code>.boring/memory/</code></li> </ul>"},{"location":"guides/knowledge-system/#contents_1","title":"Contents","text":""},{"location":"guides/knowledge-system/#dbsqlite-structured-data","title":"db.sqlite - Structured Data","text":"<p>Contains session logs, tool outputs, and project context.</p>"},{"location":"guides/knowledge-system/#sessions-conversation-history","title":"sessions/ - Conversation History","text":"<p>JSON files storing raw conversation logs for context restoration.</p>"},{"location":"guides/knowledge-system/#best-practice","title":"Best Practice","text":"<pre><code># Commit to repo for team sharing\ngit add .boring/memory/\ngit commit -m \"docs: project context and decisions\"\n</code></pre>"},{"location":"guides/knowledge-system/#rag-system","title":"\ud83d\udd0d RAG System","text":""},{"location":"guides/knowledge-system/#how-it-works","title":"How It Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Your Code   \u2502 \u2500\u2500\u25b6 \u2502   Indexer    \u2502 \u2500\u2500\u25b6 \u2502 Vector DB    \u2502\n\u2502  (src/*.py)  \u2502     \u2502 (embeddings) \u2502     \u2502 (ChromaDB)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Results    \u2502 \u25c0\u2500\u2500 \u2502   Ranker     \u2502 \u25c0\u2500\u2500 \u2502 Hybrid Search\u2502\n\u2502 (top_k=10)   \u2502     \u2502 (reranking)  \u2502     \u2502 Vector+BM25  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/knowledge-system/#features","title":"Features","text":"Feature Description Hybrid Search Vector (semantic) + BM25 (keyword) Dependency Expansion Includes related files via import graph Incremental Index Only re-indexes changed files Auto-Update RAGWatcher detects file changes (V10.18.3+)"},{"location":"guides/knowledge-system/#commands","title":"Commands","text":"<pre><code># Build index\nboring_rag_index(project_path=\".\", force=False)\n\n# Search\nboring_rag_search(\n    query=\"authentication middleware\",\n    top_k=10,\n    expand_graph=True\n)\n\n# Reload\nboring_rag_reload(project_path=\".\")\n</code></pre>"},{"location":"guides/knowledge-system/#storage","title":"Storage","text":"<ul> <li>Index location: <code>.boring/memory/rag_index/</code></li> <li>Size: ~1MB per 1000 files</li> <li>Regeneration: Automatic if missing</li> </ul>"},{"location":"guides/knowledge-system/#patterns-feedbacklearner-active-recall","title":"\ud83d\udcda Patterns, FeedbackLearner &amp; Active Recall","text":""},{"location":"guides/knowledge-system/#cognitive-reflexes-active-recall","title":"Cognitive Reflexes (Active Recall)","text":"<p>Starting in V10.31, the Agent possesses Active Recall. When it encounters an error (e.g., <code>pytest</code> failure), it doesn't just \"try again.\" It queries the global Brain for similar past errors and retrieves proven solutions.</p> <p>Flow: 1.  Error Occurs: Agent captures <code>ModuleNotFoundError</code>. 2.  Reflex Query: Agent calls <code>boring_suggest_next(error_message=\"...\")</code>. 3.  Brain Retrieval: Brain scans <code>patterns.json</code> for semantic matches. 4.  Solution Injection: If a high-confidence match (e.g., 95%) is found, the solution is injected directly into the Agent's context.</p>"},{"location":"guides/knowledge-system/#how-patterns-are-learned","title":"How Patterns Are Learned","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 AI Response  \u2502 \u2500\u2500\u25b6 \u2502FeedbackLearner\u2502 \u2500\u2500\u25b6 \u2502 Pattern DB   \u2502\n\u2502 \"Fixed by X\" \u2502     \u2502 (extraction) \u2502     \u2502 (.boring/brain)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u25bc\n                    Next time: Auto-apply!\n</code></pre>"},{"location":"guides/knowledge-system/#pattern-types","title":"Pattern Types","text":"Type Example Error Solutions <code>ImportError</code> \u2192 <code>pip install X</code> Code Patterns Auth middleware structure Refactoring Extract function pattern"},{"location":"guides/knowledge-system/#manual-learning","title":"Manual Learning","text":"<pre><code># Trigger learning from session\nboring_learn(\n    project_path=\".\",\n    topics=[\"error-handling\", \"testing\", \"patterns\"]\n)\n</code></pre>"},{"location":"guides/knowledge-system/#migration-guide","title":"\ud83d\ude9a Migration Guide","text":""},{"location":"guides/knowledge-system/#to-new-machine","title":"To New Machine","text":"<pre><code># 1. Copy global knowledge\nscp -r ~/.boring/brain user@newmachine:~/\n\n# 2. Clone project (includes .boring/memory)\ngit clone your-repo\n\n# 3. Rebuild cache (automatic on first use)\nboring rag index\n</code></pre>"},{"location":"guides/knowledge-system/#to-team-members","title":"To Team Members","text":"<pre><code># In .gitignore\n.boring/cache/          # Don't commit cache\n\n# Commit project knowledge\ngit add .boring/memory/\ngit add .boring.toml    # Project config\n</code></pre>"},{"location":"guides/knowledge-system/#environment-variables","title":"Environment Variables","text":"<pre><code># Custom brain location\nexport BORING_BRAIN_PATH=\"/path/to/shared/brain\"\n\n# Custom cache location\nexport BORING_CACHE_PATH=\"/tmp/boring_cache\"\n</code></pre>"},{"location":"guides/knowledge-system/#see-also","title":"See Also","text":"<ul> <li>MCP Tools - RAG</li> <li>Pro Tips - Knowledge</li> <li>Cookbook - RAG Recipe</li> </ul>"},{"location":"guides/knowledge-system_zh/","title":"\u77e5\u8b58\u7cfb\u7d71 - Brain\u3001RAG \u8207 Patterns","text":"<p>Boring \u7684\u667a\u80fd\u8a18\u61b6\u7cfb\u7d71\uff0c\u8de8\u5c08\u6848\u5b78\u7fd2\u8207\u8a18\u61b6\u3002</p>"},{"location":"guides/knowledge-system_zh/#_1","title":"\ud83e\udde0 \u67b6\u69cb\u6982\u89bd","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u77e5\u8b58\u7cfb\u7d71                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                         \u2502\n\u2502  ~/.boring/brain/          \uff08\u5168\u57df - \u6240\u6709\u5c08\u6848\uff09           \u2502\n\u2502  \u251c\u2500\u2500 patterns/             \u5b78\u7fd2\u7684\u932f\u8aa4\u89e3\u6c7a\u65b9\u6848            \u2502\n\u2502  \u251c\u2500\u2500 rubrics/              \u8a55\u4f30\u6a19\u6e96                     \u2502\n\u2502  \u251c\u2500\u2500 shadow_config.json    \u5f71\u5b50\u6a21\u5f0f\u8a2d\u5b9a                 \u2502\n\u2502  \u2514\u2500\u2500 quality_history.json  \u5206\u6578\u8da8\u52e2                     \u2502\n\u2502                                                         \u2502\n\u2502  .boring/memory/           \uff08\u5c08\u6848\u5c08\u5c6c\uff09                  \u2502\n\u2502  \u251c\u2500\u2500 sessions/             \u6703\u8a71\u6b77\u53f2                     \u2502\n\u2502  \u251c\u2500\u2500 db.sqlite             \u7d50\u69cb\u5316\u8a18\u61b6                   \u2502\n\u2502  \u2514\u2500\u2500 rag_index/            Web/Doc \u5d4c\u5165\u5411\u91cf             \u2502\n\u2502                                                         \u2502\n\u2502  .boring/cache/            \uff08\u66ab\u6642\u6027 - \u5feb\u53d6\uff09             \u2502\n\u2502  \u2514\u2500\u2500 rag_cache/            \u4ee3\u78bc\u5d4c\u5165\u5411\u91cf                 \u2502\n\u2502                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_2","title":"\ud83d\udcc1 \u76ee\u9304\u53c3\u8003","text":"\u76ee\u9304 \u7bc4\u570d \u7528\u9014 \u9077\u79fb\u65b9\u5f0f <code>~/.boring/brain/</code> \u5168\u57df \u8de8\u5c08\u6848\u77e5\u8b58 \u8907\u88fd\u5230\u65b0\u6a5f\u5668 <code>.boring/memory/</code> \u5c08\u6848 \u5c08\u6848\u5c08\u5c6c\u4e0a\u4e0b\u6587 \u63d0\u4ea4\u5230 repo <code>.boring/cache/</code> \u66ab\u6642 \u77ed\u66ab\u5feb\u53d6 \u81ea\u52d5\u91cd\u5efa"},{"location":"guides/knowledge-system_zh/#boringbrain","title":"\ud83e\udde0 .boring/brain\uff08\u5168\u57df\u77e5\u8b58\uff09","text":""},{"location":"guides/knowledge-system_zh/#_3","title":"\u4f4d\u7f6e","text":"<ul> <li>Linux/macOS\uff1a<code>~/.boring/brain/</code></li> <li>Windows\uff1a<code>C:\\Users\\&lt;username&gt;\\.boring\\brain\\</code></li> </ul>"},{"location":"guides/knowledge-system_zh/#_4","title":"\u5167\u5bb9","text":""},{"location":"guides/knowledge-system_zh/#patterns-","title":"patterns/ - \u5b78\u7fd2\u7684\u6a21\u5f0f","text":"<pre><code>{\n  \"error_patterns\": [\n    {\n      \"error\": \"ModuleNotFoundError: No module named 'foo'\",\n      \"solution\": \"pip install foo\",\n      \"confidence\": 0.95,\n      \"occurrences\": 15\n    }\n  ]\n}\n</code></pre> <p>AI \u5f9e\u4f60\u7684\u932f\u8aa4-\u89e3\u6c7a\u65b9\u6848\u914d\u5c0d\u4e2d\u5b78\u7fd2\uff0c\u4e26\u81ea\u52d5\u61c9\u7528\u3002</p>"},{"location":"guides/knowledge-system_zh/#rubrics-","title":"rubrics/ - \u8a55\u4f30\u6a19\u6e96","text":"<pre><code># production-ready.md\n- [ ] \u6240\u6709\u6e2c\u8a66\u901a\u904e\uff08100%\uff09\n- [ ] \u7121\u5b89\u5168\u6f0f\u6d1e\n- [ ] \u6587\u6a94\u5b8c\u6574\n- [ ] \u6548\u80fd\u5df2\u57fa\u6e96\u6e2c\u8a66\n</code></pre> <p>\u7528\u65bc <code>boring_evaluate</code> \u7684\u81ea\u8a02\u6a19\u6e96\u3002</p>"},{"location":"guides/knowledge-system_zh/#shadow_configjson-","title":"shadow_config.json - \u5b89\u5168\u8a2d\u5b9a","text":"<pre><code>{\n  \"level\": \"STRICT\",\n  \"auto_approve_patterns\": [\"*.md\", \"docs/*\"],\n  \"always_block_patterns\": [\"*.env\", \"secrets/*\"]\n}\n</code></pre> <p>\u8de8\u6703\u8a71\u6301\u4e45\u4fdd\u5b58\u3002</p>"},{"location":"guides/knowledge-system_zh/#_5","title":"\u9077\u79fb","text":"<pre><code># \u5099\u4efd\ncp -r ~/.boring/brain ~/boring_brain_backup\n\n# \u5728\u65b0\u6a5f\u5668\u4e0a\u9084\u539f\ncp -r ~/boring_brain_backup ~/.boring/brain\n</code></pre>"},{"location":"guides/knowledge-system_zh/#boringmemory","title":"\ud83d\udcc2 .boring/memory\uff08\u5c08\u6848\u77e5\u8b58\uff09","text":""},{"location":"guides/knowledge-system_zh/#_6","title":"\u4f4d\u7f6e","text":"<ul> <li>\u5728\u4f60\u7684\u5c08\u6848\u6839\u76ee\u9304\uff1a<code>.boring/memory/</code></li> </ul>"},{"location":"guides/knowledge-system_zh/#_7","title":"\u5167\u5bb9","text":""},{"location":"guides/knowledge-system_zh/#dbsqlite-","title":"db.sqlite - \u7d50\u69cb\u5316\u8cc7\u6599","text":"<p>\u5305\u542b\u6703\u8a71\u65e5\u8a8c\u3001\u5de5\u5177\u8f38\u51fa\u8207\u5c08\u6848\u4e0a\u4e0b\u6587\u3002</p>"},{"location":"guides/knowledge-system_zh/#sessions-","title":"sessions/ - \u6703\u8a71\u6b77\u53f2","text":"<p>\u5132\u5b58\u539f\u59cb\u5c0d\u8a71\u65e5\u8a8c\u4ee5\u4f9b\u4e0a\u4e0b\u6587\u9084\u539f\u3002</p>"},{"location":"guides/knowledge-system_zh/#_8","title":"\u6700\u4f73\u5be6\u8e10","text":"<pre><code># \u63d0\u4ea4\u5230 repo \u8207\u5718\u968a\u5206\u4eab\ngit add .boring/memory/\ngit commit -m \"docs: \u5c08\u6848\u4e0a\u4e0b\u6587\u548c\u6c7a\u7b56\"\n</code></pre>"},{"location":"guides/knowledge-system_zh/#rag","title":"\ud83d\udd0d RAG \u7cfb\u7d71","text":""},{"location":"guides/knowledge-system_zh/#_9","title":"\u904b\u4f5c\u539f\u7406","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u4f60\u7684\u4ee3\u78bc   \u2502 \u2500\u2500\u25b6 \u2502    \u7d22\u5f15\u5668    \u2502 \u2500\u2500\u25b6 \u2502  \u5411\u91cf\u8cc7\u6599\u5eab  \u2502\n\u2502  (src/*.py)  \u2502     \u2502  (\u5d4c\u5165\u5411\u91cf)  \u2502     \u2502  (ChromaDB)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     \u7d50\u679c     \u2502 \u25c0\u2500\u2500 \u2502    \u6392\u5e8f\u5668    \u2502 \u25c0\u2500\u2500 \u2502  \u6df7\u5408\u641c\u5c0b    \u2502\n\u2502  (top_k=10)  \u2502     \u2502  (\u91cd\u65b0\u6392\u5e8f)  \u2502     \u2502 \u5411\u91cf+BM25    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_10","title":"\u529f\u80fd","text":"\u529f\u80fd \u8aaa\u660e \u6df7\u5408\u641c\u5c0b \u5411\u91cf\uff08\u8a9e\u610f\uff09+ BM25\uff08\u95dc\u9375\u5b57\uff09 \u4f9d\u8cf4\u64f4\u5c55 \u900f\u904e import \u5716\u5305\u542b\u76f8\u95dc\u6a94\u6848 \u589e\u91cf\u7d22\u5f15 \u53ea\u91cd\u65b0\u7d22\u5f15\u8b8a\u66f4\u7684\u6a94\u6848 \u81ea\u52d5\u66f4\u65b0 RAGWatcher \u5075\u6e2c\u6a94\u6848\u8b8a\u66f4\uff08V10.18.3+\uff09"},{"location":"guides/knowledge-system_zh/#_11","title":"\u547d\u4ee4","text":"<pre><code># \u5efa\u7acb\u7d22\u5f15\nboring_rag_index(project_path=\".\", force=False)\n\n# \u641c\u5c0b\nboring_rag_search(\n    query=\"authentication middleware\",\n    top_k=10,\n    expand_graph=True\n)\n\n# \u91cd\u65b0\u8f09\u5165\nboring_rag_reload(project_path=\".\")\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_12","title":"\u5132\u5b58","text":"<ul> <li>\u7d22\u5f15\u4f4d\u7f6e\uff1a<code>.boring/memory/rag_index/</code></li> <li>\u5927\u5c0f\uff1a\u6bcf 1000 \u500b\u6a94\u6848\u7d04 1MB</li> <li>\u91cd\u5efa\uff1a\u5982\u679c\u7f3a\u5931\u5247\u81ea\u52d5\u5efa\u7acb</li> </ul>"},{"location":"guides/knowledge-system_zh/#patterns-feedbacklearner-active-recall","title":"\ud83d\udcda Patterns, FeedbackLearner \u8207 Active Recall","text":""},{"location":"guides/knowledge-system_zh/#active-recall","title":"\u8a8d\u77e5\u53cd\u5c04 (Active Recall)","text":"<p>\u5f9e V10.31 \u958b\u59cb\uff0cAgent \u5177\u5099\u4e86 Active Recall\uff08\u4e3b\u52d5\u56de\u60f3\uff09 \u80fd\u529b\u3002\u7576\u9047\u5230\u932f\u8aa4\uff08\u5982 <code>pytest</code> \u5931\u6557\uff09\u6642\uff0c\u5b83\u4e0d\u6703\u53ea\u662f\u300c\u91cd\u8a66\u300d\uff0c\u800c\u662f\u6703\u67e5\u8a62\u5168\u57df Brain \u5c0b\u627e\u985e\u4f3c\u7684\u904e\u53bb\u932f\u8aa4\u4e26\u6aa2\u7d22\u5df2\u9a57\u8b49\u7684\u89e3\u6c7a\u65b9\u6848\u3002</p> <p>\u6d41\u7a0b: 1.  \u932f\u8aa4\u767c\u751f: Agent \u6355\u6349\u5230 <code>ModuleNotFoundError</code>\u3002 2.  \u53cd\u5c04\u67e5\u8a62: Agent \u547c\u53eb <code>boring_suggest_next(error_message=\"...\")</code>\u3002 3.  \u5927\u8166\u6aa2\u7d22: Brain \u6383\u63cf <code>patterns.json</code> \u5c0b\u627e\u8a9e\u610f\u5339\u914d\u3002 4.  \u89e3\u6c7a\u65b9\u6848\u6ce8\u5165: \u5982\u679c\u627e\u5230\u9ad8\u4fe1\u5fc3\u7684\u5339\u914d\uff08\u5982 95%\uff09\uff0c\u89e3\u6c7a\u65b9\u6848\u5c07\u76f4\u63a5\u6ce8\u5165 Agent \u4e0a\u4e0b\u6587\u4e2d\u3002</p>"},{"location":"guides/knowledge-system_zh/#patterns","title":"Patterns \u5982\u4f55\u5b78\u7fd2","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  AI \u56de\u61c9     \u2502 \u2500\u2500\u25b6 \u2502FeedbackLearner\u2502 \u2500\u2500\u25b6 \u2502  Pattern DB  \u2502\n\u2502 \"\u900f\u904e X \u4fee\u5fa9\" \u2502     \u2502   (\u63d0\u53d6)     \u2502     \u2502(.boring/brain)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u25bc\n                    \u4e0b\u6b21\uff1a\u81ea\u52d5\u61c9\u7528\uff01\n</code></pre>"},{"location":"guides/knowledge-system_zh/#pattern","title":"Pattern \u985e\u578b","text":"\u985e\u578b \u7bc4\u4f8b \u932f\u8aa4\u89e3\u6c7a\u65b9\u6848 <code>ImportError</code> \u2192 <code>pip install X</code> \u4ee3\u78bc\u6a21\u5f0f Auth middleware \u7d50\u69cb \u91cd\u69cb \u63d0\u53d6\u51fd\u6578\u6a21\u5f0f"},{"location":"guides/knowledge-system_zh/#_13","title":"\u624b\u52d5\u5b78\u7fd2","text":"<pre><code># \u5f9e\u6703\u8a71\u89f8\u767c\u5b78\u7fd2\nboring_learn(\n    project_path=\".\",\n    topics=[\"error-handling\", \"testing\", \"patterns\"]\n)\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_14","title":"\ud83d\ude9a \u9077\u79fb\u6307\u5357","text":""},{"location":"guides/knowledge-system_zh/#_15","title":"\u5230\u65b0\u6a5f\u5668","text":"<pre><code># 1. \u8907\u88fd\u5168\u57df\u77e5\u8b58\nscp -r ~/.boring/brain user@newmachine:~/\n\n# 2. Clone \u5c08\u6848\uff08\u5305\u542b .boring/memory\uff09\ngit clone your-repo\n\n# 3. \u91cd\u5efa\u5feb\u53d6\uff08\u9996\u6b21\u4f7f\u7528\u6642\u81ea\u52d5\uff09\nboring rag index\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_16","title":"\u7d66\u5718\u968a\u6210\u54e1","text":"<pre><code># \u5728 .gitignore \u4e2d\n.boring/cache/          # \u4e0d\u8981\u63d0\u4ea4\u5feb\u53d6\n\n# \u63d0\u4ea4\u5c08\u6848\u77e5\u8b58\ngit add .boring/memory/\ngit add .boring.toml    # \u5c08\u6848\u914d\u7f6e\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_17","title":"\u74b0\u5883\u8b8a\u6578","text":"<pre><code># \u81ea\u8a02 brain \u4f4d\u7f6e\nexport BORING_BRAIN_PATH=\"/path/to/shared/brain\"\n\n# \u81ea\u8a02\u5feb\u53d6\u4f4d\u7f6e\nexport BORING_CACHE_PATH=\"/tmp/boring_cache\"\n</code></pre>"},{"location":"guides/knowledge-system_zh/#_18","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>MCP \u5de5\u5177 - RAG</li> <li>\u5c08\u696d\u6280\u5de7 - \u77e5\u8b58</li> <li>Cookbook - \u98df\u8b5c 7</li> </ul>"},{"location":"guides/language/","title":"Language &amp; Environment Configuration","text":"<p>Boring-Gemini V14.0.0 supports multiple languages and flexible environment configuration.</p>"},{"location":"guides/language/#language-settings","title":"\ud83c\udf0d Language Settings","text":"<p>You can adjust the output language of the Boring CLI (e.g., headers, diagnostic reports, help text).</p>"},{"location":"guides/language/#option-1-environment-variable-recommended","title":"Option 1: Environment Variable (Recommended)","text":"<p>Set <code>BORING_LANG</code> in your terminal session. This takes immediate effect.</p> <ul> <li>PowerShell: <code>$env:BORING_LANG = \"en\"</code> (English) or <code>\"zh\"</code> (Traditional Chinese)</li> <li>Linux/macOS: <code>export BORING_LANG=en</code></li> </ul>"},{"location":"guides/language/#option-2-config-file-boringtoml","title":"Option 2: Config File (<code>.boring.toml</code>)","text":"<p>Add the <code>language</code> setting to your project's <code>.boring.toml</code> or the global one in <code>~/.boring.toml</code>.</p> <pre><code>[settings]\nlanguage = \"en\"  # \"en\" or \"zh\"\n</code></pre>"},{"location":"guides/language/#api-key-standardization","title":"\ud83d\udd11 API Key Standardization","text":"<p>Starting with V14.0.0, the system standardizes on <code>GOOGLE_API_KEY</code>.</p> <ul> <li>Required: <code>GOOGLE_API_KEY</code> (Used for Gemini API calls, diagnostics, and online predictors).</li> <li>Legacy: <code>GEMINI_API_KEY</code> is still supported by direct SDK calls but <code>boring doctor</code> verifies <code>GOOGLE_API_KEY</code> for consistency.</li> </ul>"},{"location":"guides/language/#how-to-set","title":"How to set:","text":"<ul> <li>Windows: <code>[System.Environment]::SetEnvironmentVariable('GOOGLE_API_KEY', 'your-key-here', 'User')</code></li> <li>macOS/Linux: Add <code>export GOOGLE_API_KEY=your-key-here</code> to your <code>.bashrc</code> or <code>.zshrc</code>.</li> </ul>"},{"location":"guides/language/#diagnostic-output","title":"\ud83e\ude7a Diagnostic Output","text":"<p>Running <code>boring health</code> or <code>boring diagnostic</code> will use your configured language. If you see mixed languages, ensure your <code>BORING_LANG</code> is set correctly.</p>"},{"location":"guides/language_zh/","title":"\u8a9e\u8a00\u8207\u74b0\u5883\u914d\u7f6e\u6307\u5357","text":"<p>Boring-Gemini V14.0.0 \u652f\u63f4\u591a\u570b\u8a9e\u8a00\u4ee5\u53ca\u9748\u6d3b\u7684\u74b0\u5883\u8b8a\u6578\u914d\u7f6e\u3002</p>"},{"location":"guides/language_zh/#language-settings","title":"\ud83c\udf0d \u8a9e\u8a00\u8a2d\u5b9a (Language Settings)","text":"<p>\u60a8\u53ef\u4ee5\u8abf\u6574 Boring CLI \u7684\u8f38\u51fa\u8a9e\u8a00\uff08\u4f8b\u5982\uff1a\u6a19\u984c\u3001\u8a3a\u65b7\u5831\u544a\u3001\u8aaa\u660e\u6587\u5b57\uff09\u3002</p>"},{"location":"guides/language_zh/#1","title":"\u65b9\u6cd5 1\uff1a\u74b0\u5883\u8b8a\u6578 (\u63a8\u85a6)","text":"<p>\u5728\u7d42\u7aef\u6a5f\u4e2d\u8a2d\u5b9a <code>BORING_LANG</code>\u3002\u9019\u6703\u7acb\u5373\u751f\u6548\u4e26\u8986\u84cb\u5176\u4ed6\u8a2d\u5b9a\u3002</p> <ul> <li>PowerShell: <code>$env:BORING_LANG = \"zh\"</code> (\u7e41\u9ad4\u4e2d\u6587) \u6216 <code>\"en\"</code> (\u82f1\u6587)</li> <li>Linux/macOS: <code>export BORING_LANG=zh</code></li> </ul>"},{"location":"guides/language_zh/#2-boringtoml","title":"\u65b9\u6cd5 2\uff1a\u8a2d\u5b9a\u6a94\u6848 (<code>.boring.toml</code>)","text":"<p>\u5728\u5c08\u6848\u76ee\u9304\u6216\u5168\u57df\u76ee\u9304 (<code>~/.boring.toml</code>) \u4e2d\u52a0\u5165\u8a9e\u8a00\u8a2d\u5b9a\u3002</p> <pre><code>[settings]\nlanguage = \"zh\"  # \u53ef\u9078 \"zh\" \u6216 \"en\"\n</code></pre>"},{"location":"guides/language_zh/#api","title":"\ud83d\udd11 API \u91d1\u9470\u6a19\u6e96\u5316","text":"<p>\u5f9e V14.0.0 \u958b\u59cb\uff0c\u7cfb\u7d71\u7d71\u4e00\u512a\u5148\u4f7f\u7528 <code>GOOGLE_API_KEY</code>\u3002</p> <ul> <li>\u5fc5\u8981\u9805\u76ee: <code>GOOGLE_API_KEY</code> (\u7528\u65bc Gemini API \u8abf\u7528\u3001\u8a3a\u65b7\u8207\u7dda\u4e0a\u9810\u6e2c\u5668)\u3002</li> <li>\u76f8\u5bb9\u6027: <code>GEMINI_API_KEY</code> \u4ecd\u652f\u63f4\u90e8\u5206\u76f4\u63a5 SDK \u8abf\u7528\uff0c\u4f46 <code>boring doctor</code> \u6703\u9a57\u8b49 <code>GOOGLE_API_KEY</code> \u4ee5\u78ba\u4fdd\u74b0\u5883\u4e00\u81f4\u3002</li> </ul>"},{"location":"guides/language_zh/#_2","title":"\u5982\u4f55\u8a2d\u5b9a\uff1a","text":"<ul> <li>Windows (PowerShell): <code>[System.Environment]::SetEnvironmentVariable('GOOGLE_API_KEY', '\u60a8\u7684\u91d1\u9470', 'User')</code></li> <li>macOS/Linux: \u5728\u60a8\u7684 <code>.bashrc</code> \u6216 <code>.zshrc</code> \u52a0\u5165 <code>export GOOGLE_API_KEY=\u60a8\u7684\u91d1\u9470</code>\u3002</li> </ul>"},{"location":"guides/language_zh/#_3","title":"\ud83e\ude7a \u8a3a\u65b7\u8f38\u51fa","text":"<p>\u57f7\u884c <code>boring health</code> \u6216 <code>boring diagnostic</code> \u6642\uff0c\u7cfb\u7d71\u6703\u6839\u64da\u60a8\u7684\u8a9e\u7cfb\u8a2d\u5b9a\u986f\u793a\u5c0d\u61c9\u7684\u7ffb\u8b6f\u6587\u5b57\u3002\u5982\u679c\u60a8\u770b\u5230\u6df7\u5408\u8a9e\u8a00\uff0c\u8acb\u78ba\u8a8d\u60a8\u7684 <code>BORING_LANG</code> \u662f\u5426\u6b63\u78ba\u3002</p>"},{"location":"guides/mcp-configuration/","title":"\u9032\u968e MCP \u8a2d\u5b9a\u8207 Profile \u6307\u5357","text":"<p>\u65b0\u624b\u8acb\u6ce8\u610f\uff1a\u5982\u679c\u60a8\u53ea\u662f\u60f3\u5feb\u901f\u8a2d\u5b9a\uff0c\u8acb\u5148\u770b \ud83d\udd30 \u914d\u7f6e\u53c3\u8003\u624b\u518a\u3002\u9019\u4efd\u6587\u4ef6\u662f\u7d66\u60f3\u4e86\u89e3\u5e95\u5c64\u539f\u7406\u6216 Smithery \u90e8\u7f72\u7684\u9032\u968e\u4f7f\u7528\u8005\u3002</p> <p>\u672c\u6587\u4ef6\u6df1\u5165\u8aaa\u660e Boring MCP Server \u7684 Profile \u6a5f\u5236 \u548c \u5b89\u88dd\u6a21\u5f0f\u5dee\u7570\u3002</p>"},{"location":"guides/mcp-configuration/#_1","title":"\ud83d\udcd1 \u76ee\u9304","text":"<ul> <li>\u74b0\u5883\u8b8a\u6578 (\u9032\u968e)</li> <li>BORING_MCP_MODE</li> <li>BORING_MCP_PROFILE</li> <li>Ultra Lite</li> <li>Minimal</li> <li>Lite</li> <li>Standard</li> <li>Full</li> <li>PROJECT_ROOT_DEFAULT</li> <li>BORING_LLM_PROVIDER</li> <li>MCP \u8a2d\u5b9a\u7bc4\u4f8b</li> <li>\u7248\u672c\u5dee\u7570</li> <li>\u5e38\u898b\u554f\u984c</li> </ul>"},{"location":"guides/mcp-configuration/#env-vars","title":"\u74b0\u5883\u8b8a\u6578 (\u9032\u968e)","text":""},{"location":"guides/mcp-configuration/#boring_mcp_mode","title":"<code>BORING_MCP_MODE</code>","text":"\u503c \u8aaa\u660e <code>1</code> \u2705 \u555f\u7528 MCP \u6a21\u5f0f - \u5fc5\u9808\u8a2d\u5b9a <code>0</code> \u6216\u672a\u8a2d\u5b9a \u26a0\ufe0f \u6e2c\u8a66/CLI \u6a21\u5f0f\uff0cMCP \u5de5\u5177\u53ef\u80fd\u7121\u6cd5\u6b63\u5e38\u904b\u4f5c <p>\u5f71\u97ff\u7bc4\u570d\uff1a - Shadow Mode \u6514\u622a - \u5de5\u5177\u521d\u59cb\u5316 - \u65e5\u8a8c\u8f38\u51fa\u683c\u5f0f</p>"},{"location":"guides/mcp-configuration/#boring_mcp_profile","title":"<code>BORING_MCP_PROFILE</code>","text":"<p>\u63a7\u5236\u66dd\u9732\u7d66 AI \u7684\u5de5\u5177\u6578\u91cf\u3002</p> Profile \u5de5\u5177\u6578 Token \u7bc0\u7701 \u8aaa\u660e \u9069\u7528\u5834\u666f <code>ultra_lite</code> 3 \u500b 97% \u6975\u7c21\u7248 Token \u53d7\u9650 LLM <code>minimal</code> 8 \u500b 92% \u6700\u57fa\u672c \u5feb\u901f\u4efb\u52d9 <code>lite</code> 20 \u500b 80% \u65e5\u5e38\u958b\u767c \u9810\u8a2d\u503c <code>standard</code> 50 \u500b 50% \u5e73\u8861\u7248 \u5c08\u696d\u958b\u767c <code>full</code> ~98 \u500b 0% \u5168\u90e8\u5de5\u5177 Power User <p>\u5404 Profile \u5305\u542b\u7684\u5de5\u5177\uff1a</p>"},{"location":"guides/mcp-configuration/#ultra-lite","title":"Ultra Lite","text":"<ul> <li><code>boring</code> (\u901a\u7528\u8def\u7531\u5668)</li> <li><code>boring_help</code> (\u5206\u985e\u8aaa\u660e)</li> <li><code>boring_discover</code> (\u6309\u9700\u53d6\u5f97\u5de5\u5177 Schema)</li> </ul> <p>\ud83d\udca1 \u5de5\u4f5c\u6d41\u7a0b: \u7528 <code>boring</code> \u8def\u7531\u81ea\u7136\u8a9e\u8a00\u8acb\u6c42\uff0c\u7528 <code>boring_discover</code> \u7372\u53d6\u7279\u5b9a\u5de5\u5177\u7684\u5b8c\u6574 Schema\uff0c\u7136\u5f8c\u547c\u53eb\u76ee\u6a19\u5de5\u5177\u3002</p>"},{"location":"guides/mcp-configuration/#minimal","title":"Minimal","text":"<ul> <li><code>boring</code> (\u8def\u7531\u5668)</li> <li><code>boring_help</code></li> <li><code>boring_rag_search</code></li> <li><code>boring_commit</code></li> <li><code>boring_verify</code></li> <li><code>boring_vibe_check</code></li> <li><code>boring_shadow_status</code></li> <li><code>boring_suggest_next</code></li> </ul>"},{"location":"guides/mcp-configuration/#lite","title":"Lite","text":"<p>\u5305\u542b Minimal \u5168\u90e8\uff0c\u52a0\u4e0a\uff1a - <code>boring_rag_index</code>, <code>boring_rag_context</code> - <code>boring_code_review</code>, <code>boring_perf_tips</code> - <code>boring_test_gen</code>, <code>boring_doc_gen</code> - <code>boring_security_scan</code> - <code>boring_prompt_plan</code>, <code>boring_prompt_fix</code> - <code>boring_impact_check</code>, <code>boring_context</code></p>"},{"location":"guides/mcp-configuration/#standard","title":"Standard","text":"<p>\u5305\u542b Lite \u5168\u90e8\uff0c\u52a0\u4e0a\uff1a - RAG \u5b8c\u6574\u5957\u4ef6 (<code>boring_rag_expand</code>, <code>boring_rag_status</code>) - Shadow Mode \u63a7\u5236 (<code>boring_shadow_mode</code>, <code>boring_shadow_approve</code>) - Git Hooks (<code>boring_hooks_install</code>, <code>boring_hooks_status</code>) - Intelligence (<code>boring_predict_impact</code>, <code>boring_brain_health</code>) - Workspace \u7ba1\u7406 - Multi-agent \u898f\u5283 - Speckit \u6838\u5fc3\u5de5\u5177</p>"},{"location":"guides/mcp-configuration/#full","title":"Full","text":"<p>\u6240\u6709\u5df2\u8a3b\u518a\u7684\u5de5\u5177\u3002</p>"},{"location":"guides/mcp-configuration/#project_root_default","title":"<code>PROJECT_ROOT_DEFAULT</code>","text":"\u503c \u8aaa\u660e <code>.</code> \u4f7f\u7528\u7576\u524d\u5de5\u4f5c\u76ee\u9304 <code>/path/to/project</code> \u6307\u5b9a\u5c08\u6848\u8def\u5f91"},{"location":"guides/mcp-configuration/#boring_llm_provider","title":"<code>BORING_LLM_PROVIDER</code>","text":"<p>\u9078\u64c7\u4f7f\u7528\u7684\u6a21\u578b\u63d0\u4f9b\u8005\u3002</p> \u63d0\u4f9b\u8005 \u503c \u8aaa\u660e Gemini <code>gemini-cli</code> \u9810\u8a2d\u3002\u9700\u5b89\u88dd <code>gemini-cli</code>\u3002 Claude <code>claude-code</code> \u9700\u5b89\u88dd <code>claude</code> CLI\u3002 Ollama <code>ollama</code> \u672c\u5730\u6a21\u578b (\u5be6\u9a57\u6027)\u3002 <p>[!CAUTION] Ollama \u9650\u5236: \u76ee\u524d\u7684 Ollama \u5be6\u4f5c \u4e0d\u652f\u63f4 Function Calling (\u5de5\u5177\u4f7f\u7528)\u3002 \u82e5\u4f7f\u7528 <code>ollama</code>\uff0c<code>boring</code> \u7121\u6cd5\u57f7\u884c\u7de8\u8f2f\u6a94\u6848\u3001\u904b\u884c\u6e2c\u8a66\u7b49\u64cd\u4f5c\u3002\u5b83\u50c5\u80fd\u4f5c\u70ba\u7d14\u6587\u5b57\u804a\u5929\u6a5f\u5668\u4eba\u4f7f\u7528\u3002 \u82e5\u8981\u4f7f\u7528 Vibe Coder \u81ea\u52d5\u5316\u6d41\u7a0b\uff0c\u8acb\u4f7f\u7528 Gemini \u6216 Claude\u3002</p>"},{"location":"guides/mcp-configuration/#mcp-examples","title":"MCP \u8a2d\u5b9a\u7bc4\u4f8b","text":""},{"location":"guides/mcp-configuration/#_2","title":"\u672c\u5730\u5b8c\u6574\u7248 (\u63a8\u85a6)","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"boring-mcp\",\n      \"args\": [],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",\n        \"BORING_MCP_PROFILE\": \"standard\",\n        \"PROJECT_ROOT_DEFAULT\": \".\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-configuration/#uv","title":"uv \u5b89\u88dd\u7248\uff08\u26a1 \u8d85\u5feb\u901f\uff09","text":"<p>\u65b0\u529f\u80fd\uff01 \u4f7f\u7528 uv \u53ef\u7372\u5f97\u66f4\u5feb\u7684\u555f\u52d5\u901f\u5ea6\u548c\u66f4\u597d\u7684\u4f9d\u8cf4\u9694\u96e2\u3002</p>"},{"location":"guides/mcp-configuration/#1-uvx","title":"\u65b9\u6cd5 1: uvx \uff08\u7121\u9700\u672c\u5730\u5b89\u88dd\uff09","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"uvx\",\n      \"args\": [\"--from\", \"boring-aicoding[all]\", \"python\", \"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",\n        \"BORING_MCP_PROFILE\": \"lite\",\n        \"PROJECT_ROOT_DEFAULT\": \".\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-configuration/#2-uv-run-venv","title":"\u65b9\u6cd5 2: uv run \uff08\u4f7f\u7528 venv\uff09","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"python\", \"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",\n        \"BORING_MCP_PROFILE\": \"lite\",\n        \"PROJECT_ROOT_DEFAULT\": \".\",\n        \"VIRTUAL_ENV\": \"/path/to/your/.venv\"\n      }\n    }\n  }\n}\n</code></pre> <p>\u4f7f\u7528 uv \u7684\u512a\u9ede\uff1a - \u26a1 \u4f3a\u670d\u5668\u555f\u52d5\u5feb 30% - Rust \u539f\u751f\u6548\u80fd - \ud83d\udd12 \u7368\u7acb\u7684\u4f9d\u8cf4\u9694\u96e2 - \u6bcf\u500b\u5c08\u6848\u4e92\u4e0d\u5f71\u97ff - \ud83d\udce6 \u81ea\u52d5\u74b0\u5883\u7ba1\u7406 - \u7121\u9700\u624b\u52d5\u5efa\u7acb venv - \ud83c\udfaf \u4e0d\u6c61\u67d3\u5168\u57df\u5957\u4ef6 - \u4fdd\u6301\u7cfb\u7d71\u6574\u6f54</p> <p>\ud83d\udca1 \u63d0\u793a: \u5982\u679c\u4f60\u5df2\u7d93\u6709 uv \u5c08\u6848\uff0c\u63a8\u85a6\u4f7f\u7528\u65b9\u6cd5 2\uff1b\u5982\u679c\u60f3\u5feb\u901f\u6e2c\u8a66\uff0c\u4f7f\u7528\u65b9\u6cd5 1 \u7121\u9700\u4efb\u4f55\u5b89\u88dd\u3002</p>"},{"location":"guides/mcp-configuration/#smithery","title":"Smithery \u96f2\u7aef\u7248","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"url\": \"https://server.smithery.ai/@boring/boring-mcp/mcp\"\n    }\n  }\n}\n</code></pre> <p>\ud83d\udccb Smithery \u90e8\u7f72\u8cc7\u8a0a - \u9ed8\u8a8d Profile: <code>lite</code>\uff08~20 \u500b\u5de5\u5177\uff09 - \u5b89\u88dd\u985e\u578b: <code>[mcp-lite]</code> \u8f15\u91cf\u7d1a - RAG \u529f\u80fd: \u964d\u7d1a\u70ba\u95dc\u9375\u5b57\u641c\u5c0b\uff08\u7121\u5411\u91cf\u5eab\uff09 - \u53ef\u8abf\u6574: \u5728\u914d\u7f6e\u4e2d\u8a2d\u7f6e <code>BORING_MCP_PROFILE: \"dev\"</code> \u6216 <code>\"pro\"</code> - \u5b8c\u6574 RAG: \u9700\u672c\u5730\u5b89\u88dd <code>pip install \"boring-aicoding[all]\"</code></p>"},{"location":"guides/mcp-configuration/#_3","title":"\u6df7\u5408\u7248 (\u672c\u5730 + \u96f2\u7aef)","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring-cloud\": {\n      \"url\": \"https://server.smithery.ai/@boring/boring-mcp/mcp\"\n    },\n    \"boring-local\": {\n      \"command\": \"boring-mcp\",\n      \"args\": [],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",\n        \"BORING_MCP_PROFILE\": \"full\",\n        \"PROJECT_ROOT_DEFAULT\": \".\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-configuration/#version-diff","title":"\u7248\u672c\u5dee\u7570","text":""},{"location":"guides/mcp-configuration/#_4","title":"\u5b89\u88dd\u9078\u9805","text":"\u5b89\u88dd\u65b9\u5f0f RAG \u529f\u80fd Docker \u5927\u5c0f \u555f\u52d5\u901f\u5ea6 <code>pip install boring-aicoding[mcp-lite]</code> \u274c \u9000\u5316\u7248 ~500MB \u6a19\u6e96 <code>pip install boring-aicoding[mcp]</code> \u2705 \u5b8c\u6574\u7248 ~4GB \u6a19\u6e96 <code>uv pip install boring-aicoding[all]</code> \u2705 \u5b8c\u6574\u7248 ~4GB \u5feb 30% <code>uvx --from boring-aicoding[all]</code> \u2705 \u5b8c\u6574\u7248 - \u5feb 30%"},{"location":"guides/mcp-configuration/#smithery-vs","title":"Smithery vs \u672c\u5730","text":"\u529f\u80fd Smithery (mcp-lite) \u672c\u5730 (mcp) \u57fa\u672c\u5de5\u5177 \u2705 \u2705 RAG \u8a9e\u610f\u641c\u5c0b \u26a0\ufe0f keyword fallback \u2705 \u5411\u91cf\u641c\u5c0b \u672c\u5730\u901a\u77e5 \u274c \u2705 \u96e2\u7dda\u4f7f\u7528 \u274c \u2705"},{"location":"guides/mcp-configuration/#faq","title":"\u5e38\u898b\u554f\u984c","text":""},{"location":"guides/mcp-configuration/#q-smithery","title":"Q: Smithery \u5de5\u5177\u6bd4\u8f03\u5c11\u600e\u9ebc\u8fa6\uff1f","text":"<p>Smithery \u9810\u8a2d\u4f7f\u7528 <code>mcp-lite</code> + <code>lite</code> profile\u3002\u5982\u679c\u9700\u8981\u66f4\u591a\u529f\u80fd\uff1a 1. \u672c\u5730\u5b89\u88dd\u5b8c\u6574\u7248\uff1a<code>pip install \"boring-aicoding[mcp]\"</code> 2. \u8a2d\u5b9a <code>BORING_MCP_PROFILE=full</code></p>"},{"location":"guides/mcp-configuration/#q-pro-profile","title":"Q: <code>pro</code> profile \u662f\u4ec0\u9ebc\uff1f","text":"<p><code>pro</code> \u4e0d\u662f\u6709\u6548\u503c\uff0c\u6703\u9000\u56de\u5230 <code>lite</code>\u3002\u6709\u6548\u503c\u53ea\u6709\uff1a - <code>ultra_lite</code>, <code>minimal</code>, <code>lite</code>, <code>standard</code>, <code>full</code></p>"},{"location":"guides/mcp-configuration/#q","title":"Q: \u5982\u4f55\u77e5\u9053\u76ee\u524d\u6709\u54ea\u4e9b\u5de5\u5177\uff1f","text":"<p>\u547c\u53eb\uff1a <pre><code>boring_help\n</code></pre> \u6216\u8a2d\u5b9a <code>BORING_MCP_PROFILE=full</code> \u67e5\u770b\u5168\u90e8\u3002</p>"},{"location":"guides/mcp-configuration_en/","title":"Boring MCP Configuration Guide","text":"<p>This document explains all environment variables and configuration options for the Boring MCP Server.</p>"},{"location":"guides/mcp-configuration_en/#table-of-contents","title":"\ud83d\udcd1 Table of Contents","text":"<ul> <li>Environment Variables</li> <li>BORING_MCP_MODE</li> <li>BORING_MCP_PROFILE<ul> <li>Ultra Lite</li> <li>Minimal</li> <li>Lite</li> <li>Standard</li> <li>Full</li> </ul> </li> <li>PROJECT_ROOT_DEFAULT</li> <li>BORING_LLM_PROVIDER</li> <li>MCP Configuration Examples</li> <li>Local Full Version (Recommended)</li> <li>Smithery Cloud Version</li> <li>Hybrid (Local + Cloud)</li> <li>Version Differences</li> <li>Installation Options</li> <li>Smithery vs Local</li> <li>FAQ</li> </ul>"},{"location":"guides/mcp-configuration_en/#environment-variables","title":"Environment Variables","text":""},{"location":"guides/mcp-configuration_en/#boring_mcp_mode","title":"<code>BORING_MCP_MODE</code>","text":"Value Description <code>1</code> \u2705 Enable MCP mode - Required <code>0</code> or unset \u26a0\ufe0f Test/CLI mode, MCP tools may not work properly <p>Affected areas: - Shadow Mode interception - Tool initialization - Log output format</p>"},{"location":"guides/mcp-configuration_en/#boring_mcp_profile","title":"<code>BORING_MCP_PROFILE</code>","text":"<p>Controls how many tools are exposed to the AI.</p> Profile Tool Count Token Savings Description Use Case <code>ultra_lite</code> 3 97% Minimal Token-constrained LLMs <code>minimal</code> 8 92% Essential only Quick tasks <code>lite</code> 20 80% Daily development Default <code>standard</code> 50 50% Balanced Professional dev <code>full</code> ~98 0% All tools Power User <p>Tools included in each profile:</p>"},{"location":"guides/mcp-configuration_en/#ultra-lite","title":"Ultra Lite","text":"<ul> <li><code>boring</code> (universal router)</li> <li><code>boring_help</code> (category discovery)</li> <li><code>boring_discover</code> (on-demand tool schema)</li> </ul> <p>\ud83d\udca1 Workflow: Use <code>boring</code> to route natural language requests, <code>boring_discover</code> to fetch full schema for a specific tool, then call the target tool.</p>"},{"location":"guides/mcp-configuration_en/#minimal","title":"Minimal","text":"<ul> <li><code>boring</code> (router)</li> <li><code>boring_help</code></li> <li><code>boring_rag_search</code></li> <li><code>boring_commit</code></li> <li><code>boring_verify</code></li> <li><code>boring_vibe_check</code></li> <li><code>boring_shadow_status</code></li> <li><code>boring_suggest_next</code></li> </ul>"},{"location":"guides/mcp-configuration_en/#lite","title":"Lite","text":"<p>Includes all Minimal, plus: - <code>boring_rag_index</code>, <code>boring_rag_context</code> - <code>boring_code_review</code>, <code>boring_perf_tips</code> - <code>boring_test_gen</code>, <code>boring_doc_gen</code> - <code>boring_security_scan</code> - <code>boring_prompt_plan</code>, <code>boring_prompt_fix</code> - <code>boring_impact_check</code>, <code>boring_context</code></p>"},{"location":"guides/mcp-configuration_en/#standard","title":"Standard","text":"<p>Includes all Lite, plus: - Full RAG suite (<code>boring_rag_expand</code>, <code>boring_rag_status</code>) - Shadow Mode controls (<code>boring_shadow_mode</code>, <code>boring_shadow_approve</code>) - Git Hooks (<code>boring_hooks_install</code>, <code>boring_hooks_status</code>) - Intelligence (<code>boring_predict_impact</code>, <code>boring_brain_health</code>) - Workspace management - Multi-agent planning - Core Speckit tools</p>"},{"location":"guides/mcp-configuration_en/#full","title":"Full","text":"<p>All registered tools.</p>"},{"location":"guides/mcp-configuration_en/#project_root_default","title":"<code>PROJECT_ROOT_DEFAULT</code>","text":"Value Description <code>.</code> Use current working directory <code>/path/to/project</code> Specify project path"},{"location":"guides/mcp-configuration_en/#boring_llm_provider","title":"<code>BORING_LLM_PROVIDER</code>","text":"<p>Select the underlying model provider.</p> Provider Value Description Gemini <code>gemini-cli</code> Default. Requires <code>gemini-cli</code>. Claude <code>claude-code</code> Requires <code>claude</code> CLI. Ollama <code>ollama</code> Local model (Experimental). <p>[!CAUTION] Ollama Limitations: The current Ollama implementation does not support Function Calling (Tool Use). If you use <code>ollama</code>, <code>boring</code> cannot execute tools (edit files, run tests). It will behave as a text-only chat bot. For Vibe Coder automation workflows, please use Gemini or Claude.</p>"},{"location":"guides/mcp-configuration_en/#wizard","title":"One-Click Setup Wizard (Antigravity)","text":"<p>The easiest way to configure Boring MCP for all supported tools (Gemini CLI, Claude Desktop, Cursor, VS Code) is the built-in wizard.</p>"},{"location":"guides/mcp-configuration_en/#interactive-mode-standard","title":"Interactive Mode (Standard)","text":"<p><pre><code>python -m boring wizard\n</code></pre> Prompts you for confirmation at each step. Best for first-time setup or if you want granular control.</p>"},{"location":"guides/mcp-configuration_en/#automated-mode-zero-touch","title":"Automated Mode (Zero-Touch)","text":"<p><pre><code>python -m boring wizard --yes\n</code></pre> Automatically approves all safe configurations. - Gemini CLI: Registers via a robust Wrapper Script to fix Windows encoding/warning issues. - VS Code: Generates a safe JSON snippet for <code>settings.json</code> (Copilot). - Cursor/Claude: Auto-configures safely.</p>"},{"location":"guides/mcp-configuration_en/#mcp-configuration-examples","title":"MCP Configuration Examples","text":""},{"location":"guides/mcp-configuration_en/#local-full-version-recommended","title":"Local Full Version (Recommended)","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"boring-mcp\",\n      \"args\": [],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",\n        \"BORING_MCP_PROFILE\": \"standard\",\n        \"PROJECT_ROOT_DEFAULT\": \".\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-configuration_en/#smithery-cloud-version","title":"Smithery Cloud Version","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"url\": \"https://server.smithery.ai/@boring/boring-mcp/mcp\"\n    }\n  }\n}\n</code></pre> <p>\ud83d\udccb Smithery Deployment Info - Default Profile: <code>lite</code> (~20 tools) - Installation Type: <code>[mcp-lite]</code> lightweight - RAG Capability: Degraded to keyword search (no vector DB) - Adjustable: Set <code>BORING_MCP_PROFILE: \"dev\"</code> or <code>\"pro\"</code> in config - Full RAG: Requires local install <code>pip install \"boring-aicoding[all]\"</code></p>"},{"location":"guides/mcp-configuration_en/#hybrid-setup","title":"Hybrid (Local + Cloud)","text":"<pre><code>{\n  \"mcpServers\": {\n    \"boring-cloud\": {\n      \"url\": \"https://server.smithery.ai/@boring/boring-mcp/mcp\"\n    },\n    \"boring-local\": {\n      \"command\": \"boring-mcp\",\n      \"args\": [],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",\n        \"BORING_MCP_PROFILE\": \"full\",\n        \"PROJECT_ROOT_DEFAULT\": \".\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/mcp-configuration_en/#version-diff","title":"Version Differences","text":""},{"location":"guides/mcp-configuration_en/#installation-options","title":"Installation Options","text":"Installation RAG Support Docker Size <code>pip install boring-aicoding[mcp-lite]</code> \u274c Degraded ~500MB <code>pip install boring-aicoding[mcp]</code> \u2705 Full ~4GB"},{"location":"guides/mcp-configuration_en/#smithery-vs-local","title":"Smithery vs Local","text":"Feature Smithery (mcp-lite) Local (mcp) Basic tools \u2705 \u2705 RAG semantic search \u26a0\ufe0f keyword fallback \u2705 Vector search Local notifications \u274c \u2705 Offline use \u274c \u2705"},{"location":"guides/mcp-configuration_en/#faq","title":"FAQ","text":""},{"location":"guides/mcp-configuration_en/#q-smithery-has-fewer-tools-what-should-i-do","title":"Q: Smithery has fewer tools, what should I do?","text":"<p>Smithery defaults to <code>mcp-lite</code> + <code>lite</code> profile. For more features: 1. Install full version locally: <code>pip install \"boring-aicoding[mcp]\"</code> 2. Set <code>BORING_MCP_PROFILE=full</code></p>"},{"location":"guides/mcp-configuration_en/#q-what-is-the-pro-profile","title":"Q: What is the <code>pro</code> profile?","text":"<p><code>pro</code> is not a valid value and falls back to <code>lite</code>. Valid values are: - <code>ultra_lite</code>, <code>minimal</code>, <code>lite</code>, <code>standard</code>, <code>full</code></p>"},{"location":"guides/mcp-configuration_en/#q-how-do-i-see-all-available-tools","title":"Q: How do I see all available tools?","text":"<p>Call: <pre><code>boring_help\n</code></pre> Or set <code>BORING_MCP_PROFILE=full</code> to see everything.</p>"},{"location":"guides/mcp-profiles-comparison/","title":"\ud83c\udf9b\ufe0f MCP Profiles Deep Dive: Choosing the Right Mode","text":"<p>Deep Thinking Analysis: MCP Profiles are not just about \"hiding\" tools; they are about Context Budget Management.  LLMs have fixed attention spans. Feeding 100+ tools (~10k tokens) to a model distracts it.  Profiles allow you to match the Tool Density to the Task Complexity and Model Capability.</p> <p>This guide provides a detailed breakdown of each profile, its ideal usage points, and trade-offs.</p>"},{"location":"guides/mcp-profiles-comparison/#quick-comparison","title":"\ud83d\udcca Quick Comparison","text":"Profile Tools Use Case Ideal Model Tier Token Cost <code>ultra_lite</code> 3 Gateway / Chat-heavy Low (e.g., Llama 3 8B) \ud83d\udfe2 Extremely Low <code>minimal</code> 8 Safety Ops / CI Medium \ud83d\udfe2 Low <code>lite</code> 20 Daily Coding (Recommended) High (Claude 3.5, Gemini 1.5) \ud83d\udfe1 Balanced <code>standard</code> 50 Architecture / Management Very High \ud83d\udfe0 High <code>full</code> All Unified Intelligence / Debug Ultra (Gemini 1.5 Pro, Opus) \ud83d\udd34 Very High"},{"location":"guides/mcp-profiles-comparison/#deep-dive-by-profile","title":"\ud83d\udee0\ufe0f Deep Dive by Profile","text":""},{"location":"guides/mcp-profiles-comparison/#1-ultra_lite-the-gateway","title":"1. <code>ultra_lite</code> (The Gateway)","text":"<p>Concept: \"Progressive Disclosure\". The agent knows nothing initially except how to discover tools. It asks for tool definitions only when it needs them.</p> <ul> <li>\u2705 Usage Point: <ul> <li>Cost Optimization: When you are paying per input token and want to minimize prompt size.</li> <li>Small Models: Using local 7B/8B models that get confused by large tool definitions.</li> <li>Chat Focus: When the session is 90% discussion and only 10% action.</li> </ul> </li> <li>\u274c Limitations: <ul> <li>High Latency: Every tool use requires 2 steps (Discover -&gt; Execute).</li> <li>No Spontaneity: The agent won't \"accidentally\" use a helpful tool it doesn't know exists.</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison/#2-minimal-the-guard","title":"2. <code>minimal</code> (The Guard)","text":"<p>Concept: \"Read-Only / Safety First\". Provides enough tools to see and verify the project, but limits generative capabilities.</p> <ul> <li>\u2705 Usage Point:<ul> <li>Project Auditing: \"Read the code and tell me if it's safe.\"</li> <li>CI/CD Pipelines: Automated checks where you don't want the agent getting creative.</li> <li>Quick Fixes: Simple git commits or vibe checks.</li> </ul> </li> <li>\u274c Limitations:<ul> <li>Cannot review code (no <code>code_review</code>).</li> <li>Cannot write tests (no <code>test_gen</code>).</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison/#3-lite-the-daily-driver","title":"3. <code>lite</code> (The Daily Driver) \ud83c\udf1f","text":"<p>Concept: \"The Pareto Optimal\". Contains the 20 tools that do 80% of the work. Designed to fit comfortably in a 128k context window while leaving space for files.</p> <ul> <li>\u2705 Usage Point:<ul> <li>Feature Development: \"Add a login page.\" (Uses <code>write_file</code>, <code>rag_context</code>, <code>code_review</code>).</li> <li>Refactoring: \"Clean up this class.\"</li> <li>TDD: \"Write tests for this function.\"</li> <li>Default Choice: Start here. Only switch if you hit a limit.</li> </ul> </li> <li>\u274c Limitations:<ul> <li>Lacks administrative tools (workspace management, git hooks).</li> <li>Lacks multi-agent simulation.</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison/#4-standard-the-architect","title":"4. <code>standard</code> (The Architect)","text":"<p>Concept: \"Project Manager\". Expands scope to include repository management, security administration, and deeper analysis.</p> <ul> <li>\u2705 Usage Point:<ul> <li>Repository Setup: Installing Git hooks, configuring Shadow Mode.</li> <li>Deep Research: Using full RAG expansion (<code>rag_expand</code>) to understand complex dependencies.</li> <li>Multi-Agent Flows: Running <code>boring_multi_agent</code> to simulate user behaviors.</li> <li>Spec Writing: Using <code>speckit_*</code> tools to clarify requirements.</li> </ul> </li> <li>\u274c Limitations:<ul> <li>Significantly higher token usage.</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison/#5-full-god-mode","title":"5. <code>full</code> (God Mode)","text":"<p>Concept: \"Raw Unfiltered Access\". Exposes EVERY registered tool in the system, including experimental, legacy, and debugging tools. nothing is hidden.</p> <ul> <li>\u2705 Usage Point:<ul> <li>Maximum Context Models: When using Gemini 1.5 Pro (2M) or Claude 3 Opus where 50k tokens of system prompt is negligible.</li> <li>Plugin Development: When you are developing new Boring tools and want to test them immediately without configuring a profile.</li> <li>Experimental Features: Accessing bleeding-edge tools that haven't graduated to <code>Standard</code> yet.</li> <li>\"I Can't Find It\": When you know a tool exists but isn't in your profile, switch to Full to find it.</li> </ul> </li> <li>\u26a0\ufe0f Critical Warning:<ul> <li>Hallucinations: 100+ tools increase the chance of the LLM picking the wrong one (e.g., confusing <code>verify</code> with <code>verify_file</code>).</li> <li>Cost: Extremely expensive on per-token billing models.</li> <li>Performance: Slower \"Thinking\" (preprocessing large tool definitions).</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison/#configuration","title":"\u2699\ufe0f Configuration","text":""},{"location":"guides/mcp-profiles-comparison/#switching-profiles","title":"Switching Profiles","text":"<p>You can switch profiles dynamically based on your current task's needs.</p>"},{"location":"guides/mcp-profiles-comparison/#1-environment-variable-global","title":"1. Environment Variable (Global)","text":"<pre><code>export BORING_MCP_PROFILE=lite\n</code></pre>"},{"location":"guides/mcp-profiles-comparison/#2-project-config-boringtoml","title":"2. Project Config (<code>.boring.toml</code>)","text":"<pre><code>[boring]\n# Persist the setting for this project\nprofile = \"standard\"\n</code></pre>"},{"location":"guides/mcp-profiles-comparison/#3-runtime-switch-vs-code-cursor","title":"3. Runtime Switch (VS Code / Cursor)","text":"<ol> <li>Open User Settings (JSON).</li> <li>Find <code>\"mcpServers\"</code>.</li> <li>Edit the <code>env</code> section for <code>boring</code>.</li> <li>Restart the MCP server (Developer: Reload Window).</li> </ol>"},{"location":"guides/mcp-profiles-comparison/#recommendation","title":"\ud83d\udca1 Recommendation","text":"<p>Start with <code>lite</code>. - If you find the model \"hallucinating\" tools that don't exist -&gt; Switch to <code>standard</code>. - If you find the model is \"slow\" or \"expensive\" -&gt; Switch to <code>minimal</code> or <code>ultra_lite</code>. - If you are doing deep R&amp;D or using Gemini 1.5 Pro -&gt; Switch to <code>full</code>.</p>"},{"location":"guides/mcp-profiles-comparison_zh/","title":"\ud83c\udf9b\ufe0f MCP Profiles \u6df1\u5ea6\u89e3\u6790\uff1a\u5982\u4f55\u9078\u64c7\u5408\u9069\u7684\u6a21\u5f0f","text":"<p>\u6df1\u5ea6\u601d\u8003\u5206\u6790 (Deep Thinking Analysis)\uff1a MCP Profiles \u7684\u8a2d\u8a08\u521d\u8877\u4e0d\u50c5\u662f\u70ba\u4e86\u300c\u96b1\u85cf\u300d\u5de5\u5177\uff0c\u66f4\u662f\u70ba\u4e86 Context \u9810\u7b97\u7ba1\u7406 (Context Budget Management)\u3002 LLM \u7684\u6ce8\u610f\u529b\u6a5f\u5236\u662f\u6709\u9650\u7684\u3002\u4e00\u6b21\u6027\u704c\u5165 100+ \u500b\u5de5\u5177\u5b9a\u7fa9\uff08\u7d04 1 \u842c Tokens\uff09\u6703\u5206\u6563\u6a21\u578b\u7684\u6ce8\u610f\u529b\uff0c\u5c0e\u81f4\u5b83\u5fd8\u8a18\u4efb\u52d9\u6307\u4ee4\u3002 Profiles \u5141\u8a31\u6211\u5011\u6839\u64da \u4efb\u52d9\u8907\u96dc\u5ea6 \u548c \u6a21\u578b\u80fd\u529b \u4f86\u52d5\u614b\u8abf\u6574 \u5de5\u5177\u5bc6\u5ea6\u3002</p> <p>\u672c\u6307\u5357\u63d0\u4f9b\u6bcf\u500b Profile \u7684\u8a73\u7d30\u62c6\u89e3\u3001\u9069\u7528\u5834\u666f (Usage Points) \u4ee5\u53ca\u512a\u7f3a\u9ede\u5206\u6790\u3002</p>"},{"location":"guides/mcp-profiles-comparison_zh/#_1","title":"\ud83d\udcca \u5feb\u901f\u6bd4\u8f03","text":"\u8a2d\u5b9a\u6a94 (Profile) \u5de5\u5177\u6578 \u6838\u5fc3\u7528\u9014 \u7406\u60f3\u6a21\u578b\u7b49\u7d1a Token \u6d88\u8017 <code>ultra_lite</code> 3 \u9598\u9053\u5668 (Gateway) / \u91cd\u5ea6\u804a\u5929 \u5165\u9580 (\u5982 Llama 3 8B) \ud83d\udfe2 \u6975\u4f4e <code>minimal</code> 8 \u5b89\u5168\u71df\u904b (Ops) / CI \u4e2d\u968e \ud83d\udfe2 \u4f4e <code>lite</code> 20 \u65e5\u5e38\u958b\u767c (\u5b98\u65b9\u63a8\u85a6) \u9ad8\u968e (Claude 3.5, Gemini 1.5) \ud83d\udfe1 \u5e73\u8861 <code>standard</code> 50 \u67b6\u69cb\u8a2d\u8a08 / \u5c08\u6848\u7ba1\u7406 \u9802\u898f \ud83d\udfe0 \u9ad8 <code>full</code> All \u5168\u77e5\u6a21\u5f0f (God Mode) / \u9664\u932f \u8d85\u5927 Context (Gemini 1.5 Pro) \ud83d\udd34 \u6975\u9ad8"},{"location":"guides/mcp-profiles-comparison_zh/#deep-dive","title":"\ud83d\udee0\ufe0f \u5404\u6a21\u5f0f\u8a73\u7d30\u89e3\u6790 (Deep Dive)","text":""},{"location":"guides/mcp-profiles-comparison_zh/#1-ultra_lite-the-gateway","title":"1. <code>ultra_lite</code> (\u6975\u81f4\u8f15\u91cf - The Gateway)","text":"<p>\u6838\u5fc3\u6982\u5ff5: \u300c\u6f38\u9032\u5f0f\u63ed\u9732 (Progressive Disclosure)\u300d\u3002 Agent \u521d\u59cb\u72c0\u614b\u4e0b \u4e00\u7121\u6240\u77e5\uff0c\u53ea\u77e5\u9053\u5982\u4f55\u300c\u767c\u73fe\u300d\u5de5\u5177\u3002\u53ea\u6709\u7576\u5b83\u771f\u7684\u9700\u8981\u67d0\u500b\u5de5\u5177\u6642\uff0c\u624d\u6703\u53bb\u67e5\u8a62\u8a72\u5de5\u5177\u7684\u5b9a\u7fa9\u3002</p> <ul> <li>\u2705 \u9069\u7528\u5834\u666f (Usage Point):<ul> <li>\u6210\u672c\u512a\u5316: \u7576\u4f60\u6309 Input Token \u4ed8\u8cbb\u4e14\u5e0c\u671b\u6975\u5c0f\u5316 Prompt \u6642\u3002</li> <li>\u5c0f\u578b\u6a21\u578b: \u4f7f\u7528\u672c\u5730 7B/8B \u6a21\u578b\uff0c\u9019\u4e9b\u6a21\u578b\u5bb9\u6613\u88ab\u5927\u91cf\u5de5\u5177\u5b9a\u7fa9\u641e\u6df7\u3002</li> <li>\u91cd\u5c0d\u8a71: \u4efb\u52d9\u5167\u5bb9 90% \u662f\u8a0e\u8ad6\u9700\u6c42\uff0c\u53ea\u6709 10% \u9700\u8981\u57f7\u884c\u64cd\u4f5c\u3002</li> </ul> </li> <li>\u274c \u9650\u5236:<ul> <li>\u9ad8\u5ef6\u9072: \u6bcf\u6b21\u4f7f\u7528\u65b0\u5de5\u5177\u90fd\u9700\u8981 2 \u500b\u5f80\u8fd4 (Discover -&gt; Execute)\u3002</li> <li>\u7f3a\u4e4f\u4e3b\u52d5\u6027: Agent \u4e0d\u6703\u300c\u610f\u5916\u300d\u767c\u73fe\u4e26\u4f7f\u7528\u67d0\u500b\u5b83\u539f\u672c\u4e0d\u77e5\u9053\u7684\u597d\u7528\u5de5\u5177\u3002</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison_zh/#2-minimal-the-guard","title":"2. <code>minimal</code> (\u6975\u7c21 - The Guard)","text":"<p>\u6838\u5fc3\u6982\u5ff5: \u300c\u552f\u8b80 / \u5b89\u5168\u512a\u5148\u300d\u3002 \u63d0\u4f9b\u8db3\u5920\u7684\u5de5\u5177\u8b93 Agent \u770b\u898b \u4e26 \u9a57\u8b49 \u5c08\u6848\uff0c\u4f46\u9650\u5236\u5176\u751f\u6210\u8207\u4fee\u6539\u4ee3\u78bc\u7684\u80fd\u529b\u3002</p> <ul> <li>\u2705 \u9069\u7528\u5834\u666f (Usage Point):<ul> <li>\u5c08\u6848\u5be9\u8a08: \u300c\u5e6b\u6211\u8b80\u9019\u4e9b\u4ee3\u78bc\uff0c\u544a\u8a34\u6211\u5b89\u4e0d\u5b89\u5168\u3002\u300d</li> <li>CI/CD \u6d41\u6c34\u7dda: \u5728\u81ea\u52d5\u5316\u6d41\u7a0b\u4e2d\u9032\u884c\u6aa2\u67e5\uff0c\u4e0d\u5e0c\u671b Agent \u81ea\u4f5c\u8070\u660e\u4fee\u6539\u4ee3\u78bc\u3002</li> <li>\u5feb\u901f\u4fee\u5fa9: \u7c21\u55ae\u7684 Git Commit \u6216 Vibe Check\u3002</li> </ul> </li> <li>\u274c \u9650\u5236:<ul> <li>\u4e0d\u80fd\u5be9\u67e5\u4ee3\u78bc (\u7121 <code>code_review</code>)\u3002</li> <li>\u4e0d\u80fd\u751f\u6210\u6e2c\u8a66 (\u7121 <code>test_gen</code>)\u3002</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison_zh/#3-lite-the-daily-driver","title":"3. <code>lite</code> (\u8f15\u91cf\u958b\u767c - The Daily Driver) \ud83c\udf1f","text":"<p>\u6838\u5fc3\u6982\u5ff5: \u300c\u5e15\u7d2f\u6258\u6700\u512a (Pareto Optimal)\u300d\u3002 \u5305\u542b 20% \u7684\u5de5\u5177\uff0c\u537b\u80fd\u5b8c\u6210 80% \u7684\u5de5\u4f5c\u3002\u5c08\u70ba\u9069\u61c9 128k Context Window \u8a2d\u8a08\uff0c\u9810\u7559\u6700\u5927\u7a7a\u9593\u7d66\u4ee3\u78bc\u6a94\u6848\u3002</p> <ul> <li>\u2705 \u9069\u7528\u5834\u666f (Usage Point):<ul> <li>\u529f\u80fd\u958b\u767c: \u300c\u5e6b\u6211\u65b0\u589e\u4e00\u500b\u767b\u5165\u9801\u9762\u3002\u300d(\u6703\u7528\u5230 <code>write_file</code>, <code>rag_context</code>, <code>code_review</code>)</li> <li>\u91cd\u69cb: \u300c\u6e05\u7406\u9019\u500b\u985e\u5225\u7684\u4ee3\u78bc\u3002\u300d</li> <li>TDD: \u300c\u70ba\u9019\u500b\u51fd\u6578\u5beb\u55ae\u5143\u6e2c\u8a66\u3002\u300d</li> <li>\u9810\u8a2d\u9078\u64c7: \u7d55\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u8acb\u5f9e\u9019\u88e1\u958b\u59cb\u3002\u53ea\u6709\u7576\u4f60\u89ba\u5f97\u5de5\u5177\u4e0d\u5920\u7528\u6642\u624d\u5207\u63db\u3002</li> </ul> </li> <li>\u274c \u9650\u5236:<ul> <li>\u7f3a\u4e4f\u7ba1\u7406\u5de5\u5177 (Workspace \u7ba1\u7406\u3001Git Hooks \u5b89\u88dd)\u3002</li> <li>\u7f3a\u4e4f\u591a\u667a\u80fd\u9ad4\u6a21\u64ec\u80fd\u529b\u3002</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison_zh/#4-standard-the-architect","title":"4. <code>standard</code> (\u6a19\u6e96 - The Architect)","text":"<p>\u6838\u5fc3\u6982\u5ff5: \u300c\u5c08\u6848\u7d93\u7406 (Project Manager)\u300d\u3002 \u64f4\u5c55\u4e86\u7bc4\u570d\uff0c\u5305\u542b\u5132\u5b58\u5eab\u7ba1\u7406\u3001\u5b89\u5168\u7ba1\u7406\u4ee5\u53ca\u66f4\u6df1\u5ea6\u7684\u5206\u6790\u5de5\u5177\u3002</p> <ul> <li>\u2705 \u9069\u7528\u5834\u666f (Usage Point):<ul> <li>\u74b0\u5883\u5efa\u7f6e: \u5b89\u88dd Git Hooks\uff0c\u914d\u7f6e Shadow Mode \u5b89\u5168\u7b49\u7d1a\u3002</li> <li>\u6df1\u5ea6\u7814\u7a76: \u4f7f\u7528\u5b8c\u6574 RAG \u64f4\u5c55 (<code>rag_expand</code>) \u4f86\u7406\u89e3\u8907\u96dc\u7684\u4f9d\u8cf4\u95dc\u4fc2\u5716\u3002</li> <li>\u591a\u667a\u80fd\u9ad4\u6d41: \u57f7\u884c <code>boring_multi_agent</code> \u4f86\u6a21\u64ec\u4f7f\u7528\u8005\u884c\u70ba\u3002</li> <li>\u898f\u683c\u64b0\u5beb: \u4f7f\u7528 <code>speckit_*</code> \u5de5\u5177\u4f86\u91d0\u6e05\u6a21\u7cca\u7684\u9700\u6c42\u3002</li> </ul> </li> <li>\u274c \u9650\u5236:<ul> <li>Token \u6d88\u8017\u986f\u8457\u589e\u52a0\u3002</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison_zh/#5-full-god-mode","title":"5. <code>full</code> (\u5168\u77e5\u6a21\u5f0f - God Mode)","text":"<p>\u6838\u5fc3\u6982\u5ff5: \u300c\u539f\u59cb\u7121\u904e\u6ffe\u5b58\u53d6 (Raw Unfiltered Access)\u300d\u3002 \u66b4\u9732\u7cfb\u7d71\u4e2d \u6240\u6709 \u5df2\u8a3b\u518a\u7684\u5de5\u5177\uff0c\u5305\u542b\u5be6\u9a57\u6027\u7684\u3001\u820a\u7248\u7684\u3001\u9664\u932f\u7528\u7684\u3002\u6c92\u6709\u4efb\u4f55\u96b1\u85cf\u3002</p> <ul> <li>\u2705 \u9069\u7528\u5834\u666f (Usage Point):<ul> <li>\u8d85\u5927 Context \u6a21\u578b: \u7576\u4f60\u4f7f\u7528 Gemini 1.5 Pro (2M) \u6216 Claude 3 Opus\uff0c\u4e14\u4e0d\u5728\u4e4e 50k System Prompt \u7684\u6d88\u8017\u6642\u3002</li> <li>\u63d2\u4ef6\u958b\u767c: \u7576\u4f60\u6b63\u5728\u958b\u767c \u65b0\u7684 Boring \u5de5\u5177\uff0c\u4e26\u5e0c\u671b\u5728\u4e0d\u4fee\u6539 Profile \u7684\u60c5\u6cc1\u4e0b\u7acb\u5373\u6e2c\u8a66\u5b83\u3002</li> <li>\u4f7f\u7528\u5be6\u9a57\u529f\u80fd: \u5b58\u53d6\u90a3\u4e9b\u5c1a\u672a\u7562\u696d\u9032\u5165 <code>Standard</code> \u7684\u6700\u65b0\u5de5\u5177\u3002</li> <li>\u300c\u6211\u627e\u4e0d\u5230\u5de5\u5177\u300d: \u7576\u4f60\u78ba\u5b9a\u67d0\u500b\u5de5\u5177\u5b58\u5728\uff0c\u4f46\u5728\u76ee\u524d Profile \u627e\u4e0d\u5230\u6642\uff0c\u5207\u5230 Full \u628a\u5b83\u627e\u51fa\u4f86\u3002</li> </ul> </li> <li>\u26a0\ufe0f \u56b4\u91cd\u8b66\u544a:<ul> <li>\u5e7b\u89ba\u98a8\u96aa: 100+ \u500b\u5de5\u5177\u6703\u589e\u52a0 LLM \u9078\u932f\u5de5\u5177\u7684\u6a5f\u7387 (\u4f8b\u5982\u6df7\u6dc6 <code>verify</code> \u548c <code>verify_file</code>)\u3002</li> <li>\u6210\u672c: \u5728\u6309 Token \u8a08\u8cbb\u7684\u6a21\u5f0f\u4e0b\u975e\u5e38\u6602\u8cb4\u3002</li> <li>\u6548\u80fd: \u300c\u601d\u8003\u300d\u901f\u5ea6\u8b8a\u6162 (\u56e0\u70ba\u9700\u8981\u9810\u8655\u7406\u5927\u91cf\u5de5\u5177\u5b9a\u7fa9)\u3002</li> </ul> </li> </ul>"},{"location":"guides/mcp-profiles-comparison_zh/#configuration","title":"\u2699\ufe0f \u914d\u7f6e\u5207\u63db (Configuration)","text":"<p>\u60a8\u53ef\u4ee5\u6839\u64da\u7576\u524d\u4efb\u52d9\u9700\u6c42\u52d5\u614b\u5207\u63db Profile\u3002</p>"},{"location":"guides/mcp-profiles-comparison_zh/#1","title":"1. \u74b0\u5883\u8b8a\u6578 (\u5168\u57df)","text":"<pre><code>export BORING_MCP_PROFILE=lite\n</code></pre>"},{"location":"guides/mcp-profiles-comparison_zh/#2-boringtoml","title":"2. \u5c08\u6848\u8a2d\u5b9a (<code>.boring.toml</code>)","text":"<pre><code>[boring]\n# \u70ba\u6b64\u5c08\u6848\u56fa\u5b9a\u8a2d\u5b9a\nprofile = \"standard\"\n</code></pre>"},{"location":"guides/mcp-profiles-comparison_zh/#3-vs-code-cursor","title":"3. \u57f7\u884c\u6642\u5207\u63db (VS Code / Cursor)","text":"<ol> <li>\u958b\u555f User Settings (JSON)\u3002</li> <li>\u627e\u5230 <code>\"mcpServers\"</code>\u3002</li> <li>\u7de8\u8f2f <code>boring</code> \u4e0b\u7684 <code>env</code> \u5340\u584a\u3002</li> <li>\u91cd\u555f MCP Server (Developer: Reload Window)\u3002</li> </ol>"},{"location":"guides/mcp-profiles-comparison_zh/#_2","title":"\ud83d\udca1 \u5efa\u8b70\u7e3d\u7d50","text":"<p>\u8acb\u5f9e <code>lite</code> \u958b\u59cb\u3002 - \u5982\u679c\u767c\u73fe\u6a21\u578b\u300c\u5e7b\u60f3\u300d\u51fa\u4e0d\u5b58\u5728\u7684\u5de5\u5177 -&gt; \u5207\u63db\u5230 <code>standard</code> (\u53ef\u80fd\u8a72\u5de5\u5177\u5728\u90a3\u88e1)\u3002 - \u5982\u679c\u89ba\u5f97\u6a21\u578b\u8b8a\u6162\u6216\u592a\u8cb4 -&gt; \u5207\u63db\u5230 <code>minimal</code> \u6216 <code>ultra_lite</code>\u3002 - \u5982\u679c\u4f60\u5728\u505a\u6df1\u5ea6\u7814\u767c\u6216\u4f7f\u7528 Gemini 1.5 Pro -&gt; \u5207\u63db\u5230 <code>full</code>\u3002</p>"},{"location":"guides/modular-installation/","title":"\ud83d\udce6 Modular Installation Guide (Boring Diet)","text":""},{"location":"guides/modular-installation/#why-modular-installation-deep-thinking-analysis","title":"Why Modular Installation? (Deep Thinking Analysis)","text":"<p>Boring-Gemini v10.28.0 introduces the \"Boring Diet\" optimization. While the core package is still <code>boring-aicoding</code>, the installation is now split into multiple optional \"Extras\".</p>"},{"location":"guides/modular-installation/#1-size-start-up-speed","title":"1. Size &amp; Start-up Speed","text":"<ul> <li>Core Package (&lt; 50MB): Light, fast, and starts in milliseconds.</li> <li>Full Package (&gt; 1.5GB): Includes heavy-weights like Torch, ChromaDB, and Sentence-Transformers.</li> <li>The Logic: By splitting these, we ensure users who only need the CLI for basic Git automation don't pay the performance tax of loading heavy ML libraries.</li> </ul>"},{"location":"guides/modular-installation/#2-environment-compatibility","title":"2. Environment Compatibility","text":"<ul> <li>Dependency Conflicts: Large libraries like <code>torch</code> have complex dependency trees that might clash with other tools in your environment.</li> <li>Isolated Environments: In CI/CD or lightweight containers, you usually only need the core logic. Modular installation allows you to keep your containers small and stable.</li> </ul>"},{"location":"guides/modular-installation/#3-token-economy-llm-attention","title":"3. Token Economy &amp; LLM Attention","text":"<ul> <li>MCP Context: When using Boring as an MCP server, a cleaner environment helps the LLM reasoning process. It reduces the chance of the model being confused by unrelated library metadata.</li> </ul>"},{"location":"guides/modular-installation/#installation-commands","title":"\ud83d\udee0\ufe0f Installation Commands","text":"Command Features Recommended Profile Recommended For <code>pip install boring-aicoding</code> Base CLI + Core logic <code>lite</code> Daily Git tasks, simple automation. <code>pip install \"boring-aicoding[vector]\"</code> + RAG (ChromaDB + Torch) <code>standard</code> Projects requiring deep semantic search. <code>pip install \"boring-aicoding[gui]\"</code> + Dashboard (Streamlit) - Visualizing project health metrics. <code>pip install \"boring-aicoding[mcp]\"</code> + FastMCP <code>standard</code> / <code>full</code> Professional IDE integration. <code>pip install \"boring-aicoding[all]\"</code> Complete Experience <code>full</code> Vibe Coders (Power Users)."},{"location":"guides/modular-installation/#ultra-fast-installation-with-uv","title":"\u26a1 Ultra-Fast Installation with uv","text":"<p>New! Install 10-100x faster with uv</p> <pre><code># Install uv first (if not already installed)\ncurl -LsSf https://astral.sh/uv/install.sh | sh  # Linux/Mac\npowershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"  # Windows\n\n# Install boring-aicoding with uv\nuv pip install \"boring-aicoding[all]\"\n\n# Or use uv to manage the entire project\nuv venv\nsource .venv/bin/activate  # Linux/Mac\n.venv\\Scripts\\activate      # Windows\nuv pip install \"boring-aicoding[all]\"\n</code></pre> <p>Why uv? - \u26a1 10-100x faster than pip (Rust-based) - \ud83c\udfaf Better dependency resolution (no conflicts) - \ud83d\udd12 Deterministic builds (lockfile support) - \ud83d\udce6 Smaller cache (optimized storage)</p>"},{"location":"guides/modular-installation/#quick-reference-installation-vs-profile","title":"\u26a1 Quick Reference: Installation vs. Profile","text":"<p>If you use Modular Installation, match your <code>BORING_MCP_PROFILE</code> to your installation level:</p> <ul> <li>Core: Use <code>minimal</code> or <code>lite</code>.</li> <li>Vector: Use <code>standard</code>.</li> <li>Full: Use <code>full</code> (God Mode).</li> </ul>"},{"location":"guides/modular-installation_zh/","title":"\ud83d\udce6 \u6a21\u7d44\u5316\u5b89\u88dd\u6307\u5357 (Boring Diet)","text":""},{"location":"guides/modular-installation_zh/#_1","title":"\u70ba\u4ec0\u9ebc\u8981\u5206\u958b\u5b89\u88dd\uff1f (\u6df1\u5ea6\u601d\u8003\u5206\u6790)","text":"<p>Boring-Gemini v10.28.0 \u5f15\u5165\u4e86 \"Boring Diet\" \u512a\u5316\u3002\u96d6\u7136\u6838\u5fc3\u5957\u4ef6\u4ecd\u662f <code>boring-aicoding</code>\uff0c\u4f46\u5b89\u88dd\u88ab\u62c6\u5206\u70ba\u591a\u500b\u53ef\u9078\u7684\u300c\u52a0\u9ede (Extras)\u300d\u3002</p>"},{"location":"guides/modular-installation_zh/#1","title":"1. \u9ad4\u7a4d\u8207\u555f\u52d5\u901f\u5ea6","text":"<ul> <li>\u6838\u5fc3\u5305 (&lt; 50MB)\uff1a\u6975\u8f15\u91cf\u3001\u555f\u52d5\u50c5\u9700\u6beb\u79d2\u3002</li> <li>\u5168\u529f\u80fd\u5305 (&gt; 1.5GB)\uff1a\u5305\u542b\u4e86\u91cd\u91cf\u7d1a\u7684 Torch\u3001ChromaDB \u8207 Sentence-Transformers\u3002</li> <li>\u6838\u5fc3\u908f\u8f2f\uff1a\u900f\u904e\u62c6\u5206\uff0c\u6211\u5011\u78ba\u4fdd\u90a3\u4e9b\u53ea\u9700\u8981 CLI \u9032\u884c\u57fa\u790e Git \u81ea\u52d5\u5316\u7684\u4f7f\u7528\u8005\uff0c\u4e0d\u9700\u8981\u70ba\u4e86\u8f09\u5165\u6c89\u91cd\u7684 ML \u51fd\u5f0f\u5eab\u800c\u652f\u4ed8\u6027\u80fd\u4ee3\u50f9\u3002</li> </ul>"},{"location":"guides/modular-installation_zh/#2","title":"2. \u74b0\u5883\u76f8\u5bb9\u6027","text":"<ul> <li>\u4f9d\u8cf4\u885d\u7a81\uff1a\u5927\u578b\u51fd\u5f0f\u5eab\uff08\u5982 <code>torch</code>\uff09\u6709\u8907\u96dc\u7684\u4f9d\u8cf4\u6a39\uff0c\u53ef\u80fd\u6703\u8207\u60a8\u74b0\u5883\u4e2d\u7684\u5176\u4ed6\u5de5\u5177\u7522\u751f\u885d\u7a81\u3002</li> <li>\u5b64\u7acb\u74b0\u5883\uff1a\u5728 CI/CD \u6216\u8f15\u91cf\u7d1a\u5bb9\u5668\u4e2d\uff0c\u60a8\u901a\u5e38\u53ea\u9700\u8981\u6838\u5fc3\u908f\u8f2f\u3002\u6a21\u7d44\u5316\u5b89\u88dd\u8b93\u60a8\u7684\u5bb9\u5668\u4fdd\u6301\u5c0f\u5de7\u4e14\u7a69\u5b9a\u3002</li> </ul>"},{"location":"guides/modular-installation_zh/#3-token-llm","title":"3. Token \u7d93\u6fdf\u8207 LLM \u6ce8\u610f\u529b","text":"<ul> <li>MCP \u4e0a\u4e0b\u6587\uff1a\u5c07 Boring \u4f5c\u70ba MCP \u4f3a\u670d\u5668\u4f7f\u7528\u6642\uff0c\u4e7e\u6de8\u7684\u74b0\u5883\u6709\u52a9\u65bc LLM \u7684\u63a8\u7406\u904e\u7a0b\uff0c\u6e1b\u5c11\u6a21\u578b\u88ab\u7121\u95dc\u51fd\u5f0f\u5eab\u5143\u6578\u64da\u5e72\u64fe\u7684\u6a5f\u7387\u3002</li> </ul>"},{"location":"guides/modular-installation_zh/#_2","title":"\ud83d\udee0\ufe0f \u5b89\u88dd\u6307\u4ee4","text":"\u5b89\u88dd\u6307\u4ee4 \u5305\u542b\u529f\u80fd \u5efa\u8b70 Profile \u9069\u7528\u5c0d\u8c61 <code>pip install boring-aicoding</code> \u57fa\u790e CLI + \u6838\u5fc3\u908f\u8f2f <code>lite</code> \u65e5\u5e38 Git \u4efb\u52d9\u3001\u7c21\u55ae\u81ea\u52d5\u5316\u3002 <code>pip install \"boring-aicoding[vector]\"</code> + RAG (ChromaDB + Torch) <code>standard</code> \u9700\u8981\u6df1\u5ea6\u8a9e\u610f\u641c\u5c0b\u7684\u5c08\u6848\u3002 <code>pip install \"boring-aicoding[gui]\"</code> + Dashboard (Streamlit) - \u8996\u89ba\u5316\u5c08\u6848\u5065\u5eb7\u6307\u6a19\u3002 <code>pip install \"boring-aicoding[mcp]\"</code> + FastMCP <code>standard</code> / <code>full</code> \u5c08\u696d IDE \u6574\u5408\u3002 <code>pip install \"boring-aicoding[all]\"</code> \u5b8c\u6574\u9ad4\u9a57 <code>full</code> Vibe Coders (Power Users)\u3002"},{"location":"guides/modular-installation_zh/#uv","title":"\u26a1 \u4f7f\u7528 uv \u8d85\u5feb\u901f\u5b89\u88dd","text":"<p>\u65b0\u529f\u80fd\uff01 \u4f7f\u7528 uv \u5b89\u88dd\u901f\u5ea6\u5feb 10-100 \u500d</p> <pre><code># \u5148\u5b89\u88dd uv\uff08\u5982\u679c\u9084\u6c92\u6709\uff09\ncurl -LsSf https://astral.sh/uv/install.sh | sh  # Linux/Mac\npowershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"  # Windows\n\n# \u4f7f\u7528 uv \u5b89\u88dd boring-aicoding\nuv pip install \"boring-aicoding[all]\"\n\n# \u6216\u4f7f\u7528 uv \u7ba1\u7406\u6574\u500b\u5c08\u6848\nuv venv\nsource .venv/bin/activate  # Linux/Mac\n.venv\\Scripts\\activate      # Windows\nuv pip install \"boring-aicoding[all]\"\n</code></pre> <p>\u70ba\u4ec0\u9ebc\u9078 uv\uff1f - \u26a1 \u5feb 10-100 \u500d\uff08\u57fa\u65bc Rust \u5efa\u69cb\uff09 - \ud83c\udfaf \u66f4\u597d\u7684\u4f9d\u8cf4\u89e3\u6790\uff08\u7121\u885d\u7a81\uff09 - \ud83d\udd12 \u78ba\u5b9a\u6027\u69cb\u5efa\uff08\u652f\u63f4 lockfile\uff09 - \ud83d\udce6 \u66f4\u5c0f\u7684\u5feb\u53d6\uff08\u512a\u5316\u5132\u5b58\uff09</p>"},{"location":"guides/modular-installation_zh/#vs-profile","title":"\u26a1 \u5feb\u901f\u5c0d\u7167\uff1a\u5b89\u88dd vs. Profile","text":"<p>\u5982\u679c\u60a8\u4f7f\u7528\u6a21\u7d44\u5316\u5b89\u88dd\uff0c\u8acb\u76f8\u61c9\u8abf\u6574\u60a8\u7684 <code>BORING_MCP_PROFILE</code>\uff1a</p> <ul> <li>\u6838\u5fc3\u7248 (Core)\uff1a\u5efa\u8b70\u4f7f\u7528 <code>minimal</code> \u6216 <code>lite</code>\u3002</li> <li>\u5411\u91cf\u7248 (Vector)\uff1a\u5efa\u8b70\u4f7f\u7528 <code>standard</code>\u3002</li> <li>\u5b8c\u6574\u7248 (Full)\uff1a\u5efa\u8b70\u4f7f\u7528 <code>full</code> (\u5168\u77e5\u6a21\u5f0f)\u3002</li> </ul>"},{"location":"guides/offline-mode/","title":"\ud83d\udd0c Offline-First Mode","text":"<p>Boring V13.2 introduces powerful offline-first capabilities, allowing you to enjoy AI-assisted development even without an internet connection or in environments with high privacy requirements.</p>"},{"location":"guides/offline-mode/#key-features","title":"\ud83c\udf1f Key Features","text":"<ul> <li>Zero Network Dependency: After initial setup, all LLM inferences run locally on your machine.</li> <li>Privacy Guaranteed: Your code, data, and conversations never leave your local environment.</li> <li>Intelligent Switching: Automatically switches between local models and APIs to optimize performance and accuracy.</li> <li>Multi-Model Support: Supports state-of-the-art lightweight local models like Phi-3, Qwen2.5, and Llama 3.2.</li> </ul>"},{"location":"guides/offline-mode/#installation-setup","title":"\ud83d\udee0\ufe0f Installation &amp; Setup","text":""},{"location":"guides/offline-mode/#1-install-local-dependencies","title":"1. Install Local Dependencies","text":"<p>Install the extra packages required for local model support:</p> <pre><code>pip install \"boring-aicoding[local]\"\n</code></pre>"},{"location":"guides/offline-mode/#2-download-local-models","title":"2. Download Local Models","text":"<p>Boring provides built-in tools to help download recommended GGUF models:</p> <pre><code># Download the default recommended model (Qwen2.5-1.5B)\nboring local download\n</code></pre>"},{"location":"guides/offline-mode/#configuration","title":"\u2699\ufe0f Configuration","text":"<p>Configure your local model path in <code>.boring.toml</code>:</p> <pre><code>[boring]\noffline_mode = true\nlocal_llm_model = \"~/.boring/models/phi-3-mini-4k-instruct.gguf\"\nlocal_llm_context_size = 4096\n</code></pre>"},{"location":"guides/offline-mode/#quick-mode-toggle","title":"Quick Mode Toggle","text":"<p>You can also switch modes quickly via environment variables:</p> <ul> <li><code>BORING_OFFLINE_MODE=1</code>: Force offline mode.</li> <li><code>BORING_PREFER_LOCAL=1</code>: Prefer local models for simple tasks.</li> </ul>"},{"location":"guides/offline-mode/#intelligent-routing-rules","title":"\ud83c\udfaf Intelligent Routing Rules","text":"<p>Boring's <code>ModelRouter</code> automatically selects the backend based on task complexity:</p> Task Type Complexity Preferred Backend Docstring Generation Simple Local Model Code Refactoring Medium Local Model or API Architecture Design Complex API (Local if offline)"},{"location":"guides/offline-mode/#important-notes","title":"\u26a0\ufe0f Important Notes","text":"<ol> <li>Memory Usage: Running local models requires RAM (at least 8GB recommended).</li> <li>GPU Acceleration: If your environment supports CUDA or Metal, <code>llama-cpp-python</code> will automatically attempt to enable GPU acceleration.</li> <li>Model Performance: Local models may not match the reasoning depth of large API models (like Gemini Pro) for complex logic; they are best suited for routine coding assistance.</li> </ol> <p>Boring V13.2 - Respect your machine, respect your privacy.</p>"},{"location":"guides/offline-mode_zh/","title":"\ud83d\udd0c \u96e2\u7dda\u512a\u5148\u6a21\u5f0f (Offline-First Mode)","text":"<p>Boring V13.2 \u5f15\u5165\u4e86\u5f37\u5927\u7684\u96e2\u7dda\u512a\u5148\u529f\u80fd\uff0c\u8b93\u60a8\u5728\u6c92\u6709\u7db2\u969b\u7db2\u8def\u9023\u63a5\u6216\u6975\u9ad8\u96b1\u79c1\u8981\u6c42\u7684\u74b0\u5883\u4e2d\uff0c\u4f9d\u7136\u80fd\u4eab\u53d7 AI \u8f14\u52a9\u958b\u767c\u7684\u4fbf\u5229\u3002</p>"},{"location":"guides/offline-mode_zh/#_1","title":"\ud83c\udf1f \u6838\u5fc3\u7279\u8272","text":"<ul> <li>\u96f6\u7db2\u8def\u4f9d\u8cf4\uff1a\u5b8c\u6210\u521d\u59cb\u8a2d\u7f6e\u5f8c\uff0c\u6240\u6709 LLM \u63a8\u8ad6\u5747\u53ef\u5728\u672c\u5730\u904b\u884c\u3002</li> <li>\u96b1\u79c1\u4fdd\u969c\uff1a\u7a0b\u5f0f\u78bc\u3001\u6578\u64da\u8207\u5c0d\u8a71\u5167\u5bb9\u6c38\u9060\u4e0d\u6703\u96e2\u958b\u60a8\u7684\u6a5f\u5668\u3002</li> <li>\u667a\u80fd\u5207\u63db\uff1a\u81ea\u52d5\u5728\u672c\u5730\u6a21\u578b\u8207 API \u4e4b\u9593\u5207\u63db\uff0c\u512a\u5316\u6548\u80fd\u8207\u7cbe\u78ba\u5ea6\u3002</li> <li>\u591a\u6a21\u578b\u652f\u63f4\uff1a\u652f\u63f4 Phi-3, Qwen2.5, Llama 3.2 \u7b49\u6700\u5148\u9032\u7684\u8f15\u91cf\u7d1a\u672c\u5730\u6a21\u578b\u3002</li> </ul>"},{"location":"guides/offline-mode_zh/#_2","title":"\ud83d\udee0\ufe0f \u5b89\u88dd\u8207\u8a2d\u7f6e","text":""},{"location":"guides/offline-mode_zh/#1","title":"1. \u5b89\u88dd\u672c\u5730\u4f9d\u8cf4","text":"<p>\u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u5b89\u88dd\u652f\u63f4\u672c\u5730\u6a21\u578b\u7684\u984d\u5916\u5957\u4ef6\uff1a</p> <pre><code>pip install \"boring-aicoding[local]\"\n</code></pre>"},{"location":"guides/offline-mode_zh/#2","title":"2. \u4e0b\u8f09\u672c\u5730\u6a21\u578b","text":"<p>Boring \u63d0\u4f9b\u5167\u5efa\u5de5\u5177\u5354\u52a9\u4e0b\u8f09\u63a8\u85a6\u7684 GGUF \u6a21\u578b\uff1a</p> <pre><code># \u4e0b\u8f09\u9810\u8a2d\u63a8\u85a6\u6a21\u578b (Qwen2.5-1.5B)\nboring local download\n</code></pre>"},{"location":"guides/offline-mode_zh/#_3","title":"\u2699\ufe0f \u914d\u7f6e\u8aaa\u660e","text":"<p>\u5728 <code>.boring.toml</code> \u4e2d\u914d\u7f6e\u60a8\u7684\u672c\u5730\u6a21\u578b\u8def\u5f91\uff1a</p> <pre><code>[boring]\noffline_mode = true\nlocal_llm_model = \"~/.boring/models/phi-3-mini-4k-instruct.gguf\"\nlocal_llm_context_size = 4096\n</code></pre>"},{"location":"guides/offline-mode_zh/#_4","title":"\u5207\u63db\u6a21\u5f0f","text":"<p>\u60a8\u4e5f\u53ef\u4ee5\u900f\u904e\u74b0\u5883\u8b8a\u6578\u5feb\u901f\u5207\u63db\uff1a</p> <ul> <li><code>BORING_OFFLINE_MODE=1</code>: \u5f37\u5236\u9032\u5165\u96e2\u7dda\u6a21\u5f0f\u3002</li> <li><code>BORING_PREFER_LOCAL=1</code>: \u512a\u5148\u4f7f\u7528\u672c\u5730\u6a21\u578b\u9032\u884c\u7c21\u55ae\u4efb\u52d9\u3002</li> </ul>"},{"location":"guides/offline-mode_zh/#_5","title":"\ud83c\udfaf \u667a\u80fd\u8def\u7531\u898f\u5247","text":"<p>Boring \u7684 <code>ModelRouter</code> \u6703\u6839\u64da\u4efb\u52d9\u8907\u96dc\u5ea6\u81ea\u52d5\u9078\u64c7\u5f8c\u7aef\uff1a</p> \u4efb\u52d9\u985e\u578b \u8907\u96dc\u5ea6 \u504f\u597d\u5f8c\u7aef \u6587\u6a94\u8a3b\u89e3 (Docstring) \u7c21\u55ae \u672c\u5730\u6a21\u578b (Local) \u4ee3\u78bc\u91cd\u69cb (Refactor) \u4e2d\u7b49 \u672c\u5730\u6a21\u578b \u6216 API \u67b6\u69cb\u8a2d\u8a08 (Architecture) \u8907\u96dc API (\u96e2\u7dda\u6a21\u5f0f\u4e0b\u4f7f\u7528\u672c\u5730)"},{"location":"guides/offline-mode_zh/#_6","title":"\u26a0\ufe0f \u6ce8\u610f\u4e8b\u9805","text":"<ol> <li>\u8a18\u61b6\u9ad4\u4f54\u7528\uff1a\u904b\u884c\u672c\u5730\u6a21\u578b\u9700\u8981\u4e00\u5b9a\u7684 RAM\uff08\u5efa\u8b70\u81f3\u5c11 8GB\uff09\u3002</li> <li>GPU \u52a0\u901f\uff1a\u5982\u679c\u60a8\u7684\u74b0\u5883\u652f\u63f4 CUDA \u6216 Metal\uff0c<code>llama-cpp-python</code> \u5c07\u81ea\u52d5\u5617\u8a66\u555f\u7528 GPU \u52a0\u901f\u3002</li> <li>\u6a21\u578b\u6548\u80fd\uff1a\u672c\u5730\u6a21\u578b\u5728\u8655\u7406\u8907\u96dc\u908f\u8f2f\u6642\u53ef\u80fd\u4e0d\u5982\u5927\u578b API \u6a21\u578b\uff08\u5982 Gemini 2.5 Pro\uff09\uff0c\u5efa\u8b70\u7528\u65bc\u65e5\u5e38\u4ee3\u78bc\u8f14\u52a9\u3002</li> </ol> <p>Boring V13.2 - Respect your machine, respect your privacy.</p>"},{"location":"guides/offline-quickstart/","title":"Offline-First Mode Quickstart Guide \ud83d\udd0c","text":"<p>Version: V14.0.0+ Prerequisites: Python 3.10+, 8GB+ RAM (16GB recommended)</p> <p>Boring-Gemini V14.0 introduces a true Offline-First architecture. This guide helps you set up a fully autonomous local development environment with zero internet dependency.</p>"},{"location":"guides/offline-quickstart/#1-quick-setup","title":"1. Quick Setup","text":""},{"location":"guides/offline-quickstart/#step-1-install-dependencies","title":"Step 1: Install Dependencies","text":"<p>Offline mode requires <code>llama-cpp-python</code> for local inference.</p> <pre><code># Install with local support extras\npip install boring-aicoding[local]\n\n# Or manually\npip install llama-cpp-python\n</code></pre> <p>GPU Acceleration: If you have an NVIDIA GPU, install with CUDA support: <code>CMAKE_ARGS=\"-DGGML_CUDA=on\" pip install llama-cpp-python</code></p>"},{"location":"guides/offline-quickstart/#step-2-download-a-model","title":"Step 2: Download a Model","text":"<p>Use the built-in CLI to download a recommended GGUF model.</p> <pre><code># List recommended models\nboring model list\n\n# Download a balanced model (e.g., Llama-3-8B-Quantized)\nboring model download --name \"llama-3-8b-instruct-q4_k_m.gguf\"\n</code></pre> <p>Models are stored in <code>~/.boring/models/</code>.</p>"},{"location":"guides/offline-quickstart/#step-3-enable-offline-mode","title":"Step 3: Enable Offline Mode","text":"<p>You can enable offline mode globally or per session.</p> <p>Option A: CLI Toggle (Persistent) <pre><code>boring offline enable\n</code></pre></p> <p>Option B: Environment Variable (Temporary) <pre><code>export BORING_OFFLINE_MODE=true\nboring start\n</code></pre></p>"},{"location":"guides/offline-quickstart/#2-verification","title":"2. Verification","text":"<p>Run the doctor command to verify your offline status.</p> <pre><code>boring doctor\n</code></pre> <p>Output should show: <pre><code>5. Offline Mode\n  - Status: ENABLED\n\n6. Local LLM Models\n  - Models: 1 available\n    - llama-3-8b-instruct-q4_k_m.gguf\n</code></pre></p>"},{"location":"guides/offline-quickstart/#3-how-it-works","title":"3. How it Works","text":"<p>When Offline Mode is active:</p> <ol> <li>Network Cutoff: All external API calls (Gemini, OpenAI, Anthropic) are blocked.</li> <li>Local Inference: The Agent automatically routes LLM requests to your local GGUF model.</li> <li>Local Tools: Only local tools are loaded (File Ops, Local RAG, Shell). Web search tools are disabled.</li> <li>Local RAG: Queries use <code>SentenceTransformers</code> (local embeddings) and <code>ChromaDB</code> (local vector store).</li> </ol>"},{"location":"guides/offline-quickstart/#fallback-behavior","title":"Fallback Behavior","text":"<p>If no local model is loaded but Offline Mode is ON, the system will error out gracefully suggesting you to run <code>boring model download</code>.</p>"},{"location":"guides/offline-quickstart/#4-performance-tuning","title":"4. Performance Tuning","text":"<p>Create a <code>.env</code> file in your project to tune performance:</p> <pre><code># .env\nBORING_LOCAL_MODEL_PATH=~/.boring/models/my-custom-model.gguf\nBORING_LOCAL_CTX_WINDOW=8192\nBORING_LOCAL_GPU_LAYERS=35  # Offload layers to GPU\n</code></pre> <p>Last updated: V14.0.0</p>"},{"location":"guides/offline-quickstart_zh/","title":"\u96e2\u7dda\u512a\u5148\u6a21\u5f0f\u5feb\u901f\u5165\u9580\u6307\u5357 (Offline-First Mode) \ud83d\udd0c","text":"<p>\u7248\u672c\u9700\u6c42: V14.0.0+ \u7cfb\u7d71\u9700\u6c42: Python 3.10+, 8GB+ RAM (\u63a8\u85a6 16GB)</p> <p>Boring-Gemini V14.0 \u5f15\u5165\u4e86\u771f\u6b63\u7684 \u96e2\u7dda\u512a\u5148 (Offline-First) \u67b6\u69cb\u3002\u672c\u6307\u5357\u5c07\u5354\u52a9\u60a8\u5efa\u7acb\u4e00\u500b\u5b8c\u5168\u81ea\u4e3b\u3001\u96f6\u7db2\u8def\u4f9d\u8cf4\u7684\u672c\u5730\u958b\u767c\u74b0\u5883\u3002</p>"},{"location":"guides/offline-quickstart_zh/#1","title":"1. \u5feb\u901f\u8a2d\u5b9a","text":""},{"location":"guides/offline-quickstart_zh/#1_1","title":"\u6b65\u9a5f 1: \u5b89\u88dd\u4f9d\u8cf4","text":"<p>\u96e2\u7dda\u6a21\u5f0f\u9700\u8981 <code>llama-cpp-python</code> \u9032\u884c\u672c\u5730\u63a8\u7406\u3002</p> <pre><code># \u5b89\u88dd\u5305\u542b\u672c\u5730\u652f\u63f4\u7684\u984d\u5916\u5957\u4ef6\npip install boring-aicoding[local]\n\n# \u6216\u8005\u624b\u52d5\u5b89\u88dd\npip install llama-cpp-python\n</code></pre> <p>GPU \u52a0\u901f: \u5982\u679c\u60a8\u64c1\u6709 NVIDIA GPU\uff0c\u8acb\u5b89\u88dd\u652f\u63f4 CUDA \u7684\u7248\u672c\uff1a <code>CMAKE_ARGS=\"-DGGML_CUDA=on\" pip install llama-cpp-python</code></p>"},{"location":"guides/offline-quickstart_zh/#2","title":"\u6b65\u9a5f 2: \u4e0b\u8f09\u6a21\u578b","text":"<p>\u4f7f\u7528\u5167\u5efa CLI \u4e0b\u8f09\u63a8\u85a6\u7684 GGUF \u6a21\u578b\u3002</p> <pre><code># \u5217\u51fa\u63a8\u85a6\u6a21\u578b\nboring model list\n\n# \u4e0b\u8f09\u5e73\u8861\u578b\u6a21\u578b (\u4f8b\u5982 Llama-3-8B-Quantized)\nboring model download --name \"llama-3-8b-instruct-q4_k_m.gguf\"\n</code></pre> <p>\u6a21\u578b\u5c07\u5b58\u5132\u65bc <code>~/.boring/models/</code> \u76ee\u9304\u4e2d\u3002</p>"},{"location":"guides/offline-quickstart_zh/#3","title":"\u6b65\u9a5f 3: \u555f\u7528\u96e2\u7dda\u6a21\u5f0f","text":"<p>\u60a8\u53ef\u4ee5\u5168\u57df\u555f\u7528\u96e2\u7dda\u6a21\u5f0f\uff0c\u6216\u50c5\u91dd\u5c0d\u7576\u524d\u5de5\u4f5c\u968e\u6bb5\u555f\u7528\u3002</p> <p>\u9078\u9805 A: CLI \u5207\u63db (\u6301\u4e45\u5316) <pre><code>boring offline enable\n</code></pre></p> <p>\u9078\u9805 B: \u74b0\u5883\u8b8a\u6578 (\u66ab\u6642\u6027) <pre><code>export BORING_OFFLINE_MODE=true\nboring start\n</code></pre></p>"},{"location":"guides/offline-quickstart_zh/#2_1","title":"2. \u9a57\u8b49\u72c0\u614b","text":"<p>\u57f7\u884c doctor \u547d\u4ee4\u4f86\u9a57\u8b49\u60a8\u7684\u96e2\u7dda\u72c0\u614b\u3002</p> <pre><code>boring doctor\n</code></pre> <p>\u8f38\u51fa\u61c9\u986f\u793a\uff1a <pre><code>5. Offline Mode\n  - Status: ENABLED\n\n6. Local LLM Models\n  - Models: 1 available\n    - llama-3-8b-instruct-q4_k_m.gguf\n</code></pre></p>"},{"location":"guides/offline-quickstart_zh/#3_1","title":"3. \u5de5\u4f5c\u539f\u7406","text":"<p>\u7576\u96e2\u7dda\u6a21\u5f0f\u555f\u7528\u6642\uff1a</p> <ol> <li>\u7db2\u8def\u963b\u65b7: \u6240\u6709\u5916\u90e8 API \u547c\u53eb (Gemini, OpenAI, Anthropic) \u90fd\u6703\u88ab\u963b\u65b7\u3002</li> <li>\u672c\u5730\u63a8\u7406: Agent \u6703\u81ea\u52d5\u5c07 LLM \u8acb\u6c42\u8def\u7531\u5230\u60a8\u7684\u672c\u5730 GGUF \u6a21\u578b\u3002</li> <li>\u672c\u5730\u5de5\u5177:\u50c5\u52a0\u8f09\u672c\u5730\u5de5\u5177 (\u6a94\u6848\u64cd\u4f5c, \u672c\u5730 RAG, Shell)\u3002Web \u641c\u7d22\u5de5\u5177\u5c07\u88ab\u7981\u7528\u3002</li> <li>\u672c\u5730 RAG: \u67e5\u8a62\u4f7f\u7528 <code>SentenceTransformers</code> (\u672c\u5730\u5d4c\u5165) \u548c <code>ChromaDB</code> (\u672c\u5730\u5411\u91cf\u5eab)\u3002</li> </ol>"},{"location":"guides/offline-quickstart_zh/#_1","title":"\u964d\u7d1a\u884c\u70ba","text":"<p>\u5982\u679c\u555f\u7528\u4e86\u96e2\u7dda\u6a21\u5f0f\u4f46\u672a\u52a0\u8f09\u4efb\u4f55\u672c\u5730\u6a21\u578b\uff0c\u7cfb\u7d71\u5c07\u6703\u512a\u96c5\u5730\u5831\u932f\uff0c\u5efa\u8b70\u60a8\u57f7\u884c <code>boring model download</code>\u3002</p>"},{"location":"guides/offline-quickstart_zh/#4","title":"4. \u6548\u80fd\u8abf\u6821","text":"<p>\u5728\u60a8\u7684\u5c08\u6848\u4e2d\u5efa\u7acb <code>.env</code> \u6a94\u6848\u4ee5\u8abf\u6574\u6548\u80fd\uff1a</p> <pre><code># .env\nBORING_LOCAL_MODEL_PATH=~/.boring/models/my-custom-model.gguf\nBORING_LOCAL_CTX_WINDOW=8192\nBORING_LOCAL_GPU_LAYERS=35  # \u5c07\u5c64\u8f49\u79fb\u81f3 GPU \u904b\u7b97\n</code></pre> <p>\u6700\u5f8c\u66f4\u65b0: V14.0.0</p>"},{"location":"guides/plugins/","title":"Plugin Development Guide","text":"<p>Extend Boring's capabilities with custom Python tools.</p>"},{"location":"guides/plugins/#overview","title":"\ud83d\udee0\ufe0f Overview","text":"<p>Boring features a dynamic plugin system that allows you to register custom Python functions as AI-accessible tools. Plugins can be project-specific or global.</p>"},{"location":"guides/plugins/#plugin-locations","title":"Plugin Locations","text":"<ol> <li>Project-Local: <code>{project_root}/.boring_plugins/</code></li> <li>User-Global: <code>~/.boring/plugins/</code></li> </ol>"},{"location":"guides/plugins/#creating-a-plugin","title":"\ud83d\udcdd Creating a Plugin","text":"<p>To create a plugin, define a Python function and decorate it with <code>@plugin</code>.</p>"},{"location":"guides/plugins/#example-my_tool_pluginpy","title":"Example: <code>my_tool_plugin.py</code>","text":"<pre><code>from boring.plugins.loader import plugin\n\n@plugin(\n    name=\"my_custom_linter\",\n    description=\"Custom linting rules for specific business logic\",\n    version=\"1.0.0\",\n    author=\"Vibe Coder\",\n    tags=[\"lint\", \"custom\"]\n)\ndef my_custom_linter(file_path: str) -&gt; dict:\n    \"\"\"\n    Analyzes a file for custom patterns.\n    \"\"\"\n    # Your logic here\n    if \"todo\" in open(file_path).read().lower():\n        return {\"passed\": False, \"issues\": [\"Found lingering TODOs\"]}\n\n    return {\"passed\": True, \"issues\": []}\n</code></pre>"},{"location":"guides/plugins/#loading-and-hot-reload","title":"\ud83d\ude80 Loading and Hot-Reload","text":"<ul> <li>Discovery: Any <code>.py</code> file or files ending in <code>_plugin.py</code> in the search paths are automatically discovered.</li> <li>Hot-Reload: Boring monitors plugin files. If you edit a plugin while the loop is running, it will automatically reload the new logic for the next iteration.</li> </ul>"},{"location":"guides/plugins/#using-plugins","title":"\ud83d\udd0d Using Plugins","text":"<p>Once loaded, your plugin becomes available to the AI agent just like built-in tools. The agent will discover it via semantic search or tool listing.</p> <p>To list currently loaded plugins: <pre><code>boring list-plugins\n</code></pre></p>"},{"location":"guides/plugins/#security-safety","title":"\ud83d\udee1\ufe0f Security &amp; Safety","text":"<p>Plugins, especially those generated via <code>boring_synth_tool</code>, are subject to strict security constraints:</p> <ol> <li>AST-based Sandbox: All synthesized tools are validated using a <code>SynthesizedToolValidator</code>.</li> <li>Forbidden Operations: To prevent destructive actions, the sandbox blocks:<ul> <li>Forbidden Imports: <code>os</code>, <code>sys</code>, <code>subprocess</code>, <code>shutil</code>, <code>socket</code></li> <li>Forbidden Functions: <code>exec()</code>, <code>eval()</code>, <code>open()</code>, <code>compile()</code></li> </ul> </li> <li>Shadow Mode Binding: All plugin executions are monitored by Shadow Mode if enabled, providing a secondary defense against unintended file modifications.</li> </ol>"},{"location":"guides/plugins/#best-practices","title":"\ud83d\udca1 Best Practices","text":"<ol> <li>Type Hints: Always use type hints for arguments to help the LLM understand the input.</li> <li>Docstrings: Provide clear, descriptive docstrings as they are used by the AI to decide when to call the tool.</li> <li>Return Format: Return structured data (dict) rather than just strings for better agent processing.</li> </ol>"},{"location":"guides/plugins_zh/","title":"\u63d2\u4ef6\u958b\u767c\u6307\u5357","text":"<p>\u4f7f\u7528\u81ea\u5b9a\u7fa9 Python \u5de5\u5177\u64f4\u5145 Boring \u7684\u529f\u80fd\u3002</p> <p>\u89e3\u6c7a\u98a8\u96aa: \u529f\u80fd\u81a8\u8139 - \u9f13\u52f5\u5916\u90e8\u63d2\u4ef6\u800c\u975e\u6838\u5fc3\u529f\u80fd\u64f4\u5c55</p>"},{"location":"guides/plugins_zh/#_2","title":"\ud83d\udee0\ufe0f \u6982\u8ff0","text":"<p>Boring \u5177\u5099\u52d5\u614b\u63d2\u4ef6\u7cfb\u7d71\uff0c\u5141\u8a31\u60a8\u5c07\u81ea\u5b9a\u7fa9 Python \u51fd\u6578\u8a3b\u518a\u70ba AI \u53ef\u547c\u53eb\u7684\u5de5\u5177\u3002\u63d2\u4ef6\u53ef\u4ee5\u662f\u5c08\u6848\u5c08\u7528\u6216\u5168\u57df\u901a\u7528\u7684\u3002</p>"},{"location":"guides/plugins_zh/#_3","title":"\u70ba\u4ec0\u9ebc\u4f7f\u7528\u63d2\u4ef6\uff1f","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         \u63d2\u4ef6 vs \u6838\u5fc3\u529f\u80fd                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502   \u2502       \ud83c\udfaf \u6838\u5fc3\u529f\u80fd            \u2502   \u2502       \ud83d\udd0c \u63d2\u4ef6                \u2502         \u2502\n\u2502   \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524   \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524         \u2502\n\u2502   \u2502 \u2022 \u6240\u6709\u7528\u6236\u90fd\u9700\u8981             \u2502   \u2502 \u2022 \u7279\u5b9a\u5834\u666f\u4f7f\u7528               \u2502         \u2502\n\u2502   \u2502 \u2022 \u7a69\u5b9a\u7684 API                \u2502   \u2502 \u2022 \u5be6\u9a57\u6027\u529f\u80fd                 \u2502         \u2502\n\u2502   \u2502 \u2022 \u7531\u6838\u5fc3\u5718\u968a\u7dad\u8b77            \u2502   \u2502 \u2022 \u793e\u5340\u6216\u500b\u4eba\u7dad\u8b77             \u2502         \u2502\n\u2502   \u2502 \u2022 \u56b4\u683c\u7684\u8cea\u91cf\u8981\u6c42            \u2502   \u2502 \u2022 \u5feb\u901f\u8fed\u4ee3                   \u2502         \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/plugins_zh/#_4","title":"\u63d2\u4ef6\u5b58\u653e\u4f4d\u7f6e","text":"<ol> <li>\u5c08\u6848\u672c\u5730\uff1a<code>{project_root}/.boring_plugins/</code></li> <li>\u4f7f\u7528\u8005\u5168\u57df\uff1a<code>~/.boring/plugins/</code></li> </ol>"},{"location":"guides/plugins_zh/#_5","title":"\ud83d\udcdd \u5efa\u7acb\u63d2\u4ef6","text":"<p>\u8981\u5efa\u7acb\u63d2\u4ef6\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b Python \u51fd\u6578\u4e26\u4f7f\u7528 <code>@plugin</code> \u88dd\u98fe\u5668\u3002</p>"},{"location":"guides/plugins_zh/#my_tool_pluginpy","title":"\u57fa\u672c\u7bc4\u4f8b\uff1a<code>my_tool_plugin.py</code>","text":"<pre><code>from boring.plugins.loader import plugin\n\n@plugin(\n    name=\"my_custom_linter\",\n    description=\"\u91dd\u5c0d\u7279\u5b9a\u696d\u52d9\u908f\u8f2f\u7684\u81ea\u5b9a\u7fa9 Lint \u898f\u5247\",\n    version=\"1.0.0\",\n    author=\"Vibe Coder\",\n    tags=[\"lint\", \"custom\"]\n)\ndef my_custom_linter(file_path: str) -&gt; dict:\n    \"\"\"\n    \u5206\u6790\u6a94\u6848\u4e2d\u662f\u5426\u5b58\u5728\u81ea\u5b9a\u7fa9\u6a21\u5f0f\u3002\n    \"\"\"\n    # \u5728\u9019\u88e1\u5be6\u4f5c\u60a8\u7684\u908f\u8f2f\n    content = open(file_path).read().lower()\n    if \"todo\" in content:\n        return {\"passed\": False, \"issues\": [\"\u767c\u73fe\u5c1a\u672a\u8655\u7406\u7684 TODO\"]}\n\n    return {\"passed\": True, \"issues\": []}\n</code></pre>"},{"location":"guides/plugins_zh/#_6","title":"\ud83c\udfd7\ufe0f \u9032\u968e\u63d2\u4ef6\u67b6\u69cb","text":""},{"location":"guides/plugins_zh/#_7","title":"\u5e36\u6709\u914d\u7f6e\u7684\u63d2\u4ef6","text":"<pre><code>from pathlib import Path\nfrom typing import Optional\nfrom boring.plugins.loader import plugin\n\n# \u63d2\u4ef6\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u914d\u7f6e\nPLUGIN_CONFIG = {\n    \"max_line_length\": 120,\n    \"ignored_patterns\": [\"*.test.py\", \"*_mock.py\"],\n}\n\n@plugin(\n    name=\"configurable_linter\",\n    description=\"\u53ef\u914d\u7f6e\u7684\u4ee3\u78bc\u98a8\u683c\u6aa2\u67e5\u5668\",\n    version=\"1.0.0\",\n    author=\"Your Name\",\n    tags=[\"lint\", \"configurable\"]\n)\ndef configurable_linter(\n    file_path: str,\n    max_line_length: Optional[int] = None,\n) -&gt; dict:\n    \"\"\"\n    \u6839\u64da\u914d\u7f6e\u6aa2\u67e5\u4ee3\u78bc\u98a8\u683c\u3002\n\n    Args:\n        file_path: \u8981\u6aa2\u67e5\u7684\u6a94\u6848\u8def\u5f91\n        max_line_length: \u8986\u84cb\u9ed8\u8a8d\u884c\u9577\u9650\u5236\n\n    Returns:\n        \u5305\u542b\u6aa2\u67e5\u7d50\u679c\u7684\u5b57\u5178\n    \"\"\"\n    line_limit = max_line_length or PLUGIN_CONFIG[\"max_line_length\"]\n\n    issues = []\n    with open(file_path, \"r\", encoding=\"utf-8\") as f:\n        for i, line in enumerate(f, 1):\n            if len(line.rstrip()) &gt; line_limit:\n                issues.append(f\"Line {i}: exceeds {line_limit} characters\")\n\n    return {\n        \"status\": \"PASS\" if not issues else \"FAIL\",\n        \"file\": file_path,\n        \"issues\": issues,\n        \"config_used\": {\"max_line_length\": line_limit},\n    }\n</code></pre>"},{"location":"guides/plugins_zh/#_8","title":"\u5e36\u6709\u5916\u90e8\u4f9d\u8cf4\u7684\u63d2\u4ef6","text":"<pre><code>from boring.plugins.loader import plugin\n\n# \u5b89\u5168\u5730\u5c0e\u5165\u53ef\u9078\u4f9d\u8cf4\ntry:\n    import pandas as pd\n    PANDAS_AVAILABLE = True\nexcept ImportError:\n    PANDAS_AVAILABLE = False\n\n@plugin(\n    name=\"csv_analyzer\",\n    description=\"\u5206\u6790 CSV \u6a94\u6848\u7684\u7d71\u8a08\u8cc7\u8a0a (\u9700\u8981 pandas)\",\n    version=\"1.0.0\",\n    author=\"Data Team\",\n    tags=[\"data\", \"csv\", \"analysis\"]\n)\ndef csv_analyzer(file_path: str) -&gt; dict:\n    \"\"\"\n    \u5206\u6790 CSV \u6a94\u6848\u4e26\u8fd4\u56de\u7d71\u8a08\u6458\u8981\u3002\n\n    \u6ce8\u610f\uff1a\u6b64\u63d2\u4ef6\u9700\u8981 pandas \u5eab\u3002\n    \u5b89\u88dd\uff1apip install pandas\n    \"\"\"\n    if not PANDAS_AVAILABLE:\n        return {\n            \"status\": \"ERROR\",\n            \"error\": \"pandas not installed. Run: pip install pandas\",\n        }\n\n    try:\n        df = pd.read_csv(file_path)\n        return {\n            \"status\": \"SUCCESS\",\n            \"rows\": len(df),\n            \"columns\": list(df.columns),\n            \"dtypes\": df.dtypes.to_dict(),\n            \"null_counts\": df.isnull().sum().to_dict(),\n        }\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"guides/plugins_zh/#llm","title":"\u5e36\u6709 LLM \u8abf\u7528\u7684\u63d2\u4ef6","text":"<pre><code>from boring.plugins.loader import plugin\nfrom boring.config import settings\n\n@plugin(\n    name=\"smart_summarizer\",\n    description=\"\u4f7f\u7528 LLM \u667a\u80fd\u6458\u8981\u6587\u4ef6\",\n    version=\"1.0.0\",\n    author=\"AI Team\",\n    tags=[\"ai\", \"summarization\"]\n)\ndef smart_summarizer(file_path: str, max_words: int = 100) -&gt; dict:\n    \"\"\"\n    \u4f7f\u7528 AI \u751f\u6210\u6587\u4ef6\u6458\u8981\u3002\n\n    Args:\n        file_path: \u8981\u6458\u8981\u7684\u6a94\u6848\n        max_words: \u6458\u8981\u6700\u5927\u5b57\u6578\n    \"\"\"\n    from boring.llm import get_llm_provider\n\n    try:\n        with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            content = f.read()\n\n        provider = get_llm_provider()\n        if not provider.is_available:\n            return {\"status\": \"ERROR\", \"error\": \"No LLM provider available\"}\n\n        prompt = f\"\u8acb\u7528\u4e0d\u8d85\u904e {max_words} \u5b57\u6458\u8981\u4ee5\u4e0b\u5167\u5bb9\uff1a\\n\\n{content[:5000]}\"\n        summary, success = provider.generate(prompt)\n\n        if success:\n            return {\"status\": \"SUCCESS\", \"summary\": summary}\n        else:\n            return {\"status\": \"ERROR\", \"error\": summary}\n\n    except Exception as e:\n        return {\"status\": \"ERROR\", \"error\": str(e)}\n</code></pre>"},{"location":"guides/plugins_zh/#hot-reload","title":"\ud83d\ude80 \u8f09\u5165\u8207\u71b1\u91cd\u8f09 (Hot-Reload)","text":"<ul> <li>\u81ea\u52d5\u767c\u73fe\uff1a\u4f4d\u65bc\u641c\u5c0b\u8def\u5f91\u4e2d\u7684\u4efb\u4f55 <code>.py</code> \u6216\u4ee5 <code>_plugin.py</code> \u7d50\u5c3e\u7684\u6a94\u6848\u90fd\u6703\u88ab\u81ea\u52d5\u767c\u73fe\u3002</li> <li>\u71b1\u91cd\u8f09\uff1aBoring \u6703\u76e3\u63a7\u63d2\u4ef6\u6a94\u6848\u3002\u5982\u679c\u60a8\u5728\u5faa\u74b0\u57f7\u884c\u671f\u9593\u4fee\u6539\u63d2\u4ef6\uff0c\u7cfb\u7d71\u6703\u5728\u4e0b\u4e00\u6b21\u8fed\u4ee3\u6642\u81ea\u52d5\u8f09\u5165\u65b0\u908f\u8f2f\u3002</li> </ul>"},{"location":"guides/plugins_zh/#_9","title":"\ud83d\udd0d \u4f7f\u7528\u63d2\u4ef6","text":"<p>\u8f09\u5165\u5f8c\uff0c\u60a8\u7684\u63d2\u4ef6\u6703\u50cf\u5167\u5efa\u5de5\u5177\u4e00\u6a23\u63d0\u4f9b\u7d66 AI \u4ee3\u7406\u4f7f\u7528\u3002\u4ee3\u7406\u6703\u900f\u904e\u8a9e\u7fa9\u641c\u5c0b\u6216\u5de5\u5177\u5217\u8868\u767c\u73fe\u5b83\u3002</p>"},{"location":"guides/plugins_zh/#cli","title":"CLI \u547d\u4ee4","text":"<pre><code># \u5217\u51fa\u76ee\u524d\u5df2\u8f09\u5165\u7684\u63d2\u4ef6\nboring list-plugins\n\n# \u91cd\u65b0\u8f09\u5165\u6240\u6709\u63d2\u4ef6\nboring reload-plugins\n\n# \u57f7\u884c\u7279\u5b9a\u63d2\u4ef6\nboring run-plugin my_custom_linter --file-path src/main.py\n</code></pre>"},{"location":"guides/plugins_zh/#mcp","title":"MCP \u5de5\u5177","text":"<pre><code>boring_list_plugins    # \u5217\u51fa\u63d2\u4ef6\nboring_reload_plugins  # \u91cd\u65b0\u8f09\u5165\nboring_run_plugin      # \u57f7\u884c\u63d2\u4ef6\n</code></pre>"},{"location":"guides/plugins_zh/#_10","title":"\ud83e\uddea \u6e2c\u8a66\u63d2\u4ef6","text":""},{"location":"guides/plugins_zh/#_11","title":"\u55ae\u5143\u6e2c\u8a66\u7bc4\u4f8b","text":"<pre><code># tests/plugins/test_my_plugin.py\nimport pytest\nfrom pathlib import Path\n\n# \u76f4\u63a5\u5c0e\u5165\u63d2\u4ef6\u51fd\u6578\nfrom my_tool_plugin import my_custom_linter\n\nclass TestMyCustomLinter:\n    def test_pass_no_todo(self, tmp_path):\n        \"\"\"\u6e2c\u8a66\u6c92\u6709 TODO \u6642\u901a\u904e\"\"\"\n        test_file = tmp_path / \"clean.py\"\n        test_file.write_text(\"def hello(): pass\")\n\n        result = my_custom_linter(str(test_file))\n\n        assert result[\"passed\"] is True\n        assert result[\"issues\"] == []\n\n    def test_fail_with_todo(self, tmp_path):\n        \"\"\"\u6e2c\u8a66\u6709 TODO \u6642\u5931\u6557\"\"\"\n        test_file = tmp_path / \"dirty.py\"\n        test_file.write_text(\"# TODO: fix this\")\n\n        result = my_custom_linter(str(test_file))\n\n        assert result[\"passed\"] is False\n        assert len(result[\"issues\"]) &gt; 0\n</code></pre>"},{"location":"guides/plugins_zh/#security-safety","title":"\ud83d\udee1\ufe0f \u5b89\u5168\u8207\u9632\u8b77 (Security &amp; Safety)","text":"<p>\u63d2\u4ef6\uff08\u7279\u5225\u662f\u900f\u904e <code>boring_synth_tool</code> \u751f\u6210\u7684\u5de5\u5177\uff09\u53d7\u5230\u56b4\u683c\u7684\u5b89\u5168\u7d04\u675f\uff1a</p> <ol> <li>AST \u6c99\u7bb1\u9a57\u8b49\uff1a\u6240\u6709\u5373\u6642\u5408\u6210\u7684\u5de5\u5177\u90fd\u6703\u901a\u904e <code>SynthesizedToolValidator</code> \u9032\u884c\u8a9e\u6cd5\u6a39\u6383\u63cf\u3002</li> <li>\u7981\u7528\u64cd\u4f5c\uff1a\u70ba\u4e86\u9632\u6b62\u7834\u58de\u6027\u884c\u70ba\uff0c\u6c99\u7bb1\u6703\u5c01\u9396\uff1a<ul> <li>\u7981\u6b62\u5c0e\u5165\uff1a<code>os</code>, <code>sys</code>, <code>subprocess</code>, <code>shutil</code>, <code>socket</code></li> <li>\u7981\u6b62\u51fd\u6578\uff1a<code>exec()</code>, <code>eval()</code>, <code>open()</code>, <code>compile()</code></li> </ul> </li> <li>\u5f71\u5b50\u6a21\u5f0f\u7d81\u5b9a\uff1a\u6240\u6709\u63d2\u4ef6\u57f7\u884c\u90fd\u53d7 \u5f71\u5b50\u6a21\u5f0f (Shadow Mode) \u76e3\u63a7\uff0c\u70ba\u6a94\u6848\u64cd\u4f5c\u63d0\u4f9b\u7b2c\u4e8c\u5c64\u9632\u7dda\u3002</li> </ol>"},{"location":"guides/plugins_zh/#_12","title":"\ud83d\udce6 \u767c\u5e03\u63d2\u4ef6","text":""},{"location":"guides/plugins_zh/#python","title":"\u4f5c\u70ba Python \u5305\u767c\u5e03","text":"<pre><code># setup.py \u6216 pyproject.toml\n[project]\nname = \"boring-plugin-mytools\"\nversion = \"1.0.0\"\ndependencies = [\"boring-aicoding&gt;=11.0.0\"]\n\n[project.entry-points.\"boring.plugins\"]\nmy_tool = \"boring_plugin_mytools:my_tool\"\n</code></pre>"},{"location":"guides/plugins_zh/#_13","title":"\u793e\u5340\u63d2\u4ef6\u5009\u5eab","text":"<p>\u6211\u5011\u6b61\u8fce\u793e\u5340\u8ca2\u737b\u63d2\u4ef6\uff01\u8acb\uff1a 1. \u5275\u5efa\u7368\u7acb\u7684 Git \u5009\u5eab 2. \u9075\u5faa\u547d\u540d\u7d04\u5b9a\uff1a<code>boring-plugin-{name}</code> 3. \u63d0\u4ea4 Issue \u5c07\u60a8\u7684\u63d2\u4ef6\u6dfb\u52a0\u5230\u5b98\u65b9\u5217\u8868</p>"},{"location":"guides/plugins_zh/#_14","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10","text":"<ol> <li>\u578b\u5225\u63d0\u793a (Type Hints)\uff1a\u52d9\u5fc5\u70ba\u53c3\u6578\u63d0\u4f9b\u578b\u5225\u63d0\u793a\uff0c\u9019\u80fd\u5e6b\u52a9 LLM \u7406\u89e3\u8f38\u5165\u8981\u6c42\u3002</li> <li>\u6587\u6a94\u5b57\u4e32 (Docstrings)\uff1a\u63d0\u4f9b\u6e05\u6670\u3001\u5177\u63cf\u8ff0\u6027\u7684\u6587\u6a94\u5b57\u4e32\uff0c\u56e0\u70ba AI \u4f9d\u9760\u9019\u4e9b\u8cc7\u8a0a\u6c7a\u5b9a\u4f55\u6642\u547c\u53eb\u8a72\u5de5\u5177\u3002</li> <li>\u56de\u50b3\u683c\u5f0f\uff1a\u56de\u50b3\u7d50\u69cb\u5316\u6578\u64da\uff08dict\uff09\u800c\u975e\u7d14\u5b57\u4e32\uff0c\u4ee5\u4fbf\u4ee3\u7406\u9032\u884c\u5f8c\u7e8c\u8655\u7406\u3002</li> <li>\u932f\u8aa4\u8655\u7406\uff1a\u7e3d\u662f\u8fd4\u56de <code>{\"status\": \"ERROR\", \"error\": \"...\"}</code> \u800c\u4e0d\u662f\u62cb\u51fa\u7570\u5e38\u3002</li> <li>\u53ef\u9078\u4f9d\u8cf4\uff1a\u4f7f\u7528 try/except \u5c0e\u5165\u53ef\u9078\u4f9d\u8cf4\uff0c\u63d0\u4f9b\u53cb\u597d\u7684\u932f\u8aa4\u8a0a\u606f\u3002</li> <li>\u7248\u672c\u7ba1\u7406\uff1a\u4f7f\u7528\u8a9e\u7fa9\u5316\u7248\u672c\u865f\u6a19\u8a18\u60a8\u7684\u63d2\u4ef6\u3002</li> </ol>"},{"location":"guides/plugins_zh/#_15","title":"\ud83d\udd17 \u76f8\u95dc\u6587\u6a94","text":"<ul> <li>\u529f\u80fd\u77e9\u9663 - \u4e86\u89e3\u6838\u5fc3\u529f\u80fd vs \u63d2\u4ef6\u7684\u5b9a\u4f4d</li> <li>LLM \u9069\u914d\u5668\u6307\u5357 - \u5982\u679c\u60a8\u7684\u63d2\u4ef6\u9700\u8981 LLM</li> <li>\u8ca2\u737b\u6307\u5357 - \u5982\u679c\u60a8\u60f3\u5c07\u63d2\u4ef6\u8ca2\u737b\u7d66\u6838\u5fc3</li> </ul>"},{"location":"guides/pro-tips/","title":"Pro Tips &amp; Best Practices","text":"<p>Expert-level tips for maximizing productivity with Boring. From beginners to senior developers.</p>"},{"location":"guides/pro-tips/#for-beginners","title":"\ud83c\udfaf For Beginners","text":""},{"location":"guides/pro-tips/#start-with-vibe-coding","title":"Start with Vibe Coding","text":"<pre><code>You: /vibe_start Build a to-do app with React\nBoring: Let me ask some questions first...\n       1. Do you want authentication?\n       2. Local storage or database?\n       3. Any specific styling framework?\n</code></pre> <p>Why it works: Vibe start guides you through requirements before coding.</p>"},{"location":"guides/pro-tips/#use-quick-fix-often","title":"Use Quick Fix Often","text":"<p><pre><code>/quick_fix\n</code></pre> Automatically fixes all linting errors, import sorting, and formatting issues.</p>"},{"location":"guides/pro-tips/#let-ai-read-your-errors","title":"Let AI Read Your Errors","text":"<pre><code>You: I'm getting \"ModuleNotFoundError: No module named 'foo'\"\nBoring: Encountered \u274c ModuleNotFoundError.\n        Running Active Recall...\n        Found pattern: \"Missing dependency\"\n        Solution: pip install foo\n</code></pre>"},{"location":"guides/pro-tips/#for-intermediate-developers","title":"\u26a1 For Intermediate Developers","text":""},{"location":"guides/pro-tips/#tip-1-speckit-workflow","title":"Tip 1: SpecKit Workflow","text":"<p>Before writing code, use the 5-step specification workflow:</p> <pre><code>graph LR\n    A[1. Constitution] --&gt; B[2. Clarify]\n    B --&gt; C[3. Plan]\n    C --&gt; D[4. Checklist]\n    D --&gt; E[5. Analyze]\n</code></pre> <p>\"Measure Twice, Cut Once\" - AI implementation!</p>"},{"location":"guides/pro-tips/#tip-2-use-hybrid-mode","title":"Tip 2: Use Hybrid Mode","text":"Task Type Recommended Approach Small bug fixes <code>boring_apply_patch</code> New features <code>boring start</code> + SpecKit Code review <code>boring_code_review</code> Refactoring <code>boring_checkpoint</code> + <code>boring run</code>"},{"location":"guides/pro-tips/#tip-3-incremental-verification","title":"Tip 3: Incremental Verification","text":"<pre><code># Only verify changed files (fast!)\nboring verify --incremental\n\n# Force full verification before release\nboring verify --force --level FULL\n</code></pre>"},{"location":"guides/pro-tips/#tip-4-accumulate-knowledge","title":"Tip 4: Accumulate Knowledge","text":"<pre><code>Develop \u2192 AI fixes errors \u2192 Recorded in .boring/memory\nProject ends \u2192 boring_learn \u2192 Patterns saved to .boring/brain\nNext project \u2192 AI auto-references past solutions!\n</code></pre>"},{"location":"guides/pro-tips/#for-senior-developers","title":"\ud83d\ude80 For Senior Developers","text":""},{"location":"guides/pro-tips/#tip-5-custom-quality-rules","title":"Tip 5: Custom Quality Rules","text":"<p>Create <code>.boring.toml</code> with project-specific settings:</p> <pre><code>[boring.quality_gates]\nmin_coverage = 80              # High bar for production\nmax_complexity = 10            # Keep it simple\nmax_file_lines = 300           # Smaller files\n\n[boring.linter_configs]\nruff_line_length = 100\nruff_ignore = [\"E501\", \"W503\"]\n\n[boring.prompts]\njudge_system = \"\"\"\nYou are a senior Python architect focused on:\n- SOLID principles\n- Clean architecture\n- Performance optimization\n\"\"\"\n</code></pre>"},{"location":"guides/pro-tips/#tip-6-multi-project-rag","title":"Tip 6: Multi-Project RAG","text":"<pre><code>boring_rag_search(\n    query=\"authentication middleware\",\n    additional_roots=[\n        \"/path/to/shared-libs\",\n        \"/path/to/other-project\"\n    ]\n)\n</code></pre> <p>Search across multiple codebases simultaneously.</p>"},{"location":"guides/pro-tips/#tip-7-contrastive-evaluation","title":"Tip 7: Contrastive Evaluation","text":"<pre><code># Compare two implementations\nboring_evaluate(\n    level=\"PAIRWISE\",\n    target_a=\"src/auth_v1.py\",\n    target_b=\"src/auth_v2.py\"\n)\n</code></pre> <p>AI judges which implementation is better, with bias mitigation.</p>"},{"location":"guides/pro-tips/#tip-8-security-sandbox-with-shadow-mode","title":"Tip 8: Security Sandbox with Shadow Mode","text":"<pre><code># Set STRICT mode for production\nboring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n</code></pre>"},{"location":"guides/pro-tips/#cognitive-evolution-v112","title":"\ud83e\udde0 Cognitive Evolution (V11.2)","text":""},{"location":"guides/pro-tips/#tip-9-levering-deep-thinking","title":"Tip 9: Levering Deep Thinking","text":"<p>Use \"Deep Thinking\" for architectural decisions or complex refactors.  <pre><code>\"Analyze this architecture using Deep Thinking and suggest 3 refactoring paths.\"\n</code></pre></p>"},{"location":"guides/pro-tips/#tip-10-critical-thinking-audit","title":"Tip 10: Critical Thinking Audit","text":"<p>Use \"Critical Thinking\" for security reviews or logic verification. <pre><code>\"Perform a Critical Thinking audit on this payment flow for potential race conditions.\"\n</code></pre></p>"},{"location":"guides/pro-tips/#performance-tips","title":"\ud83d\udd27 Performance Tips","text":""},{"location":"guides/pro-tips/#tip-14-warm-the-cache","title":"Tip 14: Warm the Cache","text":"<pre><code># First run builds cache\nboring verify\n\n# Subsequent runs are fast\nboring verify  # Uses cache\n</code></pre>"},{"location":"guides/pro-tips/#tip-15-parallel-verification","title":"Tip 15: Parallel Verification","text":"<pre><code># .boring.toml\n[boring.performance]\nparallel_workers = 8  # Use all CPU cores\n</code></pre>"},{"location":"guides/pro-tips/#tip-16-selective-rag-indexing","title":"Tip 16: Selective RAG Indexing","text":"<pre><code># Only index specific directories\nboring rag index --paths \"src/\" \"lib/\"\n</code></pre>"},{"location":"guides/pro-tips/#security-tips","title":"\ud83d\udee1\ufe0f Security Tips","text":""},{"location":"guides/pro-tips/#tip-17-always-use-shadow-mode-in-production","title":"Tip 17: Always Use Shadow Mode in Production","text":"<pre><code># smithery.yaml or MCP config\nSHADOW_MODE_LEVEL: \"STRICT\"\nBORING_ALLOW_DANGEROUS: false\n</code></pre>"},{"location":"guides/pro-tips/#tip-18-protected-file-operations","title":"Tip 18: Protected File Operations","text":"<pre><code># Use boring_write_file instead of native write_file\nboring_write_file(path=\"config.py\", content=\"...\")\n</code></pre>"},{"location":"guides/pro-tips/#tip-19-secret-scanning","title":"Tip 19: Secret Scanning","text":"<pre><code># Scan before commit\nboring_security_scan --scan-type secrets\n</code></pre>"},{"location":"guides/pro-tips/#boringdone-notifications","title":"\ud83d\udd14 BoringDone Notifications","text":""},{"location":"guides/pro-tips/#tip-20-completion-notifications-v122","title":"Tip 20: Completion Notifications (V12.2)","text":"<p>Get notified when AI tasks complete, so you don't have to watch the screen!</p> <pre><code># AI automatically notifies you when a task is done\nboring_done(task_name=\"Code Review\", success=True)\n</code></pre> <p>Automatic Integrations: - \u2705 <code>FlowEngine</code> completion - \u2705 <code>AgentLoop</code> completion - \u2705 <code>boring verify</code> completion</p>"},{"location":"guides/pro-tips/#see-also","title":"See Also","text":"<ul> <li>Quick Tutorials - Step-by-step guides</li> <li>MCP Tools - Tool reference</li> <li>Quality Gates - CI/CD setup</li> </ul>"},{"location":"guides/pro-tips_zh/","title":"\u5c08\u696d\u6280\u5de7\u8207\u6700\u4f73\u5be6\u8e10 (Pro Tips)","text":"<p>\u6700\u5927\u5316 Boring \u751f\u7522\u529b\u7684\u5c08\u5bb6\u7d1a\u6280\u5de7\u3002\u5f9e\u521d\u5b78\u8005\u5230\u8cc7\u6df1\u958b\u767c\u8005\u3002</p>"},{"location":"guides/pro-tips_zh/#_1","title":"\ud83c\udfaf \u521d\u5b78\u8005","text":""},{"location":"guides/pro-tips_zh/#vibe-coding","title":"\u5f9e Vibe Coding \u958b\u59cb","text":"<pre><code>\u4f60\uff1a/vibe_start \u5efa\u7acb\u4e00\u500b React \u5f85\u8fa6\u4e8b\u9805\u61c9\u7528\nBoring\uff1a\u8b93\u6211\u5148\u554f\u5e7e\u500b\u554f\u984c...\n       1. \u9700\u8981\u8a8d\u8b49\u529f\u80fd\u55ce\uff1f\n       2. \u672c\u5730\u5132\u5b58\u9084\u662f\u8cc7\u6599\u5eab\uff1f\n       3. \u6709\u7279\u5b9a\u7684\u6a23\u5f0f\u6846\u67b6\u55ce\uff1f\n</code></pre> <p>\u70ba\u4ec0\u9ebc\u6709\u6548\uff1aVibe start \u5728\u7de8\u78bc\u524d\u5f15\u5c0e\u4f60\u5b8c\u6210\u9700\u6c42\u3002</p>"},{"location":"guides/pro-tips_zh/#quick-fix","title":"\u7d93\u5e38\u4f7f\u7528 Quick Fix","text":"<p><pre><code>/quick_fix\n</code></pre> \u81ea\u52d5\u4fee\u5fa9\u6240\u6709 linting \u932f\u8aa4\u3001import \u6392\u5e8f\u548c\u683c\u5f0f\u554f\u984c\u3002</p>"},{"location":"guides/pro-tips_zh/#ai","title":"\u8b93 AI \u95b1\u8b80\u4f60\u7684\u932f\u8aa4","text":"<pre><code>\u4f60\uff1a\u6211\u9047\u5230 \"ModuleNotFoundError: No module named 'foo'\"\nBoring\uff1a\u9047\u5230 \u274c ModuleNotFoundError\u3002\n        \u57f7\u884c Active Recall...\n        \u767c\u73fe\u6a21\u5f0f\uff1a\u300c\u7f3a\u5c11\u4f9d\u8cf4\u300d\n        \u89e3\u6c7a\u65b9\u6848\uff1apip install foo\n</code></pre>"},{"location":"guides/pro-tips_zh/#_2","title":"\u26a1 \u4e2d\u7d1a\u958b\u767c\u8005","text":""},{"location":"guides/pro-tips_zh/#1speckit","title":"\u6280\u5de7 1\uff1aSpecKit \u5de5\u4f5c\u6d41\u7a0b","text":"<p>\u5728\u5beb\u4ee3\u78bc\u4e4b\u524d\uff0c\u4f7f\u7528 5 \u6b65\u9a5f\u898f\u683c\u5de5\u4f5c\u6d41\u7a0b\uff1a</p> <pre><code>graph LR\n    A[1. \u61b2\u6cd5] --&gt; B[2. \u6f84\u6e05]\n    B --&gt; C[3. \u8a08\u756b]\n    C --&gt; D[4. \u6aa2\u67e5\u6e05\u55ae]\n    D --&gt; E[5. \u5206\u6790]\n</code></pre> <p>\u300c\u91cf\u5169\u6b21\uff0c\u5207\u4e00\u6b21\u300d - AI \u5be6\u4f5c\u7248\uff01</p>"},{"location":"guides/pro-tips_zh/#2","title":"\u6280\u5de7 2\uff1a\u4f7f\u7528\u6df7\u5408\u6a21\u5f0f","text":"\u4efb\u52d9\u985e\u578b \u5efa\u8b70\u65b9\u6cd5 \u5c0f\u578b\u932f\u8aa4\u4fee\u5fa9 <code>boring_apply_patch</code> \u65b0\u529f\u80fd <code>boring start</code> + SpecKit \u4ee3\u78bc\u5be9\u67e5 <code>boring_code_review</code> \u91cd\u69cb <code>boring_checkpoint</code> + <code>boring run</code>"},{"location":"guides/pro-tips_zh/#3","title":"\u6280\u5de7 3\uff1a\u589e\u91cf\u9a57\u8b49","text":"<pre><code># \u53ea\u9a57\u8b49\u8b8a\u66f4\u7684\u6a94\u6848\uff08\u5feb\u901f\uff01\uff09\nboring verify --incremental\n\n# \u767c\u5e03\u524d\u5f37\u5236\u5b8c\u6574\u9a57\u8b49\nboring verify --force --level FULL\n</code></pre>"},{"location":"guides/pro-tips_zh/#4","title":"\u6280\u5de7 4\uff1a\u7d2f\u7a4d\u77e5\u8b58","text":"<pre><code>\u958b\u767c \u2192 AI \u4fee\u5fa9\u932f\u8aa4 \u2192 \u8a18\u9304\u5230 .boring/memory\n\u5c08\u6848\u7d50\u675f \u2192 boring_learn \u2192 \u6a21\u5f0f\u5132\u5b58\u5230 .boring/brain\n\u4e0b\u500b\u5c08\u6848 \u2192 AI \u81ea\u52d5\u53c3\u8003\u904e\u53bb\u7684\u89e3\u6c7a\u65b9\u6848\uff01\n</code></pre>"},{"location":"guides/pro-tips_zh/#_3","title":"\ud83d\ude80 \u8cc7\u6df1\u958b\u767c\u8005","text":""},{"location":"guides/pro-tips_zh/#5","title":"\u6280\u5de7 5\uff1a\u81ea\u8a02\u54c1\u8cea\u898f\u5247","text":"<p>\u5efa\u7acb <code>.boring.toml</code> \u5305\u542b\u5c08\u6848\u7279\u5b9a\u8a2d\u5b9a\uff1a</p> <pre><code>[boring.quality_gates]\nmin_coverage = 80              # \u751f\u7522\u74b0\u5883\u9ad8\u6a19\u6e96\nmax_complexity = 10            # \u4fdd\u6301\u7c21\u55ae\nmax_file_lines = 300           # \u8f03\u5c0f\u7684\u6a94\u6848\n\n[boring.linter_configs]\nruff_line_length = 100\nruff_ignore = [\"E501\", \"W503\"]\n\n[boring.prompts]\njudge_system = \"\"\"\n\u4f60\u662f\u4e00\u4f4d\u8cc7\u6df1 Python \u67b6\u69cb\u5e2b\uff0c\u5c08\u6ce8\u65bc\uff1a\n- SOLID \u539f\u5247\n- \u4e7e\u6de8\u67b6\u69cb\n- \u6548\u80fd\u512a\u5316\n\"\"\"\n</code></pre>"},{"location":"guides/pro-tips_zh/#6-rag","title":"\u6280\u5de7 6\uff1a\u591a\u5c08\u6848 RAG","text":"<pre><code>boring_rag_search(\n    query=\"authentication middleware\",\n    additional_roots=[\n        \"/path/to/shared-libs\",\n        \"/path/to/other-project\"\n    ]\n)\n</code></pre> <p>\u540c\u6642\u641c\u5c0b\u591a\u500b\u7a0b\u5f0f\u78bc\u5eab\u3002</p>"},{"location":"guides/pro-tips_zh/#7","title":"\u6280\u5de7 7\uff1a\u5c0d\u6bd4\u8a55\u4f30","text":"<pre><code># \u6bd4\u8f03\u5169\u500b\u5be6\u4f5c\nboring_evaluate(\n    level=\"PAIRWISE\",\n    target_a=\"src/auth_v1.py\",\n    target_b=\"src/auth_v2.py\"\n)\n</code></pre> <p>AI \u5224\u65b7\u54ea\u500b\u5be6\u4f5c\u66f4\u597d\uff0c\u4e26\u6e1b\u5c11\u504f\u898b\u3002</p>"},{"location":"guides/pro-tips_zh/#8","title":"\u6280\u5de7 8\uff1a\u5b89\u5168\u6c99\u7bb1\u8207\u5f71\u5b50\u6a21\u5f0f","text":"<pre><code># \u751f\u7522\u74b0\u5883\u5efa\u8b70\u4f7f\u7528 STRICT \u6a21\u5f0f\nboring_shadow_mode(action=\"set_level\", level=\"STRICT\")\n</code></pre>"},{"location":"guides/pro-tips_zh/#v112","title":"\ud83e\udde0 \u8a8d\u77e5\u9032\u5316 (V11.2)","text":""},{"location":"guides/pro-tips_zh/#9-deep-thinking","title":"\u6280\u5de7 9\uff1a\u5584\u7528\u6df1\u5ea6\u601d\u8003 (Deep Thinking)","text":"<p>\u5c0d\u65bc\u67b6\u69cb\u8a2d\u8a08\u6216\u8907\u96dc\u91cd\u69cb\uff0c\u4f7f\u7528\u300c\u6df1\u5ea6\u601d\u8003\u300d\u3002 <pre><code>\u300c\u4f7f\u7528\u300e\u6df1\u5ea6\u601d\u8003\u300f\u5206\u6790\u6b64\u67b6\u69cb\uff0c\u4e26\u63d0\u4f9b\u4e09\u500b\u91cd\u69cb\u8def\u5f91\u3002\u300d\n</code></pre></p>"},{"location":"guides/pro-tips_zh/#10-critical-thinking","title":"\u6280\u5de7 10\uff1a\u6279\u5224\u6027\u601d\u7dad\u5be9\u8a08 (Critical Thinking)","text":"<p>\u5c0d\u65bc\u5b89\u5168\u6027\u6aa2\u67e5\u6216\u908f\u8f2f\u9a57\u8b49\uff0c\u4f7f\u7528\u300c\u6279\u5224\u6027\u601d\u7dad\u300d\u3002 <pre><code>\u300c\u5c0d\u6b64\u652f\u4ed8\u6d41\u7a0b\u9032\u884c\u300e\u6279\u5224\u6027\u601d\u7dad\u300f\u5be9\u8a08\uff0c\u627e\u51fa\u53ef\u80fd\u7684 Race Condition\u3002\u300d\n</code></pre></p>"},{"location":"guides/pro-tips_zh/#_4","title":"\ud83d\udd27 \u6548\u80fd\u6280\u5de7","text":""},{"location":"guides/pro-tips_zh/#14","title":"\u6280\u5de7 14\uff1a\u9810\u71b1\u5feb\u53d6","text":"<pre><code># \u7b2c\u4e00\u6b21\u57f7\u884c\u5efa\u7acb\u5feb\u53d6\nboring verify\n\n# \u5f8c\u7e8c\u57f7\u884c\u5f88\u5feb\nboring verify  # \u4f7f\u7528\u5feb\u53d6\n</code></pre>"},{"location":"guides/pro-tips_zh/#15","title":"\u6280\u5de7 15\uff1a\u5e73\u884c\u9a57\u8b49","text":"<pre><code># .boring.toml\n[boring.performance]\nparallel_workers = 8  # \u4f7f\u7528\u6240\u6709 CPU \u6838\u5fc3\n</code></pre>"},{"location":"guides/pro-tips_zh/#16-rag","title":"\u6280\u5de7 16\uff1a\u9078\u64c7\u6027 RAG \u7d22\u5f15","text":"<pre><code># \u53ea\u7d22\u5f15\u7279\u5b9a\u76ee\u9304\nboring rag index --paths \"src/\" \"lib/\"\n</code></pre>"},{"location":"guides/pro-tips_zh/#_5","title":"\ud83d\udee1\ufe0f \u5b89\u5168\u6280\u5de7","text":""},{"location":"guides/pro-tips_zh/#17","title":"\u6280\u5de7 17\uff1a\u751f\u7522\u74b0\u5883\u59cb\u7d42\u4f7f\u7528\u5f71\u5b50\u6a21\u5f0f","text":"<pre><code># smithery.yaml \u6216 MCP \u914d\u7f6e\nSHADOW_MODE_LEVEL: \"STRICT\"\nBORING_ALLOW_DANGEROUS: false\n</code></pre>"},{"location":"guides/pro-tips_zh/#18","title":"\u6280\u5de7 18\uff1a\u53d7\u4fdd\u8b77\u7684\u6a94\u6848\u64cd\u4f5c","text":"<pre><code># \u4f7f\u7528 boring_write_file \u800c\u975e\u539f\u751f write_file\nboring_write_file(path=\"config.py\", content=\"...\")\n</code></pre>"},{"location":"guides/pro-tips_zh/#19","title":"\u6280\u5de7 19\uff1a\u5bc6\u9470\u6383\u63cf","text":"<pre><code># \u63d0\u4ea4\u524d\u6383\u63cf\nboring_security_scan --scan-type secrets\n</code></pre>"},{"location":"guides/pro-tips_zh/#boringdone","title":"\ud83d\udd14 BoringDone \u901a\u77e5","text":""},{"location":"guides/pro-tips_zh/#20-v122","title":"\u6280\u5de7 20\uff1a\u5b8c\u6210\u901a\u77e5 (V12.2)","text":"<p>\u8b93 AI \u5b8c\u6210\u6642\u81ea\u52d5\u901a\u77e5\u4f60\uff0c\u4e0d\u7528\u76ef\u8457\u87a2\u5e55\uff01</p> <pre><code># AI \u81ea\u52d5\u5728\u4efb\u52d9\u5b8c\u6210\u6642\u767c\u9001\u684c\u9762\u901a\u77e5\nboring_done(task_name=\"Code Review\", success=True)\n</code></pre> <p>\u81ea\u52d5\u6574\u5408\u4f4d\u7f6e\uff1a - \u2705 <code>FlowEngine</code> \u5b8c\u6210\u6642 - \u2705 <code>AgentLoop</code> \u5b8c\u6210\u6642 - \u2705 <code>boring verify</code> \u5b8c\u6210\u6642</p>"},{"location":"guides/pro-tips_zh/#_6","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u5feb\u901f\u6559\u5b78 - \u9010\u6b65\u6307\u5357</li> <li>MCP \u5de5\u5177 - \u5de5\u5177\u53c3\u8003</li> <li>\u54c1\u8cea\u9598\u9053 - CI/CD \u8a2d\u5b9a</li> </ul>"},{"location":"guides/quick-tutorials/","title":"Quick Start Tutorials","text":"<p>Learn Boring by doing. 5-minute tutorials for common workflows.</p>"},{"location":"guides/quick-tutorials/#tutorial-index","title":"\ud83d\udcda Tutorial Index","text":"Tutorial Time Skill Level 1. Your First Vibe Project 5 min Beginner 2. Fix All Errors Instantly 3 min Beginner 3. Add a New Feature 10 min Intermediate 4. Code Review with AI 5 min Intermediate 5. Set Up Quality Gates 10 min Advanced 6. Multi-Agent Development 15 min Advanced"},{"location":"guides/quick-tutorials/#1-your-first-vibe-project","title":"1. Your First Vibe Project","text":"<p>Goal: Create a working app from a simple description.</p>"},{"location":"guides/quick-tutorials/#step-1-start-the-conversation","title":"Step 1: Start the conversation","text":"<pre><code>You: /vibe_start Build a simple REST API with FastAPI\n</code></pre>"},{"location":"guides/quick-tutorials/#step-2-answer-the-clarifying-questions","title":"Step 2: Answer the clarifying questions","text":"<pre><code>Boring: Great! Let me ask a few questions:\n        1. What resources should the API manage?\n        2. Need authentication?\n        3. Database preference?\n\nYou: 1. Users and posts\n     2. No auth for now\n     3. SQLite\n</code></pre>"},{"location":"guides/quick-tutorials/#step-3-review-the-generated-plan","title":"Step 3: Review the generated plan","text":"<pre><code>Boring: Here's my plan:\n        1. Create project structure\n        2. Set up FastAPI application\n        3. Define User and Post models\n        4. Create CRUD endpoints\n        5. Add SQLite database\n\n        Shall I proceed?\n\nYou: Yes, go ahead!\n</code></pre>"},{"location":"guides/quick-tutorials/#step-4-get-your-working-app","title":"Step 4: Get your working app","text":"<pre><code># Run your new API\nuvicorn main:app --reload\n</code></pre> <p>Done! You now have a working FastAPI application.</p>"},{"location":"guides/quick-tutorials/#2-fix-all-errors-instantly","title":"2. Fix All Errors Instantly","text":"<p>Goal: Clear all linting and formatting errors in one command.</p>"},{"location":"guides/quick-tutorials/#step-1-run-quick-fix","title":"Step 1: Run quick fix","text":"<pre><code>You: /quick_fix\n</code></pre>"},{"location":"guides/quick-tutorials/#step-2-watch-the-magic","title":"Step 2: Watch the magic","text":"<pre><code>Boring: Scanning for issues...\n        \u2705 Fixed 12 import sorting issues\n        \u2705 Fixed 8 formatting issues\n        \u2705 Fixed 3 unused variables\n\n        All issues resolved!\n</code></pre> <p>Done! All code quality issues are fixed.</p>"},{"location":"guides/quick-tutorials/#3-add-a-new-feature","title":"3. Add a New Feature","text":"<p>Goal: Add authentication to an existing project.</p>"},{"location":"guides/quick-tutorials/#step-1-describe-the-feature","title":"Step 1: Describe the feature","text":"<pre><code>You: Add JWT authentication to my FastAPI project\n</code></pre>"},{"location":"guides/quick-tutorials/#step-2-ai-creates-the-plan","title":"Step 2: AI creates the plan","text":"<pre><code>Boring: I'll add authentication with these steps:\n\n        1. Install dependencies (pyjwt, passlib)\n        2. Create auth/models.py - User model\n        3. Create auth/utils.py - Password hashing\n        4. Create auth/routes.py - Login/register\n        5. Update main.py - Add auth router\n\n        Shall I proceed?\n</code></pre>"},{"location":"guides/quick-tutorials/#step-3-review-the-diff","title":"Step 3: Review the diff","text":"<pre><code>Boring: Here's what I'll change:\n\n        + auth/models.py (new)\n        + auth/utils.py (new)\n        + auth/routes.py (new)\n        ~ main.py (modified)\n        ~ requirements.txt (modified)\n\n        Approve?\n\nYou: Yes, apply the changes\n</code></pre> <p>Done! Your app now has authentication.</p>"},{"location":"guides/quick-tutorials/#4-code-review-with-ai","title":"4. Code Review with AI","text":"<p>Goal: Get expert-level code review feedback.</p>"},{"location":"guides/quick-tutorials/#step-1-request-a-review","title":"Step 1: Request a review","text":"<pre><code>boring_evaluate(\n    target=\"src/main.py\",\n    level=\"DIRECT\",\n    criteria=[\"correctness\", \"security\", \"performance\"]\n)\n</code></pre>"},{"location":"guides/quick-tutorials/#step-2-review-the-feedback","title":"Step 2: Review the feedback","text":"<pre><code>Boring: Code Review for src/main.py\n\n        Overall Score: 7.5/10\n\n        \u2705 Strengths:\n        - Clean function signatures\n        - Good error handling\n\n        \u26a0\ufe0f Issues:\n        1. SQL injection risk on line 45\n        2. N+1 query pattern in get_posts()\n        3. Missing input validation\n\n        \ud83d\udcdd Suggestions:\n        - Use parameterized queries\n        - Add eager loading for posts\n        - Add Pydantic validation\n</code></pre> <p>Done! You have actionable feedback.</p>"},{"location":"guides/quick-tutorials/#5-set-up-quality-gates","title":"5. Set Up Quality Gates","text":"<p>Goal: Add automated quality checks to your CI pipeline.</p>"},{"location":"guides/quick-tutorials/#step-1-install-hooks-locally","title":"Step 1: Install hooks locally","text":"<pre><code>boring hooks install\n</code></pre>"},{"location":"guides/quick-tutorials/#step-2-create-github-actions-workflow","title":"Step 2: Create GitHub Actions workflow","text":"<pre><code># .github/workflows/quality-gates.yml\nname: Quality Gates\n\non: [push, pull_request]\n\njobs:\n  verify:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n      - run: pip install \"boring-aicoding[all]\"\n      - run: boring verify --level FULL\n</code></pre>"},{"location":"guides/quick-tutorials/#step-3-test-locally","title":"Step 3: Test locally","text":"<pre><code># Run verification\nboring verify --level FULL\n\n# Expected output:\n\u2705 Syntax Check: Passed\n\u2705 Linting: Passed\n\u2705 Security Scan: Passed\n\u2705 Tests: 42 passed, 0 failed\n</code></pre> <p>Done! Your repo now has quality gates.</p>"},{"location":"guides/quick-tutorials/#6-multi-agent-development","title":"6. Multi-Agent Development","text":"<p>Goal: Use specialized agents for complex tasks.</p>"},{"location":"guides/quick-tutorials/#step-1-start-the-workflow","title":"Step 1: Start the workflow","text":"<pre><code>boring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\n        \"feature\": \"Real-time notifications with WebSockets\"\n    }\n)\n</code></pre>"},{"location":"guides/quick-tutorials/#step-2-agents-collaborate","title":"Step 2: Agents collaborate","text":"<pre><code>\ud83e\udde0 Planner Agent:\n   Creating implementation plan...\n   - WebSocket server setup\n   - Event system design\n   - Client integration\n\n\ud83d\udcdd Coder Agent:\n   Implementing changes...\n   - src/websocket.py (new)\n   - src/events.py (new)\n   - src/main.py (modified)\n\n\ud83d\udd0d Reviewer Agent:\n   Reviewing changes...\n   - \u2705 No security issues\n   - \u26a0\ufe0f Consider rate limiting\n   - \u2705 Tests passing\n</code></pre>"},{"location":"guides/quick-tutorials/#step-3-review-final-output","title":"Step 3: Review final output","text":"<pre><code>Boring: Multi-agent workflow complete!\n\n        Created files:\n        - src/websocket.py\n        - src/events.py\n\n        Modified files:\n        - src/main.py\n        - requirements.txt\n\n        All tests passing. Ready for deployment.\n</code></pre> <p>Done! Complex feature implemented with AI collaboration.</p>"},{"location":"guides/quick-tutorials/#tutorial-5","title":"Tutorial 5: Architectural Evolution (Deep Thinking)","text":"<p>Objective: Refactor a messy codebase with high-level reasoning. 1. Start Vibe Session: <code>boring start</code> 2. Request Deep Analysis: <code>Execute \"Analyze the overall architecture and suggest improvements using Deep Thinking mode.\"</code> 3. Review Multi-Agent Plan: Boring will present a refined implementation plan based on the analysis.</p>"},{"location":"guides/quick-tutorials/#tutorial-6","title":"Tutorial 6: Security Audit (Critical Thinking)","text":"<p>Objective: Identify subtle logic flaws or security risks. 1. Run Audit: <code>boring run \"Perform a Critical Thinking audit on the authentication logic.\"</code> 2. Follow-up: Use <code>boring verify --level FULL</code> to confirm fixes.</p>"},{"location":"guides/quick-tutorials/#see-also","title":"\u53e6\u8acb\u53c3\u95b1 (See Also)","text":"<ul> <li>Pro Tips - Expert tips</li> <li>Git Hooks - Local automation</li> <li>MCP Tools - Full tool reference</li> </ul>"},{"location":"guides/quick-tutorials_zh/","title":"\u5feb\u901f\u5165\u9580\u6559\u5b78","text":"<p>\u900f\u904e\u5be6\u4f5c\u5b78\u7fd2 Boring\u30025 \u5206\u9418\u5e38\u898b\u5de5\u4f5c\u6d41\u7a0b\u6559\u5b78\u3002</p>"},{"location":"guides/quick-tutorials_zh/#_2","title":"\ud83d\udcda \u6559\u5b78\u7d22\u5f15","text":"\u6559\u5b78 \u6642\u9593 \u6280\u80fd\u6c34\u5e73 1. \u4f60\u7684\u7b2c\u4e00\u500b Vibe \u5c08\u6848 5 \u5206\u9418 \u521d\u5b78\u8005 2. \u4e00\u9375\u4fee\u5fa9\u6240\u6709\u932f\u8aa4 3 \u5206\u9418 \u521d\u5b78\u8005 3. \u65b0\u589e\u529f\u80fd 10 \u5206\u9418 \u4e2d\u7d1a 4. AI \u4ee3\u78bc\u5be9\u67e5 5 \u5206\u9418 \u4e2d\u7d1a 5. \u8a2d\u5b9a\u54c1\u8cea\u9598\u9053 10 \u5206\u9418 \u9032\u968e 6. \u591a\u4ee3\u7406\u958b\u767c 15 \u5206\u9418 \u9032\u968e"},{"location":"guides/quick-tutorials_zh/#first-vibe-project","title":"\u4f60\u7684\u7b2c\u4e00\u500b Vibe \u5c08\u6848","text":"<p>\u76ee\u6a19\uff1a\u5f9e\u7c21\u55ae\u63cf\u8ff0\u5efa\u7acb\u53ef\u904b\u884c\u7684\u61c9\u7528\u3002</p>"},{"location":"guides/quick-tutorials_zh/#1","title":"\u6b65\u9a5f 1\uff1a\u958b\u59cb\u5c0d\u8a71","text":"<pre><code>\u4f60\uff1a/vibe_start \u5efa\u7acb\u4e00\u500b\u7c21\u55ae\u7684 FastAPI REST API\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#2","title":"\u6b65\u9a5f 2\uff1a\u56de\u7b54\u6f84\u6e05\u554f\u984c","text":"<pre><code>Boring\uff1a\u5f88\u597d\uff01\u8b93\u6211\u554f\u5e7e\u500b\u554f\u984c\uff1a\n        1. API \u61c9\u8a72\u7ba1\u7406\u4ec0\u9ebc\u8cc7\u6e90\uff1f\n        2. \u9700\u8981\u8a8d\u8b49\u55ce\uff1f\n        3. \u8cc7\u6599\u5eab\u504f\u597d\uff1f\n\n\u4f60\uff1a1. \u4f7f\u7528\u8005\u548c\u6587\u7ae0\n    2. \u66ab\u6642\u4e0d\u9700\u8981\u8a8d\u8b49\n    3. SQLite\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#3","title":"\u6b65\u9a5f 3\uff1a\u5be9\u67e5\u751f\u6210\u7684\u8a08\u756b","text":"<pre><code>Boring\uff1a\u9019\u662f\u6211\u7684\u8a08\u756b\uff1a\n        1. \u5efa\u7acb\u5c08\u6848\u7d50\u69cb\n        2. \u8a2d\u5b9a FastAPI \u61c9\u7528\n        3. \u5b9a\u7fa9 User \u548c Post \u6a21\u578b\n        4. \u5efa\u7acb CRUD \u7aef\u9ede\n        5. \u65b0\u589e SQLite \u8cc7\u6599\u5eab\n\n        \u8981\u7e7c\u7e8c\u55ce\uff1f\n\n\u4f60\uff1a\u662f\u7684\uff0c\u8acb\u958b\u59cb\uff01\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#4","title":"\u6b65\u9a5f 4\uff1a\u53d6\u5f97\u53ef\u904b\u884c\u7684\u61c9\u7528","text":"<pre><code># \u57f7\u884c\u4f60\u7684\u65b0 API\nuvicorn main:app --reload\n</code></pre> <p>\u5b8c\u6210\uff01 \u4f60\u73fe\u5728\u6709\u4e00\u500b\u53ef\u904b\u884c\u7684 FastAPI \u61c9\u7528\u3002</p>"},{"location":"guides/quick-tutorials_zh/#one-click-fix","title":"\u4e00\u9375\u4fee\u5fa9\u6240\u6709\u932f\u8aa4","text":"<p>\u76ee\u6a19\uff1a\u4e00\u500b\u547d\u4ee4\u6e05\u9664\u6240\u6709 linting \u548c\u683c\u5f0f\u932f\u8aa4\u3002</p>"},{"location":"guides/quick-tutorials_zh/#1_1","title":"\u6b65\u9a5f 1\uff1a\u57f7\u884c\u5feb\u901f\u4fee\u5fa9","text":"<pre><code>\u4f60\uff1a/quick_fix\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#2_1","title":"\u6b65\u9a5f 2\uff1a\u898b\u8b49\u9b54\u6cd5","text":"<pre><code>Boring\uff1a\u6383\u63cf\u554f\u984c\u4e2d...\n        \u2705 \u4fee\u5fa9\u4e86 12 \u500b import \u6392\u5e8f\u554f\u984c\n        \u2705 \u4fee\u5fa9\u4e86 8 \u500b\u683c\u5f0f\u554f\u984c\n        \u2705 \u4fee\u5fa9\u4e86 3 \u500b\u672a\u4f7f\u7528\u7684\u8b8a\u6578\n\n        \u6240\u6709\u554f\u984c\u5df2\u89e3\u6c7a\uff01\n</code></pre> <p>\u5b8c\u6210\uff01 \u6240\u6709\u4ee3\u78bc\u54c1\u8cea\u554f\u984c\u90fd\u5df2\u4fee\u5fa9\u3002</p>"},{"location":"guides/quick-tutorials_zh/#add-feature","title":"\u65b0\u589e\u529f\u80fd","text":"<p>\u76ee\u6a19\uff1a\u70ba\u73fe\u6709\u5c08\u6848\u65b0\u589e\u8a8d\u8b49\u529f\u80fd\u3002</p>"},{"location":"guides/quick-tutorials_zh/#1_2","title":"\u6b65\u9a5f 1\uff1a\u63cf\u8ff0\u529f\u80fd","text":"<pre><code>\u4f60\uff1a\u70ba\u6211\u7684 FastAPI \u5c08\u6848\u65b0\u589e JWT \u8a8d\u8b49\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#2ai","title":"\u6b65\u9a5f 2\uff1aAI \u5efa\u7acb\u8a08\u756b","text":"<pre><code>Boring\uff1a\u6211\u5c07\u900f\u904e\u4ee5\u4e0b\u6b65\u9a5f\u65b0\u589e\u8a8d\u8b49\uff1a\n\n        1. \u5b89\u88dd\u4f9d\u8cf4\uff08pyjwt, passlib\uff09\n        2. \u5efa\u7acb auth/models.py - User \u6a21\u578b\n        3. \u5efa\u7acb auth/utils.py - \u5bc6\u78bc\u96dc\u6e4a\n        4. \u5efa\u7acb auth/routes.py - \u767b\u5165/\u8a3b\u518a\n        5. \u66f4\u65b0 main.py - \u65b0\u589e auth \u8def\u7531\n\n        \u8981\u7e7c\u7e8c\u55ce\uff1f\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#3_1","title":"\u6b65\u9a5f 3\uff1a\u5be9\u67e5\u5dee\u7570","text":"<pre><code>Boring\uff1a\u9019\u662f\u6211\u5c07\u8b8a\u66f4\u7684\u5167\u5bb9\uff1a\n\n        + auth/models.py\uff08\u65b0\u589e\uff09\n        + auth/utils.py\uff08\u65b0\u589e\uff09\n        + auth/routes.py\uff08\u65b0\u589e\uff09\n        ~ main.py\uff08\u4fee\u6539\uff09\n        ~ requirements.txt\uff08\u4fee\u6539\uff09\n\n        \u6279\u51c6\u55ce\uff1f\n\n\u4f60\uff1a\u662f\u7684\uff0c\u5957\u7528\u8b8a\u66f4\n</code></pre> <p>\u5b8c\u6210\uff01 \u4f60\u7684\u61c9\u7528\u73fe\u5728\u6709\u8a8d\u8b49\u529f\u80fd\u4e86\u3002</p>"},{"location":"guides/quick-tutorials_zh/#ai-review","title":"AI \u4ee3\u78bc\u5be9\u67e5","text":"<p>\u76ee\u6a19\uff1a\u53d6\u5f97\u5c08\u5bb6\u7d1a\u4ee3\u78bc\u5be9\u67e5\u56de\u994b\u3002</p>"},{"location":"guides/quick-tutorials_zh/#1_3","title":"\u6b65\u9a5f 1\uff1a\u8acb\u6c42\u5be9\u67e5","text":"<pre><code>boring_evaluate(\n    target=\"src/main.py\",\n    level=\"DIRECT\",\n    criteria=[\"correctness\", \"security\", \"performance\"]\n)\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#2_2","title":"\u6b65\u9a5f 2\uff1a\u5be9\u67e5\u56de\u994b","text":"<pre><code>Boring\uff1asrc/main.py \u4ee3\u78bc\u5be9\u67e5\n\n        \u7e3d\u9ad4\u8a55\u5206\uff1a7.5/10\n\n        \u2705 \u512a\u9ede\uff1a\n        - \u4e7e\u6de8\u7684\u51fd\u6578\u7c3d\u540d\n        - \u826f\u597d\u7684\u932f\u8aa4\u8655\u7406\n\n        \u26a0\ufe0f \u554f\u984c\uff1a\n        1. \u7b2c 45 \u884c\u6709 SQL \u6ce8\u5165\u98a8\u96aa\n        2. get_posts() \u4e2d\u6709 N+1 \u67e5\u8a62\u6a21\u5f0f\n        3. \u7f3a\u5c11\u8f38\u5165\u9a57\u8b49\n\n        \ud83d\udcdd \u5efa\u8b70\uff1a\n        - \u4f7f\u7528\u53c3\u6578\u5316\u67e5\u8a62\n        - \u70ba posts \u65b0\u589e eager loading\n        - \u65b0\u589e Pydantic \u9a57\u8b49\n</code></pre> <p>\u5b8c\u6210\uff01 \u4f60\u6709\u53ef\u57f7\u884c\u7684\u56de\u994b\u4e86\u3002</p>"},{"location":"guides/quick-tutorials_zh/#quality-gates","title":"\u8a2d\u5b9a\u54c1\u8cea\u9598\u9053","text":"<p>\u76ee\u6a19\uff1a\u70ba CI \u7ba1\u9053\u65b0\u589e\u81ea\u52d5\u5316\u54c1\u8cea\u6aa2\u67e5\u3002</p>"},{"location":"guides/quick-tutorials_zh/#1-hooks","title":"\u6b65\u9a5f 1\uff1a\u672c\u5730\u5b89\u88dd hooks","text":"<pre><code>boring hooks install\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#2-github-actions","title":"\u6b65\u9a5f 2\uff1a\u5efa\u7acb GitHub Actions \u5de5\u4f5c\u6d41\u7a0b","text":"<pre><code># .github/workflows/quality-gates.yml\nname: Quality Gates\n\non: [push, pull_request]\n\njobs:\n  verify:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n      - run: pip install \"boring-aicoding[all]\"\n      - run: boring verify --level FULL\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#3_2","title":"\u6b65\u9a5f 3\uff1a\u672c\u5730\u6e2c\u8a66","text":"<pre><code># \u57f7\u884c\u9a57\u8b49\nboring verify --level FULL\n\n# \u9810\u671f\u8f38\u51fa\uff1a\n\u2705 \u8a9e\u6cd5\u6aa2\u67e5\uff1a\u901a\u904e\n\u2705 Linting\uff1a\u901a\u904e\n\u2705 \u5b89\u5168\u6383\u63cf\uff1a\u901a\u904e\n\u2705 \u6e2c\u8a66\uff1a42 \u901a\u904e\uff0c0 \u5931\u6557\n</code></pre> <p>\u5b8c\u6210\uff01 \u4f60\u7684 repo \u73fe\u5728\u6709\u54c1\u8cea\u9598\u9053\u4e86\u3002</p>"},{"location":"guides/quick-tutorials_zh/#multi-agent","title":"\u591a\u4ee3\u7406\u958b\u767c","text":"<p>\u76ee\u6a19\uff1a\u4f7f\u7528\u5c08\u9580\u4ee3\u7406\u8655\u7406\u8907\u96dc\u4efb\u52d9\u3002</p>"},{"location":"guides/quick-tutorials_zh/#1_4","title":"\u6b65\u9a5f 1\uff1a\u555f\u52d5\u5de5\u4f5c\u6d41\u7a0b","text":"<pre><code>boring_multi_agent(\n    workflow=\"plan_and_implement\",\n    context={\n        \"feature\": \"\u4f7f\u7528 WebSockets \u7684\u5373\u6642\u901a\u77e5\"\n    }\n)\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#2_3","title":"\u6b65\u9a5f 2\uff1a\u4ee3\u7406\u5354\u4f5c","text":"<pre><code>\ud83e\udde0 \u898f\u5283\u4ee3\u7406\uff1a\n   \u5efa\u7acb\u5be6\u4f5c\u8a08\u756b...\n   - WebSocket \u4f3a\u670d\u5668\u8a2d\u5b9a\n   - \u4e8b\u4ef6\u7cfb\u7d71\u8a2d\u8a08\n   - \u5ba2\u6236\u7aef\u6574\u5408\n\n\ud83d\udcdd \u7de8\u78bc\u4ee3\u7406\uff1a\n   \u5be6\u4f5c\u8b8a\u66f4...\n   - src/websocket.py\uff08\u65b0\u589e\uff09\n   - src/events.py\uff08\u65b0\u589e\uff09\n   - src/main.py\uff08\u4fee\u6539\uff09\n\n\ud83d\udd0d \u5be9\u67e5\u4ee3\u7406\uff1a\n   \u5be9\u67e5\u8b8a\u66f4...\n   - \u2705 \u7121\u5b89\u5168\u554f\u984c\n   - \u26a0\ufe0f \u8003\u616e\u901f\u7387\u9650\u5236\n   - \u2705 \u6e2c\u8a66\u901a\u904e\n</code></pre>"},{"location":"guides/quick-tutorials_zh/#3_3","title":"\u6b65\u9a5f 3\uff1a\u5be9\u67e5\u6700\u7d42\u8f38\u51fa","text":"<pre><code>Boring\uff1a\u591a\u4ee3\u7406\u5de5\u4f5c\u6d41\u7a0b\u5b8c\u6210\uff01\n\n        \u5efa\u7acb\u7684\u6a94\u6848\uff1a\n        - src/websocket.py\n        - src/events.py\n\n        \u4fee\u6539\u7684\u6a94\u6848\uff1a\n        - src/main.py\n        - requirements.txt\n\n        \u6240\u6709\u6e2c\u8a66\u901a\u904e\u3002\u6e96\u5099\u90e8\u7f72\u3002\n</code></pre> <p>\u5b8c\u6210\uff01 \u8907\u96dc\u529f\u80fd\u900f\u904e AI \u5354\u4f5c\u5be6\u4f5c\u5b8c\u6210\u3002</p>"},{"location":"guides/quick-tutorials_zh/#tutorial-5","title":"\u6559\u5b78 5\uff1a\u67b6\u69cb\u6f14\u9032 (Deep Thinking)","text":"<p>\u76ee\u6a19\uff1a\u4f7f\u7528\u9ad8\u968e\u63a8\u7406\u91cd\u69cb\u6df7\u4e82\u7684\u4ee3\u78bc\u3002 1. \u958b\u59cb Vibe Session\uff1a<code>boring start</code> 2. \u8acb\u6c42\u6df1\u5ea6\u5206\u6790\uff1a<code>\u57f7\u884c\u300c\u4f7f\u7528\u6df1\u5ea6\u601d\u8003\u6a21\u5f0f\u5206\u6790\u6574\u9ad4\u67b6\u69cb\u4e26\u7d66\u51fa\u6539\u9032\u5efa\u8b70\u300d</code> 3. \u5be9\u67e5\u591a\u4ee3\u7406\u8a08\u756b\uff1aBoring \u6703\u6839\u64da\u5206\u6790\u63d0\u4f9b\u7cbe\u7149\u5f8c\u7684\u5be6\u4f5c\u8a08\u756b\u3002</p>"},{"location":"guides/quick-tutorials_zh/#tutorial-6","title":"\u6559\u5b78 6\uff1a\u5b89\u5168\u5be9\u8a08 (Critical Thinking)","text":"<p>\u76ee\u6a19\uff1a\u627e\u51fa\u5fae\u5999\u7684\u908f\u8f2f\u6f0f\u6d1e\u6216\u5b89\u5168\u98a8\u96aa\u3002 1. \u57f7\u884c\u5be9\u8a08\uff1a<code>boring run \u300c\u5c0d\u9a57\u8b49\u908f\u8f2f\u9032\u884c\u6279\u5224\u6027\u601d\u7dad\u5be9\u8a08\u300d</code> 2. \u5f8c\u7e8c\uff1a\u4f7f\u7528 <code>boring verify --level FULL</code> \u78ba\u8a8d\u4fee\u5fa9\u5f8c\u7684\u72c0\u614b\u3002</p>"},{"location":"guides/quick-tutorials_zh/#see-also","title":"\u53e6\u8acb\u53c3\u95b1 (See Also)","text":"<ul> <li>\u5c08\u696d\u6280\u5de7 - \u5c08\u5bb6\u6280\u5de7</li> <li>\u6545\u969c\u6392\u9664 - \u554f\u984c\u89e3\u6c7a</li> <li>MCP \u5de5\u5177 - \u5b8c\u6574\u5de5\u5177\u53c3\u8003</li> </ul>"},{"location":"guides/skills_guide/","title":"Agent Skills Guide (Universal System)","text":""},{"location":"guides/skills_guide/#overview","title":"Overview","text":"<p>Boring V12.3 introduces the Universal Skills System (BUSS). This system unifies skill management across multiple AI platforms, allowing you to use the same skills in Gemini CLI, Claude Code, Antigravity, and Boring Flow.</p>"},{"location":"guides/skills_guide/#key-features","title":"Key Features","text":"<ol> <li>Write Once, Run Anywhere: Skills written in standard Markdown (<code>SKILL.md</code>) work across all supported platforms.</li> <li>Local \"Brain\": Skills are stored locally in your project, giving the agent persistent, project-specific expertise.</li> <li>Auto-Sync: Skills created or downloaded via Boring are automatically synchronized to <code>.gemini/skills</code> and <code>.claude/skills</code> directories.</li> <li>Flow Integration: The Boring Flow Engine automatically discovers and uses these skills during autonomous execution.</li> </ol>"},{"location":"guides/skills_guide/#universal-skill-structure","title":"Universal Skill Structure","text":"<p>A Universal Skill is simply a directory containing a <code>SKILL.md</code> file with a YAML frontmatter header.</p> <p>File Path: <code>.boring/skills/my-skill/SKILL.md</code></p> <pre><code>---\nname: my-skill\ndescription: A clear description of what this skill does. The Agent uses this to activate it.\n---\n\n# My Skill Title\n\n## Instructions\n1. Step one...\n2. Step two...\n\n## Rules\n- Always do X...\n- Never do Y...\n```markdown\n---\nname: my-skill\ndescription: A clear description of what this skill does. The Agent uses this to activate it.\n---\n\n# My Skill Title\n\n## Instructions\n1. Step one...\n2. Step two...\n\n## Rules\n- Always do X...\n- Never do Y...\n</code></pre>"},{"location":"guides/skills_guide/#advanced-directory-structure-openai-codex-skillsmp-compatible","title":"Advanced Directory Structure (OpenAI Codex / SkillsMP Compatible)","text":"<p>For more complex skills, you can use the standard directory structure which Boring automatically detects:</p> <pre><code>my-skill/\n\u251c\u2500\u2500 SKILL.md        (Required: Instructions &amp; Metadata)\n\u251c\u2500\u2500 scripts/        (Optional: Executable Python/Bash scripts)\n\u251c\u2500\u2500 references/     (Optional: PDF/Text documentation)\n\u2514\u2500\u2500 assets/         (Optional: Templates, Images, Resources)\n</code></pre> <p>Boring automatically exposes: - Scripts in <code>scripts/</code> are listed in the activation prompt. - Documents in <code>references/</code> are listed as available context.</p>"},{"location":"guides/skills_guide/#managing-skills","title":"Managing Skills","text":""},{"location":"guides/skills_guide/#1-discovering-skills","title":"1. Discovering Skills","text":"<p>Boring automatically scans the following directories for skills: - <code>.boring/skills/</code> (Primary Hub) - <code>.antigravity/skills/</code> - <code>.gemini/skills/</code> - <code>.claude/skills/</code></p> <p>Use the command (or let the Agent use it): <pre><code>boring_skill_discover()\n</code></pre></p>"},{"location":"guides/skills_guide/#2-creating-a-skill","title":"2. Creating a Skill","text":"<p>You can ask the Agent to create a skill for you:</p> <p>\"Create a skill for reviewing python code security\"</p> <p>Or manually create one using the template above.</p>"},{"location":"guides/skills_guide/#3-downloading-skills-the-app-store","title":"3. Downloading Skills (The \"App Store\")","text":"<p>You can download verified skills from trusted community repositories:</p> <pre><code>boring_skill_download(url=\"https://github.com/boring-stack/skill-python-expert\")\n</code></pre> <p>This will: 1. Download the skill to <code>.boring/skills/python-expert</code> 2. Auto-Sync: Copy it to <code>.gemini/skills/</code> and <code>.claude/skills/</code> so your other tools can use it too!</p>"},{"location":"guides/skills_guide/#4-direct-activation","title":"4. Direct Activation","text":"<p>The Agent can activate a skill dynamically based on need:</p> <pre><code>boring_skill_activate(skill_name=\"code-reviewer\")\n</code></pre>"},{"location":"guides/skills_guide/#best-practices","title":"Best Practices","text":"<ul> <li>Descriptive Names: Use hyphen-case (e.g., <code>api-designer</code>, <code>bug-hunter</code>).</li> <li>Clear Descriptions: The <code>description</code> field in the frontmatter is the most important part. It's what the AI \"sees\" before loading the full skill. Make it precise.</li> <li>Atomic Expertise: Keep skills focused on a single domain or task.</li> </ul>"},{"location":"guides/skills_guide/#legacy-catalog","title":"Legacy Catalog","text":"<p>The old <code>Boring Skills Catalog</code> (<code>boring_skills_install</code>) is still available for backward compatibility and for discovering external tool-based extensions.</p>"},{"location":"guides/skills_guide_zh/","title":"Agent Skills \u6307\u5357 (Universal System)","text":""},{"location":"guides/skills_guide_zh/#_1","title":"\u6982\u89bd","text":"<p>Boring V12.3 \u63a8\u51fa\u4e86 \u901a\u7528\u6280\u80fd\u7cfb\u7d71 (Universal Skills System, BUSS)\u3002\u6b64\u7cfb\u7d71\u7d71\u4e00\u4e86\u8de8\u591a\u500b AI \u5e73\u53f0\u7684\u6280\u80fd\u7ba1\u7406\uff0c\u8b93\u60a8\u53ef\u4ee5\u5728 Gemini CLI\u3001Claude Code\u3001Antigravity \u548c Boring Flow \u4e2d\u4f7f\u7528\u76f8\u540c\u7684\u6280\u80fd\u3002</p>"},{"location":"guides/skills_guide_zh/#_2","title":"\u4e3b\u8981\u529f\u80fd","text":"<ol> <li>\u4e00\u6b21\u7de8\u5beb\uff0c\u8655\u8655\u904b\u884c\uff1a\u4f7f\u7528\u6a19\u6e96 Markdown (<code>SKILL.md</code>) \u7de8\u5beb\u7684\u6280\u80fd\u53ef\u5728\u6240\u6709\u652f\u63f4\u7684\u5e73\u53f0\u4e0a\u904b\u4f5c\u3002</li> <li>\u672c\u5730\u300c\u5927\u8166\u300d\uff1a\u6280\u80fd\u5132\u5b58\u5728\u60a8\u7684\u5c08\u6848\u672c\u5730\uff0c\u8ce6\u4e88 Agent \u6301\u4e45\u4e14\u5c08\u5c6c\u65bc\u5c08\u6848\u7684\u5c08\u696d\u77e5\u8b58\u3002</li> <li>\u81ea\u52d5\u540c\u6b65\uff1a\u900f\u904e Boring \u5efa\u7acb\u6216\u4e0b\u8f09\u7684\u6280\u80fd\u6703\u81ea\u52d5\u540c\u6b65\u5230 <code>.gemini/skills</code> \u548c <code>.claude/skills</code> \u76ee\u9304\u3002</li> <li>Flow \u6574\u5408\uff1aBoring Flow Engine \u5728\u81ea\u4e3b\u57f7\u884c\u671f\u9593\u6703\u81ea\u52d5\u767c\u73fe\u4e26\u4f7f\u7528\u9019\u4e9b\u6280\u80fd\u3002</li> </ol>"},{"location":"guides/skills_guide_zh/#universal-skill-structure","title":"\u901a\u7528\u6280\u80fd\u7d50\u69cb (Universal Skill Structure)","text":"<p>\u901a\u7528\u6280\u80fd\u53ea\u662f\u4e00\u500b\u5305\u542b\u5e36\u6709 YAML \u524d\u8a00 (frontmatter) \u6a19\u982d\u7684 <code>SKILL.md</code> \u6a94\u6848\u7684\u76ee\u9304\u3002</p> <p>\u6a94\u6848\u8def\u5f91\uff1a<code>.boring/skills/my-skill/SKILL.md</code></p> <pre><code>---\nname: my-skill\ndescription: \u6e05\u695a\u63cf\u8ff0\u6b64\u6280\u80fd\u7684\u529f\u80fd\u3002Agent \u6703\u4f7f\u7528\u6b64\u63cf\u8ff0\u4f86\u6c7a\u5b9a\u4f55\u6642\u6fc0\u6d3b\u5b83\u3002\n---\n\n# \u6211\u7684\u6280\u80fd\u6a19\u984c\n\n## \u6307\u5f15 (Instructions)\n1. \u6b65\u9a5f\u4e00...\n2. \u6b65\u9a5f\u4e8c...\n\n## \u898f\u5247 (Rules)\n- \u52d9\u5fc5\u505a X...\n- \u7d55\u4e0d\u505a Y...\n</code></pre>"},{"location":"guides/skills_guide_zh/#openai-codex-skillsmp","title":"\u9032\u968e\u76ee\u9304\u7d50\u69cb (OpenAI Codex / SkillsMP \u76f8\u5bb9)","text":"<p>\u5c0d\u65bc\u66f4\u8907\u96dc\u7684\u6280\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Boring \u81ea\u52d5\u5075\u6e2c\u7684\u6a19\u6e96\u76ee\u9304\u7d50\u69cb\uff1a</p> <pre><code>my-skill/\n\u251c\u2500\u2500 SKILL.md        (\u5fc5\u8981\uff1a\u6307\u5f15\u8207\u5143\u6578\u64da)\n\u251c\u2500\u2500 scripts/        (\u53ef\u9078\uff1a\u53ef\u57f7\u884c\u7684 Python/Bash \u8173\u672c)\n\u251c\u2500\u2500 references/     (\u53ef\u9078\uff1aPDF/\u6587\u5b57\u6587\u4ef6)\n\u2514\u2500\u2500 assets/         (\u53ef\u9078\uff1a\u7bc4\u672c\u3001\u5716\u7247\u3001\u8cc7\u6e90)\n</code></pre> <p>Boring \u6703\u81ea\u52d5\u516c\u958b\uff1a - <code>scripts/</code> \u4e2d\u7684\u8173\u672c\u6703\u5217\u5728\u6fc0\u6d3b\u63d0\u793a\u8a5e (prompt) \u4e2d\u3002 - <code>references/</code> \u4e2d\u7684\u6587\u4ef6\u6703\u5217\u70ba\u53ef\u7528\u7684\u4e0a\u4e0b\u6587\u3002</p>"},{"location":"guides/skills_guide_zh/#_3","title":"\u7ba1\u7406\u6280\u80fd","text":""},{"location":"guides/skills_guide_zh/#1","title":"1. \u767c\u73fe\u6280\u80fd","text":"<p>Boring \u6703\u81ea\u52d5\u6383\u63cf\u4ee5\u4e0b\u76ee\u9304\u4e2d\u7684\u6280\u80fd\uff1a - <code>.boring/skills/</code> (\u4e3b\u8981\u6a1e\u7d10 Hub) - <code>.antigravity/skills/</code> - <code>.gemini/skills/</code> - <code>.claude/skills/</code></p> <p>\u4f7f\u7528\u6307\u4ee4 (\u6216\u8b93 Agent \u4f7f\u7528)\uff1a <pre><code>boring_skill_discover()\n</code></pre></p>"},{"location":"guides/skills_guide_zh/#2","title":"2. \u5efa\u7acb\u6280\u80fd","text":"<p>\u60a8\u53ef\u4ee5\u8981\u6c42 Agent \u70ba\u60a8\u5efa\u7acb\u6280\u80fd\uff1a</p> <p>\"Create a skill for reviewing python code security\" (\u5efa\u7acb\u4e00\u500b\u5be9\u67e5 python \u4ee3\u78bc\u5b89\u5168\u7684\u6280\u80fd)</p> <p>\u6216\u8005\u4f7f\u7528\u4e0a\u9762\u7684\u7bc4\u672c\u624b\u52d5\u5efa\u7acb\u3002</p>"},{"location":"guides/skills_guide_zh/#3-app-store","title":"3. \u4e0b\u8f09\u6280\u80fd (\"App Store\")","text":"<p>\u60a8\u53ef\u4ee5\u5f9e\u53d7\u4fe1\u4efb\u7684\u793e\u7fa4\u5b58\u5132\u5eab\u4e0b\u8f09\u7d93\u904e\u9a57\u8b49\u7684\u6280\u80fd\uff1a</p> <pre><code>boring_skill_download(url=\"https://github.com/boring-stack/skill-python-expert\")\n</code></pre> <p>\u9019\u5c07\u6703\uff1a 1. \u4e0b\u8f09\u6280\u80fd\u5230 <code>.boring/skills/python-expert</code> 2. \u81ea\u52d5\u540c\u6b65\uff1a\u5c07\u5176\u8907\u88fd\u5230 <code>.gemini/skills/</code> \u548c <code>.claude/skills/</code>\uff0c\u4ee5\u4fbf\u60a8\u7684\u5176\u4ed6\u5de5\u5177\u4e5f\u80fd\u4f7f\u7528\uff01</p>"},{"location":"guides/skills_guide_zh/#4","title":"4. \u76f4\u63a5\u6fc0\u6d3b","text":"<p>Agent \u53ef\u4ee5\u6839\u64da\u9700\u6c42\u52d5\u614b\u6fc0\u6d3b\u6280\u80fd\uff1a</p> <pre><code>boring_skill_activate(skill_name=\"code-reviewer\")\n</code></pre>"},{"location":"guides/skills_guide_zh/#_4","title":"\u6700\u4f73\u5be6\u8e10","text":"<ul> <li>\u63cf\u8ff0\u6027\u540d\u7a31\uff1a\u4f7f\u7528\u9023\u5b57\u7b26\u547d\u540d\u6cd5 (hyphen-case) (\u4f8b\u5982 <code>api-designer</code>, <code>bug-hunter</code>)\u3002</li> <li>\u6e05\u6670\u7684\u63cf\u8ff0\uff1a\u524d\u8a00\u4e2d\u7684 <code>description</code> \u6b04\u4f4d\u662f \u6700\u91cd\u8981 \u7684\u90e8\u5206\u3002\u9019\u662f AI \u5728\u8f09\u5165\u5b8c\u6574\u6280\u80fd\u4e4b\u524d\u300c\u770b\u5230\u300d\u7684\u5167\u5bb9\u3002\u8acb\u52d9\u5fc5\u7cbe\u78ba\u3002</li> <li>\u539f\u5b50\u5316\u5c08\u696d\u77e5\u8b58\uff1a\u4fdd\u6301\u6280\u80fd\u5c08\u6ce8\u65bc\u55ae\u4e00\u9818\u57df\u6216\u4efb\u52d9\u3002</li> </ul>"},{"location":"guides/skills_guide_zh/#legacy-catalog","title":"\u820a\u7248\u76ee\u9304 (Legacy Catalog)","text":"<p>\u820a\u7248\u7684 <code>Boring Skills Catalog</code> (<code>boring_skills_install</code>) \u4ecd\u7136\u53ef\u7528\uff0c\u4ee5\u4fdd\u6301\u5411\u5f8c\u76f8\u5bb9\u6027\uff0c\u4e26\u7528\u65bc\u767c\u73fe\u57fa\u65bc\u5916\u90e8\u5de5\u5177\u7684\u64f4\u5145\u529f\u80fd\u3002</p>"},{"location":"guides/tool-manual/","title":"\ud83d\udee0\ufe0f Boring MCP \u5de5\u5177\u4f7f\u7528\u624b\u518a","text":"<p>\u672c\u624b\u518a\u8aaa\u660e\u5982\u4f55\u5728\u5be6\u969b\u958b\u767c\u4e2d\u4f7f\u7528 Boring MCP \u5de5\u5177\u3002</p>"},{"location":"guides/tool-manual/#_1","title":"\ud83d\udccb \u5feb\u901f\u53c3\u8003","text":""},{"location":"guides/tool-manual/#top-10","title":"\u6700\u5e38\u7528\u5de5\u5177 (Top 10)","text":"\u5de5\u5177 \u7528\u9014 \u7bc4\u4f8b <code>boring</code> \ud83c\udfaf \u842c\u7528\u8def\u7531\u5668 <code>\"\u5e6b\u6211\u5be9\u4ee3\u78bc\"</code> \u2192 \u81ea\u52d5\u8def\u7531 <code>boring_rag_search</code> \ud83d\udd0d \u641c\u5c0b\u7a0b\u5f0f\u78bc <code>query=\"authentication\"</code> <code>boring_code_review</code> \ud83d\udcdd \u7a0b\u5f0f\u78bc\u5be9\u67e5 <code>file_path=\"src/api.py\"</code> <code>boring_vibe_check</code> \u2705 \u5065\u5eb7\u6aa2\u67e5 <code>target_path=\"src/\"</code> <code>boring_verify</code> \ud83e\uddea \u57f7\u884c\u9a57\u8b49 <code>level=\"FULL\"</code> <code>boring_test_gen</code> \ud83e\uddea \u751f\u6210\u6e2c\u8a66 <code>file_path=\"src/utils.py\"</code> <code>boring_commit</code> \ud83d\udce6 \u667a\u80fd\u63d0\u4ea4 \u81ea\u52d5\u751f\u6210 commit message <code>boring_security_scan</code> \ud83d\udd12 \u5b89\u5168\u6383\u63cf <code>scan_type=\"full\"</code> <code>boring_impact_check</code> \ud83d\udca5 \u5f71\u97ff\u5206\u6790 <code>target_path=\"src/core.py\"</code> <code>boring_suggest_next</code> \ud83d\udca1 \u4e0b\u4e00\u6b65\u5efa\u8b70 \u6839\u64da\u5c08\u6848\u72c0\u614b\u63a8\u85a6"},{"location":"guides/tool-manual/#rag","title":"\ud83d\udd0d \u641c\u5c0b\u7a0b\u5f0f\u78bc (RAG)","text":""},{"location":"guides/tool-manual/#_2","title":"\u57fa\u672c\u641c\u5c0b","text":"<pre><code>boring_rag_search query=\"\u7528\u6236\u8a8d\u8b49\u908f\u8f2f\"\nboring_rag_search query=\"database connection\"\nboring_rag_search query=\"error handling\"\n</code></pre>"},{"location":"guides/tool-manual/#_3","title":"\u9032\u968e\u641c\u5c0b","text":"<pre><code># \u9650\u5236\u641c\u5c0b\u7bc4\u570d\nboring_rag_search query=\"login\" file_filter=\"auth\"\n\n# \u8abf\u6574\u7d50\u679c\u6578\u91cf\nboring_rag_search query=\"API endpoints\" max_results=20\n\n# \u5c55\u958b\u4f9d\u8cf4\u5716\nboring_rag_expand chunk_id=\"chunk_123\" depth=3\n</code></pre>"},{"location":"guides/tool-manual/#_4","title":"\u9996\u6b21\u4f7f\u7528\u9700\u8981\u5efa\u7acb\u7d22\u5f15","text":"<pre><code>boring_rag_index project_path=\".\"\nboring_rag_status  # \u67e5\u770b\u7d22\u5f15\u72c0\u614b\n</code></pre>"},{"location":"guides/tool-manual/#_5","title":"\ud83d\udcdd \u7a0b\u5f0f\u78bc\u5be9\u67e5","text":""},{"location":"guides/tool-manual/#_6","title":"\u55ae\u6a94\u6848\u5be9\u67e5","text":"<pre><code>boring_code_review file_path=\"src/api/auth.py\"\nboring_code_review file_path=\"src/components/Login.tsx\"\n</code></pre>"},{"location":"guides/tool-manual/#_7","title":"\u6307\u5b9a\u5be9\u67e5\u7126\u9ede","text":"<pre><code># \u7126\u9ede\u9078\u9805: all, naming, error_handling, performance, security\nboring_code_review file_path=\"src/api.py\" focus=\"security\"\nboring_code_review file_path=\"src/utils.py\" focus=\"performance\"\n</code></pre>"},{"location":"guides/tool-manual/#vibe-check","title":"\u2705 \u5065\u5eb7\u6aa2\u67e5 (Vibe Check)","text":""},{"location":"guides/tool-manual/#_8","title":"\u5feb\u901f\u6aa2\u67e5","text":"<pre><code># \u6aa2\u67e5\u55ae\u6a94\u6848\nboring_vibe_check target_path=\"src/main.py\"\n\n# \u6aa2\u67e5\u6574\u500b\u76ee\u9304\nboring_vibe_check target_path=\"src/\"\n\n# \u6aa2\u67e5\u6574\u500b\u5c08\u6848\nboring_vibe_check target_path=\".\"\n</code></pre>"},{"location":"guides/tool-manual/#_9","title":"\u8f38\u51fa\u5305\u542b","text":"<ul> <li>\ud83c\udfaf Vibe Score (0-100)</li> <li>\ud83d\udccb Lint \u554f\u984c\u5217\u8868</li> <li>\ud83d\udd12 \u5b89\u5168\u554f\u984c</li> <li>\ud83d\udcda \u6587\u6a94\u8986\u84cb\u7387</li> <li>\ud83d\udd27 \u4e00\u9375\u4fee\u5fa9 Prompt</li> </ul>"},{"location":"guides/tool-manual/#_10","title":"\ud83e\uddea \u6e2c\u8a66\u751f\u6210","text":""},{"location":"guides/tool-manual/#_11","title":"\u81ea\u52d5\u751f\u6210\u55ae\u5143\u6e2c\u8a66","text":"<pre><code># Python \u6a94\u6848\nboring_test_gen file_path=\"src/utils.py\"\n\n# TypeScript \u6a94\u6848\nboring_test_gen file_path=\"src/services/auth.ts\"\n\n# \u6307\u5b9a\u8f38\u51fa\u76ee\u9304\nboring_test_gen file_path=\"src/api.py\" output_dir=\"tests/\"\n</code></pre>"},{"location":"guides/tool-manual/#_12","title":"\u652f\u63f4\u8a9e\u8a00","text":"<ul> <li>\u2705 Python (pytest)</li> <li>\u2705 JavaScript/TypeScript (jest)</li> </ul>"},{"location":"guides/tool-manual/#_13","title":"\ud83d\udd12 \u5b89\u5168\u6383\u63cf","text":""},{"location":"guides/tool-manual/#_14","title":"\u5b8c\u6574\u6383\u63cf","text":"<pre><code>boring_security_scan scan_type=\"full\"\n</code></pre>"},{"location":"guides/tool-manual/#_15","title":"\u6307\u5b9a\u6383\u63cf\u985e\u578b","text":"<pre><code># \u53ea\u6383\u63cf\u5bc6\u9470\u6d29\u6f0f\nboring_security_scan scan_type=\"secrets\"\n\n# \u53ea\u6383\u63cf\u6f0f\u6d1e\nboring_security_scan scan_type=\"vulnerabilities\"\n\n# \u53ea\u6383\u63cf\u4f9d\u8cf4\nboring_security_scan scan_type=\"dependencies\"\n</code></pre>"},{"location":"guides/tool-manual/#git","title":"\ud83d\udce6 Git \u64cd\u4f5c","text":""},{"location":"guides/tool-manual/#_16","title":"\u667a\u80fd\u63d0\u4ea4","text":"<pre><code># \u81ea\u52d5\u5206\u6790\u8b8a\u66f4\u4e26\u751f\u6210\u8a9e\u7fa9\u5316 commit message\nboring_commit\nboring_commit commit_type=\"feat\" scope=\"auth\"\n</code></pre>"},{"location":"guides/tool-manual/#git-hooks","title":"Git Hooks","text":"<pre><code># \u5b89\u88dd hooks (\u63d0\u4ea4\u524d\u81ea\u52d5\u9a57\u8b49)\nboring_hooks_install\n\n# \u67e5\u770b hooks \u72c0\u614b\nboring_hooks_status\n\n# \u79fb\u9664 hooks\nboring_hooks_uninstall\n</code></pre>"},{"location":"guides/tool-manual/#_17","title":"\ud83d\udca5 \u5f71\u97ff\u5206\u6790","text":""},{"location":"guides/tool-manual/#_18","title":"\u4fee\u6539\u524d\u5206\u6790","text":"<pre><code># \u67e5\u770b\u4fee\u6539\u6b64\u6a94\u6848\u6703\u5f71\u97ff\u54ea\u4e9b\u6a21\u7d44\nboring_impact_check target_path=\"src/core/database.py\"\nboring_impact_check target_path=\"src/utils/helpers.ts\" max_depth=3\n</code></pre>"},{"location":"guides/tool-manual/#_19","title":"\u8f38\u51fa\u5305\u542b","text":"<ul> <li>\ud83d\udcca \u4f9d\u8cf4\u6b64\u6a94\u6848\u7684\u6a21\u7d44\u5217\u8868</li> <li>\u26a0\ufe0f \u98a8\u96aa\u7b49\u7d1a</li> <li>\ud83e\uddea \u9700\u8981\u9a57\u8b49\u7684\u6e2c\u8a66</li> </ul>"},{"location":"guides/tool-manual/#shadow-mode","title":"\ud83d\udee1\ufe0f Shadow Mode (\u5b89\u5168\u6a21\u5f0f)","text":""},{"location":"guides/tool-manual/#_20","title":"\u67e5\u770b\u72c0\u614b","text":"<pre><code>boring_shadow_status\n</code></pre>"},{"location":"guides/tool-manual/#_21","title":"\u5207\u63db\u6a21\u5f0f","text":"<pre><code># \u6b63\u5e38\u6a21\u5f0f (\u4f4e\u98a8\u96aa\u64cd\u4f5c\u81ea\u52d5\u57f7\u884c)\nboring_shadow_mode mode=\"ENABLED\"\n\n# \u56b4\u683c\u6a21\u5f0f (\u6240\u6709\u5beb\u5165\u9700\u78ba\u8a8d)\nboring_shadow_mode mode=\"STRICT\"\n\n# \u95dc\u9589 (\u4e0d\u63a8\u85a6)\nboring_shadow_mode mode=\"DISABLED\"\n</code></pre>"},{"location":"guides/tool-manual/#_22","title":"\u5be9\u6838\u64cd\u4f5c","text":"<pre><code>boring_shadow_approve operation_id=\"xxx\"\nboring_shadow_reject operation_id=\"xxx\"\n</code></pre>"},{"location":"guides/tool-manual/#_23","title":"\ud83d\udcd0 \u67b6\u69cb\u5206\u6790","text":""},{"location":"guides/tool-manual/#_24","title":"\u751f\u6210\u4f9d\u8cf4\u5716","text":"<pre><code>boring_arch_check target_path=\"src/\"\nboring_visualize scope=\"module\"\n</code></pre>"},{"location":"guides/tool-manual/#_25","title":"\u8f38\u51fa\u683c\u5f0f","text":"<pre><code># Mermaid \u5716\u8868\nboring_arch_check output_format=\"mermaid\"\n\n# JSON\nboring_arch_check output_format=\"json\"\n</code></pre>"},{"location":"guides/tool-manual/#_26","title":"\ud83d\udca1 \u667a\u80fd\u5efa\u8b70","text":""},{"location":"guides/tool-manual/#_27","title":"\u7372\u53d6\u4e0b\u4e00\u6b65\u5efa\u8b70","text":"<pre><code>boring_suggest_next\nboring_suggest_next limit=5\n</code></pre>"},{"location":"guides/tool-manual/#_28","title":"\u8f38\u51fa\u5305\u542b","text":"<ul> <li>\ud83c\udfaf \u63a8\u85a6\u7684\u4e0b\u4e00\u6b65\u884c\u52d5</li> <li>\ud83d\udcca \u5c08\u6848\u72c0\u614b\u5206\u6790</li> <li>\u26a0\ufe0f \u6f5b\u5728\u554f\u984c</li> </ul>"},{"location":"guides/tool-manual/#_29","title":"\ud83d\ude80 \u5de5\u4f5c\u6d41\u7bc4\u4f8b","text":""},{"location":"guides/tool-manual/#_30","title":"\u65b0\u529f\u80fd\u958b\u767c","text":"<pre><code>1. boring_rag_search query=\"\u76f8\u95dc\u529f\u80fd\"     # \u641c\u5c0b\u73fe\u6709\u7a0b\u5f0f\u78bc\n2. boring_impact_check target_path=\"...\"  # \u5206\u6790\u4fee\u6539\u5f71\u97ff\n3. [\u958b\u767c\u7a0b\u5f0f\u78bc]\n4. boring_code_review file_path=\"...\"     # \u5be9\u67e5\u7a0b\u5f0f\u78bc\n5. boring_test_gen file_path=\"...\"        # \u751f\u6210\u6e2c\u8a66\n6. boring_vibe_check target_path=\"...\"    # \u5065\u5eb7\u6aa2\u67e5\n7. boring_verify level=\"FULL\"             # \u57f7\u884c\u9a57\u8b49\n8. boring_commit                          # \u667a\u80fd\u63d0\u4ea4\n</code></pre>"},{"location":"guides/tool-manual/#bug","title":"\u4fee\u5fa9 Bug","text":"<pre><code>1. boring_rag_search query=\"\u932f\u8aa4\u8a0a\u606f\"     # \u641c\u5c0b\u76f8\u95dc\u7a0b\u5f0f\u78bc\n2. [\u4fee\u5fa9\u7a0b\u5f0f\u78bc]\n3. boring_security_scan                   # \u78ba\u4fdd\u7121\u5b89\u5168\u554f\u984c\n4. boring_vibe_check                      # \u5065\u5eb7\u6aa2\u67e5\n5. boring_commit commit_type=\"fix\"        # \u63d0\u4ea4\u4fee\u5fa9\n</code></pre>"},{"location":"guides/tool-manual/#_31","title":"\u7a0b\u5f0f\u78bc\u5be9\u67e5","text":"<pre><code>1. boring_code_review file_path=\"...\" focus=\"all\"\n2. boring_security_scan scan_type=\"secrets\"\n3. boring_arch_check target_path=\"...\"\n</code></pre>"},{"location":"guides/tool-manual/#_32","title":"\u2699\ufe0f \u74b0\u5883\u8b8a\u6578","text":"\u8b8a\u6578 \u503c \u8aaa\u660e <code>BORING_MCP_MODE</code> <code>1</code> \u555f\u7528 MCP \u6a21\u5f0f (\u5fc5\u9808) <code>BORING_MCP_PROFILE</code> <code>lite</code>/<code>standard</code>/<code>full</code> \u5de5\u5177\u5c64\u7d1a <code>PROJECT_ROOT_DEFAULT</code> <code>.</code> \u9810\u8a2d\u5c08\u6848\u8def\u5f91"},{"location":"guides/tool-manual/#_33","title":"\ud83d\udcda \u5ef6\u4f38\u95b1\u8b80","text":"<ul> <li>MCP \u8a2d\u5b9a\u6307\u5357</li> <li>\u4f7f\u7528\u6a21\u5f0f\u8aaa\u660e</li> <li>YOLO \u6a21\u5f0f\u6574\u5408</li> </ul>"},{"location":"guides/tool-manual_en/","title":"\ud83d\udee0\ufe0f Boring MCP Tool Manual","text":"<p>This manual explains how to use Boring MCP tools in real development.</p>"},{"location":"guides/tool-manual_en/#quick-reference","title":"\ud83d\udccb Quick Reference","text":""},{"location":"guides/tool-manual_en/#most-used-tools-top-10","title":"Most Used Tools (Top 10)","text":"Tool Purpose Example <code>boring</code> \ud83c\udfaf Universal router <code>\"review my code\"</code> \u2192 auto routes <code>boring_rag_search</code> \ud83d\udd0d Search code <code>query=\"authentication\"</code> <code>boring_code_review</code> \ud83d\udcdd Code review <code>file_path=\"src/api.py\"</code> <code>boring_vibe_check</code> \u2705 Health check <code>target_path=\"src/\"</code> <code>boring_verify</code> \ud83e\uddea Run verification <code>level=\"FULL\"</code> <code>boring_test_gen</code> \ud83e\uddea Generate tests <code>file_path=\"src/utils.py\"</code> <code>boring_commit</code> \ud83d\udce6 Smart commit Auto-generates commit message <code>boring_security_scan</code> \ud83d\udd12 Security scan <code>scan_type=\"full\"</code> <code>boring_impact_check</code> \ud83d\udca5 Impact analysis <code>target_path=\"src/core.py\"</code> <code>boring_suggest_next</code> \ud83d\udca1 Next step suggestion Based on project state"},{"location":"guides/tool-manual_en/#code-search-rag","title":"\ud83d\udd0d Code Search (RAG)","text":""},{"location":"guides/tool-manual_en/#basic-search","title":"Basic Search","text":"<pre><code>boring_rag_search query=\"user authentication logic\"\nboring_rag_search query=\"database connection\"\nboring_rag_search query=\"error handling\"\n</code></pre>"},{"location":"guides/tool-manual_en/#advanced-search","title":"Advanced Search","text":"<pre><code># Limit search scope\nboring_rag_search query=\"login\" file_filter=\"auth\"\n\n# Adjust result count\nboring_rag_search query=\"API endpoints\" max_results=20\n\n# Expand dependency graph\nboring_rag_expand chunk_id=\"chunk_123\" depth=3\n</code></pre>"},{"location":"guides/tool-manual_en/#first-use-build-index","title":"First Use - Build Index","text":"<pre><code>boring_rag_index project_path=\".\"\nboring_rag_status  # Check index status\n</code></pre>"},{"location":"guides/tool-manual_en/#code-review","title":"\ud83d\udcdd Code Review","text":""},{"location":"guides/tool-manual_en/#single-file-review","title":"Single File Review","text":"<pre><code>boring_code_review file_path=\"src/api/auth.py\"\nboring_code_review file_path=\"src/components/Login.tsx\"\n</code></pre>"},{"location":"guides/tool-manual_en/#specify-review-focus","title":"Specify Review Focus","text":"<pre><code># Focus options: all, naming, error_handling, performance, security\nboring_code_review file_path=\"src/api.py\" focus=\"security\"\nboring_code_review file_path=\"src/utils.py\" focus=\"performance\"\n</code></pre>"},{"location":"guides/tool-manual_en/#health-check-vibe-check","title":"\u2705 Health Check (Vibe Check)","text":""},{"location":"guides/tool-manual_en/#quick-check","title":"Quick Check","text":"<pre><code># Check single file\nboring_vibe_check target_path=\"src/main.py\"\n\n# Check entire directory\nboring_vibe_check target_path=\"src/\"\n\n# Check entire project\nboring_vibe_check target_path=\".\"\n</code></pre>"},{"location":"guides/tool-manual_en/#output-includes","title":"Output Includes","text":"<ul> <li>\ud83c\udfaf Vibe Score (0-100)</li> <li>\ud83d\udccb Lint issues list</li> <li>\ud83d\udd12 Security issues</li> <li>\ud83d\udcda Documentation coverage</li> <li>\ud83d\udd27 One-click fix prompt</li> </ul>"},{"location":"guides/tool-manual_en/#test-generation","title":"\ud83e\uddea Test Generation","text":""},{"location":"guides/tool-manual_en/#auto-generate-unit-tests","title":"Auto-generate Unit Tests","text":"<pre><code># Python files\nboring_test_gen file_path=\"src/utils.py\"\n\n# TypeScript files\nboring_test_gen file_path=\"src/services/auth.ts\"\n\n# Specify output directory\nboring_test_gen file_path=\"src/api.py\" output_dir=\"tests/\"\n</code></pre>"},{"location":"guides/tool-manual_en/#supported-languages","title":"Supported Languages","text":"<ul> <li>\u2705 Python (pytest)</li> <li>\u2705 JavaScript/TypeScript (jest)</li> </ul>"},{"location":"guides/tool-manual_en/#security-scanning","title":"\ud83d\udd12 Security Scanning","text":""},{"location":"guides/tool-manual_en/#full-scan","title":"Full Scan","text":"<pre><code>boring_security_scan scan_type=\"full\"\n</code></pre>"},{"location":"guides/tool-manual_en/#specific-scan-types","title":"Specific Scan Types","text":"<pre><code># Secrets only\nboring_security_scan scan_type=\"secrets\"\n\n# Vulnerabilities only\nboring_security_scan scan_type=\"vulnerabilities\"\n\n# Dependencies only\nboring_security_scan scan_type=\"dependencies\"\n</code></pre>"},{"location":"guides/tool-manual_en/#git-operations","title":"\ud83d\udce6 Git Operations","text":""},{"location":"guides/tool-manual_en/#smart-commit","title":"Smart Commit","text":"<pre><code># Auto-analyze changes and generate semantic commit message\nboring_commit\nboring_commit commit_type=\"feat\" scope=\"auth\"\n</code></pre>"},{"location":"guides/tool-manual_en/#git-hooks","title":"Git Hooks","text":"<pre><code># Install hooks (auto-verify before commit)\nboring_hooks_install\n\n# Check hooks status\nboring_hooks_status\n\n# Remove hooks\nboring_hooks_uninstall\n</code></pre>"},{"location":"guides/tool-manual_en/#impact-analysis","title":"\ud83d\udca5 Impact Analysis","text":""},{"location":"guides/tool-manual_en/#pre-modification-analysis","title":"Pre-modification Analysis","text":"<pre><code># See what modules would be affected by modifying this file\nboring_impact_check target_path=\"src/core/database.py\"\nboring_impact_check target_path=\"src/utils/helpers.ts\" max_depth=3\n</code></pre>"},{"location":"guides/tool-manual_en/#output-includes_1","title":"Output Includes","text":"<ul> <li>\ud83d\udcca List of modules depending on this file</li> <li>\u26a0\ufe0f Risk level</li> <li>\ud83e\uddea Tests that need verification</li> </ul>"},{"location":"guides/tool-manual_en/#shadow-mode-safety-mode","title":"\ud83d\udee1\ufe0f Shadow Mode (Safety Mode)","text":""},{"location":"guides/tool-manual_en/#check-status","title":"Check Status","text":"<pre><code>boring_shadow_status\n</code></pre>"},{"location":"guides/tool-manual_en/#switch-modes","title":"Switch Modes","text":"<pre><code># Normal mode (low-risk auto-executes)\nboring_shadow_mode mode=\"ENABLED\"\n\n# Strict mode (all writes need approval)\nboring_shadow_mode mode=\"STRICT\"\n\n# Disabled (not recommended)\nboring_shadow_mode mode=\"DISABLED\"\n</code></pre>"},{"location":"guides/tool-manual_en/#review-operations","title":"Review Operations","text":"<pre><code>boring_shadow_approve operation_id=\"xxx\"\nboring_shadow_reject operation_id=\"xxx\"\n</code></pre>"},{"location":"guides/tool-manual_en/#architecture-analysis","title":"\ud83d\udcd0 Architecture Analysis","text":""},{"location":"guides/tool-manual_en/#generate-dependency-graph","title":"Generate Dependency Graph","text":"<pre><code>boring_arch_check target_path=\"src/\"\nboring_visualize scope=\"module\"\n</code></pre>"},{"location":"guides/tool-manual_en/#output-formats","title":"Output Formats","text":"<pre><code># Mermaid diagram\nboring_arch_check output_format=\"mermaid\"\n\n# JSON\nboring_arch_check output_format=\"json\"\n</code></pre>"},{"location":"guides/tool-manual_en/#smart-suggestions","title":"\ud83d\udca1 Smart Suggestions","text":""},{"location":"guides/tool-manual_en/#get-next-step-suggestions","title":"Get Next Step Suggestions","text":"<pre><code>boring_suggest_next\nboring_suggest_next limit=5\n</code></pre>"},{"location":"guides/tool-manual_en/#output-includes_2","title":"Output Includes","text":"<ul> <li>\ud83c\udfaf Recommended next actions</li> <li>\ud83d\udcca Project state analysis</li> <li>\u26a0\ufe0f Potential issues</li> </ul>"},{"location":"guides/tool-manual_en/#workflow-examples","title":"\ud83d\ude80 Workflow Examples","text":""},{"location":"guides/tool-manual_en/#new-feature-development","title":"New Feature Development","text":"<pre><code>1. boring_rag_search query=\"related feature\"    # Search existing code\n2. boring_impact_check target_path=\"...\"        # Analyze modification impact\n3. [Develop code]\n4. boring_code_review file_path=\"...\"           # Review code\n5. boring_test_gen file_path=\"...\"              # Generate tests\n6. boring_vibe_check target_path=\"...\"          # Health check\n7. boring_verify level=\"FULL\"                   # Run verification\n8. boring_commit                                # Smart commit\n</code></pre>"},{"location":"guides/tool-manual_en/#bug-fix","title":"Bug Fix","text":"<pre><code>1. boring_rag_search query=\"error message\"      # Search related code\n2. [Fix code]\n3. boring_security_scan                         # Ensure no security issues\n4. boring_vibe_check                            # Health check\n5. boring_commit commit_type=\"fix\"              # Commit fix\n</code></pre>"},{"location":"guides/tool-manual_en/#code-review_1","title":"Code Review","text":"<pre><code>1. boring_code_review file_path=\"...\" focus=\"all\"\n2. boring_security_scan scan_type=\"secrets\"\n3. boring_arch_check target_path=\"...\"\n</code></pre>"},{"location":"guides/tool-manual_en/#environment-variables","title":"\u2699\ufe0f Environment Variables","text":"Variable Values Description <code>BORING_MCP_MODE</code> <code>1</code> Enable MCP mode (required) <code>BORING_MCP_PROFILE</code> <code>lite</code>/<code>standard</code>/<code>full</code> Tool level <code>PROJECT_ROOT_DEFAULT</code> <code>.</code> Default project path"},{"location":"guides/tool-manual_en/#further-reading","title":"\ud83d\udcda Further Reading","text":"<ul> <li>MCP Configuration Guide</li> <li>Usage Modes</li> <li>YOLO Mode Integration</li> </ul>"},{"location":"guides/usage-modes/","title":"Boring \u4f7f\u7528\u6a21\u5f0f\u6307\u5357","text":"<p>\u672c\u6587\u4ef6\u8aaa\u660e Boring \u7684\u4e09\u7a2e\u4e3b\u8981\u4f7f\u7528\u6a21\u5f0f\uff0c\u4ee5\u53ca\u5404\u81ea\u9700\u8981\u7684\u8a2d\u5b9a\u3002</p>"},{"location":"guides/usage-modes/#_1","title":"\u4e09\u7a2e\u6a21\u5f0f\u6bd4\u8f03","text":"\u529f\u80fd MCP \u5de5\u5177\u6a21\u5f0f Gemini CLI YOLO \u6a21\u5f0f Boring \u81ea\u4e3b\u8ff4\u5708 \u57f7\u884c\u65b9\u5f0f \u4e00\u554f\u4e00\u7b54 <code>gemini --yolo</code> <code>boring start</code> \u9700\u8981 API Key \u274c \u274c (\u7528 Google \u5e33\u865f) \u2705 <code>GEMINI_API_KEY</code> \u9700\u8981 PROMPT.md \u274c \u274c \u2705 \u81ea\u52d5\u505c\u6b62 N/A \u274c \u9700\u624b\u52d5 Ctrl+C \u2705 \u81ea\u52d5\u5075\u6e2c\u5b8c\u6210 \u5b89\u5168\u4fdd\u8b77 \u2705 \u26a0\ufe0f \u7121\u78ba\u8a8d \u2705 Shadow Mode \u7a69\u5b9a\u5ea6 \u2705 \u7a69\u5b9a \u2705 \u5b98\u65b9\u652f\u63f4 \u26a0\ufe0f \u5be6\u9a57\u6027"},{"location":"guides/usage-modes/#mcp","title":"\u6a21\u5f0f\u4e00\uff1aMCP \u5de5\u5177\u6a21\u5f0f\uff08\u63a8\u85a6\u65e5\u5e38\u4f7f\u7528\uff09","text":"<p>\u9019\u662f\u6700\u7a69\u5b9a\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u9069\u5408\u65e5\u5e38\u958b\u767c\u3002</p>"},{"location":"guides/usage-modes/#_2","title":"\u904b\u4f5c\u65b9\u5f0f","text":"<pre><code>\u4f60 \u2192 Gemini CLI \u2192 MCP \u5de5\u5177 (boring_rag_search \u7b49) \u2192 \u7d50\u679c\n</code></pre>"},{"location":"guides/usage-modes/#_3","title":"\u8a2d\u5b9a\u65b9\u5f0f","text":"<ol> <li> <p>\u900f\u904e Smithery \u5b89\u88dd\uff1a    <pre><code>npx -y @smithery/cli@latest install @anthropic/boring-mcp --client claude\n</code></pre></p> </li> <li> <p>\u6216\u624b\u52d5\u8a2d\u5b9a <code>~/.gemini/settings.json</code></p> </li> </ol>"},{"location":"guides/usage-modes/#_4","title":"\u53ef\u7528\u5de5\u5177","text":"<ul> <li><code>boring_rag_search</code> - \u8a9e\u610f\u641c\u5c0b\u7a0b\u5f0f\u78bc</li> <li><code>boring_code_review</code> - AI \u7a0b\u5f0f\u78bc\u5be9\u67e5</li> <li><code>boring_vibe_check</code> - \u5c08\u6848\u5065\u5eb7\u8a55\u5206</li> <li><code>boring_impact_check</code> - \u5f71\u97ff\u5206\u6790</li> <li>\u7b49 50+ \u5de5\u5177...</li> </ul>"},{"location":"guides/usage-modes/#gemini-cli-yolo","title":"\u6a21\u5f0f\u4e8c\uff1aGemini CLI YOLO \u6a21\u5f0f\uff08\u63a8\u85a6\u81ea\u4e3b\u958b\u767c\uff09","text":"<p>\u2705 \u63a8\u85a6\uff1a\u9019\u662f\u76ee\u524d\u6700\u7a69\u5b9a\u7684\u81ea\u4e3b\u958b\u767c\u65b9\u5f0f\uff0c\u7531 Google \u5b98\u65b9\u652f\u63f4\u3002</p> <p>YOLO (You Only Live Once) \u6a21\u5f0f\u8b93 Gemini CLI \u53ef\u4ee5\u4e0d\u9700\u78ba\u8a8d\u5730\u81ea\u52d5\u57f7\u884c\u5de5\u5177\u548c\u6307\u4ee4\u3002</p>"},{"location":"guides/usage-modes/#_5","title":"\u904b\u4f5c\u65b9\u5f0f","text":"<pre><code>gemini --yolo \"\u5b8c\u6210 TODO \u6e05\u55ae\u4e0a\u7684\u6240\u6709\u4efb\u52d9\" \u2192 AI \u81ea\u52d5\u57f7\u884c \u2192 \u76f4\u5230\u5b8c\u6210\u6216\u4f60\u6309 Ctrl+C\n</code></pre>"},{"location":"guides/usage-modes/#_6","title":"\u555f\u52d5\u65b9\u5f0f","text":"<pre><code># \u65b9\u6cd5\u4e00\uff1a\u547d\u4ee4\u5217\u53c3\u6578\ngemini --yolo\n\n# \u65b9\u6cd5\u4e8c\uff1a\u4e92\u52d5\u4e2d\u6309\u5feb\u6377\u9375\n# \u9032\u5165 gemini \u5f8c\u6309 Ctrl+Y \u958b\u555f YOLO \u6a21\u5f0f\n</code></pre>"},{"location":"guides/usage-modes/#boring-mcp","title":"\u642d\u914d Boring MCP \u5de5\u5177","text":"<p>YOLO \u6a21\u5f0f\u53ef\u4ee5\u547c\u53eb Boring \u7684 MCP \u5de5\u5177\uff01</p> <ol> <li>\u5148\u8a2d\u5b9a MCP\uff08\u898b\u6a21\u5f0f\u4e00\uff09</li> <li>\u555f\u52d5 YOLO \u6a21\u5f0f</li> <li>AI \u6703\u81ea\u52d5\u547c\u53eb <code>boring_rag_search</code>\u3001<code>boring_code_review</code> \u7b49</li> </ol>"},{"location":"guides/usage-modes/#_7","title":"\u512a\u9ede","text":"<ul> <li>\u2705 \u4e0d\u9700\u8981 API Key\uff08\u7528 Google \u5e33\u865f\u767b\u5165\uff09</li> <li>\u2705 \u5b98\u65b9\u652f\u63f4\uff0c\u7a69\u5b9a\u53ef\u9760</li> <li>\u2705 \u5167\u5efa ReAct Loop\uff08\u63a8\u7406 + \u57f7\u884c\uff09</li> <li>\u2705 \u53ef\u4ee5\u642d\u914d\u6240\u6709 MCP \u5de5\u5177</li> </ul>"},{"location":"guides/usage-modes/#_8","title":"\u6ce8\u610f\u4e8b\u9805","text":"<p>\u26a0\ufe0f \u8b66\u544a\uff1aYOLO \u6a21\u5f0f\u6703\u8df3\u904e\u6240\u6709\u78ba\u8a8d\uff01AI \u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u6a94\u6848\u3001\u57f7\u884c\u6307\u4ee4\u3002 \u5efa\u8b70\u5728\u53ef\u4fe1\u4efb\u7684\u74b0\u5883\u6216 Docker \u5bb9\u5668\u4e2d\u4f7f\u7528\u3002</p>"},{"location":"guides/usage-modes/#boring_1","title":"\u6a21\u5f0f\u4e09\uff1aBoring \u81ea\u4e3b\u8ff4\u5708\uff08\u5be6\u9a57\u6027\uff09","text":"<p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u6b64\u529f\u80fd\u4ecd\u5728\u958b\u767c\u4e2d\uff0c\u5c1a\u672a\u6709\u8db3\u5920\u6e2c\u8a66\u3002\u5982\u679c\u4f60\u60f3\u8981\u81ea\u4e3b\u958b\u767c\uff0c\u5efa\u8b70\u512a\u5148\u4f7f\u7528 Gemini CLI YOLO \u6a21\u5f0f\u3002</p> <p>\u9019\u662f\u8b93 AI \u5b8c\u5168\u81ea\u4e3b\u958b\u767c\u7684\u6a21\u5f0f\u3002AI \u6703\u8b80\u53d6 <code>PROMPT.md</code>\uff0c\u81ea\u52d5\u57f7\u884c\u4efb\u52d9\uff0c\u76f4\u5230\u6240\u6709\u5de5\u4f5c\u5b8c\u6210\u3002</p>"},{"location":"guides/usage-modes/#_9","title":"\u904b\u4f5c\u65b9\u5f0f","text":"<pre><code>boring start \u2192 \u8b80\u53d6 PROMPT.md \u2192 \u547c\u53eb AI \u2192 \u89e3\u6790\u56de\u61c9 \u2192 \u91cd\u8907\u76f4\u5230\u5b8c\u6210\n</code></pre>"},{"location":"guides/usage-modes/#_10","title":"\u5fc5\u8981\u689d\u4ef6","text":"<ol> <li> <p>API Key\uff1a\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578    <pre><code>export GEMINI_API_KEY=your_api_key_here\n</code></pre></p> </li> <li> <p>\u5c08\u6848\u7d50\u69cb\uff1a    <pre><code>your-project/\n\u251c\u2500\u2500 PROMPT.md      # AI \u7684\u5de5\u4f5c\u6307\u4ee4\n\u251c\u2500\u2500 @fix_plan.md   # \u5f85\u8fa6\u6e05\u55ae\n\u2514\u2500\u2500 specs/         # \u5c08\u6848\u898f\u683c\n</code></pre></p> </li> </ol>"},{"location":"guides/usage-modes/#_11","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<pre><code># \u5efa\u7acb\u65b0\u5c08\u6848\nboring-setup my-project\ncd my-project\n\n# \u7de8\u8f2f PROMPT.md \u548c @fix_plan.md\n\n# \u555f\u52d5\u81ea\u4e3b\u8ff4\u5708\nboring start --calls 50 --timeout 30\n</code></pre>"},{"location":"guides/usage-modes/#_12","title":"\u72c0\u614b\u56de\u5831\u683c\u5f0f","text":"<p>AI \u5fc5\u9808\u5728\u56de\u61c9\u7d50\u5c3e\u5305\u542b\u72c0\u614b\u5340\u584a\uff1a</p> <pre><code>---BORING_STATUS---\nSTATUS: IN_PROGRESS | COMPLETE | BLOCKED\nEXIT_SIGNAL: false | true\nRECOMMENDATION: \u4e0b\u4e00\u6b65\u5efa\u8b70\n---END_BORING_STATUS---\n</code></pre>"},{"location":"guides/usage-modes/#_13","title":"\u7bc4\u672c\u6a94\u6848\u8aaa\u660e","text":"<p><code>src/boring/templates/</code> \u76ee\u9304\u5305\u542b\uff1a</p> \u6a94\u6848 \u7528\u9014 \u4f7f\u7528\u6642\u6a5f <code>PROMPT.md</code> AI \u5de5\u4f5c\u6307\u4ee4 \u81ea\u4e3b\u8ff4\u5708\u6a21\u5f0f <code>workflows/*.md</code> \u5de5\u4f5c\u6d41\u7a0b\u7bc4\u672c \u5169\u7a2e\u6a21\u5f0f\u90fd\u53ef\u7528 <code>specs/</code> \u898f\u683c\u6587\u4ef6\u9810\u7559\u4f4d\u7f6e \u4f7f\u7528\u8005\u81ea\u884c\u586b\u5165"},{"location":"guides/usage-modes/#_14","title":"\u4f55\u6642\u9700\u8981\u9019\u4e9b\u7bc4\u672c\uff1f","text":"\u4f7f\u7528\u6a21\u5f0f PROMPT.md workflows/ specs/ MCP \u5de5\u5177 \u274c \u2705 (\u53ef\u9078) \u274c \u81ea\u4e3b\u8ff4\u5708 \u2705 \u5fc5\u9808 \u2705 \u2705"},{"location":"guides/usage-modes/#_15","title":"\u5e38\u898b\u554f\u984c","text":""},{"location":"guides/usage-modes/#q-gemini-cli-api-key","title":"Q: \u6211\u53ea\u7528 Gemini CLI\uff0c\u9700\u8981\u8a2d\u5b9a API Key \u55ce\uff1f","text":"<p>\u4e0d\u9700\u8981\u3002Gemini CLI \u4f7f\u7528\u4f60\u7684 Google \u5e33\u865f\u767b\u5165\uff0c\u4e0d\u9700\u8981 API Key\u3002</p>"},{"location":"guides/usage-modes/#q","title":"Q: \u81ea\u4e3b\u8ff4\u5708\u6a21\u5f0f\u6703\u4e0d\u6703\u8dd1\u5f88\u4e45\uff1f","text":"<p>\u6703\u3002\u5efa\u8b70\u8a2d\u5b9a <code>--calls 50</code> \u9650\u5236 API \u547c\u53eb\u6b21\u6578\uff0c\u907f\u514d\u8d85\u652f\u3002</p>"},{"location":"guides/usage-modes/#q-promptmd","title":"Q: \u70ba\u4ec0\u9ebc\u81ea\u4e3b\u8ff4\u5708\u9700\u8981 PROMPT.md\uff1f","text":"<p>\u56e0\u70ba <code>boring start</code> \u9700\u8981\u77e5\u9053 AI \u8a72\u505a\u4ec0\u9ebc\u3002\u5b83\u6703\u8b80\u53d6 <code>PROMPT.md</code> \u4e26\u50b3\u7d66 AI\u3002</p>"},{"location":"guides/usage-modes/#q-mcp","title":"Q: MCP \u6a21\u5f0f\u6709\u4ec0\u9ebc\u9650\u5236\uff1f","text":"<ul> <li>\u6bcf\u6b21\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\uff08\u4f60\u9700\u8981\u624b\u52d5\u4e0b\u4e00\u500b\u6307\u4ee4\uff09</li> <li>\u7121\u6cd5\u81ea\u52d5\u91cd\u8a66\u5931\u6557\u7684\u64cd\u4f5c</li> <li>\u9700\u8981\u4f60\u6301\u7e8c\u76e3\u7763</li> </ul>"},{"location":"guides/usage-modes/#_16","title":"\u9078\u64c7\u5efa\u8b70","text":"\u60c5\u5883 \u63a8\u85a6\u6a21\u5f0f \u65e5\u5e38\u958b\u767c\u3001\u7a0b\u5f0f\u78bc\u641c\u5c0b\u3001\u5be9\u67e5 MCP \u5de5\u5177\u6a21\u5f0f \u5feb\u901f\u539f\u578b\u3001\u81ea\u52d5\u4fee\u5fa9\u3001\u6574\u665a\u8dd1\u4efb\u52d9 \u81ea\u4e3b\u8ff4\u5708\u6a21\u5f0f \u7a69\u5b9a\u6027\u512a\u5148 MCP \u5de5\u5177\u6a21\u5f0f \u60f3\u5617\u8a66\u65b0\u529f\u80fd \u81ea\u4e3b\u8ff4\u5708\u6a21\u5f0f"},{"location":"guides/usage-modes_en/","title":"Boring Usage Modes Guide","text":"<p>This document explains the three main usage modes of Boring and their respective configurations.</p>"},{"location":"guides/usage-modes_en/#mode-comparison","title":"Mode Comparison","text":"Feature MCP Tool Mode Gemini CLI YOLO Mode Boring Autonomous Loop Execution One question, one answer <code>gemini --yolo</code> <code>boring start</code> Requires API Key \u274c \u274c (Uses Google account) \u2705 <code>GEMINI_API_KEY</code> Requires PROMPT.md \u274c \u274c \u2705 Auto-stop N/A \u274c Manual Ctrl+C \u2705 Auto-detects completion Safety Protection \u2705 \u26a0\ufe0f No confirmation \u2705 Shadow Mode Stability \u2705 Stable \u2705 Official support \u26a0\ufe0f Experimental"},{"location":"guides/usage-modes_en/#mode-1-mcp-tool-mode-recommended-for-daily-use","title":"Mode 1: MCP Tool Mode (Recommended for Daily Use)","text":"<p>This is the most stable usage pattern, suitable for daily development.</p>"},{"location":"guides/usage-modes_en/#how-it-works","title":"How It Works","text":"<pre><code>You \u2192 Gemini CLI \u2192 MCP Tools (boring_rag_search, etc.) \u2192 Results\n</code></pre>"},{"location":"guides/usage-modes_en/#setup","title":"Setup","text":"<ol> <li> <p>Install via Smithery:    <pre><code>npx -y @smithery/cli@latest install @anthropic/boring-mcp --client claude\n</code></pre></p> </li> <li> <p>Or manually configure <code>~/.gemini/settings.json</code></p> </li> </ol>"},{"location":"guides/usage-modes_en/#available-tools","title":"Available Tools","text":"<ul> <li><code>boring_rag_search</code> - Semantic code search</li> <li><code>boring_code_review</code> - AI code review</li> <li><code>boring_vibe_check</code> - Project health score</li> <li><code>boring_impact_check</code> - Impact analysis</li> <li>50+ more tools...</li> </ul>"},{"location":"guides/usage-modes_en/#mode-2-gemini-cli-yolo-mode-recommended-for-autonomous-dev","title":"Mode 2: Gemini CLI YOLO Mode (Recommended for Autonomous Dev)","text":"<p>\u2705 Recommended: This is currently the most stable autonomous development approach, officially supported by Google.</p> <p>YOLO (You Only Live Once) mode allows Gemini CLI to automatically execute tools and commands without confirmation.</p>"},{"location":"guides/usage-modes_en/#how-it-works_1","title":"How It Works","text":"<pre><code>gemini --yolo \"Complete all tasks in TODO list\" \u2192 AI auto-executes \u2192 Until done or you press Ctrl+C\n</code></pre>"},{"location":"guides/usage-modes_en/#activation","title":"Activation","text":"<pre><code># Method 1: Command line flag\ngemini --yolo\n\n# Method 2: Hotkey during interaction\n# Press Ctrl+Y after entering gemini to enable YOLO mode\n</code></pre>"},{"location":"guides/usage-modes_en/#using-with-boring-mcp-tools","title":"Using with Boring MCP Tools","text":"<p>YOLO mode can call Boring's MCP tools!</p> <ol> <li>Set up MCP first (see Mode 1)</li> <li>Enable YOLO mode</li> <li>AI will automatically call <code>boring_rag_search</code>, <code>boring_code_review</code>, etc.</li> </ol>"},{"location":"guides/usage-modes_en/#advantages","title":"Advantages","text":"<ul> <li>\u2705 No API Key required (uses Google account login)</li> <li>\u2705 Official support, stable and reliable</li> <li>\u2705 Built-in ReAct Loop (reasoning + action)</li> <li>\u2705 Compatible with all MCP tools</li> </ul>"},{"location":"guides/usage-modes_en/#caution","title":"Caution","text":"<p>\u26a0\ufe0f Warning: YOLO mode skips all confirmations! AI can directly modify files and execute commands. Recommended to use in trusted environments or Docker containers.</p>"},{"location":"guides/usage-modes_en/#mode-3-boring-autonomous-loop-experimental","title":"Mode 3: Boring Autonomous Loop (Experimental)","text":"<p>\u26a0\ufe0f Note: This feature is still under development and lacks sufficient testing. For autonomous development, we recommend using Gemini CLI YOLO mode first.</p> <p>This mode lets AI develop completely autonomously. The AI reads <code>PROMPT.md</code>, executes tasks automatically, and continues until all work is complete.</p>"},{"location":"guides/usage-modes_en/#how-it-works_2","title":"How It Works","text":"<pre><code>boring start \u2192 Read PROMPT.md \u2192 Call AI \u2192 Parse response \u2192 Repeat until done\n</code></pre>"},{"location":"guides/usage-modes_en/#requirements","title":"Requirements","text":"<ol> <li> <p>API Key: Set environment variable    <pre><code>export GEMINI_API_KEY=your_api_key_here\n</code></pre></p> </li> <li> <p>Project Structure:    <pre><code>your-project/\n\u251c\u2500\u2500 PROMPT.md      # AI work instructions\n\u251c\u2500\u2500 @fix_plan.md   # Task checklist\n\u2514\u2500\u2500 specs/         # Project specifications\n</code></pre></p> </li> </ol>"},{"location":"guides/usage-modes_en/#usage","title":"Usage","text":"<pre><code># Create new project\nboring-setup my-project\ncd my-project\n\n# Edit PROMPT.md and @fix_plan.md\n\n# Start autonomous loop\nboring start --calls 50 --timeout 30\n</code></pre>"},{"location":"guides/usage-modes_en/#status-reporting","title":"Status Reporting","text":"<p>AI must include status block at response end:</p> <pre><code>---BORING_STATUS---\nSTATUS: IN_PROGRESS | COMPLETE | BLOCKED\nEXIT_SIGNAL: false | true\nRECOMMENDATION: Next step suggestion\n---END_BORING_STATUS---\n</code></pre>"},{"location":"guides/usage-modes_en/#template-files","title":"Template Files","text":"<p>The <code>src/boring/templates/</code> directory contains:</p> File Purpose When Used <code>PROMPT.md</code> AI work instructions Autonomous loop mode <code>workflows/*.md</code> Workflow templates Both modes <code>specs/</code> Specification placeholder User fills in"},{"location":"guides/usage-modes_en/#when-do-you-need-these-templates","title":"When Do You Need These Templates?","text":"Mode PROMPT.md workflows/ specs/ MCP Tools \u274c \u2705 (Optional) \u274c Autonomous \u2705 Required \u2705 \u2705"},{"location":"guides/usage-modes_en/#faq","title":"FAQ","text":""},{"location":"guides/usage-modes_en/#q-do-i-need-an-api-key-for-gemini-cli","title":"Q: Do I need an API Key for Gemini CLI?","text":"<p>No. Gemini CLI uses your Google account login, no API Key needed.</p>"},{"location":"guides/usage-modes_en/#q-will-the-autonomous-loop-run-for-a-long-time","title":"Q: Will the autonomous loop run for a long time?","text":"<p>Yes. Set <code>--calls 50</code> to limit API calls and avoid overspending.</p>"},{"location":"guides/usage-modes_en/#q-why-does-autonomous-mode-need-promptmd","title":"Q: Why does autonomous mode need PROMPT.md?","text":"<p>Because <code>boring start</code> needs to know what the AI should do. It reads <code>PROMPT.md</code> and sends it to the AI.</p>"},{"location":"guides/usage-modes_en/#q-what-are-the-limitations-of-mcp-mode","title":"Q: What are the limitations of MCP mode?","text":"<ul> <li>Can only do one thing at a time (you need to issue the next command)</li> <li>Cannot auto-retry failed operations</li> <li>Requires your ongoing supervision</li> </ul>"},{"location":"guides/usage-modes_en/#recommendations","title":"Recommendations","text":"Scenario Recommended Mode Daily dev, code search, review MCP Tool Mode Rapid prototyping, auto-fix, overnight tasks Autonomous Loop Stability first MCP Tool Mode Want to try new features Autonomous Loop"},{"location":"guides/vibe-coder-prompts/","title":"\ud83c\udf89 Vibe Coder \u81ea\u7136\u8a9e\u8a00\u89f8\u767c\u6307\u5357","text":"<p>\u4f60\u4e0d\u9700\u8981\u61c2\u7a0b\u5f0f\u78bc\uff01 \u53ea\u8981\u7528\u81ea\u7136\u8a9e\u8a00\u8aaa\u51fa\u4f60\u60f3\u505a\u7684\u4e8b\uff0cBoring \u5c31\u6703\u5e6b\u4f60\u641e\u5b9a\u3002</p>"},{"location":"guides/vibe-coder-prompts/#_1","title":"\ud83d\ude80 \u5feb\u901f\u4e0a\u624b","text":"\u4f60\u60f3\u505a\u4ec0\u9ebc \u76f4\u63a5\u8aaa\u9019\u4e9b\u8a71 \u958b\u59cb\u65b0\u5c08\u6848 <code>\u5e6b\u6211\u958b\u59cb</code>\u3001<code>\u5efa\u7acb\u5c08\u6848</code>\u3001<code>Start project</code> \u898f\u5283\u529f\u80fd <code>\u6211\u60f3\u505a\u767b\u5165\u529f\u80fd</code>\u3001<code>\u5e6b\u6211\u898f\u5283\u600e\u9ebc\u505a</code>\u3001<code>Plan this feature</code> \u6aa2\u67e5\u72c0\u614b <code>\u73fe\u5728\u505a\u5230\u54ea\u4e86</code>\u3001<code>\u5c08\u6848\u72c0\u614b</code>\u3001<code>Show progress</code> \u7cfb\u7d71\u5065\u5eb7 <code>\u7cfb\u7d71\u6709\u554f\u984c\u55ce</code>\u3001<code>Check status</code>\u3001<code>Is everything working?</code>"},{"location":"guides/vibe-coder-prompts/#vibe-coder-pro","title":"\ud83e\uddea \u7a0b\u5f0f\u78bc\u54c1\u8cea (Vibe Coder Pro)","text":""},{"location":"guides/vibe-coder-prompts/#_2","title":"\u81ea\u52d5\u751f\u6210\u6e2c\u8a66","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5e6b\u6211\u5beb\u6e2c\u8a66 <code>\u5e6b\u6211\u5beb auth.py \u7684\u6e2c\u8a66</code> \u751f\u6210\u6e2c\u8a66 <code>\u751f\u6210 utils.js \u7684\u6e2c\u8a66</code> Generate tests <code>Generate tests for api.ts</code>"},{"location":"guides/vibe-coder-prompts/#ai","title":"AI \u7a0b\u5f0f\u78bc\u5be9\u67e5","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5be9\u67e5\u7a0b\u5f0f\u78bc <code>\u5be9\u67e5\u6211\u7684\u7a0b\u5f0f\u78bc</code> Review my code <code>Review main.py</code> \u5e6b\u6211\u770b\u770b <code>\u5e6b\u6211\u770b\u770b\u54ea\u88e1\u53ef\u4ee5\u6539\u9032</code>"},{"location":"guides/vibe-coder-prompts/#_3","title":"\u6548\u80fd\u5206\u6790","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5206\u6790\u6548\u80fd <code>\u5206\u6790 api.py \u7684\u6548\u80fd</code> \u6548\u80fd\u512a\u5316 <code>\u6548\u80fd\u512a\u5316\u5efa\u8b70</code> Performance <code>Check performance of server.js</code>"},{"location":"guides/vibe-coder-prompts/#_4","title":"\u67b6\u69cb\u5206\u6790","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5206\u6790\u67b6\u69cb <code>\u5206\u6790\u5c08\u6848\u67b6\u69cb</code> \u770b\u770b\u8ab0\u5f15\u7528\u8ab0 <code>\u770b\u770b\u8ab0\u5f15\u7528\u8ab0</code> Dependencies <code>Show me the dependencies</code>"},{"location":"guides/vibe-coder-prompts/#_5","title":"\u81ea\u52d5\u751f\u6210\u6587\u6a94","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5e6b\u6211\u5beb\u6587\u6a94 <code>\u5e6b\u6211\u5beb\u6587\u6a94</code> Generate docs <code>Generate docs for api.py</code> API \u6587\u6a94 <code>API \u6587\u6a94</code>"},{"location":"guides/vibe-coder-prompts/#vibe-score","title":"\ud83d\udcca \u5c08\u6848\u5065\u6aa2 (Vibe Score)","text":""},{"location":"guides/vibe-coder-prompts/#_6","title":"\u6574\u9ad4\u5065\u5eb7\u5ea6","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b Vibe Check <code>Vibe Check my project</code> \u5065\u6aa2 <code>\u5065\u6aa2 utils.py</code> Give me a score <code>Give me a vibe score</code> <p>\ud83d\udca1 \u7d50\u679c\u8aaa\u660e: - S-Tier (95+): \u50b3\u5947\u7d1a\u7a0b\u5f0f\u78bc \ud83c\udfc6 - A-Tier (85+): \u5c08\u696d\u6c34\u6e96 \ud83e\udd47 - B-Tier (75+): \u7a69\u56fa\u53ef\u9760 \ud83e\udd48 - C-Tier (60+): \u666e\u901a\u6c34\u5e73 \ud83e\udd49 - F-Tier (&lt;60): \u7fa9\u5927\u5229\u9eb5\u7a0b\u5f0f\u78bc \ud83c\udf5d</p>"},{"location":"guides/vibe-coder-prompts/#_7","title":"\u5f71\u97ff\u5206\u6790","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b Impact check <code>Check impact of modifying utils.py</code> \u6539\u9019\u96bb\u6703\u5f71\u97ff\u8ab0 <code>\u6539\u9019\u96bb\u6a94\u6848\u6703\u5f71\u97ff\u8ab0</code> \u885d\u64ca\u5206\u6790 <code>\u885d\u64ca\u5206\u6790 core.py</code>"},{"location":"guides/vibe-coder-prompts/#speckit","title":"\ud83d\udccb \u898f\u5283\u8207\u8a2d\u8a08 (SpecKit)","text":"\u4f60\u60f3\u505a\u4ec0\u9ebc \u8aaa\u9019\u4e9b\u8a71 \u898f\u5283\u529f\u80fd <code>\u6211\u60f3\u505a XXX \u529f\u80fd</code>\u3001<code>\u5e6b\u6211\u898f\u5283\u600e\u9ebc\u505a</code> \u62c6\u6210\u6b65\u9a5f <code>\u62c6\u6210\u6b65\u9a5f</code>\u3001<code>\u7d66\u6211\u4e00\u500b\u6e05\u55ae</code>\u3001<code>What should I do first?</code> \u6aa2\u67e5\u4e00\u81f4\u6027 <code>\u5c0d\u7167\u4e00\u4e0b\u9700\u6c42</code>\u3001<code>\u6709\u6c92\u6709\u6f0f\u6389\u4ec0\u9ebc</code> \u91d0\u6e05\u9700\u6c42 <code>\u6709\u4ec0\u9ebc\u4e0d\u6e05\u695a\u7684\u55ce</code>\u3001<code>Ask me questions</code> \u5b9a\u7fa9\u898f\u7bc4 <code>\u5b9a\u7fa9\u898f\u7bc4</code>\u3001<code>\u9019\u500b\u5c08\u6848\u7684\u898f\u5247</code> \u9a57\u6536\u6a19\u6e96 <code>\u505a\u5b8c\u8981\u6aa2\u67e5\u4ec0\u9ebc</code>\u3001<code>\u9a57\u6536\u6a19\u6e96</code>"},{"location":"guides/vibe-coder-prompts/#_8","title":"\ud83d\udd27 \u5c08\u6848\u7ba1\u7406","text":""},{"location":"guides/vibe-coder-prompts/#_9","title":"\u591a\u5c08\u6848\u7ba1\u7406","text":"\u4f60\u60f3\u505a\u4ec0\u9ebc \u8aaa\u9019\u4e9b\u8a71 \u770b\u5c08\u6848\u5217\u8868 <code>\u6211\u7684\u5c08\u6848\u6709\u54ea\u4e9b</code>\u3001<code>Show my projects</code> \u5207\u63db\u5c08\u6848 <code>\u5207\u63db\u5230 XXX</code>\u3001<code>Switch to backend</code> \u52a0\u5165\u5c08\u6848 <code>\u52a0\u5165\u5c08\u6848</code>\u3001<code>Add project</code> \u79fb\u9664\u5c08\u6848 <code>\u79fb\u9664\u5c08\u6848</code>\u3001<code>Remove project</code>"},{"location":"guides/vibe-coder-prompts/#_10","title":"\u64f4\u5145\u529f\u80fd","text":"\u4f60\u60f3\u505a\u4ec0\u9ebc \u8aaa\u9019\u4e9b\u8a71 \u770b\u6709\u54ea\u4e9b\u5916\u639b <code>\u770b\u5916\u639b</code>\u3001<code>List plugins</code> \u57f7\u884c\u5916\u639b <code>\u8dd1 XXX \u5916\u639b</code>\u3001<code>Execute plugin</code> \u91cd\u8f09\u5916\u639b <code>\u91cd\u8f09\u5916\u639b</code>\u3001<code>Reload plugins</code>"},{"location":"guides/vibe-coder-prompts/#skills","title":"\ud83c\udfaf Skills \u63a8\u85a6","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5e6b\u6211\u627e\u7bc4\u672c <code>\u5e6b\u6211\u627e\u96fb\u5546\u7bc4\u672c</code> Claude Skills <code>Claude Skills \u6709\u54ea\u4e9b</code> Gemini Extensions <code>\u63a8\u85a6 Gemini Extensions</code> AI Chat <code>AI Chat Skills</code>"},{"location":"guides/vibe-coder-prompts/#_11","title":"\ud83d\udd12 \u81ea\u52d5\u4fee\u5fa9","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5e6b\u6211\u4fee <code>\u5e6b\u6211\u4fee\u554f\u984c</code> Fix errors <code>Fix all errors</code> \u8655\u7406\u554f\u984c <code>\u8655\u7406\u554f\u984c</code>"},{"location":"guides/vibe-coder-prompts/#thinking-knowledge","title":"\ud83e\udde0 \u601d\u8003\u8207\u77e5\u8b58 (Thinking &amp; Knowledge)","text":"<p>\u8b93 AI \u5728\u5beb\u7a0b\u5f0f\u524d\u5148\u300c\u6df1\u5ea6\u601d\u8003\u300d\u6216\u300c\u67e5\u8b49\u6700\u65b0\u8cc7\u6599\u300d\u3002</p>"},{"location":"guides/vibe-coder-prompts/#thinking-tools","title":"\u6df1\u5ea6\u601d\u8003 (Thinking Tools)","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u5faa\u5e8f\u601d\u8003 <code>\u7528 Sequential Thinking \u898f\u5283\u67b6\u69cb</code> \u4e00\u6b65\u6b65\u60f3 <code>\u4e00\u6b65\u6b65\u601d\u8003\u9019\u500b\u554f\u984c (Think step-by-step)</code> \u6279\u5224\u6027\u5be9\u67e5 <code>\u7528 Critical Thinking \u5be9\u67e5\u9019\u6bb5\u4ee3\u78bc</code> \u627e\u76f2\u9ede <code>\u5e6b\u6211\u627e\u76f2\u9ede (Find blind spots)</code>"},{"location":"guides/vibe-coder-prompts/#context7","title":"\u5916\u90e8\u77e5\u8b58 (Context7)","text":"\u89f8\u767c\u8a5e \u7bc4\u4f8b \u67e5\u6587\u6a94 <code>\u7528 Context7 \u67e5 Next.js 14 \u7684\u65b0\u8a9e\u6cd5</code> \u627e\u6700\u65b0\u8cc7\u6599 <code>\u67e5\u4e00\u4e0b Stripe API \u7684\u6700\u65b0\u8b8a\u66f4</code> \u5f15\u7528\u5b98\u65b9\u6587\u4ef6 <code>\u6839\u64da\u5b98\u65b9\u6587\u4ef6\u5beb\u9019\u500b\u529f\u80fd</code>"},{"location":"guides/vibe-coder-prompts/#pro-tips","title":"\ud83d\udca1 Pro Tips","text":"<ol> <li>\u4e0d\u7528\u8a18\u53c3\u6578 - \u5927\u591a\u6578\u5de5\u5177\u6703\u81ea\u52d5\u5075\u6e2c\u5c08\u6848\u8def\u5f91</li> <li>\u6df7\u5408\u8a9e\u8a00 OK - \u4e2d\u82f1\u6587\u6df7\u8457\u8aaa\u90fd\u80fd\u7406\u89e3</li> <li>\u6a21\u7cca\u63cf\u8ff0 OK - \u8aaa\u300c\u770b\u770b\u7a0b\u5f0f\u78bc\u6709\u6c92\u6709\u554f\u984c\u300d\u5c31\u6703\u89f8\u767c\u5be9\u67e5</li> <li>\u4e00\u9375\u4fee\u5fa9 - \u6bcf\u500b\u5de5\u5177\u7d50\u679c\u90fd\u6709 <code>suggested_fix_prompt</code>\uff0c\u76f4\u63a5\u8907\u88fd\u8cbc\u4e0a\u5373\u53ef\u57f7\u884c\u4fee\u5fa9</li> </ol>"},{"location":"guides/vibe-coder-prompts/#_12","title":"\ud83d\udcd6 \u5b8c\u6574\u5de5\u5177\u5c0d\u7167\u8868","text":"\u5de5\u5177\u540d\u7a31 \u4e2d\u6587\u8aaa\u6cd5 \u82f1\u6587\u8aaa\u6cd5 <code>boring_quickstart</code> \u5e6b\u6211\u958b\u59cb\u3001\u5efa\u7acb\u5c08\u6848 Start project, Setup <code>boring_status</code> \u73fe\u5728\u505a\u5230\u54ea\u4e86\u3001\u5c08\u6848\u72c0\u614b Show progress, Status <code>boring_health_check</code> \u7cfb\u7d71\u6709\u554f\u984c\u55ce Is everything working? <code>boring_test_gen</code> \u5e6b\u6211\u5beb\u6e2c\u8a66 Generate tests <code>boring_code_review</code> \u5be9\u67e5\u7a0b\u5f0f\u78bc Review my code <code>boring_perf_tips</code> \u5206\u6790\u6548\u80fd Performance tips <code>boring_arch_check</code> \u5206\u6790\u67b6\u69cb Show dependencies <code>boring_doc_gen</code> \u5e6b\u6211\u5beb\u6587\u6a94 Generate docs <code>boring_vibe_check</code> \u5065\u6aa2\u3001Vibe Check Give me a vibe score <code>boring_impact_check</code> \u6539\u9019\u96bb\u6703\u5f71\u97ff\u8ab0 Impact check <code>boring_skills_browse</code> \u5e6b\u6211\u627e\u7bc4\u672c Find skills <code>speckit_plan</code> \u6211\u60f3\u505a XXX Plan this feature <code>speckit_tasks</code> \u62c6\u6210\u6b65\u9a5f Break into tasks <code>speckit_clarify</code> \u6709\u4ec0\u9ebc\u4e0d\u6e05\u695a\u7684\u55ce Ask me questions <p>\ud83c\udfaf \u8a18\u4f4f: \u4f60\u662f Vibe Coder\uff0c\u4f60\u7684\u5de5\u4f5c\u662f\u63cf\u8ff0\u4f60\u60f3\u8981\u4ec0\u9ebc\uff0c\u8b93 AI \u5e6b\u4f60\u5be6\u73fe\uff01</p>"},{"location":"guides/vibe-coder-prompts/#complete-prompt-library","title":"\ud83d\udcda \u5b8c\u6574\u6307\u4ee4\u5eab (Complete Prompt Library)","text":"<p>\u4ee5\u4e0b\u5217\u51fa Boring \u652f\u63f4\u7684\u6240\u6709 50+ \u500b Prompt\uff0c\u6309\u529f\u80fd\u5206\u985e\u3002</p>"},{"location":"guides/vibe-coder-prompts/#dynamic-context-v1028-optimized","title":"\ud83c\udf1f \u52d5\u614b\u4e0a\u4e0b\u6587 (Dynamic Context) - V10.28 Optimized!","text":"<p>\u9019\u4e9b\u5de5\u5177\u5141\u8a31\u4f60\u300c\u8cbc\u5165\u300d\u4e0a\u4e0b\u6587\uff0c\u8b93 AI \u66f4\u7cbe\u6e96\u5730\u89e3\u6c7a\u554f\u984c\u3002</p> Prompt \u8aaa\u660e \u7bc4\u4f8b <code>debug_with_logs</code> Debug Log \u5206\u6790 (\u8cbc\u4e0a Log) <code>debug_with_logs(log_content=\"...\")</code> <code>review_diff</code> Diff \u5be9\u67e5 (\u8cbc\u4e0a Git Diff) <code>review_diff(diff_content=\"...\", review_focus=\"security\")</code> <code>analyze_error_context</code> \u932f\u8aa4\u4e0a\u4e0b\u6587\u5206\u6790 (\u8cbc\u4e0a\u7a0b\u5f0f\u78bc) <code>analyze_error_context(code_context=\"...\", error_line=10)</code>"},{"location":"guides/vibe-coder-prompts/#session-vibe-session","title":"\ud83d\udd04 Session \u7ba1\u7406 (Vibe Session)","text":"<p>\u63a7\u5236\u9577\u671f AI \u5354\u4f5c\u6d41\u7a0b\u3002</p> Prompt \u8aaa\u660e \u7bc4\u4f8b <code>vibe_session</code> \u555f\u52d5\u65b0 Session <code>vibe_session(goal=\"\u91cd\u69cb Auth \u6a21\u7d44\")</code> <code>vibe_session_status</code> \u67e5\u770b\u9032\u5ea6 <code>vibe_session_status</code> <code>vibe_session_continue</code> \u6062\u5fa9 Session <code>vibe_session_continue</code> <code>save_session</code> \u4fdd\u5b58 Session <code>save_session(name=\"feature-x\")</code> <code>load_session</code> \u8f09\u5165 Session <code>load_session(name=\"feature-x\")</code>"},{"location":"guides/vibe-coder-prompts/#core-development","title":"\ud83d\udcbb \u958b\u767c\u6838\u5fc3 (Core Development)","text":"Prompt \u8aaa\u660e \u7bc4\u4f8b <code>plan_feature</code> \u898f\u5283\u529f\u80fd <code>plan_feature(feature=\"User Login\")</code> <code>quick_fix</code> \u4e00\u9375\u4fee\u5fa9 <code>quick_fix(target=\"src/utils.py\")</code> <code>refactor_code</code> \u91cd\u69cb\u5efa\u8b70 <code>refactor_code(target=\"UserService\")</code> <code>explain_code</code> \u89e3\u91cb\u4ee3\u78bc <code>explain_code(code_path=\"main.py\")</code> <code>smart_commit</code> \u667a\u80fd\u63d0\u4ea4 <code>smart_commit</code> <code>full_stack_dev</code> \u5168\u68e7\u958b\u767c <code>full_stack_dev</code> <code>vibe_start</code> Vibe \u555f\u52d5 <code>vibe_start</code>"},{"location":"guides/vibe-coder-prompts/#quality-security","title":"\ud83d\udee1\ufe0f \u54c1\u8cea\u8207\u5b89\u5168 (Quality &amp; Security)","text":"Prompt \u8aaa\u660e \u7bc4\u4f8b <code>verify_work</code> \u9a57\u8b49\u5de5\u4f5c <code>verify_work(level=\"FULL\")</code> <code>review_code</code> \u4ee3\u78bc\u5be9\u67e5 <code>review_code(file_path=\"src/\")</code> <code>security_scan</code> \u5b89\u5168\u6383\u63cf <code>security_scan</code> <code>shadow_review</code> Shadow Mode \u5be9\u6838 <code>shadow_review</code> <code>evaluate_code</code> AI \u8a55\u5206 <code>evaluate_code</code> <code>compare_implementations</code> A/B \u6bd4\u8f03 <code>compare_implementations(path_a=\"v1\", path_b=\"v2\")</code> <code>audit_quality</code> \u5168\u7cfb\u7d71\u5be9\u8a08 <code>audit_quality</code> <code>safe_refactor</code> \u5b89\u5168\u91cd\u69cb <code>safe_refactor</code> <code>rollback</code> \u56de\u6efe\u8b8a\u66f4 <code>rollback</code> <code>background_verify</code> \u80cc\u666f\u9a57\u8b49 <code>background_verify</code> <code>background_test</code> \u80cc\u666f\u6e2c\u8a66 <code>background_test</code>"},{"location":"guides/vibe-coder-prompts/#architecture","title":"\ud83c\udfdb\ufe0f \u67b6\u69cb\u8207\u8a2d\u8a08 (Architecture)","text":"Prompt \u8aaa\u660e \u7bc4\u4f8b <code>evaluate_architecture</code> \u67b6\u69cb\u8a55\u4f30 <code>evaluate_architecture</code> <code>visualize</code> \u67b6\u69cb\u8996\u89ba\u5316 <code>visualize</code> <code>visualize_architecture</code> \u67b6\u69cb\u5716\u751f\u6210 <code>visualize_architecture(scope=\"module\")</code> <code>roadmap</code> \u5c08\u6848\u8def\u7dda\u5716 <code>roadmap</code> <code>suggest_roadmap</code> \u5efa\u8b70\u4e0b\u4e00\u6b65 <code>suggest_roadmap</code> <code>optimize_performance</code> \u6548\u80fd\u512a\u5316 <code>optimize_performance</code>"},{"location":"guides/vibe-coder-prompts/#knowledge","title":"\ud83e\udde0 \u77e5\u8b58\u8207\u8a18\u61b6 (Knowledge)","text":"Prompt \u8aaa\u660e \u7bc4\u4f8b <code>project_brain</code> \u67e5\u770b\u5c08\u6848\u77e5\u8b58 <code>project_brain</code> <code>learn_patterns</code> \u5b78\u7fd2\u6a21\u5f0f <code>learn_patterns</code> <code>create_rubrics</code> \u5efa\u7acb\u8a55\u5206\u6a19\u6e96 <code>create_rubrics</code> <code>manage_memory</code> \u6574\u7406\u8a18\u61b6 <code>manage_memory</code> <code>reset_memory</code> \u91cd\u7f6e\u8a18\u61b6 <code>reset_memory</code> <code>semantic_search</code> \u8a9e\u610f\u641c\u5c0b <code>semantic_search(query=\"auth logic\")</code> <code>index_codebase</code> \u5efa\u7acb\u7d22\u5f15 <code>index_codebase</code>"},{"location":"guides/vibe-coder-prompts/#system","title":"\ud83d\udd27 \u7cfb\u7d71\u64cd\u4f5c (System)","text":"Prompt \u8aaa\u660e \u7bc4\u4f8b <code>setup_project</code> \u521d\u59cb\u5316\u5c08\u6848 <code>setup_project</code> <code>setup_ide</code> \u8a2d\u5b9a IDE/LSP <code>setup_ide</code> <code>system_status</code> \u7cfb\u7d71\u72c0\u614b <code>system_status</code> <code>mark_done</code> \u6a19\u8a18\u5b8c\u6210 <code>mark_done</code> <code>vibe_check</code> Vibe \u6aa2\u67e5 <code>vibe_check</code>"},{"location":"guides/vibe-coder-prompts/#plugins-projects","title":"\ud83d\udce6 \u5176\u4ed6 (Plugins &amp; Projects)","text":"Prompt \u8aaa\u660e \u7bc4\u4f8b <code>run_plugin</code> \u57f7\u884c\u5916\u639b <code>run_plugin(plugin_name=\"my_plugin\")</code> <code>create_plugin</code> \u5efa\u7acb\u5916\u639b <code>create_plugin</code> <code>switch_project</code> \u5207\u63db\u5c08\u6848 <code>switch_project</code> <code>add_project</code> \u52a0\u5165\u5c08\u6848 <code>add_project</code> <code>run_agent</code> \u591a Agent \u57f7\u884c <code>run_agent</code>"},{"location":"guides/vibe-coder/","title":"Vibe Coder Guide","text":"<p>For developers who code by describing. No command-line expertise needed. Just tell Boring what you want.</p>"},{"location":"guides/vibe-coder/#what-is-vibe-coding","title":"\ud83c\udfa8 What is Vibe Coding?","text":"<p>Vibe Coding is a development style where you: 1. Describe what you want in natural language 2. Let AI generate the implementation 3. Review and refine the output</p> <p>You focus on the \"what\", AI handles the \"how\".</p>"},{"location":"guides/vibe-coder/#your-first-vibe-session","title":"\ud83d\ude80 Your First Vibe Session","text":""},{"location":"guides/vibe-coder/#step-1-start-with-vibe_start","title":"Step 1: Start with /vibe_start","text":"<pre><code>You: /vibe_start I want to build a personal blog with a dark theme\n\n# OR using boring-route CLI\n$ boring-route \"I want to build a personal blog with a dark theme\"\n</code></pre>"},{"location":"guides/vibe-coder/#step-2-answer-the-questions","title":"Step 2: Answer the Questions","text":"<pre><code>Boring: Great idea! Let me understand your vision:\n\n        1. Static site or with a backend?\n        2. Features needed? (comments, search, tags)\n        3. Design style? (minimal, magazine, tech)\n        4. Target platform? (desktop, mobile-first)\n\nYou: 1. Static site is fine\n     2. Tags and search\n     3. Minimal and clean\n     4. Mobile-first\n</code></pre>"},{"location":"guides/vibe-coder/#step-3-watch-your-blog-come-to-life","title":"Step 3: Watch Your Blog Come to Life","text":"<pre><code>Boring: Perfect! Here's what I'll create:\n\n        \ud83d\udcc1 blog/\n        \u251c\u2500\u2500 index.html       (Home page)\n        \u251c\u2500\u2500 posts/           (Blog posts)\n        \u251c\u2500\u2500 styles/          (Dark theme CSS)\n        \u251c\u2500\u2500 js/              (Search functionality)\n        \u2514\u2500\u2500 tags/            (Tag pages)\n\n        Starting implementation...\n        \u2705 Created base structure\n        \u2705 Implemented dark theme\n        \u2705 Added search feature\n        \u2705 Created sample posts\n\n        Your blog is ready! Open index.html to see it.\n</code></pre>"},{"location":"guides/vibe-coder/#quick-prompts-for-vibe-coders","title":"\ud83d\udca1 Quick Prompts for Vibe Coders","text":"What You Want Just Say Build something new <code>/vibe_start [describe your idea]</code> Fix any error <code>/quick_fix</code> or <code>boring-route \"fix it\"</code> Commit changes <code>/smart_commit</code> or <code>boring-route \"commit this\"</code> Full-stack app <code>/full_stack_dev</code> or <code>boring-route \"build app...\"</code>"},{"location":"guides/vibe-coder/#examples","title":"Examples","text":"<pre><code>/vibe_start Create a weather dashboard with city search\n\n/vibe_start Build a task manager with drag-and-drop\n\n/vibe_start Make a portfolio site for a photographer\n\n/full_stack_dev my-store \"Next.js + Stripe + Supabase\"\n</code></pre>"},{"location":"guides/vibe-coder/#vibe-coding-patterns","title":"\ud83c\udfaf Vibe Coding Patterns","text":""},{"location":"guides/vibe-coder/#pattern-1-describe-the-experience","title":"Pattern 1: Describe the Experience","text":"<p>\u274c Don't say this: <pre><code>Create a React component with useState for form handling\n</code></pre></p> <p>\u2705 Say this: <pre><code>I want a sign-up form that feels smooth and shows validation \nerrors as the user types\n</code></pre></p>"},{"location":"guides/vibe-coder/#pattern-2-focus-on-the-user","title":"Pattern 2: Focus on the User","text":"<p>\u274c Don't say this: <pre><code>Implement JWT authentication with refresh tokens\n</code></pre></p> <p>\u2705 Say this: <pre><code>Users should be able to stay logged in for a week without \nhaving to re-enter their password\n</code></pre></p>"},{"location":"guides/vibe-coder/#pattern-3-show-dont-tell","title":"Pattern 3: Show, Don't Tell","text":"<p>\u274c Don't say this: <pre><code>Add error handling\n</code></pre></p> <p>\u2705 Say this: <pre><code>When something goes wrong, show a friendly message that \nexplains what happened and what the user can do about it\n</code></pre></p>"},{"location":"guides/vibe-coder/#the-vibe-workflow","title":"\ud83d\udd04 The Vibe Workflow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   VIBE WORKFLOW                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                         \u2502\n\u2502   1. DESCRIBE        2. REVIEW        3. REFINE        \u2502\n\u2502   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500        \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500       \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500        \u2502\n\u2502   Tell AI what       Look at the      \"Make the        \u2502\n\u2502   you envision       result           button bigger\"   \u2502\n\u2502                                                         \u2502\n\u2502        \u2193                 \u2193                 \u2193            \u2502\n\u2502                                                         \u2502\n\u2502   \"I want a         \"Looks good,     AI adjusts       \u2502\n\u2502   landing page      but needs        and you're       \u2502\n\u2502   that pops\"        more color\"      done! \ud83c\udf89         \u2502\n\u2502                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/vibe-coder/#safety-first-even-for-vibe-coders","title":"\ud83d\udee1\ufe0f Safety First (Even for Vibe Coders)","text":""},{"location":"guides/vibe-coder/#shadow-mode-protects-you","title":"Shadow Mode Protects You","text":"<p>Even if you're not a command-line expert, Boring protects you:</p> <pre><code>Boring: I want to delete the old cache files.\n\n        \u26a0\ufe0f This operation requires your approval:\n        - Delete: cache/*.json (15 files)\n\n        [Approve] [Reject] [Show Details]\n</code></pre> <p>You're always in control. Dangerous operations need your OK.</p>"},{"location":"guides/vibe-coder/#for-mobileweb-developers","title":"\ud83d\udcf1 For Mobile/Web Developers","text":""},{"location":"guides/vibe-coder/#build-a-mobile-app","title":"Build a Mobile App","text":"<pre><code>/vibe_start Create a React Native expense tracker with:\n- Beautiful pie charts\n- Easy receipt scanning\n- Monthly budgets\n</code></pre>"},{"location":"guides/vibe-coder/#build-a-web-app","title":"Build a Web App","text":"<pre><code>/vibe_start I want a SaaS dashboard for project management\nthat looks like Linear but simpler\n</code></pre>"},{"location":"guides/vibe-coder/#build-an-api","title":"Build an API","text":"<pre><code>/vibe_start Build a REST API for a recipe sharing platform\nwith user accounts and recipe ratings\n</code></pre>"},{"location":"guides/vibe-coder/#for-game-developers","title":"\ud83c\udfae For Game Developers","text":"<pre><code>/vibe_start Create a 2D platformer game with:\n- A cute robot character\n- 5 levels with increasing difficulty\n- Coin collection and high scores\n</code></pre>"},{"location":"guides/vibe-coder/#for-aiml-developers","title":"\ud83e\udd16 For AI/ML Developers","text":"<pre><code>/vibe_start Build a sentiment analysis web app that:\n- Takes user reviews as input\n- Shows positive/negative/neutral with confidence\n- Has a beautiful visualization\n</code></pre>"},{"location":"guides/vibe-coder/#common-phrases","title":"\ud83d\udcac Common Phrases","text":"Phrase What Happens \"Make it better\" AI improves code quality \"Add tests\" AI writes test cases \"Make it faster\" AI optimizes performance \"Make it prettier\" AI improves UI/design \"Explain this\" AI documents the code \"Fix this\" AI debugs the issue"},{"location":"guides/vibe-coder/#when-youre-stuck","title":"\ud83c\udd98 When You're Stuck","text":""},{"location":"guides/vibe-coder/#ask-for-help","title":"Ask for Help","text":"<pre><code>I'm confused about how the authentication works. \nCan you explain it like I'm 5?\n</code></pre>"},{"location":"guides/vibe-coder/#start-over","title":"Start Over","text":"<pre><code>Let's start fresh. I want to take a different approach.\n</code></pre>"},{"location":"guides/vibe-coder/#get-specific","title":"Get Specific","text":"<pre><code>The button doesn't look right on mobile. \nCan you make it full-width on small screens?\n</code></pre>"},{"location":"guides/vibe-coder/#see-also","title":"See Also","text":"<ul> <li>Quick Tutorials - Step-by-step guides</li> <li>Cookbook - Ready-made recipes</li> <li>Pro Tips - Level up your skills</li> </ul>"},{"location":"guides/vibe-coder_zh/","title":"Vibe Coder \u6307\u5357","text":"<p>\u7d66\u7528\u63cf\u8ff0\u4f86\u5beb\u7a0b\u5f0f\u7684\u958b\u767c\u8005\u3002 \u4e0d\u9700\u8981\u547d\u4ee4\u5217\u5c08\u696d\u77e5\u8b58\u3002\u53ea\u8981\u544a\u8a34 Boring \u4f60\u60f3\u8981\u4ec0\u9ebc\u3002</p>"},{"location":"guides/vibe-coder_zh/#vibe-coding","title":"\ud83c\udfa8 \u4ec0\u9ebc\u662f Vibe Coding\uff1f","text":"<p>Vibe Coding \u662f\u4e00\u7a2e\u958b\u767c\u98a8\u683c\uff1a 1. \u63cf\u8ff0 \u4f60\u7528\u81ea\u7136\u8a9e\u8a00\u60f3\u8981\u4ec0\u9ebc 2. \u8b93 AI \u751f\u6210\u5be6\u4f5c 3. \u5be9\u67e5 \u4e26\u7cbe\u7149\u8f38\u51fa</p> <p>\u4f60\u5c08\u6ce8\u65bc\u300c\u4ec0\u9ebc\u300d\uff0cAI \u8655\u7406\u300c\u5982\u4f55\u300d\u3002</p>"},{"location":"guides/vibe-coder_zh/#vibe","title":"\ud83d\ude80 \u4f60\u7684\u7b2c\u4e00\u500b Vibe \u6703\u8a71","text":""},{"location":"guides/vibe-coder_zh/#1-vibe_start","title":"\u6b65\u9a5f 1\uff1a\u5f9e /vibe_start \u958b\u59cb","text":"<pre><code>\u4f60\uff1aYou: /vibe_start \u6211\u60f3\u5efa\u7acb\u4e00\u500b\u6df1\u8272\u4e3b\u984c\u7684\u500b\u4eba\u90e8\u843d\u683c\n\n# \u6216\u8005\u4f7f\u7528 boring-route CLI\n$ boring-route \"\u6211\u60f3\u5efa\u7acb\u4e00\u500b\u6df1\u8272\u4e3b\u984c\u7684\u500b\u4eba\u90e8\u843d\u683c\"\n</code></pre>"},{"location":"guides/vibe-coder_zh/#2","title":"\u6b65\u9a5f 2\uff1a\u56de\u7b54\u554f\u984c","text":"<pre><code>Boring\uff1a\u597d\u4e3b\u610f\uff01\u8b93\u6211\u4e86\u89e3\u4f60\u7684\u9858\u666f\uff1a\n\n        1. \u975c\u614b\u7db2\u7ad9\u9084\u662f\u6709\u5f8c\u7aef\uff1f\n        2. \u9700\u8981\u54ea\u4e9b\u529f\u80fd\uff1f\uff08\u8a55\u8ad6\u3001\u641c\u5c0b\u3001\u6a19\u7c64\uff09\n        3. \u8a2d\u8a08\u98a8\u683c\uff1f\uff08\u6975\u7c21\u3001\u96dc\u8a8c\u98a8\u3001\u79d1\u6280\u611f\uff09\n        4. \u76ee\u6a19\u5e73\u53f0\uff1f\uff08\u684c\u9762\u3001\u884c\u52d5\u512a\u5148\uff09\n\n\u4f60\uff1a1. \u975c\u614b\u7db2\u7ad9\u5c31\u597d\n    2. \u6a19\u7c64\u548c\u641c\u5c0b\n    3. \u6975\u7c21\u4e7e\u6de8\n    4. \u884c\u52d5\u512a\u5148\n</code></pre>"},{"location":"guides/vibe-coder_zh/#3","title":"\u6b65\u9a5f 3\uff1a\u770b\u8457\u4f60\u7684\u90e8\u843d\u683c\u8a95\u751f","text":"<pre><code>Boring\uff1a\u5b8c\u7f8e\uff01\u9019\u662f\u6211\u6703\u5efa\u7acb\u7684\uff1a\n\n        \ud83d\udcc1 blog/\n        \u251c\u2500\u2500 index.html       \uff08\u9996\u9801\uff09\n        \u251c\u2500\u2500 posts/           \uff08\u90e8\u843d\u683c\u6587\u7ae0\uff09\n        \u251c\u2500\u2500 styles/          \uff08\u6df1\u8272\u4e3b\u984c CSS\uff09\n        \u251c\u2500\u2500 js/              \uff08\u641c\u5c0b\u529f\u80fd\uff09\n        \u2514\u2500\u2500 tags/            \uff08\u6a19\u7c64\u9801\u9762\uff09\n\n        \u958b\u59cb\u5be6\u4f5c...\n        \u2705 \u5efa\u7acb\u57fa\u790e\u7d50\u69cb\n        \u2705 \u5be6\u4f5c\u6df1\u8272\u4e3b\u984c\n        \u2705 \u65b0\u589e\u641c\u5c0b\u529f\u80fd\n        \u2705 \u5efa\u7acb\u7bc4\u4f8b\u6587\u7ae0\n\n        \u4f60\u7684\u90e8\u843d\u683c\u6e96\u5099\u597d\u4e86\uff01\u958b\u555f index.html \u67e5\u770b\u3002\n</code></pre>"},{"location":"guides/vibe-coder_zh/#vibe-coder_1","title":"\ud83d\udca1 Vibe Coder \u5feb\u901f\u63d0\u793a","text":"\u4f60\u60f3\u8981\u4ec0\u9ebc \u53ea\u9700\u8aaa \u5efa\u7acb\u65b0\u6771\u897f <code>/vibe_start [\u63cf\u8ff0\u4f60\u7684\u60f3\u6cd5]</code> \u4fee\u5fa9\u932f\u8aa4 <code>/quick_fix</code> \u6216 <code>boring-route \"\u4fee\u597d\u5b83\"</code> \u63d0\u4ea4\u8b8a\u66f4 <code>/smart_commit</code> \u6216 <code>boring-route \"\u63d0\u4ea4\u8b8a\u66f4\"</code> \u5168\u7aef\u61c9\u7528 <code>/full_stack_dev</code> \u6216 <code>boring-route \"\u5efa\u7acb\u61c9\u7528...\"</code>"},{"location":"guides/vibe-coder_zh/#_1","title":"\u7bc4\u4f8b","text":"<pre><code>/vibe_start \u5efa\u7acb\u4e00\u500b\u6709\u57ce\u5e02\u641c\u5c0b\u7684\u5929\u6c23\u5100\u8868\u677f\n\n/vibe_start \u5efa\u7acb\u4e00\u500b\u6709\u62d6\u653e\u529f\u80fd\u7684\u4efb\u52d9\u7ba1\u7406\u5668\n\n/vibe_start \u70ba\u651d\u5f71\u5e2b\u88fd\u4f5c\u4e00\u500b\u4f5c\u54c1\u96c6\u7db2\u7ad9\n\n/full_stack_dev my-store \"Next.js + Stripe + Supabase\"\n</code></pre>"},{"location":"guides/vibe-coder_zh/#vibe-coding_1","title":"\ud83c\udfaf Vibe Coding \u6a21\u5f0f","text":""},{"location":"guides/vibe-coder_zh/#1","title":"\u6a21\u5f0f 1\uff1a\u63cf\u8ff0\u9ad4\u9a57","text":"<p>\u274c \u4e0d\u8981\u9019\u6a23\u8aaa\uff1a <pre><code>\u5efa\u7acb\u4e00\u500b\u4f7f\u7528 useState \u8655\u7406\u8868\u55ae\u7684 React \u5143\u4ef6\n</code></pre></p> <p>\u2705 \u9019\u6a23\u8aaa\uff1a <pre><code>\u6211\u60f3\u8981\u4e00\u500b\u611f\u89ba\u6d41\u66a2\u7684\u8a3b\u518a\u8868\u55ae\uff0c\u5728\u4f7f\u7528\u8005\u8f38\u5165\u6642\n\u5373\u6642\u986f\u793a\u9a57\u8b49\u932f\u8aa4\n</code></pre></p>"},{"location":"guides/vibe-coder_zh/#2_1","title":"\u6a21\u5f0f 2\uff1a\u5c08\u6ce8\u65bc\u4f7f\u7528\u8005","text":"<p>\u274c \u4e0d\u8981\u9019\u6a23\u8aaa\uff1a <pre><code>\u5be6\u4f5c\u5e36\u6709\u5237\u65b0\u4ee4\u724c\u7684 JWT \u8a8d\u8b49\n</code></pre></p> <p>\u2705 \u9019\u6a23\u8aaa\uff1a <pre><code>\u4f7f\u7528\u8005\u61c9\u8a72\u80fd\u5920\u4fdd\u6301\u767b\u5165\u4e00\u9031\uff0c\u4e0d\u9700\u8981\n\u91cd\u65b0\u8f38\u5165\u5bc6\u78bc\n</code></pre></p>"},{"location":"guides/vibe-coder_zh/#3_1","title":"\u6a21\u5f0f 3\uff1a\u5c55\u793a\uff0c\u4e0d\u8981\u544a\u8a34","text":"<p>\u274c \u4e0d\u8981\u9019\u6a23\u8aaa\uff1a <pre><code>\u65b0\u589e\u932f\u8aa4\u8655\u7406\n</code></pre></p> <p>\u2705 \u9019\u6a23\u8aaa\uff1a <pre><code>\u7576\u51fa\u932f\u6642\uff0c\u986f\u793a\u4e00\u500b\u53cb\u5584\u7684\u8a0a\u606f\uff0c\u89e3\u91cb\n\u767c\u751f\u4e86\u4ec0\u9ebc\u4ee5\u53ca\u4f7f\u7528\u8005\u53ef\u4ee5\u505a\u4ec0\u9ebc\n</code></pre></p>"},{"location":"guides/vibe-coder_zh/#vibe_1","title":"\ud83d\udd04 Vibe \u5de5\u4f5c\u6d41\u7a0b","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   VIBE \u5de5\u4f5c\u6d41\u7a0b                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                         \u2502\n\u2502   1. \u63cf\u8ff0           2. \u5be9\u67e5          3. \u7cbe\u7149           \u2502\n\u2502   \u2500\u2500\u2500\u2500\u2500\u2500           \u2500\u2500\u2500\u2500\u2500\u2500          \u2500\u2500\u2500\u2500\u2500\u2500           \u2502\n\u2502   \u544a\u8a34 AI \u4f60       \u67e5\u770b\u7d50\u679c         \u300c\u628a\u6309\u9215           \u2502\n\u2502   \u7684\u9858\u666f                            \u505a\u5927\u4e00\u9ede\u300d         \u2502\n\u2502                                                         \u2502\n\u2502        \u2193                 \u2193                 \u2193            \u2502\n\u2502                                                         \u2502\n\u2502   \u300c\u6211\u60f3\u8981\u4e00\u500b     \u300c\u770b\u8d77\u4f86\u4e0d\u932f\uff0c   AI \u8abf\u6574            \u2502\n\u2502   \u5f88\u5438\u775b\u7684         \u4f46\u9700\u8981\u66f4\u591a       \u7136\u5f8c\u4f60\u5c31           \u2502\n\u2502   \u8457\u9678\u9801\u300d         \u984f\u8272\u300d           \u5b8c\u6210\u4e86\uff01\ud83c\udf89          \u2502\n\u2502                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/vibe-coder_zh/#vibe-coder_2","title":"\ud83d\udee1\ufe0f \u5b89\u5168\u7b2c\u4e00\uff08\u5373\u4f7f\u5c0d Vibe Coder \u4e5f\u662f\uff09","text":""},{"location":"guides/vibe-coder_zh/#_2","title":"\u5f71\u5b50\u6a21\u5f0f\u4fdd\u8b77\u4f60","text":"<p>\u5373\u4f7f\u4f60\u4e0d\u662f\u547d\u4ee4\u5217\u5c08\u5bb6\uff0cBoring \u4e5f\u6703\u4fdd\u8b77\u4f60\uff1a</p> <pre><code>Boring\uff1a\u6211\u60f3\u522a\u9664\u820a\u7684\u5feb\u53d6\u6a94\u6848\u3002\n\n        \u26a0\ufe0f \u6b64\u64cd\u4f5c\u9700\u8981\u4f60\u7684\u6279\u51c6\uff1a\n        - \u522a\u9664\uff1acache/*.json\uff0815 \u500b\u6a94\u6848\uff09\n\n        [\u6279\u51c6] [\u62d2\u7d55] [\u986f\u793a\u8a73\u60c5]\n</code></pre> <p>\u4f60\u59cb\u7d42\u638c\u63a7\u4e00\u5207\u3002 \u5371\u96aa\u64cd\u4f5c\u9700\u8981\u4f60\u7684\u78ba\u8a8d\u3002</p>"},{"location":"guides/vibe-coder_zh/#_3","title":"\ud83d\udcf1 \u7d66\u884c\u52d5/\u7db2\u9801\u958b\u767c\u8005","text":""},{"location":"guides/vibe-coder_zh/#_4","title":"\u5efa\u7acb\u884c\u52d5\u61c9\u7528","text":"<pre><code>/vibe_start \u5efa\u7acb\u4e00\u500b React Native \u652f\u51fa\u8ffd\u8e64\u5668\uff1a\n- \u6f02\u4eae\u7684\u5713\u9905\u5716\n- \u7c21\u55ae\u7684\u6536\u64da\u6383\u63cf\n- \u6708\u5ea6\u9810\u7b97\n</code></pre>"},{"location":"guides/vibe-coder_zh/#_5","title":"\u5efa\u7acb\u7db2\u9801\u61c9\u7528","text":"<pre><code>/vibe_start \u6211\u60f3\u8981\u4e00\u500b\u5c08\u6848\u7ba1\u7406\u7684 SaaS \u5100\u8868\u677f\n\u770b\u8d77\u4f86\u50cf Linear \u4f46\u66f4\u7c21\u55ae\n</code></pre>"},{"location":"guides/vibe-coder_zh/#api","title":"\u5efa\u7acb API","text":"<pre><code>/vibe_start \u70ba\u98df\u8b5c\u5206\u4eab\u5e73\u53f0\u5efa\u7acb\u4e00\u500b REST API\n\u6709\u4f7f\u7528\u8005\u5e33\u865f\u548c\u98df\u8b5c\u8a55\u5206\n</code></pre>"},{"location":"guides/vibe-coder_zh/#_6","title":"\ud83c\udfae \u7d66\u904a\u6232\u958b\u767c\u8005","text":"<pre><code>/vibe_start \u5efa\u7acb\u4e00\u500b 2D \u5e73\u53f0\u904a\u6232\uff1a\n- \u53ef\u611b\u7684\u6a5f\u5668\u4eba\u89d2\u8272\n- 5 \u500b\u96e3\u5ea6\u905e\u589e\u7684\u95dc\u5361\n- \u6536\u96c6\u91d1\u5e63\u548c\u9ad8\u5206\u699c\n</code></pre>"},{"location":"guides/vibe-coder_zh/#aiml","title":"\ud83e\udd16 \u7d66 AI/ML \u958b\u767c\u8005","text":"<pre><code>/vibe_start \u5efa\u7acb\u4e00\u500b\u60c5\u611f\u5206\u6790\u7db2\u9801\u61c9\u7528\uff1a\n- \u63a5\u53d7\u4f7f\u7528\u8005\u8a55\u8ad6\u4f5c\u70ba\u8f38\u5165\n- \u986f\u793a\u6b63\u9762/\u8ca0\u9762/\u4e2d\u7acb\u53ca\u4fe1\u5fc3\u5ea6\n- \u6709\u6f02\u4eae\u7684\u8996\u89ba\u5316\n</code></pre>"},{"location":"guides/vibe-coder_zh/#_7","title":"\ud83d\udcac \u5e38\u7528\u77ed\u8a9e","text":"\u77ed\u8a9e \u6703\u767c\u751f\u4ec0\u9ebc \u300c\u8b93\u5b83\u66f4\u597d\u300d AI \u6539\u5584\u4ee3\u78bc\u54c1\u8cea \u300c\u65b0\u589e\u6e2c\u8a66\u300d AI \u64b0\u5beb\u6e2c\u8a66\u6848\u4f8b \u300c\u8b93\u5b83\u66f4\u5feb\u300d AI \u512a\u5316\u6548\u80fd \u300c\u8b93\u5b83\u66f4\u6f02\u4eae\u300d AI \u6539\u5584 UI/\u8a2d\u8a08 \u300c\u89e3\u91cb\u9019\u500b\u300d AI \u64b0\u5beb\u6587\u6a94 \u300c\u4fee\u5fa9\u9019\u500b\u300d AI \u9664\u932f\u554f\u984c"},{"location":"guides/vibe-coder_zh/#_8","title":"\ud83c\udd98 \u7576\u4f60\u5361\u4f4f\u6642","text":""},{"location":"guides/vibe-coder_zh/#_9","title":"\u5c0b\u6c42\u5e6b\u52a9","text":"<pre><code>\u6211\u5c0d\u8a8d\u8b49\u7684\u904b\u4f5c\u65b9\u5f0f\u611f\u5230\u56f0\u60d1\u3002\n\u4f60\u80fd\u50cf\u6211\u662f 5 \u6b72\u4e00\u6a23\u89e3\u91cb\u55ce\uff1f\n</code></pre>"},{"location":"guides/vibe-coder_zh/#_10","title":"\u91cd\u65b0\u958b\u59cb","text":"<pre><code>\u8b93\u6211\u5011\u91cd\u65b0\u958b\u59cb\u3002\u6211\u60f3\u63a1\u53d6\u4e0d\u540c\u7684\u65b9\u6cd5\u3002\n</code></pre>"},{"location":"guides/vibe-coder_zh/#_11","title":"\u66f4\u5177\u9ad4","text":"<pre><code>\u6309\u9215\u5728\u624b\u6a5f\u4e0a\u770b\u8d77\u4f86\u4e0d\u5c0d\u3002\n\u4f60\u80fd\u5728\u5c0f\u87a2\u5e55\u4e0a\u8b93\u5b83\u5168\u5bec\u55ce\uff1f\n</code></pre>"},{"location":"guides/vibe-coder_zh/#_12","title":"\u53e6\u8acb\u53c3\u95b1","text":"<ul> <li>\u5feb\u901f\u6559\u5b78 - \u9010\u6b65\u6307\u5357</li> <li>Cookbook - \u5373\u7528\u98df\u8b5c</li> <li>\u5c08\u696d\u6280\u5de7 - \u63d0\u5347\u4f60\u7684\u6280\u80fd</li> </ul>"},{"location":"guides/workflow-comparison/","title":"\ud83d\udd04 Workflow Comparison: Code-Level Analysis","text":"<p>This document explains the technical differences between <code>full_stack_dev</code>, <code>vibe_start</code>, and <code>boring_session_start</code> based on their source code implementation.</p> Feature <code>full_stack_dev</code> <code>vibe_start</code> <code>boring_session_start</code> Type Prompt (Recipe) Prompt (SOP) Tool (System) Source <code>src/boring/mcp/prompts.py</code> <code>src/boring/mcp/prompts.py</code> <code>src/boring/mcp/tools/session.py</code> Mechanism Text Instruction Text Instruction Python State Machine State Stateless (Context Window) Stateless (Context Window) Stateful (Disk JSON) Enforcement Low (Suggestion) Medium (SOP) High (Code-Enforced)"},{"location":"guides/workflow-comparison/#1-full_stack_dev-the-recipe","title":"1. <code>full_stack_dev</code> (The Recipe)","text":"<p>Focus: Specific Tech Stack Implementation.</p> <ul> <li>Code Location: <code>prompts.py</code> (Line 283)</li> <li>What it does: It acts as a static \"recipe\" for building a FastAPI + React application.</li> <li>Workflow:<ol> <li>Architecture</li> <li>Backend (FastAPI)</li> <li>Frontend (React)</li> <li>Deploy</li> </ol> </li> <li>When to use: Only when you specifically want to build this exact stack in a \"waterfall\" simplified manner. It does NOT enforce quality gates programmatically.</li> </ul> <pre><code># Code Snippet (prompts.py)\n@mcp.prompt(name=\"full_stack_dev\", description=\"\u5168\u68e7\u61c9\u7528\u958b\u767c...\")\ndef full_stack_dev(...):\n    return \"\"\"Phase 2: \u5f8c\u7aef\u958b\u767c... Phase 3: \u524d\u7aef\u958b\u767c...\"\"\"\n</code></pre>"},{"location":"guides/workflow-comparison/#2-vibe_start-the-methodology","title":"2. <code>vibe_start</code> (The Methodology)","text":"<p>Focus: General Best Practices &amp; Phases.</p> <ul> <li>Code Location: <code>prompts.py</code> (Line 206)</li> <li>What it does: It instructs the Agent to follow the \"Vibe Coding\" methodology (Spec -&gt; Plan -&gt; Implement -&gt; Verify).</li> <li>Workflow:<ol> <li><code>speckit_constitution</code> (Principles)</li> <li><code>speckit_checklist</code> (Quality)</li> <li><code>boring_multi_agent</code> (Implementation)</li> </ol> </li> <li>Key Difference: Unlike <code>boring_session_start</code>, this is just a text prompt. The Agent could hallucinate skipping a step. It has no \"memory\" if the context window overflows.</li> </ul>"},{"location":"guides/workflow-comparison/#3-boring_session_start-the-system","title":"3. <code>boring_session_start</code> (The System)","text":"<p>Focus: Robustness, State Recovery, &amp; Human-in-the-Loop.</p> <ul> <li>Code Location: <code>session.py</code> (Line 223)</li> <li>What it does: It initiates a State Machine managed by Python code.</li> <li>Persistence: It saves state to <code>.boring/memory/sessions/{id}.json</code>. This means even if the chat crashes, the session can be resumed (<code>boring_session_continue</code>).</li> <li>Enforcement: It explicitly defines <code>SessionPhase</code> (Alignment, Planning, Implementation...). You CANNOT proceed to Implementation without calling <code>boring_session_confirm()</code>, which is enforced by code logic.</li> </ul> <pre><code># Code Snippet (session.py)\nclass VibeSessionManager:\n    def create_session(self, goal: str) -&gt; VibeSession:\n        # Actually creates a file on disk\n        self.save_session(session)\n\n@audited\ndef boring_session_start(...):\n    # Initializes the manager and returns Phase 1 output\n    manager = get_session_manager(project_root)\n    session = manager.create_session(...)\n</code></pre>"},{"location":"guides/workflow-comparison/#summary-recommendation","title":"\ud83c\udfaf Summary Recommendation","text":"Goal Recommended Tool Serious, Complex Work <code>boring_session_start</code> (via <code>vibe_session</code> prompt) Quick, One-off Task <code>vibe_start</code> Learning Full Stack <code>full_stack_dev</code> <p>Best Practice: Always prefer <code>boring_session_start</code> (triggered by saying \"Start Session\") for professional work, as it guarantees the process is followed and progress is saved.</p>"},{"location":"guides/workflow-comparison_zh/","title":"\ud83d\udd04 \u5de5\u4f5c\u6d41\u7a0b\u6bd4\u8f03\uff1a\u7a0b\u5f0f\u78bc\u5c64\u7d1a\u5206\u6790","text":"<p>\u672c\u6587\u6839\u64da\u6e90\u4ee3\u78bc\u5be6\u4f5c\uff0c\u5f9e\u6280\u8853\u89d2\u5ea6\u89e3\u91cb <code>full_stack_dev</code>\u3001<code>vibe_start</code> \u548c <code>boring_session_start</code> \u4e4b\u9593\u7684\u5dee\u7570\u3002</p> \u7279\u6027 <code>full_stack_dev</code> <code>vibe_start</code> <code>boring_session_start</code> \u985e\u578b Prompt (\u98df\u8b5c/\u914d\u65b9) Prompt (SOP/\u7a0b\u5e8f) Tool (\u7cfb\u7d71\u5de5\u5177) \u4f86\u6e90 <code>src/boring/mcp/prompts.py</code> <code>src/boring/mcp/prompts.py</code> <code>src/boring/mcp/tools/session.py</code> \u6a5f\u5236 \u7d14\u6587\u5b57\u6307\u4ee4 (Text Instruction) \u7d14\u6587\u5b57\u6307\u4ee4 (Text Instruction) Python \u72c0\u614b\u6a5f (State Machine) \u72c0\u614b \u7121\u72c0\u614b (\u4f9d\u8cf4 Context Window) \u7121\u72c0\u614b (\u4f9d\u8cf4 Context Window) \u6709\u72c0\u614b (\u5b58\u65bc\u786c\u789f JSON) \u5f37\u5236\u6027 \u4f4e (\u50c5\u5efa\u8b70) \u4e2d (SOP \u898f\u7bc4) \u9ad8 (\u7a0b\u5f0f\u78bc\u5f37\u5236)"},{"location":"guides/workflow-comparison_zh/#1-full_stack_dev-the-recipe-","title":"1. <code>full_stack_dev</code> (The Recipe - \u7279\u5b9a\u98df\u8b5c)","text":"<p>\u7126\u9ede: \u7279\u5b9a\u6280\u8853\u68e7\u7684\u5be6\u4f5c\u3002</p> <ul> <li>\u4ee3\u78bc\u4f4d\u7f6e: <code>prompts.py</code> (Line 283)</li> <li>\u4f5c\u7528: \u5b83\u5c31\u50cf\u4e00\u500b\u975c\u614b\u7684\u300c\u98df\u8b5c\u300d\uff0c\u5c08\u9580\u7528\u65bc\u69cb\u5efa FastAPI + React \u61c9\u7528\u7a0b\u5f0f\u3002</li> <li>\u6d41\u7a0b:<ol> <li>\u67b6\u69cb\u8a2d\u8a08</li> <li>\u5f8c\u7aef\u958b\u767c (FastAPI)</li> <li>\u524d\u7aef\u958b\u767c (React)</li> <li>\u90e8\u7f72</li> </ol> </li> <li>\u9069\u7528\u6642\u6a5f: \u53ea\u6709\u7576\u4f60\u660e\u78ba\u60f3\u8981\u4ee5\u300c\u7011\u5e03\u5f0f\u300d\u7684\u7c21\u5316\u6d41\u7a0b\u69cb\u5efa\u9019\u500b\u7279\u5b9a\u6280\u8853\u7d44\u5408\u6642\u4f7f\u7528\u3002\u5b83\u4e0d\u6703\u4ee5\u7a0b\u5f0f\u5316\u65b9\u5f0f\u5f37\u5236\u57f7\u884c\u54c1\u8cea\u9598\u9580\u3002</li> </ul> <pre><code># \u4ee3\u78bc\u7247\u6bb5 (prompts.py)\n@mcp.prompt(name=\"full_stack_dev\", description=\"\u5168\u68e7\u61c9\u7528\u958b\u767c...\")\ndef full_stack_dev(...):\n    return \"\"\"Phase 2: \u5f8c\u7aef\u958b\u767c... Phase 3: \u524d\u7aef\u958b\u767c...\"\"\"\n</code></pre>"},{"location":"guides/workflow-comparison_zh/#2-vibe_start-the-methodology-","title":"2. <code>vibe_start</code> (The Methodology - \u65b9\u6cd5\u8ad6)","text":"<p>\u7126\u9ede: \u901a\u7528\u6700\u4f73\u5be6\u8e10\u8207\u968e\u6bb5\u6d41\u7a0b\u3002</p> <ul> <li>\u4ee3\u78bc\u4f4d\u7f6e: <code>prompts.py</code> (Line 206)</li> <li>\u4f5c\u7528: \u5b83\u6307\u5c0e Agent \u9075\u5faa \"Vibe Coding\" \u65b9\u6cd5\u8ad6 (Spec -&gt; Plan -&gt; Implement -&gt; Verify)\u3002</li> <li>\u6d41\u7a0b:<ol> <li><code>speckit_constitution</code> (\u539f\u5247\u5efa\u7acb)</li> <li><code>speckit_checklist</code> (\u54c1\u8cea\u6e05\u55ae)</li> <li><code>boring_multi_agent</code> (\u57f7\u884c\u958b\u767c)</li> </ol> </li> <li>\u95dc\u9375\u5dee\u7570: \u8207 <code>boring_session_start</code> \u4e0d\u540c\uff0c\u9019\u53ea\u662f\u4e00\u500b\u6587\u5b57 Prompt\u3002Agent \u6709\u53ef\u80fd\u6703\u7522\u751f\u5e7b\u89ba\u8df3\u904e\u6b65\u9a5f\u3002\u5982\u679c Context Window \u6ea2\u51fa\uff0c\u5b83\u5c31\u6c92\u6709\u300c\u8a18\u61b6\u300d\u4e86\u3002</li> </ul>"},{"location":"guides/workflow-comparison_zh/#3-boring_session_start-the-system-","title":"3. <code>boring_session_start</code> (The System - \u5b8c\u6574\u7cfb\u7d71)","text":"<p>\u7126\u9ede: \u7a69\u5065\u6027\u3001\u72c0\u614b\u6062\u5fa9\u80fd\u529b\u3001\u4eba\u985e\u4ecb\u5165 (Human-in-the-Loop)\u3002</p> <ul> <li>\u4ee3\u78bc\u4f4d\u7f6e: <code>session.py</code> (Line 223)</li> <li>\u4f5c\u7528: \u5b83\u555f\u52d5\u4e00\u500b\u7531 Python \u4ee3\u78bc\u7ba1\u7406\u7684 \u72c0\u614b\u6a5f (State Machine)\u3002</li> <li>\u6301\u4e45\u6027: \u5b83\u5c07\u72c0\u614b\u4fdd\u5b58\u5230 <code>.boring/memory/sessions/{id}.json</code>\u3002\u9019\u610f\u5473\u8457\u5373\u4f7f\u5c0d\u8a71\u5d29\u6f70\uff0c\u4e5f\u53ef\u4ee5\u901a\u904e <code>vibe_session_continue</code> \u5b8c\u7f8e\u6062\u5fa9\u3002</li> <li>\u5f37\u5236\u6027: \u5b83\u660e\u78ba\u5b9a\u7fa9\u4e86 <code>SessionPhase</code> (Alignment, Planning, Implementation...)\u3002\u5982\u679c\u6c92\u6709\u547c\u53eb <code>boring_session_confirm()</code>\uff0c\u7a0b\u5f0f\u908f\u8f2f\u5c07\u5f37\u5236\u7981\u6b62\u4f60\u9032\u5165\u5be6\u4f5c\u968e\u6bb5\u3002</li> </ul> <pre><code># \u4ee3\u78bc\u7247\u6bb5 (session.py)\nclass VibeSessionManager:\n    def create_session(self, goal: str) -&gt; VibeSession:\n        # \u5be6\u969b\u5728\u786c\u789f\u5efa\u7acb\u6a94\u6848\n        self.save_session(session)\n\n@audited\ndef boring_session_start(...):\n    # \u521d\u59cb\u5316\u7ba1\u7406\u5668\u4e26\u8fd4\u56de Phase 1 \u8f38\u51fa\n    manager = get_session_manager(project_root)\n    session = manager.create_session(...)\n</code></pre>"},{"location":"guides/workflow-comparison_zh/#_2","title":"\ud83c\udfaf \u7e3d\u7d50\u5efa\u8b70","text":"\u76ee\u6a19 \u63a8\u85a6\u5de5\u5177 \u56b4\u8085\u3001\u8907\u96dc\u7684\u958b\u767c\u5de5\u4f5c <code>boring_session_start</code> (\u900f\u904e <code>vibe_session</code> \u6307\u4ee4) \u5feb\u901f\u3001\u4e00\u6b21\u6027\u4efb\u52d9 <code>vibe_start</code> \u5b78\u7fd2\u5168\u68e7\u958b\u767c\u6d41\u7a0b <code>full_stack_dev</code> <p>\u6700\u4f73\u5be6\u8e10: \u5c0d\u65bc\u5c08\u696d\u5de5\u4f5c\uff0c\u8acb\u59cb\u7d42\u512a\u5148\u4f7f\u7528 <code>boring_session_start</code> (\u8aaa \"Start Session\" \u6216\u300c\u555f\u52d5 Session\u300d)\uff0c\u56e0\u70ba\u5b83\u4fdd\u8b49\u4e86\u6d41\u7a0b\u7684\u56b4\u8b39\u57f7\u884c\u4e26\u81ea\u52d5\u4fdd\u5b58\u9032\u5ea6\u3002</p>"},{"location":"guides/workflows/","title":"Agentic Workflows (Slash Commands)","text":"<p>Automate complex multi-step processes with pre-defined AI recipes.</p>"},{"location":"guides/workflows/#what-are-agentic-workflows","title":"\ud83e\udd16 What are Agentic Workflows?","text":"<p>Agentic Workflows are specialized markdown files located in your <code>.agent/workflows/</code> directory. They act as Standard Operating Procedures (SOPs) for the AI agent. Instead of giving long, repetitive instructions, you can simply trigger a workflow.</p>"},{"location":"guides/workflows/#key-benefits","title":"Key Benefits","text":"<ul> <li>Consistency: Every release or feature follow the exact same steps.</li> <li>Automation: Workflows can include shell commands that the AI executes for you.</li> <li>Organization: Complex checklists are managed separately from your code.</li> </ul>"},{"location":"guides/workflows/#how-to-trigger-a-workflow","title":"\u26a1 How to Trigger a Workflow","text":"<p>You can activate any workflow by using a Slash Command in your chat. </p> <p>For example, if you have <code>release-prep.md</code> in <code>.agent/workflows/</code>: 1.  In the chat, type: <code>/release-prep</code> 2.  Boring will detect the command, load the file, and start working through the checklist.</p>"},{"location":"guides/workflows/#the-release-prepmd-example","title":"\ud83d\udcc2 The <code>release-prep.md</code> Example","text":"<p>This is a built-in workflow designed to prepare your project for a new version tag.</p>"},{"location":"guides/workflows/#what-it-does","title":"What it does:","text":"<ol> <li>Version Bump: Prompts to update <code>pyproject.toml</code> and init files.</li> <li>Doc Sync: Reminds to update changelogs and README badges.</li> <li>Verification: Automatically runs <code>boring verify</code> to ensure the release is stable.</li> <li>Git Ops: Prepares the staging and tagging commands.</li> </ol>"},{"location":"guides/workflows/#creating-your-own-workflow","title":"\ud83d\udee0\ufe0f Creating Your Own Workflow","text":"<p>Simply create a new <code>.md</code> file in <code>.agent/workflows/</code>.</p>"},{"location":"guides/workflows/#template-my-taskmd","title":"Template: <code>my-task.md</code>","text":"<pre><code>---\ndescription: Short description of the command\n---\n\n# My Custom Task\n\nDetailed instructions for the AI to follow...\n\n1.  [ ] Check file A\n2.  [ ] Run `npm test`\n3.  [ ] Report results\n</code></pre> <p>Now you can run it by typing <code>/my-task</code>.</p>"},{"location":"guides/workflows/#best-practices","title":"\ud83d\udca1 Best Practices","text":"<ul> <li>Use Checkboxes: <code>[ ]</code> helps the AI track state across multiple steps.</li> <li>Include Commands: If a step requires <code>run_command</code>, explicitly write it out.</li> <li>Bilingual Support: If your team is international, you can have <code>my-task_zh.md</code> as well.</li> </ul>"},{"location":"guides/workflows_zh/","title":"\u4ee3\u7406\u5de5\u4f5c\u6d41 (\u659c\u69d3\u6307\u4ee4)","text":"<p>\u4f7f\u7528\u9810\u5b9a\u7fa9\u7684 AI \u8173\u672c\u81ea\u52d5\u5316\u57f7\u884c\u8907\u96dc\u7684\u591a\u6b65\u9a5f\u6d41\u7a0b\u3002</p>"},{"location":"guides/workflows_zh/#agentic-workflows","title":"\ud83e\udd16 \u4ec0\u9ebc\u662f\u4ee3\u7406\u5de5\u4f5c\u6d41 (Agentic Workflows)\uff1f","text":"<p>\u4ee3\u7406\u5de5\u4f5c\u6d41\u662f\u4f4d\u65bc <code>.agent/workflows/</code> \u76ee\u9304\u4e2d\u7684\u5c08\u7528 Markdown \u6a94\u6848\u3002\u5b83\u5011\u5145\u7576 AI \u4ee3\u7406\u7684 \u6a19\u6e96\u4f5c\u696d\u7a0b\u5e8f (SOP)\u3002\u60a8\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u8f38\u5165\u5197\u9577\u91cd\u8907\u7684\u6307\u4ee4\uff0c\u53ea\u9700\u555f\u52d5\u5de5\u4f5c\u6d41\u5373\u53ef\u3002</p>"},{"location":"guides/workflows_zh/#_2","title":"\u6838\u5fc3\u512a\u9ede","text":"<ul> <li>\u4e00\u81f4\u6027\uff1a\u78ba\u4fdd\u6bcf\u6b21\u767c\u5e03\u6216\u529f\u80fd\u958b\u767c\u90fd\u9075\u5faa\u5b8c\u5168\u76f8\u540c\u7684\u6b65\u9a5f\u3002</li> <li>\u81ea\u52d5\u5316\uff1a\u5de5\u4f5c\u6d41\u53ef\u4ee5\u5305\u542b AI \u6703\u70ba\u60a8\u57f7\u884c\u7684 Shell \u6307\u4ee4\u3002</li> <li>\u689d\u7406\u6027\uff1a\u5c07\u8907\u96dc\u7684\u6aa2\u67e5\u6e05\u55ae\u8207\u7a0b\u5f0f\u78bc\u908f\u8f2f\u5206\u958b\u7ba1\u7406\u3002</li> </ul>"},{"location":"guides/workflows_zh/#_3","title":"\u26a1 \u5982\u4f55\u555f\u52d5\u5de5\u4f5c\u6d41","text":"<p>\u60a8\u53ef\u4ee5\u5728\u5c0d\u8a71\u4e2d\u4f7f\u7528 \u659c\u69d3\u6307\u4ee4 (Slash Command) \u4f86\u555f\u52d5\u4efb\u4f55\u5de5\u4f5c\u6d41\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684 <code>.agent/workflows/</code> \u4e2d\u6709\u540d\u70ba <code>release-prep.md</code> \u7684\u6a94\u6848\uff1a 1.  \u5728\u5c0d\u8a71\u6846\u8f38\u5165\uff1a<code>/release-prep</code> 2.  Boring \u6703\u5075\u6e2c\u5230\u6307\u4ee4\uff0c\u8f09\u5165\u8a72\u6a94\u6848\uff0c\u4e26\u958b\u59cb\u6309\u7167\u6e05\u55ae\u9010\u6b65\u57f7\u884c\u3002</p>"},{"location":"guides/workflows_zh/#release-prepmd","title":"\ud83d\udcc2 \u4ee5 <code>release-prep.md</code> \u70ba\u4f8b","text":"<p>\u9019\u662f\u4e00\u500b\u5167\u5efa\u7684\u5de5\u4f5c\u6d41\uff0c\u65e8\u5728\u70ba\u60a8\u7684\u5c08\u6848\u6e96\u5099\u65b0\u7684\u7248\u672c\u6a19\u7c64 (Tag)\u3002</p>"},{"location":"guides/workflows_zh/#_4","title":"\u5b83\u6703\u505a\u4ec0\u9ebc\uff1a","text":"<ol> <li>\u7248\u672c\u66f4\u65b0\uff1a\u63d0\u9192\u60a8\u66f4\u65b0 <code>pyproject.toml</code> \u8207\u521d\u59cb\u5316\u6a94\u6848\u4e2d\u7684\u7248\u672c\u865f\u3002</li> <li>\u6587\u6a94\u540c\u6b65\uff1a\u63d0\u9192\u66f4\u65b0 Changelog \u8207 README \u4e2d\u7684\u7248\u672c\u5fbd\u7ae0\u3002</li> <li>\u9a57\u8b49\u9a57\u8b49\uff1a\u81ea\u52d5\u57f7\u884c <code>boring verify</code> \u78ba\u4fdd\u767c\u5e03\u7248\u672c\u662f\u7a69\u5b9a\u7684\u3002</li> <li>Git \u64cd\u4f5c\uff1a\u6e96\u5099\u597d Git commit \u8207 tag \u7684\u76f8\u95dc\u6307\u4ee4\u3002</li> </ol>"},{"location":"guides/workflows_zh/#_5","title":"\ud83d\udee0\ufe0f \u5efa\u7acb\u60a8\u81ea\u5df1\u7684\u5de5\u4f5c\u6d41","text":"<p>\u53ea\u9700\u5728 <code>.agent/workflows/</code> \u4e2d\u5efa\u7acb\u4e00\u500b\u65b0\u7684 <code>.md</code> \u6a94\u6848\u5373\u53ef\u3002</p>"},{"location":"guides/workflows_zh/#my-taskmd","title":"\u7bc4\u672c\uff1a<code>my-task.md</code>","text":"<pre><code>---\ndescription: \u5c0d\u8a72\u6307\u4ee4\u7684\u7c21\u77ed\u63cf\u8ff0\n---\n\n# \u6211\u7684\u81ea\u5b9a\u7fa9\u4efb\u52d9\n\n\u7d66 AI \u9075\u5faa\u7684\u8a73\u7d30\u6307\u4ee4...\n\n1.  [ ] \u6aa2\u67e5 A \u6a94\u6848\n2.  [ ] \u57f7\u884c `npm test`\n3.  [ ] \u56de\u5831\u7d50\u679c\n</code></pre> <p>\u73fe\u5728\uff0c\u60a8\u53ef\u4ee5\u900f\u904e\u8f38\u5165 <code>/my-task</code> \u4f86\u57f7\u884c\u5b83\u3002</p>"},{"location":"guides/workflows_zh/#_6","title":"\ud83d\udca1 \u6700\u4f73\u5be6\u8e10","text":"<ul> <li>\u4f7f\u7528\u6838\u53d6\u65b9\u584a\uff1a<code>[ ]</code> \u80fd\u5e6b\u52a9 AI \u5728\u591a\u500b\u6b65\u9a5f\u4e4b\u9593\u8ffd\u8e64\u7576\u524d\u72c0\u614b\u3002</li> <li>\u5305\u542b\u6307\u4ee4\uff1a\u5982\u679c\u6b65\u9a5f\u9700\u8981\u57f7\u884c <code>run_command</code>\uff0c\u8acb\u660e\u78ba\u5beb\u51fa\u3002</li> <li>\u96d9\u8a9e\u652f\u6301\uff1a\u5982\u679c\u60a8\u7684\u5718\u968a\u6709\u591a\u570b\u8a9e\u8a00\u9700\u6c42\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5efa\u7acb <code>my-task_zh.md</code>\u3002</li> </ul>"},{"location":"guides/yolo-boring-integration/","title":"Gemini YOLO + Boring \u6700\u5927\u5316\u5229\u7528\u6307\u5357","text":"<p>\u672c\u6307\u5357\u8aaa\u660e\u5982\u4f55\u7d50\u5408 Gemini CLI \u7684 YOLO \u6a21\u5f0f\u8207 Boring MCP \u5de5\u5177\uff0c\u9054\u6210\u6700\u9ad8\u6548\u7387\u7684\u81ea\u4e3b\u958b\u767c(\u81ea\u52d5\u5316\u8ff4\u5708)\u3002</p>"},{"location":"guides/yolo-boring-integration/#_1","title":"\u6838\u5fc3\u6982\u5ff5","text":"<pre><code>Gemini YOLO = \u5f15\u64ce\uff08\u57f7\u884c\u529b\uff09\nBoring MCP  = \u5de5\u5177\u7bb1\uff08\u5c08\u696d\u6280\u80fd\uff09\n</code></pre> <p>\u7576\u5169\u8005\u7d50\u5408\uff0cAI \u53ef\u4ee5\u81ea\u52d5\u4f7f\u7528 Boring \u7684 50+ \u5de5\u5177\u4f86\u5b8c\u6210\u8907\u96dc\u4efb\u52d9\u3002</p>"},{"location":"guides/yolo-boring-integration/#_2","title":"\u524d\u7f6e\u8a2d\u5b9a","text":""},{"location":"guides/yolo-boring-integration/#1-boring-mcp","title":"1. \u5b89\u88dd Boring MCP","text":"<p>\u78ba\u4fdd <code>~/.gemini/settings.json</code> \u5305\u542b\uff1a</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"uvx\",\n      \"args\": [\"boring-aicoding\"]\n    }\n  }\n}\n</code></pre>"},{"location":"guides/yolo-boring-integration/#2","title":"2. \u9a57\u8b49\u8a2d\u5b9a","text":"<pre><code>gemini \"\u5217\u51fa\u6240\u6709\u53ef\u7528\u7684 boring \u5de5\u5177\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#yolo","title":"\u5e38\u7528 YOLO \u6307\u4ee4","text":""},{"location":"guides/yolo-boring-integration/#_3","title":"\ud83d\udd0d \u7a0b\u5f0f\u78bc\u641c\u5c0b + \u4fee\u6539","text":"<pre><code>gemini --yolo \"\u4f7f\u7528 boring_rag_search \u627e\u5230 auth \u76f8\u95dc\u7a0b\u5f0f\u78bc\uff0c\u7136\u5f8c\u4fee\u5fa9\u767b\u5165 bug\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#_4","title":"\ud83e\uddea \u81ea\u52d5\u6e2c\u8a66 + \u4fee\u5fa9","text":"<pre><code>gemini --yolo \"\u57f7\u884c boring_verify\uff0c\u5982\u679c\u5931\u6557\u5c31\u4fee\u5fa9\u554f\u984c\uff0c\u91cd\u8907\u76f4\u5230\u901a\u904e\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#_5","title":"\ud83d\udcdd \u7a0b\u5f0f\u78bc\u5be9\u67e5 + \u91cd\u69cb","text":"<pre><code>gemini --yolo \"\u5c0d src/ \u4e0b\u6240\u6709 Python \u6a94\u6848\u57f7\u884c boring_code_review\uff0c\u7136\u5f8c\u4fee\u5fa9\u6240\u6709\u5efa\u8b70\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#_6","title":"\ud83d\ude80 \u767c\u5e03\u6d41\u7a0b","text":"<pre><code>gemini --yolo \"\u57f7\u884c /release-prep \u5de5\u4f5c\u6d41\u7a0b\uff0c\u5b8c\u6210\u6240\u6709\u6b65\u9a5f\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#_7","title":"\u9032\u968e\u7d44\u5408\u6280","text":""},{"location":"guides/yolo-boring-integration/#_8","title":"\u5168\u81ea\u52d5\u958b\u767c\u8ff4\u5708","text":"<pre><code>gemini --yolo \"\n1. \u4f7f\u7528 boring_rag_search \u7406\u89e3\u7a0b\u5f0f\u78bc\u7d50\u69cb\n2. \u8b80\u53d6 @fix_plan.md \u627e\u5230\u4e0b\u4e00\u500b\u4efb\u52d9\n3. \u5be6\u4f5c\u8a72\u4efb\u52d9\n4. \u4f7f\u7528 boring_verify \u9a57\u8b49\n5. \u5982\u679c\u901a\u904e\uff0c\u5728 @fix_plan.md \u6a19\u8a18 [x]\n6. \u91cd\u8907\u76f4\u5230\u6240\u6709\u4efb\u52d9\u5b8c\u6210\n\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#_9","title":"\u54c1\u8cea\u628a\u95dc\u8ff4\u5708","text":"<pre><code>gemini --yolo \"\n\u5c0d\u6bcf\u500b\u4fee\u6539\u7684\u6a94\u6848\uff1a\n1. boring_code_review \u5be9\u67e5\n2. boring_perf_tips \u6548\u80fd\u6aa2\u67e5  \n3. boring_vibe_check \u5065\u5eb7\u8a55\u5206\n\u4fee\u5fa9\u6240\u6709\u554f\u984c\u76f4\u5230 vibe score &gt; 80\n\"\n</code></pre>"},{"location":"guides/yolo-boring-integration/#boring","title":"Boring \u5de5\u5177\u901f\u67e5\u8868","text":"\u5de5\u5177 \u7528\u9014 YOLO \u642d\u914d\u7bc4\u4f8b <code>boring_rag_search</code> \u8a9e\u610f\u641c\u5c0b\u7a0b\u5f0f\u78bc \u7406\u89e3\u5c08\u6848\u7d50\u69cb <code>boring_code_review</code> AI \u7a0b\u5f0f\u78bc\u5be9\u67e5 \u81ea\u52d5\u4fee\u5fa9\u5efa\u8b70 <code>boring_vibe_check</code> \u5c08\u6848\u5065\u5eb7\u8a55\u5206 \u54c1\u8cea\u628a\u95dc <code>boring_verify</code> \u57f7\u884c\u9a57\u8b49 CI/CD \u81ea\u52d5\u5316 <code>boring_impact_check</code> \u5f71\u97ff\u5206\u6790 \u5b89\u5168\u91cd\u69cb <code>boring_security_scan</code> \u5b89\u5168\u6383\u63cf \u9632\u6b62\u6d29\u5bc6 <code>boring_test_gen</code> \u81ea\u52d5\u751f\u6210\u6e2c\u8a66 \u63d0\u9ad8\u8986\u84cb\u7387 <code>boring_doc_gen</code> \u81ea\u52d5\u751f\u6210\u6587\u4ef6 \u4fdd\u6301\u6587\u4ef6\u540c\u6b65"},{"location":"guides/yolo-boring-integration/#_10","title":"\u81ea\u52d5\u5316\u8173\u672c","text":""},{"location":"guides/yolo-boring-integration/#windows-powershell","title":"Windows PowerShell","text":"<pre><code># yolo_loop.ps1 - \u81ea\u52d5\u5316 YOLO \u8ff4\u5708\n$MAX_LOOPS = 5\n\nfor ($i = 1; $i -le $MAX_LOOPS; $i++) {\n    Write-Host \"=== Loop $i / $MAX_LOOPS ===\" -ForegroundColor Cyan\n\n    # \u57f7\u884c\u4e00\u8f2a\n    gemini --yolo \"\u5b8c\u6210 @fix_plan.md \u4e2d\u7684\u4e0b\u4e00\u500b [ ] \u4efb\u52d9\uff0c\u5b8c\u6210\u5f8c\u6a19\u8a18 [x]\"\n\n    # \u9a57\u8b49\n    boring verify\n\n    if ($LASTEXITCODE -eq 0) {\n        Write-Host \"\u2705 \u9a57\u8b49\u901a\u904e\" -ForegroundColor Green\n    } else {\n        Write-Host \"\u274c \u9700\u8981\u4fee\u5fa9\" -ForegroundColor Red\n    }\n\n    Start-Sleep -Seconds 5\n}\n</code></pre>"},{"location":"guides/yolo-boring-integration/#linuxmac-bash","title":"Linux/Mac Bash","text":"<pre><code>#!/bin/bash\n# yolo_loop.sh - \u81ea\u52d5\u5316 YOLO \u8ff4\u5708\n\nMAX_LOOPS=5\nfor i in $(seq 1 $MAX_LOOPS); do\n    echo \"=== Loop $i / $MAX_LOOPS ===\"\n\n    # \u57f7\u884c\u4e00\u8f2a\uff08\u52a0\u4e0a timeout \u907f\u514d\u7121\u9650\u8dd1\uff09\n    timeout 5m gemini --yolo \"\u5b8c\u6210 @fix_plan.md \u4e2d\u7684\u4e0b\u4e00\u500b\u4efb\u52d9\"\n\n    # \u9a57\u8b49\n    boring verify\n\n    if [ $? -eq 0 ]; then\n        echo \"\u2705 \u9a57\u8b49\u901a\u904e\"\n    else\n        echo \"\u274c \u9700\u8981\u4fee\u5fa9\"\n    fi\n\n    sleep 5\ndone\n</code></pre>"},{"location":"guides/yolo-boring-integration/#_11","title":"\u5e38\u898b\u60c5\u5883\u6307\u4ee4","text":"\u60c5\u5883 \u63a8\u85a6\u6307\u4ee4 \u7406\u89e3\u65b0\u5c08\u6848 <code>gemini --yolo \"boring_rag_search \u5206\u6790\u6574\u500b\u7a0b\u5f0f\u78bc\u5eab\"</code> \u4fee Bug <code>gemini --yolo \"\u627e\u5230\u4e26\u4fee\u5fa9 XXX \u554f\u984c\"</code> \u91cd\u69cb <code>gemini --yolo \"boring_impact_check + \u5b89\u5168\u91cd\u69cb\"</code> \u767c\u5e03 <code>gemini --yolo \"/release-prep\"</code> \u5beb\u6e2c\u8a66 <code>gemini --yolo \"boring_test_gen \u70ba src/ \u751f\u6210\u6e2c\u8a66\"</code> \u5b89\u5168\u6aa2\u67e5 <code>gemini --yolo \"boring_security_scan \u6383\u63cf\u4e26\u4fee\u5fa9\"</code>"},{"location":"guides/yolo-boring-integration/#_12","title":"\u6ce8\u610f\u4e8b\u9805","text":"<p>\u26a0\ufe0f \u8b66\u544a\uff1aYOLO \u6a21\u5f0f\u6703\u8df3\u904e\u6240\u6709\u78ba\u8a8d\uff01AI \u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u6a94\u6848\u3001\u57f7\u884c\u6307\u4ee4\u3002</p>"},{"location":"guides/yolo-boring-integration/#_13","title":"\u5b89\u5168\u5efa\u8b70","text":"<ol> <li>\u4f7f\u7528 Git\uff1a\u78ba\u4fdd\u6240\u6709\u4fee\u6539\u90fd\u53ef\u4ee5\u56de\u6efe</li> <li>\u8a2d\u5b9a\u908a\u754c\uff1a\u660e\u78ba\u544a\u8a34 AI \u54ea\u4e9b\u6a94\u6848\u4e0d\u80fd\u52d5</li> <li>\u5206\u6bb5\u57f7\u884c\uff1a\u5927\u4efb\u52d9\u5206\u6210\u5c0f\u6b65\u9a5f</li> <li>\u5b9a\u671f\u6aa2\u67e5\uff1a\u6bcf\u9694\u5e7e\u8f2a\u624b\u52d5\u5be9\u67e5\u8b8a\u66f4</li> </ol>"},{"location":"guides/yolo-boring-integration/#_14","title":"\u63a8\u85a6\u74b0\u5883","text":"<ul> <li>Docker \u5bb9\u5668</li> <li>\u865b\u64ec\u6a5f</li> <li>\u7368\u7acb\u7684\u6e2c\u8a66\u5c08\u6848</li> <li>\u6709\u5b8c\u6574\u5099\u4efd\u7684\u5c08\u6848</li> </ul>"},{"location":"guides/yolo-boring-integration_en/","title":"Gemini YOLO + Boring Maximum Utilization Guide","text":"<p>This guide explains how to combine Gemini CLI's YOLO mode with Boring MCP tools for maximum autonomous development efficiency(AUTO LOOP).</p>"},{"location":"guides/yolo-boring-integration_en/#core-concept","title":"Core Concept","text":"<pre><code>Gemini YOLO = Engine (Execution Power)\nBoring MCP  = Toolbox (Professional Skills)\n</code></pre> <p>When combined, AI can automatically use Boring's 50+ tools to complete complex tasks.</p>"},{"location":"guides/yolo-boring-integration_en/#prerequisites","title":"Prerequisites","text":""},{"location":"guides/yolo-boring-integration_en/#1-install-boring-mcp","title":"1. Install Boring MCP","text":"<p>Ensure <code>~/.gemini/settings.json</code> contains:</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"uvx\",\n      \"args\": [\"boring-aicoding\"]\n    }\n  }\n}\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#2-verify-setup","title":"2. Verify Setup","text":"<pre><code>gemini \"List all available boring tools\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#common-yolo-commands","title":"Common YOLO Commands","text":""},{"location":"guides/yolo-boring-integration_en/#code-search-modification","title":"\ud83d\udd0d Code Search + Modification","text":"<pre><code>gemini --yolo \"Use boring_rag_search to find auth-related code, then fix the login bug\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#auto-test-fix","title":"\ud83e\uddea Auto Test + Fix","text":"<pre><code>gemini --yolo \"Run boring_verify, if it fails fix the issues, repeat until passing\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#code-review-refactor","title":"\ud83d\udcdd Code Review + Refactor","text":"<pre><code>gemini --yolo \"Run boring_code_review on all Python files in src/, then fix all suggestions\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#release-workflow","title":"\ud83d\ude80 Release Workflow","text":"<pre><code>gemini --yolo \"Execute /release-prep workflow, complete all steps\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#advanced-combinations","title":"Advanced Combinations","text":""},{"location":"guides/yolo-boring-integration_en/#full-auto-development-loop","title":"Full Auto Development Loop","text":"<pre><code>gemini --yolo \"\n1. Use boring_rag_search to understand code structure\n2. Read @fix_plan.md to find the next task\n3. Implement that task\n4. Use boring_verify to validate\n5. If passing, mark [x] in @fix_plan.md\n6. Repeat until all tasks complete\n\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#quality-gate-loop","title":"Quality Gate Loop","text":"<pre><code>gemini --yolo \"\nFor each modified file:\n1. boring_code_review audit\n2. boring_perf_tips performance check  \n3. boring_vibe_check health score\nFix all issues until vibe score &gt; 80\n\"\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#boring-tools-quick-reference","title":"Boring Tools Quick Reference","text":"Tool Purpose YOLO Usage Example <code>boring_rag_search</code> Semantic code search Understand project structure <code>boring_code_review</code> AI code review Auto-fix suggestions <code>boring_vibe_check</code> Project health score Quality gate <code>boring_verify</code> Run verification CI/CD automation <code>boring_impact_check</code> Impact analysis Safe refactoring <code>boring_security_scan</code> Security scan Prevent leaks <code>boring_test_gen</code> Auto generate tests Increase coverage <code>boring_doc_gen</code> Auto generate docs Keep docs synced"},{"location":"guides/yolo-boring-integration_en/#automation-scripts","title":"Automation Scripts","text":""},{"location":"guides/yolo-boring-integration_en/#windows-powershell","title":"Windows PowerShell","text":"<pre><code># yolo_loop.ps1 - Automated YOLO loop\n$MAX_LOOPS = 5\n\nfor ($i = 1; $i -le $MAX_LOOPS; $i++) {\n    Write-Host \"=== Loop $i / $MAX_LOOPS ===\" -ForegroundColor Cyan\n\n    # Execute one round\n    gemini --yolo \"Complete the next [ ] task in @fix_plan.md, mark as [x] when done\"\n\n    # Verify\n    boring verify\n\n    if ($LASTEXITCODE -eq 0) {\n        Write-Host \"\u2705 Verification passed\" -ForegroundColor Green\n    } else {\n        Write-Host \"\u274c Needs fixing\" -ForegroundColor Red\n    }\n\n    Start-Sleep -Seconds 5\n}\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#linuxmac-bash","title":"Linux/Mac Bash","text":"<pre><code>#!/bin/bash\n# yolo_loop.sh - Automated YOLO loop\n\nMAX_LOOPS=5\nfor i in $(seq 1 $MAX_LOOPS); do\n    echo \"=== Loop $i / $MAX_LOOPS ===\"\n\n    # Execute one round (with timeout to prevent infinite runs)\n    timeout 5m gemini --yolo \"Complete the next task in @fix_plan.md\"\n\n    # Verify\n    boring verify\n\n    if [ $? -eq 0 ]; then\n        echo \"\u2705 Verification passed\"\n    else\n        echo \"\u274c Needs fixing\"\n    fi\n\n    sleep 5\ndone\n</code></pre>"},{"location":"guides/yolo-boring-integration_en/#common-scenario-commands","title":"Common Scenario Commands","text":"Scenario Recommended Command Understand new project <code>gemini --yolo \"boring_rag_search analyze entire codebase\"</code> Fix bug <code>gemini --yolo \"Find and fix XXX issue\"</code> Refactor <code>gemini --yolo \"boring_impact_check + safe refactor\"</code> Release <code>gemini --yolo \"/release-prep\"</code> Write tests <code>gemini --yolo \"boring_test_gen generate tests for src/\"</code> Security check <code>gemini --yolo \"boring_security_scan and fix issues\"</code>"},{"location":"guides/yolo-boring-integration_en/#cautions","title":"Cautions","text":"<p>\u26a0\ufe0f Warning: YOLO mode skips all confirmations! AI can directly modify files and execute commands.</p>"},{"location":"guides/yolo-boring-integration_en/#safety-recommendations","title":"Safety Recommendations","text":"<ol> <li>Use Git: Ensure all changes can be rolled back</li> <li>Set boundaries: Clearly tell AI which files cannot be touched</li> <li>Execute in segments: Break large tasks into smaller steps</li> <li>Regular reviews: Manually review changes every few rounds</li> </ol>"},{"location":"guides/yolo-boring-integration_en/#recommended-environments","title":"Recommended Environments","text":"<ul> <li>Docker containers</li> <li>Virtual machines</li> <li>Isolated test projects</li> <li>Projects with complete backups</li> </ul>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/","title":"Appendix A: Complete MCP Tool Reference","text":"<p>Total Tools: 100+ tools organized into 20+ categories. Version: V14.0.0 (Predictive Intelligence &amp; Offline-First)</p> <p>\ud83d\udca1 Recommendation: Use the Universal Router (<code>boring()</code>) or CLI (<code>boring-route</code>) for most tasks. You rarely need to call these tools directly.</p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#0-universal-tools-the-gateway","title":"0. Universal Tools (The Gateway)","text":"Tool Description Key Parameters <code>boring</code> Universal Router: Natural Language interface to all tools. <code>request</code> (Natural Language) <code>boring_help</code> Show all available categories and profile info. - <code>boring_discover</code> Progressive Disclosure: Get full schema for a tool. <code>tool_name</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#1-verification-tools","title":"1. Verification Tools","text":"Tool Description Key Parameters <code>boring_verify</code> Run full project verification <code>level</code>: BASIC/STANDARD/FULL/SEMANTIC <code>boring_verify_file</code> Verify a single file <code>file_path</code>, <code>level</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#2-security-tools","title":"2. Security Tools","text":"Tool Description Key Parameters <code>boring_security_scan</code> SAST + secret detection + dependency scan <code>project_path</code>, <code>scan_type</code>, <code>verbosity</code> <p>Scan Types: <code>secrets</code>, <code>vulnerabilities</code>, <code>dependencies</code>, <code>all</code> Verbosity: <code>minimal</code>, <code>standard</code>, <code>verbose</code></p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#3-transaction-tools","title":"3. Transaction Tools","text":"Tool Description Key Parameters <code>boring_transaction_start</code> Create savepoint <code>message</code> <code>boring_transaction_commit</code> Finalize transaction - <code>boring_rollback</code> Restore to savepoint <code>transaction_id</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#4-background-task-tools","title":"4. Background Task Tools","text":"Tool Description Key Parameters <code>boring_background_task</code> Submit async task <code>task_type</code>, <code>task_args</code> <code>boring_task_status</code> Check task progress <code>task_id</code> <code>boring_list_tasks</code> List all tasks <code>status</code> filter <p>Task Types: <code>verify</code>, <code>test</code>, <code>lint</code>, <code>security_scan</code></p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#5-context-memory-tools","title":"5. Context &amp; Memory Tools","text":"Tool Description Key Parameters <code>boring_save_context</code> Save session state <code>context_name</code>, <code>data</code> <code>boring_load_context</code> Restore session state <code>context_name</code> <code>boring_list_contexts</code> List saved contexts - <code>boring_get_profile</code> Get user preferences - <code>boring_learn_fix</code> Learn fix pattern <code>error_pattern</code>, <code>fix_pattern</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#6-rag-semantic-search-tools","title":"6. RAG (Semantic Search) Tools","text":"Tool Description Key Parameters <code>boring_rag_index</code> Index codebase <code>force</code>, <code>project_path</code> (Requires <code>chromadb</code>) <code>boring_rag_search</code> Semantic code search <code>query</code>, <code>max_results</code>, <code>verbosity</code> <code>boring_rag_context</code> Get code context <code>file_path</code>, <code>function_name</code> <code>boring_rag_expand</code> Expand dependency graph <code>chunk_id</code>, <code>depth</code> <code>boring_rag_graph</code> Visual Graph: Visualize code dependency graph. <code>target_path</code>, <code>depth</code>, <code>output_format</code> <code>boring_rag_status</code> Check index health -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#7-multi-agent-tools","title":"7. Multi-Agent Tools","text":"Tool Description Key Parameters <code>boring_multi_agent</code> [PROMPT GENERATOR / EXECUTOR] <code>task</code>, <code>auto_approve_plans</code>, <code>execute</code> <code>boring_agent_plan</code> [PROMPT GENERATOR] Architect <code>task</code> <code>boring_agent_review</code> [PROMPT GENERATOR] Reviewer <code>code_change</code> <code>boring_delegate</code> Delegate to sub-agent <code>task</code>, <code>tool_type</code> <p>Tool Types: <code>database</code>, <code>web_search</code>, <code>file_system</code>, <code>api</code>, <code>reasoning</code></p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#8-shadow-mode-tools","title":"8. Shadow Mode Tools","text":"Tool Description Key Parameters <code>boring_shadow_mode</code> Set mode <code>mode</code>: DISABLED/ENABLED/STRICT <code>boring_shadow_status</code> View pending ops - <code>boring_shadow_approve</code> Approve operation <code>operation_id</code>, <code>note</code> <code>boring_shadow_reject</code> Reject operation <code>operation_id</code>, <code>note</code> <code>boring_shadow_clear</code> Clear all pending -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#9-git-hooks-tools","title":"9. Git &amp; Hooks Tools","text":"Tool Description Key Parameters <code>boring_hooks_install</code> Install pre-commit hooks - <code>boring_commit</code> Semantic commit <code>message</code>, <code>files</code> <code>boring_visualize</code> Visualize git history -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#10-plugin-tools","title":"10. Plugin Tools","text":"Tool Description Key Parameters <code>boring_list_plugins</code> List all plugins - <code>boring_run_plugin</code> Execute plugin <code>name</code>, <code>args</code> <code>boring_reload_plugins</code> Reload from disk -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#11-workspace-tools","title":"11. Workspace Tools","text":"Tool Description Key Parameters <code>boring_workspace_add</code> Register project <code>name</code>, <code>path</code>, <code>tags</code> <code>boring_workspace_remove</code> Unregister project <code>name</code> <code>boring_workspace_list</code> List projects <code>tag</code> filter <code>boring_workspace_switch</code> Switch context <code>name</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#12-auto-fix-tools","title":"12. Auto-Fix Tools","text":"Tool Description Key Parameters <code>boring_auto_fix</code> Automated fix loop <code>max_iterations</code>, <code>verification_level</code> <code>boring_suggest_next</code> AI suggestions (Context-aware: Git, Task, Patterns) <code>limit</code> <code>boring_get_progress</code> Check long-running task <code>task_id</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#13-vibe-coder-pro-tools","title":"13. Vibe Coder Pro Tools","text":"Tool Description Key Parameters <code>boring_test_gen</code> Auto-Test Generator: Generates unit tests (Py/JS/TS). <code>file_path</code>, <code>output_dir</code> <code>boring_code_review</code> AI Code Review: Quality analysis with Brain pattern matching. <code>file_path</code>, <code>verbosity</code> <code>boring_perf_tips</code> Performance Analysis: Detects N+1, I/O in loops, etc. <code>file_path</code>, <code>verbosity</code> <code>boring_arch_check</code> Architecture Audit: Generates Mermaid dependency graphs. <code>target_path</code>, <code>output_format</code> <code>boring_doc_gen</code> Documentation Generator: Automated API reference generation. <code>target_path</code> <code>boring_vibe_check</code> Vibe Score: Health check (Lint + Security + Doc) with fix prompt. <code>target_path</code>, <code>verbosity</code> <code>boring_impact_check</code> Impact Analysis: Reverse dependency tracking for safe changes. <code>target_path</code>, <code>max_depth</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#14-intelligence-tools-v112","title":"14. Intelligence Tools (V11.2)","text":"Tool Description Key Parameters <code>boring_predict_errors</code> Error Prediction: Forecasts bugs based on local history. <code>file_path</code>, <code>limit</code> <code>boring_health_score</code> Execution Efficiency: Analyzes success rates &amp; solving speed. <code>project_path</code> <code>boring_predict_impact</code> Risk Prediction: Estimates risk level for planned changes. <code>file_path</code>, <code>action</code> <code>boring_risk_areas</code> Heatmap: Identifies files prone to recurrent failures. <code>limit</code> <code>boring_cache_insights</code> Cache Audit: Insights into AdaptiveCache performance. - <code>boring_set_session_context</code> Boost Context: Manually bias RAG/Intelligence. <code>keywords</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#15-evaluation-llm-judge","title":"15. Evaluation &amp; LLM Judge","text":"Tool Description Key Parameters <code>boring_evaluate</code> LLM Judge: Automated code scoring (1-5 targets). <code>target</code>, <code>level</code>, <code>rubric</code> <code>boring_generate_rubric</code> Rubric Factory: Creates detailed evaluation criteria. <code>task</code>, <code>criteria</code> <code>boring_bias_report</code> Monitoring: Detects position/length bias in scoring. <code>days</code> <code>boring_evaluation_metrics</code> System Health: Correlation with human judgments. -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#16-knowledge-brain-tools","title":"16. Knowledge &amp; Brain Tools","text":"Tool Description Key Parameters <code>boring_learn</code> Active Learning: Extracts patterns from session logs. <code>topics</code> <code>boring_brain_summary</code> Brain Dashboard: High-level status of persistent knowledge. - <code>boring_brain_health</code> Health Report: Pattern decay and usage stats. - <code>boring_global_export</code> Share: Export high-value patterns to Global Brain. - <code>boring_global_import</code> Learn: Import patterns from Global Brain. <code>tags</code> <code>boring_create_rubrics</code> Create evaluation standards from project specs. -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#17-speckit-tools-specification-driven-development","title":"17. SpecKit Tools (Specification-Driven Development)","text":"Tool Description Key Parameters <code>boring_speckit_plan</code> Plan: Generate implementation plan from plan.md. <code>workflow_file</code> <code>boring_speckit_tasks</code> Breakdown: Create actionable task list. <code>workflow_file</code> <code>boring_speckit_analyze</code> Analyze: Check spec consistency. <code>workflow_file</code> <code>boring_speckit_clarify</code> Clarify: Identify ambiguities in spec. <code>workflow_file</code> <code>boring_speckit_checklist</code> Verify: Generate verification checklist. <code>workflow_file</code> <code>boring_speckit_constitution</code> Rules: Create project guiding principles. <code>workflow_file</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#18-skills-discovery-tools","title":"18. Skills &amp; Discovery Tools","text":"Tool Description Key Parameters <code>boring_skills_install</code> Install: Install Agent Skill. <code>name</code> <code>boring_skills_list</code> List: List Skills Catalog. <code>platform</code> <code>boring_skills_search</code> Search: Search Skills Catalog. <code>query</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#19-predictive-intelligence-tools-v140","title":"19. Predictive Intelligence Tools (V14.0)","text":"<p>These tools leverage historical data and Brain patterns to predict issues and optimize workflow.</p> Tool Description Key Parameters <code>boring_predict_impact</code> Predict change impact: Analyzes risk level and affected files based on history. <code>file_path</code>, <code>change_type</code> <code>boring_risk_areas</code> Identify hotspots: Shows files with high error frequency. <code>limit</code> <code>boring_cache_insights</code> Cache analytics: Shows hit rates and correlation prefetch stats. - <code>boring_set_session_context</code> Optimize Context: Tune RAG/Cache for specific task type (debug/feature). <code>task_type</code>, <code>keywords</code> <code>boring_get_session_context</code> Check Context: View current optimization parameters. -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#20-supplemental-registered-tools-v140","title":"20. Supplemental Registered Tools (V14.0)","text":"Tool Description Key Parameters <code>boring_active_skill</code> Activate a skill category and inject tools <code>skill_name</code> <code>boring_best_next_action</code> Suggest best next action based on project state - <code>boring_brain_status</code> Brain status and context overview - <code>boring_brain_sync</code> Sync global brain patterns - <code>boring_call</code> Execute internal tool by name <code>tool_name</code>, <code>arguments</code> <code>boring_checkpoint</code> Create or restore project checkpoint <code>action</code>, <code>message</code> <code>boring_context</code> Manage context (save/load/list) <code>action</code>, <code>context_id</code> <code>boring_distill_skills</code> Distill learned patterns into skills <code>project_path</code> <code>boring_done</code> Completion notification <code>message</code>, <code>title</code> <code>boring_flow</code> Run Flow engine workflow <code>goal</code>, <code>mode</code> <code>boring_get_relevant_patterns</code> Get relevant brain patterns <code>query</code>, <code>limit</code> <code>boring_global_list</code> List global patterns <code>limit</code> <code>boring_incremental_learn</code> Incremental learning from changes <code>project_path</code> <code>boring_inspect_tool</code> Inspect internal tool schema <code>tool_name</code> <code>boring_integrity_score</code> Integrity score report <code>project_path</code> <code>boring_intelligence_stats</code> Intelligence usage stats - <code>boring_learn_pattern</code> Learn a single pattern <code>pattern</code>, <code>solution</code> <code>boring_optimize_context</code> Optimize context window <code>text</code>, <code>goal</code> <code>boring_orchestrate</code> Orchestrate multi-step workflow <code>goal</code> <code>boring_pattern_stats</code> Brain pattern stats <code>project_path</code> <code>boring_profile</code> Manage profile (get/learn) <code>action</code>, <code>error_pattern</code> <code>boring_prompt_fix</code> Prompt generator for fixes <code>task</code> <code>boring_prompt_plan</code> Prompt generator for planning <code>task</code> <code>boring_prune_patterns</code> Prune low-quality patterns <code>limit</code> <code>boring_rag_reload</code> Reload RAG dependencies - <code>boring_reset_skills</code> Reset injected skills - <code>boring_session_auto</code> Auto session workflow <code>task</code> <code>boring_session_confirm</code> Confirm session step <code>step_id</code> <code>boring_session_load</code> Load session <code>session_id</code> <code>boring_session_pause</code> Pause session - <code>boring_session_start</code> Start session <code>goal</code> <code>boring_session_status</code> Session status - <code>boring_shadow_trust</code> Trust path or command <code>path</code> <code>boring_shadow_trust_list</code> List trust rules - <code>boring_shadow_trust_remove</code> Remove trust rule <code>path</code> <code>boring_skill_activate</code> Activate skill <code>skill_name</code> <code>boring_skill_create</code> Create skill <code>name</code>, <code>goal</code> <code>boring_skill_discover</code> Discover local skills <code>project_path</code> <code>boring_skill_download</code> Download skill <code>url</code> <code>boring_skills_recommend</code> Recommend skills <code>project_path</code> <code>boring_status</code> Project status snapshot - <code>boring_synth_tool</code> Synthesize new tool <code>description</code> <code>boring_task</code> Background tasks (submit/status/list) <code>action</code>, <code>task_type</code> <code>boring_transaction</code> Transactions (start/commit/rollback) <code>action</code>, <code>description</code> <code>boring_transaction_rollback</code> Legacy rollback alias <code>project_path</code> <code>boring_usage_stats</code> Usage statistics -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#21-cli-integration-v140","title":"21. CLI Integration (V14.0)","text":"<p>Some V14.0 features are best accessed via CLI directly.</p> Command Description <code>boring predict</code> Run predictive analysis on current changes. <code>boring bisect</code> AI-powered git bisect to find bug sources. <code>boring diagnostic</code> Deep project health check. <code>boring model</code> Manage local LLMs (download/list/remove). <code>boring doctor</code> System health and MCP connection check. <code>boring offline</code> Toggle offline experience mode."},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#mcp-resources","title":"MCP Resources","text":"Resource URI Description <code>boring://capabilities</code> List all capability categories <code>boring://tools/{category}</code> Detailed usage for category <code>boring://logs</code> Server logs (stdio mode)"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE/#mcp-prompts","title":"MCP Prompts","text":"Prompt Description <code>plan_feature</code> Generate implementation plan <code>review_code</code> Request code review <code>debug_error</code> Debug error message <code>refactor_code</code> Request refactoring <code>explain_code</code> Explain code <code>setup_project</code> Project setup workflow <code>verify_work</code> Verification workflow <code>manage_memory</code> Memory management workflow <code>evaluate_architecture</code> Hostile Architect review <code>run_agent</code> Multi-agent workflow <code>vibe_start</code> One-click Start - Full workflow (Plan \u2192 Build \u2192 Verify). Best for: \"Build new app\", \"Start project\" <code>quick_fix</code> Quick Fix - Auto-fix lint/format/bugs. Best for: \"Fix lint errors\", \"Clean up code\" <code>full_stack_dev</code> Full-stack development <p>Last updated: V14.0.0</p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/","title":"\u9644\u9304 A\uff1a\u5b8c\u6574 MCP \u5de5\u5177\u53c3\u8003\u6307\u5357 (Appendix A: Complete MCP Tool Reference)","text":"<p>\u5de5\u5177\u7e3d\u6578\uff1a100+ \u500b\u5de5\u5177\uff0c\u7d44\u7e54\u70ba 20+ \u500b\u985e\u5225\u3002 \u7248\u672c\uff1aV14.0.0 (Predictive Intelligence &amp; Offline-First)</p> <p>\ud83d\udca1 \u5efa\u8b70\uff1a\u512a\u5148\u4f7f\u7528 Universal Router (<code>boring()</code>) \u6216 CLI (<code>boring-route</code>)\u3002\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\u4f60\u4e0d\u9700\u8981\u76f4\u63a5\u8abf\u7528\u9019\u4e9b\u5de5\u5177\u3002</p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#0-universal-tools-","title":"0. \u901a\u7528\u5de5\u5177 (Universal Tools - \u7e3d\u9ad4\u5165\u53e3)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring</code> \u842c\u7528\u8def\u7531: \u5168\u5de5\u5177\u7684\u81ea\u7136\u8a9e\u8a00\u63a5\u53e3\u3002 <code>request</code> (\u81ea\u7136\u8a9e\u8a00) <code>boring_help</code> \u986f\u793a\u6240\u6709\u53ef\u7528\u985e\u5225\u8207\u914d\u7f6e\u6587\u4ef6 (Profile) \u8cc7\u8a0a\u3002 - <code>boring_discover</code> \u9032\u968e\u767c\u73fe: \u52d5\u614b\u53d6\u5f97\u7279\u5b9a\u5de5\u5177\u7684\u5b8c\u6574 Schema\u3002 <code>tool_name</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#1-verification-tools","title":"1. \u9a57\u8b49\u5de5\u5177 (Verification Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_verify</code> \u57f7\u884c\u5b8c\u6574\u7684\u5c08\u6848\u9a57\u8b49 <code>level</code>: BASIC/STANDARD/FULL/SEMANTIC <code>boring_verify_file</code> \u9a57\u8b49\u55ae\u4e00\u6a94\u6848 <code>file_path</code>, <code>level</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#2-security-tools","title":"2. \u5b89\u5168\u5de5\u5177 (Security Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_security_scan</code> SAST + \u79d8\u5bc6\u6aa2\u6e2c + \u4f9d\u8cf4\u6383\u63cf <code>project_path</code>, <code>scan_type</code>, <code>verbosity</code> <p>\u6383\u63cf\u985e\u578b: <code>secrets</code>, <code>vulnerabilities</code>, <code>dependencies</code>, <code>all</code> \u8a73\u7d30\u5ea6: <code>minimal</code>, <code>standard</code>, <code>verbose</code></p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#3-transaction-tools","title":"3. \u4e8b\u52d9\u5de5\u5177 (Transaction Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_transaction_start</code> \u5efa\u7acb\u9084\u539f\u9ede (Savepoint) <code>message</code> <code>boring_transaction_commit</code> \u78ba\u8a8d\u4e26\u5b8c\u6210\u4e8b\u52d9 - <code>boring_rollback</code> \u9084\u539f\u81f3\u9084\u539f\u9ede <code>transaction_id</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#4-background-task-tools","title":"4. \u80cc\u666f\u4efb\u52d9\u5de5\u5177 (Background Task Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_background_task</code> \u63d0\u4ea4\u975e\u540c\u6b65\u4efb\u52d9 <code>task_type</code>, <code>task_args</code> <code>boring_task_status</code> \u6aa2\u67e5\u4efb\u52d9\u9032\u5ea6 <code>task_id</code> <code>boring_list_tasks</code> \u5217\u51fa\u6240\u6709\u4efb\u52d9 <code>status</code> filter <p>\u4efb\u52d9\u985e\u578b: <code>verify</code>, <code>test</code>, <code>lint</code>, <code>security_scan</code></p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#5-context-memory-tools","title":"5. \u4e0a\u4e0b\u6587\u8207\u8a18\u61b6\u5de5\u5177 (Context &amp; Memory Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_save_context</code> \u5132\u5b58\u5c0d\u8a71\u72c0\u614b <code>context_name</code>, <code>data</code> <code>boring_load_context</code> \u8f09\u5165\u5c0d\u8a71\u72c0\u614b <code>context_name</code> <code>boring_list_contexts</code> \u5217\u51fa\u5df2\u5b58\u72c0\u614b - <code>boring_get_profile</code> \u53d6\u5f97\u7528\u6236\u504f\u597d - <code>boring_learn_fix</code> \u5b78\u7fd2\u4fee\u5fa9\u6a21\u5f0f <code>error_pattern</code>, <code>fix_pattern</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#6-rag","title":"6. RAG (\u8a9e\u7fa9\u641c\u5c0b) \u5de5\u5177","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_rag_index</code> \u5efa\u7acb\u7a0b\u5f0f\u78bc\u7d22\u5f15 <code>force</code>, <code>project_path</code> (\u9700\u8981 <code>chromadb</code>) <code>boring_rag_search</code> \u8a9e\u7fa9\u641c\u5c0b\u4ee3\u78bc <code>query</code>, <code>max_results</code>, <code>verbosity</code> <code>boring_rag_context</code> \u53d6\u5f97\u4ee3\u78bc\u4e0a\u4e0b\u6587 <code>file_path</code>, <code>function_name</code> <code>boring_rag_expand</code> \u5c55\u958b\u4f9d\u8cf4\u95dc\u4fc2\u5716 <code>chunk_id</code>, <code>depth</code> <code>boring_rag_graph</code> \u8996\u89ba\u5316\u5716\u8868: \u8996\u89ba\u5316\u4ee3\u78bc\u4f9d\u8cf4\u5716\u3002 <code>target_path</code>, <code>depth</code>, <code>output_format</code> <code>boring_rag_status</code> \u6aa2\u67e5\u7d22\u5f15\u5065\u5eb7\u5ea6 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#7-multi-agent-tools","title":"7. \u591a\u667a\u80fd\u9ad4\u5de5\u5177 (Multi-Agent Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_multi_agent</code> [Prompt \u751f\u6210/\u57f7\u884c\u5668] <code>task</code>, <code>auto_approve_plans</code>, <code>execute</code> <code>boring_agent_plan</code> [Prompt \u751f\u6210\u5668] \u67b6\u69cb\u5e2b <code>task</code> <code>boring_agent_review</code> [Prompt \u751f\u6210\u5668] \u5be9\u67e5\u54e1 <code>code_change</code> <code>boring_delegate</code> \u59d4\u6d3e\u7d66\u5b50 Agent <code>task</code>, <code>tool_type</code> <p>\u5de5\u5177\u985e\u578b: <code>database</code>, <code>web_search</code>, <code>file_system</code>, <code>api</code>, <code>reasoning</code></p>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#8-shadow-mode-tools","title":"8. \u5f71\u5b50\u6a21\u5f0f\u5de5\u5177 (Shadow Mode Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_shadow_mode</code> \u8a2d\u5b9a\u6a21\u5f0f <code>mode</code>: DISABLED/ENABLED/STRICT <code>boring_shadow_status</code> \u67e5\u770b\u5f85\u5be9\u64cd\u4f5c - <code>boring_shadow_approve</code> \u6279\u51c6\u64cd\u4f5c <code>operation_id</code>, <code>note</code> <code>boring_shadow_reject</code> \u62d2\u7d55\u64cd\u4f5c <code>operation_id</code>, <code>note</code> <code>boring_shadow_clear</code> \u6e05\u9664\u6240\u6709\u5f85\u5be9 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#9-git-hooks","title":"9. Git \u8207 Hooks \u5de5\u5177","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_hooks_install</code> \u5b89\u88dd pre-commit hooks - <code>boring_commit</code> \u8a9e\u7fa9\u5316\u63d0\u4ea4 <code>message</code>, <code>files</code> <code>boring_visualize</code> \u8996\u89ba\u5316 Git \u8a18\u9304 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#10-plugin-tools","title":"10. \u63d2\u4ef6\u5de5\u5177 (Plugin Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_list_plugins</code> \u5217\u51fa\u6240\u6709\u63d2\u4ef6 - <code>boring_run_plugin</code> \u57f7\u884c\u63d2\u4ef6 <code>name</code>, <code>args</code> <code>boring_reload_plugins</code> \u5f9e\u78c1\u789f\u91cd\u8f09 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#11-workspace-tools","title":"11. \u5de5\u4f5c\u5340\u5de5\u5177 (Workspace Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_workspace_add</code> \u8a3b\u518a\u5c08\u6848 <code>name</code>, <code>path</code>, <code>tags</code> <code>boring_workspace_remove</code> \u53d6\u6d88\u8a3b\u518a <code>name</code> <code>boring_workspace_list</code> \u5217\u51fa\u5c08\u6848 <code>tag</code> filter <code>boring_workspace_switch</code> \u5207\u63db\u4e0a\u4e0b\u6587 <code>name</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#12-auto-fix-tools","title":"12. \u81ea\u52d5\u4fee\u5fa9\u5de5\u5177 (Auto-Fix Tools)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_auto_fix</code> \u81ea\u52d5\u4fee\u5fa9\u5faa\u74b0 <code>max_iterations</code>, <code>verification_level</code> <code>boring_suggest_next</code> AI \u4e0b\u4e00\u6b65\u5efa\u8b70 (\u542b\u4e0a\u4e0b\u6587\u611f\u77e5\uff1aGit, Task, Patterns) <code>limit</code> <code>boring_get_progress</code> \u6aa2\u67e5\u9577\u4efb\u52d9 <code>task_id</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#13-vibe-coder-pro","title":"13. Vibe Coder Pro \u5de5\u5177\u96c6","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_test_gen</code> \u81ea\u52d5\u6e2c\u8a66\u751f\u6210: \u5206\u6790\u7a0b\u5f0f\u78bc\u4e26\u751f\u6210\u6e2c\u8a66 (Py/JS/TS)\u3002 <code>file_path</code>, <code>output_dir</code> <code>boring_code_review</code> AI \u7a0b\u5f0f\u78bc\u5be9\u67e5: \u7d50\u5408 Brain \u6a21\u5f0f\u5339\u914d\u7684\u8cea\u91cf\u5206\u6790\u3002 <code>file_path</code>, <code>verbosity</code> <code>boring_perf_tips</code> \u6548\u80fd\u512a\u5316\u5efa\u8b70: \u6aa2\u6e2c N+1, \u8ff4\u5708 I/O \u7b49\u74f6\u9838\u3002 <code>file_path</code>, <code>verbosity</code> <code>boring_arch_check</code> \u67b6\u69cb\u5be9\u8a08: \u751f\u6210 Mermaid \u4f9d\u8cf4\u5716\u3002 <code>target_path</code>, <code>output_format</code> <code>boring_doc_gen</code> \u6587\u6a94\u81ea\u52d5\u751f\u6210: \u81ea\u52d5\u5316\u751f\u6210 API \u53c3\u8003\u6587\u4ef6\u3002 <code>target_path</code> <code>boring_vibe_check</code> Vibe Score: \u5065\u5eb7\u6aa2\u67e5 (Lint + \u5b89\u5168 + \u6587\u6a94) \u8207\u4fee\u5fa9 Prompt\u3002 <code>target_path</code>, <code>verbosity</code> <code>boring_impact_check</code> \u885d\u64ca\u5206\u6790: \u53cd\u5411\u4f9d\u8cf4\u8ffd\u8e64\uff0c\u9810\u5224\u4fee\u6539\u98a8\u96aa\u3002 <code>target_path</code>, <code>max_depth</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#14-intelligence-tools-v112","title":"14. \u667a\u80fd\u5de5\u5177\u96c6 (Intelligence Tools - V11.2)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_predict_errors</code> \u932f\u8aa4\u9810\u6e2c: \u6839\u64da\u5c08\u6848\u6b77\u53f2\u9810\u5224\u6f5b\u5728 Bug\u3002 <code>file_path</code>, <code>limit</code> <code>boring_health_score</code> \u57f7\u884c\u6548\u80fd\u8a55\u5206: \u7d9c\u5408\u5206\u6790\u6210\u529f\u7387\u8207\u89e3\u6c7a\u901f\u5ea6\u3002 <code>project_path</code> <code>boring_predict_impact</code> \u98a8\u96aa\u9810\u6e2c: \u9810\u4f30\u8a08\u756b\u4e2d\u4fee\u6539\u7684\u98a8\u96aa\u7b49\u7d1a\u3002 <code>file_path</code>, <code>action</code> <code>boring_risk_areas</code> \u98a8\u96aa\u71b1\u9ede: \u8b58\u5225\u4ee3\u78bc\u5eab\u4e2d\u6545\u969c\u7387\u6700\u9ad8\u7684\u5340\u57df\u3002 <code>limit</code> <code>boring_cache_insights</code> \u5feb\u53d6\u5be9\u8a08: \u6d1e\u5bdf AdaptiveCache \u7684\u547d\u4e2d\u8207\u81ea\u52d5\u8f09\u5165\u6548\u80fd\u3002 - <code>boring_set_session_context</code> \u589e\u5f37\u4e0a\u4e0b\u6587: \u624b\u52d5\u504f\u5411 RAG/\u667a\u80fd\u5f15\u64ce\u3002 <code>keywords</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#15-llm-judge","title":"15. \u8a55\u4f30\u8207 LLM Judge","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_evaluate</code> LLM Judge: \u81ea\u52d5\u5316\u4ee3\u78bc\u8a55\u5206 (\u652f\u63f4 1-5 \u500b\u76ee\u6a19)\u3002 <code>target</code>, <code>level</code>, <code>rubric</code> <code>boring_generate_rubric</code> \u6a19\u6e96\u5de5\u5ee0: \u751f\u6210\u8a73\u7d30\u7684\u8a55\u5206\u6a19\u6e96\u8207\u5206\u7d1a\u8aaa\u660e\u3002 <code>task</code>, <code>criteria</code> <code>boring_bias_report</code> \u504f\u5dee\u76e3\u6e2c: \u6aa2\u6e2c\u8a55\u5206\u7cfb\u7d71\u4e2d\u7684\u4f4d\u7f6e\u6216\u9577\u5ea6\u504f\u5dee\u3002 <code>days</code> <code>boring_evaluation_metrics</code> \u7cfb\u7d71\u6307\u6a19: \u5206\u6790\u8207\u4eba\u985e\u8a55\u50f9\u7684\u76f8\u95dc\u6027\u3002 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#16-brain","title":"16. \u77e5\u8b58\u5eab\u8207 Brain \u5de5\u5177","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_learn</code> \u4e3b\u52d5\u5b78\u7fd2: \u5f9e\u672c\u6b21 Session \u65e5\u8a8c\u63d0\u53d6\u6a21\u5f0f\u3002 <code>topics</code> <code>boring_brain_summary</code> Brain \u5100\u8868\u677f: \u6301\u4e45\u5316\u77e5\u8b58\u7684\u6982\u6cc1\u7d71\u8a08\u3002 - <code>boring_brain_health</code> \u5065\u5eb7\u5831\u544a: Pattern \u8870\u6e1b\u8207\u4f7f\u7528\u7d71\u8a08\u3002 - <code>boring_global_export</code> \u5206\u4eab: \u532f\u51fa\u9ad8\u50f9\u503c\u6a21\u5f0f\u5230\u5168\u57df\u5927\u8166\u3002 - <code>boring_global_import</code> \u5b78\u7fd2: \u5f9e\u5168\u57df\u5927\u8166\u532f\u5165\u6a21\u5f0f\u3002 <code>tags</code> <code>boring_create_rubrics</code> \u5f9e\u5c08\u6848\u898f\u683c\u66f8\u5efa\u7acb\u8a55\u5b9a\u6a19\u6e96\u3002 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#17-speckit","title":"17. SpecKit \u5de5\u5177 (\u898f\u683c\u9a45\u52d5\u958b\u767c\u5de5\u5177)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_speckit_plan</code> \u5be6\u4f5c\u8a08\u756b: \u5f9e plan.md \u751f\u6210\u5be6\u4f5c\u8a08\u756b\u3002 <code>workflow_file</code> <code>boring_speckit_tasks</code> \u4efb\u52d9\u5206\u89e3: \u5efa\u7acb\u53ef\u57f7\u884c\u7684\u4efb\u52d9\u6e05\u55ae\u3002 <code>workflow_file</code> <code>boring_speckit_analyze</code> \u5206\u6790: \u6aa2\u67e5\u898f\u683c\u4e00\u81f4\u6027\u3002 <code>workflow_file</code> <code>boring_speckit_clarify</code> \u91d0\u6e05: \u8b58\u5225\u898f\u683c\u4e2d\u7684\u6a21\u7cca\u9ede\u3002 <code>workflow_file</code> <code>boring_speckit_checklist</code> \u9a57\u6536: \u751f\u6210\u9a57\u6536\u6838\u5c0d\u6e05\u55ae\u3002 <code>workflow_file</code> <code>boring_speckit_constitution</code> \u539f\u5247: \u5efa\u7acb\u5c08\u6848\u6307\u5c0e\u539f\u5247\u3002 <code>workflow_file</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#18-skills-discovery","title":"18. \u6280\u80fd\u8207\u767c\u73fe\u5de5\u5177 (Skills &amp; Discovery)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_skills_install</code> \u5b89\u88dd: \u5b89\u88dd Agent Skill\u3002 <code>name</code> <code>boring_skills_list</code> \u5217\u8868: \u986f\u793a\u6280\u80fd\u76ee\u9304\u3002 <code>platform</code> <code>boring_skills_search</code> \u641c\u5c0b: \u641c\u5c0b\u6280\u80fd\u76ee\u9304\u3002 <code>query</code>"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#19-predictive-intelligence-tools-v140","title":"19. \u9810\u6e2c\u667a\u80fd\u5de5\u5177 (Predictive Intelligence Tools - V14.0)","text":"<p>\u9019\u4e9b\u5de5\u5177\u5229\u7528\u6b77\u53f2\u6578\u64da\u548c Brain \u6a21\u5f0f\u4f86\u9810\u6e2c\u6f5b\u5728\u554f\u984c\u4e26\u512a\u5316\u5de5\u4f5c\u6d41\u3002</p> \u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_predict_impact</code> \u9810\u6e2c\u8b8a\u66f4\u5f71\u97ff: \u57fa\u65bc\u6b77\u53f2\u5206\u6790\u98a8\u96aa\u7b49\u7d1a\u548c\u53d7\u5f71\u97ff\u6a94\u6848\u3002 <code>file_path</code>, <code>change_type</code> <code>boring_risk_areas</code> \u8b58\u5225\u71b1\u9ede: \u986f\u793a\u9ad8\u932f\u8aa4\u983b\u7387\u7684\u6a94\u6848\u3002 <code>limit</code> <code>boring_cache_insights</code> \u5feb\u53d6\u5206\u6790: \u986f\u793a\u547d\u4e2d\u7387\u548c\u76f8\u95dc\u6027\u9810\u53d6\u7d71\u8a08\u3002 - <code>boring_set_session_context</code> \u4e0a\u4e0b\u6587\u512a\u5316: \u91dd\u5c0d\u7279\u5b9a\u4efb\u52d9\u985e\u578b (debug/feature) \u5fae\u8abf RAG/Cache\u3002 <code>task_type</code>, <code>keywords</code> <code>boring_get_session_context</code> \u6aa2\u67e5\u4e0a\u4e0b\u6587: \u67e5\u770b\u7576\u524d\u512a\u5316\u53c3\u6578\u3002 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#20-supplemental-registered-tools-v140","title":"20. \u88dc\u5145\u8a3b\u518a\u5de5\u5177 (Supplemental Registered Tools - V14.0)","text":"\u5de5\u5177 \u8aaa\u660e \u95dc\u9375\u53c3\u6578 <code>boring_active_skill</code> \u555f\u7528\u6280\u80fd\u4e26\u6ce8\u5165\u5de5\u5177 <code>skill_name</code> <code>boring_best_next_action</code> \u6839\u64da\u5c08\u6848\u72c0\u614b\u5efa\u8b70\u4e0b\u4e00\u6b65 - <code>boring_brain_status</code> Brain \u72c0\u614b\u6982\u89bd - <code>boring_brain_sync</code> \u540c\u6b65\u5168\u57df Brain - <code>boring_call</code> \u4ee5\u540d\u7a31\u57f7\u884c\u5167\u90e8\u5de5\u5177 <code>tool_name</code>, <code>arguments</code> <code>boring_checkpoint</code> \u5efa\u7acb\u6216\u9084\u539f\u5c08\u6848\u5feb\u7167 <code>action</code>, <code>message</code> <code>boring_context</code> \u7ba1\u7406\u4e0a\u4e0b\u6587 (save/load/list) <code>action</code>, <code>context_id</code> <code>boring_distill_skills</code> \u5c07\u5b78\u7fd2\u7d50\u679c\u84b8\u993e\u70ba\u6280\u80fd <code>project_path</code> <code>boring_done</code> \u4efb\u52d9\u5b8c\u6210\u901a\u77e5 <code>message</code>, <code>title</code> <code>boring_flow</code> \u57f7\u884c Flow \u5de5\u4f5c\u6d41 <code>goal</code>, <code>mode</code> <code>boring_get_relevant_patterns</code> \u53d6\u5f97\u76f8\u95dc Brain \u6a21\u5f0f <code>query</code>, <code>limit</code> <code>boring_global_list</code> \u5217\u51fa\u5168\u57df\u6a21\u5f0f <code>limit</code> <code>boring_incremental_learn</code> \u589e\u91cf\u5b78\u7fd2 <code>project_path</code> <code>boring_inspect_tool</code> \u6aa2\u67e5\u5de5\u5177 Schema <code>tool_name</code> <code>boring_integrity_score</code> \u5c08\u6848\u5b8c\u6574\u6027\u5206\u6578 <code>project_path</code> <code>boring_intelligence_stats</code> \u667a\u80fd\u4f7f\u7528\u7d71\u8a08 - <code>boring_learn_pattern</code> \u5b78\u7fd2\u55ae\u4e00\u6a21\u5f0f <code>pattern</code>, <code>solution</code> <code>boring_optimize_context</code> \u512a\u5316\u4e0a\u4e0b\u6587 <code>text</code>, <code>goal</code> <code>boring_orchestrate</code> \u7de8\u6392\u591a\u6b65\u9a5f\u6d41\u7a0b <code>goal</code> <code>boring_pattern_stats</code> Brain \u6a21\u5f0f\u7d71\u8a08 <code>project_path</code> <code>boring_profile</code> \u7ba1\u7406\u500b\u4eba\u6a94\u6848 (get/learn) <code>action</code>, <code>error_pattern</code> <code>boring_prompt_fix</code> \u4fee\u5fa9\u63d0\u793a\u7522\u751f\u5668 <code>task</code> <code>boring_prompt_plan</code> \u898f\u5283\u63d0\u793a\u7522\u751f\u5668 <code>task</code> <code>boring_prune_patterns</code> \u6e05\u7406\u4f4e\u54c1\u8cea\u6a21\u5f0f <code>limit</code> <code>boring_rag_reload</code> \u91cd\u65b0\u8f09\u5165 RAG \u76f8\u4f9d - <code>boring_reset_skills</code> \u91cd\u7f6e\u5df2\u6ce8\u5165\u6280\u80fd - <code>boring_session_auto</code> \u81ea\u52d5\u5316 session \u6d41\u7a0b <code>task</code> <code>boring_session_confirm</code> \u78ba\u8a8d session \u6b65\u9a5f <code>step_id</code> <code>boring_session_load</code> \u8f09\u5165 session <code>session_id</code> <code>boring_session_pause</code> \u66ab\u505c session - <code>boring_session_start</code> \u555f\u52d5 session <code>goal</code> <code>boring_session_status</code> session \u72c0\u614b - <code>boring_shadow_trust</code> \u4fe1\u4efb\u8def\u5f91\u6216\u547d\u4ee4 <code>path</code> <code>boring_shadow_trust_list</code> \u5217\u51fa\u4fe1\u4efb\u898f\u5247 - <code>boring_shadow_trust_remove</code> \u79fb\u9664\u4fe1\u4efb\u898f\u5247 <code>path</code> <code>boring_skill_activate</code> \u555f\u7528\u6280\u80fd <code>skill_name</code> <code>boring_skill_create</code> \u5efa\u7acb\u6280\u80fd <code>name</code>, <code>goal</code> <code>boring_skill_discover</code> \u63a2\u7d22\u672c\u5730\u6280\u80fd <code>project_path</code> <code>boring_skill_download</code> \u4e0b\u8f09\u6280\u80fd <code>url</code> <code>boring_skills_recommend</code> \u63a8\u85a6\u6280\u80fd <code>project_path</code> <code>boring_status</code> \u5c08\u6848\u72c0\u614b\u5feb\u7167 - <code>boring_synth_tool</code> \u5408\u6210\u65b0\u5de5\u5177 <code>description</code> <code>boring_task</code> \u80cc\u666f\u4efb\u52d9 (submit/status/list) <code>action</code>, <code>task_type</code> <code>boring_transaction</code> \u4e8b\u52d9 (start/commit/rollback) <code>action</code>, <code>description</code> <code>boring_transaction_rollback</code> \u820a\u7248\u9084\u539f\u5225\u540d <code>project_path</code> <code>boring_usage_stats</code> \u4f7f\u7528\u7d71\u8a08 -"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#21-cli-cli-integration-v140","title":"21. CLI \u6574\u5408 (CLI Integration - V14.0)","text":"<p>\u90e8\u5206 V14.0 \u529f\u80fd\u6700\u9069\u5408\u76f4\u63a5\u901a\u904e CLI \u4f7f\u7528\u3002</p> \u6307\u4ee4 \u8aaa\u660e <code>boring predict</code> \u5c0d\u7576\u524d\u8b8a\u66f4\u904b\u884c\u9810\u6e2c\u5206\u6790\u3002 <code>boring bisect</code> AI \u9a45\u52d5\u7684 Git Bisect \u5c0b\u627e Bug \u6e90\u982d\u3002 <code>boring diagnostic</code> \u6df1\u5ea6\u5c08\u6848\u5065\u5eb7\u6aa2\u67e5\u3002 <code>boring model</code> \u7ba1\u7406\u672c\u5730 LLM (\u4e0b\u8f09/\u5217\u8868/\u522a\u9664)\u3002 <code>boring doctor</code> \u7cfb\u7d71\u5065\u5eb7\u8207 MCP \u9023\u63a5\u6aa2\u67e5\u3002 <code>boring offline</code> \u5207\u63db\u96e2\u7dda\u9ad4\u9a57\u6a21\u5f0f\u3002"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#mcp-resources","title":"MCP \u8cc7\u6e90 (Resources)","text":"\u8cc7\u6e90 URI \u8aaa\u660e <code>boring://capabilities</code> \u5217\u51fa\u6240\u6709\u80fd\u529b\u5206\u985e <code>boring://tools/{category}</code> \u5206\u985e\u7684\u8a73\u7d30\u5de5\u5177\u7528\u6cd5 <code>boring://logs</code> \u4f3a\u670d\u5668\u65e5\u8a8c (stdio \u6a21\u5f0f)"},{"location":"reference/APPENDIX_A_TOOL_REFERENCE_zh/#mcp-prompts","title":"MCP Prompts","text":"Prompt \u8aaa\u660e <code>plan_feature</code> \u751f\u6210\u5be6\u4f5c\u8a08\u756b <code>review_code</code> \u8acb\u6c42\u4ee3\u78bc\u5be9\u67e5 <code>debug_error</code> \u9664\u932f\u4e26\u6559\u5b78\u67b6\u69cb\u89c0\u5ff5 <code>refactor_code</code> \u8acb\u6c42\u91cd\u69cb <code>explain_code</code> \u89e3\u91cb\u4ee3\u78bc <code>setup_project</code> \u5c08\u6848\u8a2d\u5b9a\u5de5\u4f5c\u6d41 <code>verify_work</code> \u9a57\u8b49\u5de5\u4f5c\u6d41 <code>manage_memory</code> \u8a18\u61b6\u7ba1\u7406\u5de5\u4f5c\u6d41 <code>evaluate_architecture</code> \u60e1\u9b54\u67b6\u69cb\u5e2b\u5be9\u67e5 <code>run_agent</code> \u591a\u667a\u80fd\u9ad4\u5de5\u4f5c\u6d41 <code>vibe_start</code> \u4e00\u9375\u555f\u52d5 - \u5b8c\u6574\u6d41\u7a0b (Plan \u2192 Build \u2192 Verify)\u3002\u9069\u5408\uff1a\u300c\u958b\u767c\u65b0 APP\u300d\u3001\u300c\u555f\u52d5\u5c08\u6848\u300d <code>quick_fix</code> \u5feb\u901f\u4fee\u5fa9 - \u81ea\u52d5\u4fee Lint/Format/Bugs\u3002\u9069\u5408\uff1a\u300c\u4fee Lint \u932f\u8aa4\u300d\u3001\u300c\u6574\u7406\u4ee3\u78bc\u300d <code>full_stack_dev</code> \u5168\u7aef\u958b\u767c <p>\u6700\u5f8c\u66f4\u65b0: V14.0.0</p>"},{"location":"reference/APPENDIX_B_FAQ/","title":"Appendix B: Frequently Asked Questions (FAQ)","text":""},{"location":"reference/APPENDIX_B_FAQ/#installation-setup","title":"Installation &amp; Setup","text":""},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-install-boring-for-gemini","title":"Q: How do I install Boring for Gemini?","text":"<pre><code>pip install boring-aicoding\n</code></pre> <p>Or install from source: <pre><code>git clone https://github.com/Boring206/boring-gemini.git\ncd boring-gemini\npip install -e \".[mcp]\"\n</code></pre></p>"},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-configure-boring-with-cursorvscode","title":"Q: How do I configure Boring with Cursor/VSCode?","text":"<p>Add to your MCP config (<code>.cursor/mcp.json</code> or <code>mcp_config.json</code>):</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"GOOGLE_API_KEY\": \"your-key-here\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ/#q-do-i-need-a-google-api-key","title":"Q: Do I need a Google API Key?","text":"<p>Core Tools (No Key Required): - <code>boring_verify</code>, <code>boring_security_scan</code>, <code>boring_commit</code>, <code>boring_hooks_install</code> - These work 100% locally without any API key.</p> <p>LLM-Enhanced Features (Key Required): - <code>boring_evaluate</code> (LLM-as-Judge) - <code>boring_rag_search</code> (Semantic search with embeddings) - <code>boring_multi_agent</code> (Multi-agent orchestration)</p> <p>Smithery Deployment: No API key is required in the config schema. The platform may have its own authentication, but Boring itself does not mandate a key.</p>"},{"location":"reference/APPENDIX_B_FAQ/#troubleshooting","title":"Troubleshooting","text":""},{"location":"reference/APPENDIX_B_FAQ/#q-mcp-server-wont-start-eof-error","title":"Q: MCP server won't start - \"EOF\" error","text":"<p>Cause: Wrong entry point. Fix: Use <code>boring.mcp.server</code>, not <code>boring.mcp.instance</code>.</p> <pre><code>\"args\": [\"-m\", \"boring.mcp.server\"]  \u2705\n\"args\": [\"-m\", \"boring.mcp.instance\"] \u274c\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ/#q-functions-with-kwargs-are-not-supported","title":"Q: \"Functions with **kwargs are not supported\"","text":"<p>Cause: FastMCP doesn't support <code>**kwargs</code> in tool functions. Fix: Use <code>args: dict = Field(...)</code> instead.</p> <pre><code># Wrong\ndef my_tool(**kwargs): ...\n\n# Correct\ndef my_tool(args: dict = Field(default={}, description=\"...\")): ...\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ/#q-tests-fail-with-backgroundtaskrunnernew-got-unexpected-argument","title":"Q: Tests fail with \"BackgroundTaskRunner.new() got unexpected argument\"","text":"<p>Cause: Singleton pattern conflict in tests. Fix: Reset singleton before each test:</p> <pre><code>@pytest.fixture\ndef runner():\n    BackgroundTaskRunner._instance = None\n    instance = object.__new__(BackgroundTaskRunner)\n    instance._initialized = False\n    BackgroundTaskRunner._instance = instance\n    instance.__init__(max_workers=2)\n    yield instance\n    instance.shutdown(wait=False)\n    BackgroundTaskRunner._instance = None\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ/#q-smithery-shows-documentation-quality-score-100","title":"Q: Smithery shows \"Documentation Quality Score &lt; 100\"","text":"<p>Cause: Missing parameter descriptions. Fix: Always use <code>Field(description=...)</code>:</p> <pre><code># Wrong\ndef my_tool(target: str = \"src/\"): ...\n\n# Correct\ndef my_tool(target: str = Field(default=\"src/\", description=\"Target path\")): ...\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ/#features","title":"Features","text":""},{"location":"reference/APPENDIX_B_FAQ/#q-whats-the-difference-between-boring_verify-levels","title":"Q: What's the difference between <code>boring_verify</code> levels?","text":"Level Checks <code>BASIC</code> Syntax, imports <code>STANDARD</code> + Linting (ruff), type hints <code>FULL</code> + Tests, coverage, security <code>SEMANTIC</code> + LLM-based code review <code>DOCS</code> Documentation completeness"},{"location":"reference/APPENDIX_B_FAQ/#q-how-does-shadow-mode-work","title":"Q: How does Shadow Mode work?","text":"<ol> <li>Enable: <code>boring_shadow_mode(mode=\"STRICT\")</code></li> <li>High-risk operations are captured, not executed</li> <li>Human reviews pending operations</li> <li>Approve or reject each operation</li> </ol> <p>Use for: file deletions, DB migrations, production deploys.</p>"},{"location":"reference/APPENDIX_B_FAQ/#q-whats-the-difference-between-boring_multi_agent-and-boring_delegate","title":"Q: What's the difference between <code>boring_multi_agent</code> and <code>boring_delegate</code>?","text":"Tool Purpose <code>boring_multi_agent</code> Full Architect\u2192Coder\u2192Reviewer workflow <code>boring_delegate</code> Single task to specialized sub-agent <p>Use <code>multi_agent</code> for features, <code>delegate</code> for atomic tasks.</p>"},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-make-rag-search-work","title":"Q: How do I make RAG search work?","text":"<ol> <li> <p>First, index your codebase:    <pre><code>boring_rag_index(force=True)\n</code></pre></p> </li> <li> <p>Then search:    <pre><code>boring_rag_search(query=\"authentication middleware\")\n</code></pre></p> </li> </ol> <p>Index is stored in <code>.boring/brain/</code> and persists between sessions.</p>"},{"location":"reference/APPENDIX_B_FAQ/#performance","title":"Performance","text":""},{"location":"reference/APPENDIX_B_FAQ/#q-why-are-some-tools-slow","title":"Q: Why are some tools slow?","text":"<p>Long-running operations run in background threads: - <code>boring_verify(level='FULL')</code> \u2192 ~10-60s - <code>boring_security_scan</code> \u2192 ~5-30s - <code>boring_rag_index</code> \u2192 ~10-120s (first run)</p> <p>Use <code>boring_background_task()</code> for non-blocking execution.</p>"},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-reduce-context-window-usage","title":"Q: How do I reduce context window usage?","text":"<ol> <li>Use Dynamic Discovery:</li> <li>Query <code>boring://capabilities</code> first</li> <li> <p>Only load tools you need</p> </li> <li> <p>Use concise prompts:</p> </li> <li><code>vibe_start</code> is optimized for minimal context</li> </ol>"},{"location":"reference/APPENDIX_B_FAQ/#security","title":"Security","text":""},{"location":"reference/APPENDIX_B_FAQ/#q-is-my-code-sent-to-external-servers","title":"Q: Is my code sent to external servers?","text":"<p>Local mode: No, everything runs locally. Smithery mode: Code context may be sent to Gemini API. RAG indexing: Embeddings stored locally in SQLite.</p>"},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-scan-for-secrets","title":"Q: How do I scan for secrets?","text":"<pre><code>boring_security_scan(scan_type=\"secrets\")\n</code></pre> <p>Detects: AWS keys, Google API keys, private keys, tokens, passwords.</p>"},{"location":"reference/APPENDIX_B_FAQ/#contributing","title":"Contributing","text":""},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-add-a-new-tool","title":"Q: How do I add a new tool?","text":"<ol> <li>Create <code>src/boring/mcp/tools/my_tool.py</code></li> <li>Use <code>@mcp.tool()</code> decorator</li> <li>Add <code>Field(description=...)</code> to all parameters</li> <li>Import in <code>src/boring/mcp/server.py</code></li> <li>Add to <code>CAPABILITIES</code> in <code>discovery.py</code></li> </ol> <p>See <code>CONTRIBUTING.md</code> for full guide.</p>"},{"location":"reference/APPENDIX_B_FAQ/#q-how-do-i-run-tests","title":"Q: How do I run tests?","text":"<pre><code>pytest tests/ -v --cov=src/boring\n</code></pre> <p>Coverage requirement: 39%</p> <p>Have a question not listed? Open an issue on GitHub!</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/","title":"\u9644\u9304 B\uff1a\u5e38\u898b\u554f\u984c (FAQ)","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#_1","title":"\u5b89\u88dd\u8207\u8a2d\u5b9a","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#q-boring-for-gemini","title":"Q: \u5982\u4f55\u5b89\u88dd Boring for Gemini?","text":"<pre><code>pip install boring-aicoding\n</code></pre> <p>\u6216\u5f9e\u6e90\u78bc\u5b89\u88dd\uff1a <pre><code>git clone https://github.com/Boring206/boring-gemini.git\ncd boring-gemini\npip install -e \".[mcp]\"\n</code></pre></p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-cursorvscode-boring","title":"Q: \u5982\u4f55\u5728 Cursor/VSCode \u4e2d\u8a2d\u5b9a Boring?","text":"<p>\u5c07\u4ee5\u4e0b\u5167\u5bb9\u52a0\u5165\u4f60\u7684 MCP \u8a2d\u5b9a\u6a94 (<code>.cursor/mcp.json</code> \u6216 <code>mcp_config.json</code>)\uff1a</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"GOOGLE_API_KEY\": \"your-key-here\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-google-api-key","title":"Q: \u6211\u9700\u8981 Google API Key \u55ce\uff1f","text":"<p>\u6838\u5fc3\u5de5\u5177 (\u7121\u9700 Key)\uff1a - <code>boring_verify</code>, <code>boring_security_scan</code>, <code>boring_commit</code>, <code>boring_hooks_install</code> - \u9019\u4e9b\u529f\u80fd\u5b8c\u5168\u5728\u672c\u5730\u57f7\u884c\u3002</p> <p>LLM \u589e\u5f37\u529f\u80fd (\u9700 Key)\uff1a - <code>boring_evaluate</code> (LLM-as-Judge \u8a55\u5be9) - <code>boring_rag_search</code> (\u8a9e\u7fa9\u641c\u5c0b embedding) - <code>boring_multi_agent</code> (\u591a\u667a\u80fd\u9ad4\u5354\u4f5c)</p> <p>Smithery \u90e8\u7f72\uff1a\u8a2d\u5b9a\u6a94 Schema \u4e0d\u9700\u8981 API Key\u3002\u5e73\u53f0\u53ef\u80fd\u6709\u81ea\u5df1\u7684\u8a8d\u8b49\u6a5f\u5236\uff0c\u4f46 Boring \u672c\u8eab\u4e0d\u5f37\u5236\u8981\u6c42\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#_2","title":"\u7591\u96e3\u6392\u89e3","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#q-mcp-eof","title":"Q: MCP \u4f3a\u670d\u5668\u7121\u6cd5\u555f\u52d5 - \"EOF\" \u932f\u8aa4","text":"<p>\u539f\u56e0\uff1a\u4f7f\u7528\u4e86\u932f\u8aa4\u7684\u9032\u5165\u9ede\u3002 \u89e3\u6cd5\uff1a\u8acb\u4f7f\u7528 <code>boring.mcp.server</code>\uff0c\u4e0d\u8981\u7528 <code>boring.mcp.instance</code>\u3002</p> <pre><code>\"args\": [\"-m\", \"boring.mcp.server\"]  \u2705\n\"args\": [\"-m\", \"boring.mcp.instance\"] \u274c\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-functions-with-kwargs-are-not-supported","title":"Q: \u51fa\u73fe \"Functions with **kwargs are not supported\" \u932f\u8aa4","text":"<p>\u539f\u56e0\uff1aFastMCP \u4e0d\u652f\u63f4\u5728\u5de5\u5177\u51fd\u6578\u4e2d\u4f7f\u7528 <code>**kwargs</code>\u3002 \u89e3\u6cd5\uff1a\u6539\u7528 <code>args: dict = Field(...)</code>\u3002</p> <pre><code># \u932f\u8aa4\ndef my_tool(**kwargs): ...\n\n# \u6b63\u78ba\ndef my_tool(args: dict = Field(default={}, description=\"...\")): ...\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-backgroundtaskrunnernew-got-unexpected-argument","title":"Q: \u6e2c\u8a66\u5931\u6557\u4e14\u51fa\u73fe \"BackgroundTaskRunner.new() got unexpected argument\"","text":"<p>\u539f\u56e0\uff1aSingleton \u6a21\u5f0f\u5728\u6e2c\u8a66\u4e2d\u767c\u751f\u885d\u7a81\u3002 \u89e3\u6cd5\uff1a\u5728\u6bcf\u500b\u6e2c\u8a66\u524d\u91cd\u7f6e Singleton\uff1a</p> <pre><code>@pytest.fixture\ndef runner():\n    BackgroundTaskRunner._instance = None\n    instance = object.__new__(BackgroundTaskRunner)\n    instance._initialized = False\n    BackgroundTaskRunner._instance = instance\n    instance.__init__(max_workers=2)\n    yield instance\n    instance.shutdown(wait=False)\n    BackgroundTaskRunner._instance = None\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-smithery-documentation-quality-score-100","title":"Q: Smithery \u986f\u793a \"Documentation Quality Score &lt; 100\"","text":"<p>\u539f\u56e0\uff1a\u7f3a\u5c11\u53c3\u6578\u63cf\u8ff0\u3002 \u89e3\u6cd5\uff1a\u52d9\u5fc5\u4f7f\u7528 <code>Field(description=...)</code>\uff1a</p> <pre><code># \u932f\u8aa4\ndef my_tool(target: str = \"src/\"): ...\n\n# \u6b63\u78ba\ndef my_tool(target: str = Field(default=\"src/\", description=\"\u76ee\u6a19\u8def\u5f91\")): ...\n</code></pre>"},{"location":"reference/APPENDIX_B_FAQ_zh/#_3","title":"\u529f\u80fd\u4ecb\u7d39","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#q-boring_verify","title":"Q: <code>boring_verify</code> \u7684\u5404\u500b\u7b49\u7d1a\u6709\u4ec0\u9ebc\u4e0d\u540c\uff1f","text":"Level \u6aa2\u67e5\u9805\u76ee <code>BASIC</code> \u8a9e\u6cd5\u3001Import \u6aa2\u67e5 <code>STANDARD</code> + Linting (ruff), Type Hints <code>FULL</code> + \u6e2c\u8a66, \u8986\u84cb\u7387, \u5b89\u5168\u6383\u63cf <code>SEMANTIC</code> + LLM \u7a0b\u5f0f\u78bc\u5be9\u67e5 <code>DOCS</code> \u6587\u4ef6\u5b8c\u6574\u6027\u6aa2\u67e5"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-shadow-mode","title":"Q: Shadow Mode (\u5f71\u5b50\u6a21\u5f0f) \u662f\u4ec0\u9ebc\uff1f","text":"<ol> <li>\u555f\u7528\uff1a<code>boring_shadow_mode(mode=\"STRICT\")</code></li> <li>\u9ad8\u98a8\u96aa\u64cd\u4f5c\u6703\u88ab\u6514\u622a\uff0c\u4e0d\u6703\u76f4\u63a5\u57f7\u884c</li> <li>\u4eba\u985e\u9700\u8981\u5be9\u67e5\u5f85\u57f7\u884c\u7684\u64cd\u4f5c</li> <li>\u6279\u51c6\u6216\u62d2\u7d55\u6bcf\u500b\u64cd\u4f5c</li> </ol> <p>\u9069\u7528\u65bc\uff1a\u6a94\u6848\u522a\u9664\u3001\u8cc7\u6599\u5eab\u9077\u79fb\u3001\u751f\u7522\u74b0\u5883\u90e8\u7f72\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-boring_multi_agent-boring_delegate","title":"Q: <code>boring_multi_agent</code> \u548c <code>boring_delegate</code> \u6709\u4ec0\u9ebc\u4e0d\u540c\uff1f","text":"\u5de5\u5177 \u7528\u9014 <code>boring_multi_agent</code> \u5b8c\u6574\u7684 \u67b6\u69cb\u5e2b\u2192\u5de5\u7a0b\u5e2b\u2192\u5be9\u67e5\u54e1 \u6d41\u7a0b <code>boring_delegate</code> \u55ae\u4e00\u4efb\u52d9\u59d4\u6d3e\u7d66\u5c08\u696d\u5b50 Agent <p>\u7528 <code>multi_agent</code> \u505a\u5927\u529f\u80fd\uff0c\u7528 <code>delegate</code> \u505a\u539f\u5b50\u4efb\u52d9\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-rag","title":"Q: \u5982\u4f55\u8b93 RAG \u641c\u5c0b\u904b\u4f5c\uff1f","text":"<ol> <li> <p>\u9996\u5148\uff0c\u7d22\u5f15\u4f60\u7684\u7a0b\u5f0f\u78bc\u5eab\uff1a    <pre><code>boring_rag_index(force=True)\n</code></pre></p> </li> <li> <p>\u7136\u5f8c\u641c\u5c0b\uff1a    <pre><code>boring_rag_search(query=\"authentication middleware\")\n</code></pre></p> </li> </ol> <p>\u7d22\u5f15\u6703\u5132\u5b58\u5728 <code>.boring/brain/</code> \u4e2d\uff0c\u8de8 Session \u4f9d\u7136\u5b58\u5728\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#_4","title":"\u6548\u80fd","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#q","title":"Q: \u70ba\u4ec0\u9ebc\u6709\u4e9b\u5de5\u5177\u5f88\u6162\uff1f","text":"<p>\u9577\u6642\u9593\u904b\u884c\u7684\u64cd\u4f5c\u6703\u5728\u80cc\u666f\u57f7\u884c\uff1a - <code>boring_verify(level='FULL')</code> \u2192 ~10-60\u79d2 - <code>boring_security_scan</code> \u2192 ~5-30\u79d2 - <code>boring_rag_index</code> \u2192 ~10-120\u79d2 (\u9996\u6b21\u57f7\u884c)</p> <p>\u8acb\u4f7f\u7528 <code>boring_background_task()</code> \u9032\u884c\u975e\u963b\u585e\u57f7\u884c\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-context-window","title":"Q: \u5982\u4f55\u6e1b\u5c11 Context Window \u4f7f\u7528\u91cf\uff1f","text":"<ol> <li>\u4f7f\u7528\u52d5\u614b\u767c\u73fe (Dynamic Discovery)\uff1a</li> <li>\u5148\u67e5\u8a62 <code>boring://capabilities</code></li> <li> <p>\u53ea\u8f09\u5165\u4f60\u9700\u8981\u7684\u5de5\u5177\u985e\u5225</p> </li> <li> <p>\u4f7f\u7528\u7cbe\u7c21\u7684 Prompt\uff1a</p> </li> <li><code>vibe_start</code> \u5df2\u91dd\u5c0d\u6700\u5c0f Context \u9032\u884c\u512a\u5316</li> </ol>"},{"location":"reference/APPENDIX_B_FAQ_zh/#_5","title":"\u5b89\u5168\u6027","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#q_1","title":"Q: \u6211\u7684\u7a0b\u5f0f\u78bc\u6703\u50b3\u9001\u5230\u5916\u90e8\u4f3a\u670d\u5668\u55ce\uff1f","text":"<p>\u672c\u5730\u6a21\u5f0f (Local mode)\uff1a\u4e0d\u6703\uff0c\u4e00\u5207\u90fd\u5728\u672c\u5730\u57f7\u884c\u3002 Smithery \u6a21\u5f0f\uff1a\u7a0b\u5f0f\u78bc\u4e0a\u4e0b\u6587\u53ef\u80fd\u6703\u50b3\u9001\u5230 Gemini API\u3002 RAG \u7d22\u5f15\uff1aEmbeddings \u5132\u5b58\u5728\u672c\u5730 SQLite \u4e2d\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q-secrets","title":"Q: \u5982\u4f55\u6383\u63cf\u5bc6\u78bc/\u91d1\u9470 (Secrets)\uff1f","text":"<pre><code>boring_security_scan(scan_type=\"secrets\")\n</code></pre> <p>\u53ef\u5075\u6e2c\uff1aAWS keys, Google API keys, private keys, tokens, passwords\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#_6","title":"\u53c3\u8207\u8ca2\u737b","text":""},{"location":"reference/APPENDIX_B_FAQ_zh/#q_2","title":"Q: \u5982\u4f55\u65b0\u589e\u4e00\u500b\u5de5\u5177\uff1f","text":"<ol> <li>\u5efa\u7acb <code>src/boring/mcp/tools/my_tool.py</code></li> <li>\u4f7f\u7528 <code>@mcp.tool()</code> \u88dd\u98fe\u5668</li> <li>\u70ba\u6240\u6709\u53c3\u6578\u52a0\u4e0a <code>Field(description=...)</code></li> <li>\u5728 <code>src/boring/mcp/server.py</code> \u4e2d import</li> <li>\u5728 <code>discovery.py</code> \u7684 <code>CAPABILITIES</code> \u4e2d\u52a0\u5165</li> </ol> <p>\u5b8c\u6574\u6307\u5357\u8acb\u53c3\u95b1 <code>CONTRIBUTING.md</code>\u3002</p>"},{"location":"reference/APPENDIX_B_FAQ_zh/#q_3","title":"Q: \u5982\u4f55\u57f7\u884c\u6e2c\u8a66\uff1f","text":"<pre><code>pytest tests/ -v --cov=src/boring\n</code></pre> <p>\u8986\u84cb\u7387\u8981\u6c42\uff1a39%</p> <p>\u9084\u6709\u554f\u984c\u6c92\u5217\u5728\u9019\u88e1\u55ce\uff1f\u6b61\u8fce\u5728 GitHub \u958b Issue\uff01</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/","title":"Appendix C: Architect Prompt Design Philosophy","text":"<p>Core Principle: Boring is not a code generator\u2014it's a Senior Architect Mentor that prevents technical debt before it happens.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#the-problem-with-traditional-ai-coding","title":"The Problem with Traditional AI Coding","text":"<p>Most AI coding assistants follow this pattern:</p> <pre><code>User: \"Write a function to fetch users\"\nAI: *writes code*\nUser: \"It's slow\"\nAI: *patches the symptom*\n</code></pre> <p>Result: Accumulated technical debt, band-aid fixes, no learning.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#the-architect-first-approach","title":"The Architect-First Approach","text":"<p>Boring inverts this pattern:</p> <pre><code>User: \"Write a function to fetch users\"\nArchitect: \"Before I write code, let me ask:\n  - How many users? (10? 10M?)\n  - Real-time or cached?\n  - What's your consistency requirement?\"\n\n*After understanding context*\n\nArchitect: \"I recommend:\n  1. Paginated queries (not SELECT *)\n  2. Redis cache with TTL\n  3. Circuit breaker for DB failures\n\nHere's the implementation...\"\n</code></pre> <p>Result: Production-ready code from day one.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#prompt-engineering-principles","title":"Prompt Engineering Principles","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#1-persona-based-prompts","title":"1. Persona-Based Prompts","text":"<p>Each prompt defines a strong persona that shapes behavior:</p> <pre><code># Instead of:\n\"Please help debug this error\"\n\n# We use:\n\"You are a Senior Architect helping debug an issue.\nYour Analysis Must Include:\n1. Root Cause\n2. Likely Culprits\n3. Suggested Fix\n4. \ud83c\udfdb\ufe0f Architecture Lesson:\n   - Why did this happen? (Design flaw?)\n   - How to prevent this class of errors permanently?\"\n</code></pre> <p>The persona creates consistency and depth.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#2-proactive-guidance-rules","title":"2. Proactive Guidance Rules","text":"<p>Prompts include explicit instructions to be proactive:</p> <pre><code>\"**Proactive Advice Rule**:\nIf you see a naive implementation (e.g., using a list for lookups), \nDON'T just say 'fix it'.\n\nSay: '\u26a0\ufe0f **Architecture Risk**: This is O(N). In production, this will \nkill the CPU. **Mandatory Refactor**: Use a Set or HashMap (O(1)).'\n\nBe direct. Be strict. Save the user from future pain.\"\n</code></pre> <p>This prevents the AI from being too polite or passive.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#3-structured-output-requirements","title":"3. Structured Output Requirements","text":"<p>Every prompt defines what the output MUST include:</p> <pre><code>\"\u5b8c\u6210\u5f8c\u63d0\u4f9b\u6458\u8981\u5831\u544a\uff0c\u5305\u542b\uff1a\n- \u5df2\u5be6\u4f5c\u529f\u80fd\u6e05\u55ae\n- \ud83c\udfdb\ufe0f \u67b6\u69cb\u6c7a\u7b56\u8a18\u9304 (ADR)\n- \u6f5b\u5728\u6539\u9032\u5efa\u8b70\"\n</code></pre> <p>This ensures actionable, complete responses.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#4-checkpoint-architecture","title":"4. Checkpoint Architecture","text":"<p>Complex workflows have explicit checkpoints:</p> <pre><code>\"**Phase 2: \u67b6\u69cb\u898f\u5283 (Architect Checkpoint \u2705)**\n3. \u4f7f\u7528 `speckit_plan` \u6839\u64da\u9700\u6c42\u751f\u6210\u5be6\u4f5c\u8a08\u756b\n4. \ud83c\udfdb\ufe0f **\u67b6\u69cb\u5be9\u67e5**\uff1a\u6211\u6703\u6aa2\u67e5\u8a08\u756b\u4e2d\u7684\u6f5b\u5728\u8a2d\u8a08\u554f\u984c\uff08\u5982\u904e\u5ea6\u8026\u5408\u3001\u7f3a\u5c11\u62bd\u8c61\u5c64\uff09\"\n</code></pre> <p>Checkpoints force reflection before action.</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#the-four-architect-personas","title":"The Four Architect Personas","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#1-chief-architect-code-review","title":"1. Chief Architect (Code Review)","text":"<p>Used in: <code>review_code</code> prompt</p> <p>Traits: - Looks for Architecture Smells, not just bugs - Identifies God classes, tight coupling - Suggests patterns (Circuit Breaker, DI)</p> <p>Example Output: <pre><code>\u26a0\ufe0f **Architecture Risk**: Synchronous API call in loop.\nThis will timeout under load. Use async/batch processing.\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#2-senior-architect-debugging","title":"2. Senior Architect (Debugging)","text":"<p>Used in: <code>debug_error</code> prompt</p> <p>Traits: - Finds root cause, not just symptoms - Provides Architecture Lesson - Teaches prevention strategies</p> <p>Example Output: <pre><code>\ud83c\udfdb\ufe0f Architecture Lesson:\nThis error happens because you're not using Dependency Injection.\nThe DB connection is hardcoded, making it impossible to mock.\nRefactor to inject the connection via constructor.\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#3-principal-architect-evaluation","title":"3. Principal Architect (Evaluation)","text":"<p>Used in: <code>evaluate_architecture</code> prompt</p> <p>Traits: - Hostile/Critical stance - Focuses on production concerns (10k RPS, failure modes) - Ignores style issues, focuses on scalability</p> <p>Example Output: <pre><code>\u26a0\ufe0f **Scalability Bottleneck**: This HashMap is not thread-safe.\nAt 10k RPS, you'll see data corruption.\n**Mandatory Refactor**: Use ConcurrentHashMap or add synchronization.\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#4-mentor-architect-vibe-coding","title":"4. Mentor Architect (Vibe Coding)","text":"<p>Used in: <code>vibe_start</code> prompt</p> <p>Traits: - Guides through full workflow - Inserts checkpoints for human review - Produces Architecture Decision Records (ADR)</p> <p>Example Output: <pre><code>\ud83c\udfdb\ufe0f \u67b6\u69cb\u6c7a\u7b56\u8a18\u9304 (ADR):\n- Decision: \u4f7f\u7528 PostgreSQL \u800c\u975e MongoDB\n- Rationale: \u9700\u8981 ACID transactions, \u95dc\u806f\u67e5\u8a62\n- Consequences: \u9700\u8981\u7ba1\u7406 schema migrations\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#key-design-patterns","title":"Key Design Patterns","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#pattern-1-dont-just-say-fix-it","title":"Pattern 1: \"Don't Just Say Fix It\"","text":"<pre><code>\u274c \"This function is slow. Consider optimizing.\"\n\u2705 \"\u26a0\ufe0f This function is O(N\u00b2). At 10k users, this takes 100M operations.\n   **Mandatory Refactor**: Pre-sort the list and use binary search (O(N log N)).\"\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#pattern-2-architecture-lesson-block","title":"Pattern 2: Architecture Lesson Block","text":"<p>Every debugging response includes:</p> <pre><code>\ud83c\udfdb\ufe0f Architecture Lesson:\n- Why did this happen? [Design flaw explanation]\n- How to prevent permanently? [Pattern/abstraction to adopt]\n- Example refactor: [Concrete code suggestion]\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#pattern-3-emoji-visual-hierarchy","title":"Pattern 3: Emoji Visual Hierarchy","text":"<pre><code>\ud83d\ude80 = Workflow start\n\u26a0\ufe0f = Architecture Risk / Warning\n\u2705 = Checkpoint / Verification passed\n\ud83c\udfdb\ufe0f = Architecture-related content\n\ud83d\udd27 = Fix / Tool action\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#pattern-4-bilingual-support","title":"Pattern 4: Bilingual Support","text":"<p>Prompts use the user's language but keep technical terms in English:</p> <pre><code>\"\ud83c\udfdb\ufe0f **\u67b6\u69cb\u5be9\u67e5**\uff1a\u6211\u6703\u6aa2\u67e5\u8a08\u756b\u4e2d\u7684\u6f5b\u5728\u8a2d\u8a08\u554f\u984c\n\uff08\u5982\u904e\u5ea6\u8026\u5408 [Tight Coupling]\u3001\u7f3a\u5c11\u62bd\u8c61\u5c64 [Missing Abstraction]\uff09\"\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#implementation-checklist","title":"Implementation Checklist","text":"<p>When creating new prompts:</p> <ul> <li>[ ] Define a strong persona (who is speaking?)</li> <li>[ ] Include proactive guidance rules</li> <li>[ ] Specify required output sections</li> <li>[ ] Add checkpoints for complex workflows</li> <li>[ ] Use emoji for visual hierarchy</li> <li>[ ] Include Architecture Lesson block for debugging</li> <li>[ ] Test with adversarial inputs (bad code)</li> </ul>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#example-full-prompt-transformation","title":"Example: Full Prompt Transformation","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#before-generic","title":"Before (Generic)","text":"<pre><code>return f\"Please debug: {error_message}\"\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#after-architect-first","title":"After (Architect-First)","text":"<p><pre><code>return f\"\"\"You are a Senior Architect helping debug an issue.\n\n**Error:**\n</code></pre> {error_message} <pre><code>**Your Analysis Must Include:**\n1. **Root Cause**: What exactly failed?\n2. **Likely Culprits**: Pinpoint the file/function.\n3. **Suggested Fix**: Provide exact code changes.\n4. **\ud83c\udfdb\ufe0f Architecture Lesson**: \n   - Why did this happen? (Design flaw? Missing abstraction?)\n   - How to prevent this class of errors permanently?\n   - Example: \"This error happens because you're not using \n     Dependency Injection. Refactor to inject the DB connection.\"\n\nDon't just fix the symptom\u2014fix the root design issue.\"\"\"\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY/#measuring-success","title":"Measuring Success","text":"<p>A well-designed prompt should produce responses where:</p> <ol> <li>Architecture is mentioned in every response</li> <li>Proactive warnings appear for risky code</li> <li>Prevention strategies are always included</li> <li>Users learn from each interaction</li> <li>Technical debt is caught before it accumulates</li> </ol> <p>\"The best code is the code you never have to debug.\" \u2014 The Boring Architect Philosophy</p> <p>Last updated: V10.16.0</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/","title":"\u9644\u9304 C\uff1a\u67b6\u69cb\u5e2b Prompt \u8a2d\u8a08\u54f2\u5b78 (Appendix C: Architect Prompt Design Philosophy)","text":"<p>\u6838\u5fc3\u539f\u5247\uff1aBoring \u4e0d\u662f\u4e00\u500b\u4ee3\u78bc\u751f\u6210\u5668\u2014\u2014\u5b83\u662f\u4f60\u7684\u8cc7\u6df1\u67b6\u69cb\u5e2b\u5c0e\u5e2b\uff0c\u80fd\u5728\u6280\u8853\u50b5\u767c\u751f\u524d\u5c31\u963b\u6b62\u5b83\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#ai-coding","title":"\u50b3\u7d71 AI Coding \u7684\u554f\u984c","text":"<p>\u5927\u591a\u6578 AI coding \u52a9\u624b\u90fd\u9075\u5faa\u9019\u500b\u6a21\u5f0f\uff1a</p> <pre><code>\u7528\u6236: \"\u5beb\u4e00\u500b\u6293\u53d6\u4f7f\u7528\u8005\u7684\u51fd\u6578\"\nAI: *\u5beb\u51fa\u4ee3\u78bc*\n\u7528\u6236: \"\u5b83\u8dd1\u5f88\u6162\"\nAI: *\u4fee\u88dc\u75c7\u72c0*\n</code></pre> <p>\u7d50\u679c\uff1a\u7d2f\u7a4d\u7684\u6280\u8853\u50b5\u3001OK \u7e43\u5f0f\u7684\u4fee\u88dc\u3001\u6c92\u6709\u4efb\u4f55\u5b78\u7fd2\u6210\u9577\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#the-architect-first-approach","title":"\u67b6\u69cb\u5e2b\u512a\u5148\u7684\u65b9\u6cd5 (The Architect-First Approach)","text":"<p>Boring \u53cd\u8f49\u4e86\u9019\u500b\u6a21\u5f0f\uff1a</p> <pre><code>\u7528\u6236: \"\u5beb\u4e00\u500b\u6293\u53d6\u4f7f\u7528\u8005\u7684\u51fd\u6578\"\n\u67b6\u69cb\u5e2b: \"\u5728\u5beb\u4ee3\u78bc\u4e4b\u524d\uff0c\u8b93\u6211\u5148\u554f\u5e7e\u500b\u554f\u984c\uff1a\n  - \u6709\u591a\u5c11\u4f7f\u7528\u8005\uff1f(10\u500b\uff1f\u9084\u662f1000\u842c\u500b\uff1f)\n  - \u9700\u8981\u5373\u6642\u6027\u9084\u662f\u53ef\u4ee5\u5feb\u53d6\uff1f\n  - \u4f60\u7684\u4e00\u81f4\u6027\u9700\u6c42\u662f\u4ec0\u9ebc\uff1f\"\n\n*\u5728\u4e86\u89e3\u4e0a\u4e0b\u6587\u4e4b\u5f8c*\n\n\u67b6\u69cb\u5e2b: \"\u6211\u5efa\u8b70\uff1a\n  1. \u5206\u9801\u67e5\u8a62 (\u4e0d\u8981\u7528 SELECT *)\n  2. \u52a0\u5165 Redis \u5feb\u53d6\u4e26\u8a2d\u5b9a TTL\n  3. \u70ba DB \u6545\u969c\u52a0\u5165\u65b7\u8def\u5668 (Circuit Breaker)\n\n\u9019\u662f\u6211\u5be6\u4f5c\u7684\u4ee3\u78bc...\"\n</code></pre> <p>\u7d50\u679c\uff1a\u5f9e\u7b2c\u4e00\u5929\u958b\u59cb\u5c31\u662f\u751f\u7522\u7b49\u7d1a (Production-Ready) \u7684\u4ee3\u78bc\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#prompt","title":"Prompt \u5de5\u7a0b\u539f\u5247","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#1-prompts-persona-based-prompts","title":"1. \u57fa\u65bc\u4eba\u8a2d\u7684 Prompts (Persona-Based Prompts)","text":"<p>\u6bcf\u500b Prompt \u90fd\u5b9a\u7fa9\u4e86\u4e00\u500b\u5f37\u70c8\u7684\u4eba\u8a2d\u4f86\u5f62\u5851\u884c\u70ba\uff1a</p> <pre><code># \u4e0d\u8981\u9019\u6a23\u5beb:\n\"Please help debug this error\"\n\n# \u6211\u5011\u9019\u6a23\u5beb:\n\"\u4f60\u662f\u5354\u52a9\u9664\u932f\u7684\u8cc7\u6df1\u67b6\u69cb\u5e2b (Senior Architect)\u3002\n\u4f60\u7684\u5206\u6790\u5fc5\u9808\u5305\u542b\uff1a\n1. \u6839\u672c\u539f\u56e0 (Root Cause)\n2. \u53ef\u80fd\u7684\u7f6a\u9b41\u798d\u9996 (Likely Culprits)\n3. \u5efa\u8b70\u4fee\u5fa9 (Suggested Fix)\n4. \ud83c\udfdb\ufe0f \u67b6\u69cb\u8ab2\u7a0b (Architecture Lesson):\n   - \u70ba\u4ec0\u9ebc\u6703\u767c\u751f\u9019\u7a2e\u4e8b\uff1f(\u8a2d\u8a08\u7f3a\u9677\uff1f)\n   - \u5982\u4f55\u6c38\u4e45\u9632\u6b62\u9019\u985e\u932f\u8aa4\uff1f\"\n</code></pre> <p>\u4eba\u8a2d\u5275\u9020\u4e86\u4e00\u81f4\u6027\u8207\u6df1\u5ea6\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#2-proactive-guidance-rules","title":"2. \u4e3b\u52d5\u5f15\u5c0e\u898f\u5247 (Proactive Guidance Rules)","text":"<p>Prompts \u5305\u542b\u660e\u78ba\u7684\u6307\u4ee4\u8981\u6c42\u5fc5\u9808\u300c\u4e3b\u52d5\u300d\uff1a</p> <pre><code>\"**\u4e3b\u52d5\u5efa\u8b70\u898f\u5247 (Proactive Advice Rule)**:\n\u5982\u679c\u4f60\u770b\u5230\u5929\u771f\u7684\u5be6\u4f5c (\u4f8b\u5982\uff1a\u7528 list \u505a\u67e5\u627e)\uff0c\n\u4e0d\u8981\u53ea\u8aaa\u300c\u4fee\u5fa9\u5b83\u300d\u3002\n\n\u8981\u8aaa\uff1a'\u26a0\ufe0f **\u67b6\u69cb\u98a8\u96aa (Architecture Risk)**: \u9019\u662f O(N)\u3002\u5728\u751f\u7522\u74b0\u5883\uff0c\u9019\u6703\n\u62d6\u57ae CPU\u3002**\u5f37\u5236\u91cd\u69cb (Mandatory Refactor)**: \u8acb\u4f7f\u7528 Set \u6216 HashMap (O(1))\u3002'\n\n\u8981\u76f4\u63a5\u3002\u8981\u56b4\u683c\u3002\u62ef\u6551\u7528\u6236\u514d\u65bc\u672a\u4f86\u7684\u75db\u82e6\u3002\"\n</code></pre> <p>\u9019\u80fd\u9632\u6b62 AI \u8b8a\u5f97\u592a\u5ba2\u6c23\u6216\u88ab\u52d5\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#3-structured-output-requirements","title":"3. \u7d50\u69cb\u5316\u8f38\u51fa\u8981\u6c42 (Structured Output Requirements)","text":"<p>\u6bcf\u500b Prompt \u90fd\u5b9a\u7fa9\u4e86\u8f38\u51fa\u5fc5\u9808\u5305\u542b\u4ec0\u9ebc\uff1a</p> <pre><code>\"\u5b8c\u6210\u5f8c\u63d0\u4f9b\u6458\u8981\u5831\u544a\uff0c\u5305\u542b\uff1a\n- \u5df2\u5be6\u4f5c\u529f\u80fd\u6e05\u55ae\n- \ud83c\udfdb\ufe0f \u67b6\u69cb\u6c7a\u7b56\u8a18\u9304 (ADR)\n- \u6f5b\u5728\u6539\u9032\u5efa\u8b70\"\n</code></pre> <p>\u9019\u78ba\u4fdd\u4e86 \u53ef\u64cd\u4f5c\u3001\u5b8c\u6574\u7684\u56de\u61c9\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#4-checkpoint-architecture","title":"4. \u6aa2\u67e5\u9ede\u67b6\u69cb (Checkpoint Architecture)","text":"<p>\u8907\u96dc\u7684\u5de5\u4f5c\u6d41\u64c1\u6709\u660e\u78ba\u7684\u6aa2\u67e5\u9ede\uff1a</p> <pre><code>\"**Phase 2: \u67b6\u69cb\u898f\u5283 (Architect Checkpoint \u2705)**\n3. \u4f7f\u7528 `speckit_plan` \u6839\u64da\u9700\u6c42\u751f\u6210\u5be6\u4f5c\u8a08\u756b\n4. \ud83c\udfdb\ufe0f **\u67b6\u69cb\u5be9\u67e5**\uff1a\u6211\u6703\u6aa2\u67e5\u8a08\u756b\u4e2d\u7684\u6f5b\u5728\u8a2d\u8a08\u554f\u984c\uff08\u5982\u904e\u5ea6\u8026\u5408\u3001\u7f3a\u5c11\u62bd\u8c61\u5c64\uff09\"\n</code></pre> <p>\u6aa2\u67e5\u9ede\u5f37\u8feb\u5728\u884c\u52d5\u524d\u9032\u884c\u53cd\u601d\u3002</p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#_1","title":"\u56db\u7a2e\u67b6\u69cb\u5e2b\u4eba\u8a2d","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#1-chief-architect-","title":"1. \u9996\u5e2d\u67b6\u69cb\u5e2b (Chief Architect) - \u4ee3\u78bc\u5be9\u67e5","text":"<p>\u7528\u65bc: <code>review_code</code> prompt</p> <p>\u7279\u8cea: - \u5c0b\u627e\u67b6\u69cb\u7570\u5473 (Architecture Smells)\uff0c\u800c\u4e0d\u50c5\u50c5\u662f Bug - \u8fa8\u8b58 God Classes, \u9ad8\u8026\u5408 - \u5efa\u8b70\u6a21\u5f0f (Circuit Breaker, DI)</p> <p>\u8f38\u51fa\u7bc4\u4f8b: <pre><code>\u26a0\ufe0f **Architecture Risk**: \u8ff4\u5708\u4e2d\u7684\u540c\u6b65 API \u547c\u53eb\u3002\n\u5728\u9ad8\u8ca0\u8f09\u4e0b\u9019\u6703\u5c0e\u81f4 Timeout\u3002\u8acb\u4f7f\u7528 async/batch \u8655\u7406\u3002\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#2-senior-architect-","title":"2. \u8cc7\u6df1\u67b6\u69cb\u5e2b (Senior Architect) - \u9664\u932f","text":"<p>\u7528\u65bc: <code>debug_error</code> prompt</p> <p>\u7279\u8cea: - \u5c0b\u627e\u6839\u672c\u539f\u56e0\uff0c\u800c\u975e\u75c7\u72c0 - \u63d0\u4f9b\u67b6\u69cb\u8ab2\u7a0b - \u6559\u5c0e\u9810\u9632\u7b56\u7565</p> <p>\u8f38\u51fa\u7bc4\u4f8b: <pre><code>\ud83c\udfdb\ufe0f Architecture Lesson:\n\u9019\u500b\u932f\u8aa4\u662f\u56e0\u70ba\u4f60\u6c92\u6709\u4f7f\u7528\u4f9d\u8cf4\u6ce8\u5165 (Dependency Injection)\u3002\nDB \u9023\u7dda\u88ab\u5beb\u6b7b\u4e86\uff0c\u5c0e\u81f4\u7121\u6cd5 Mock\u3002\n\u8acb\u91cd\u69cb\uff0c\u900f\u904e\u5efa\u69cb\u51fd\u6578\u6ce8\u5165\u9023\u7dda\u3002\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#3-principal-architect-","title":"3. \u539f\u5247\u67b6\u69cb\u5e2b (Principal Architect) - \u8a55\u4f30","text":"<p>\u7528\u65bc: <code>evaluate_architecture</code> prompt</p> <p>\u7279\u8cea: - \u6575\u5c0d/\u6279\u5224\u7acb\u5834 - \u5c08\u6ce8\u65bc\u751f\u7522\u74b0\u5883\u8003\u91cf (10k RPS, \u6545\u969c\u6a21\u5f0f) - \u5ffd\u7565\u98a8\u683c\u554f\u984c\uff0c\u5c08\u6ce8\u65bc\u64f4\u5c55\u6027</p> <p>\u8f38\u51fa\u7bc4\u4f8b: <pre><code>\u26a0\ufe0f **Scalability Bottleneck**: \u9019\u500b HashMap \u4e0d\u662f\u57f7\u884c\u7dd2\u5b89\u5168\u7684 (Thread-safe)\u3002\n\u5728 10k RPS \u4e0b\uff0c\u4f60\u6703\u9047\u5230\u8cc7\u6599\u640d\u6bc0\u3002\n**Mandatory Refactor**: \u4f7f\u7528 ConcurrentHashMap \u6216\u52a0\u5165\u540c\u6b65\u6a5f\u5236\u3002\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#4-mentor-architect-vibe-coding","title":"4. \u5c0e\u5e2b\u67b6\u69cb\u5e2b (Mentor Architect) - Vibe Coding","text":"<p>\u7528\u65bc: <code>vibe_start</code> prompt</p> <p>\u7279\u8cea: - \u5f15\u5c0e\u5b8c\u6574\u5de5\u4f5c\u6d41 - \u63d2\u5165\u6aa2\u67e5\u9ede\u4f9b\u4eba\u985e\u5be9\u67e5 - \u7522\u51fa\u67b6\u69cb\u6c7a\u7b56\u8a18\u9304 (ADR)</p> <p>\u8f38\u51fa\u7bc4\u4f8b: <pre><code>\ud83c\udfdb\ufe0f \u67b6\u69cb\u6c7a\u7b56\u8a18\u9304 (ADR):\n- Decision: \u4f7f\u7528 PostgreSQL \u800c\u975e MongoDB\n- Rationale: \u9700\u8981 ACID transactions, \u95dc\u806f\u67e5\u8a62\n- Consequences: \u9700\u8981\u7ba1\u7406 schema migrations\n</code></pre></p>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#_2","title":"\u95dc\u9375\u8a2d\u8a08\u6a21\u5f0f","text":""},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#pattern-1","title":"Pattern 1: \"\u4e0d\u8981\u53ea\u8aaa\u4fee\u597d\u5b83\"","text":"<pre><code>\u274c \"\u9019\u500b\u51fd\u6578\u5f88\u6162\u3002\u8003\u616e\u512a\u5316\u3002\"\n\u2705 \"\u26a0\ufe0f \u9019\u500b\u51fd\u6578\u662f O(N\u00b2)\u3002\u5728 1\u842c\u500b\u7528\u6236\u6642\uff0c\u9019\u9700\u8981 1\u5104\u6b21\u64cd\u4f5c\u3002\n   **Mandatory Refactor**: \u8acb\u9810\u5148\u6392\u5e8f\u5217\u8868\u4e26\u4f7f\u7528\u4e8c\u5206\u641c\u5c0b\u6cd5 (O(N log N))\u3002\"\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#pattern-2","title":"Pattern 2: \u67b6\u69cb\u8ab2\u7a0b\u5340\u584a","text":"<p>\u6bcf\u500b\u9664\u932f\u56de\u61c9\u90fd\u5305\u542b\uff1a</p> <pre><code>\ud83c\udfdb\ufe0f Architecture Lesson:\n- \u70ba\u4ec0\u9ebc\u767c\u751f\uff1f [\u8a2d\u8a08\u7f3a\u9677\u89e3\u91cb]\n- \u5982\u4f55\u6c38\u4e45\u9810\u9632\uff1f [\u63a1\u7528\u7684\u6a21\u5f0f/\u62bd\u8c61]\n- \u91cd\u69cb\u7bc4\u4f8b\uff1a [\u5177\u9ad4\u4ee3\u78bc\u5efa\u8b70]\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#pattern-3","title":"Pattern 3: \u8868\u60c5\u7b26\u865f\u8996\u89ba\u968e\u5c64","text":"<pre><code>\ud83d\ude80 = \u5de5\u4f5c\u6d41\u958b\u59cb\n\u26a0\ufe0f = \u67b6\u69cb\u98a8\u96aa / \u8b66\u544a\n\u2705 = \u6aa2\u67e5\u9ede / \u9a57\u8b49\u901a\u904e\n\ud83c\udfdb\ufe0f = \u67b6\u69cb\u76f8\u95dc\u5167\u5bb9\n\ud83d\udd27 = \u4fee\u5fa9 / \u5de5\u5177\u64cd\u4f5c\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#pattern-4","title":"Pattern 4: \u96d9\u8a9e\u652f\u63f4","text":"<p>Prompt \u4f7f\u7528\u7528\u6236\u7684\u8a9e\u8a00\uff0c\u4fdd\u7559\u6280\u8853\u8853\u8a9e\u70ba\u82f1\u6587\uff1a</p> <pre><code>\"\ud83c\udfdb\ufe0f **\u67b6\u69cb\u5be9\u67e5**\uff1a\u6211\u6703\u6aa2\u67e5\u8a08\u756b\u4e2d\u7684\u6f5b\u5728\u8a2d\u8a08\u554f\u984c\n\uff08\u5982\u904e\u5ea6\u8026\u5408 [Tight Coupling]\u3001\u7f3a\u5c11\u62bd\u8c61\u5c64 [Missing Abstraction]\uff09\"\n</code></pre>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#_3","title":"\u5be6\u4f5c\u6aa2\u67e5\u6e05\u55ae","text":"<p>\u7576\u5efa\u7acb\u65b0\u7684 Prompt \u6642\uff1a</p> <ul> <li>[ ] \u5b9a\u7fa9\u5f37\u70c8\u4eba\u8a2d (\u8ab0\u5728\u8aaa\u8a71\uff1f)</li> <li>[ ] \u5305\u542b\u4e3b\u52d5\u5f15\u5c0e\u898f\u5247</li> <li>[ ] \u6307\u5b9a\u5fc5\u8981\u7684\u8f38\u51fa\u5340\u584a</li> <li>[ ] \u70ba\u8907\u96dc\u5de5\u4f5c\u6d41\u52a0\u5165\u6aa2\u67e5\u9ede</li> <li>[ ] \u4f7f\u7528\u8868\u60c5\u7b26\u865f\u5efa\u7acb\u8996\u89ba\u968e\u5c64</li> <li>[ ] \u9664\u932f\u6642\u5305\u542b\u67b6\u69cb\u8ab2\u7a0b\u5340\u584a</li> <li>[ ] \u4f7f\u7528\u5c0d\u6297\u6027\u8f38\u5165 (\u721b\u4ee3\u78bc) \u9032\u884c\u6e2c\u8a66</li> </ul>"},{"location":"reference/APPENDIX_C_PROMPT_PHILOSOPHY_zh/#_4","title":"\u8861\u91cf\u6210\u529f","text":"<p>\u4e00\u500b\u8a2d\u8a08\u826f\u597d\u7684 Prompt \u61c9\u8a72\u7522\u751f\u9019\u6a23\u7684\u56de\u61c9\uff1a</p> <ol> <li>\u6bcf\u500b\u56de\u61c9\u90fd\u63d0\u5230 \u67b6\u69cb</li> <li>\u5c0d\u65bc\u98a8\u96aa\u4ee3\u78bc\u51fa\u73fe \u4e3b\u52d5\u8b66\u544a</li> <li>\u7e3d\u662f\u5305\u542b \u9810\u9632\u7b56\u7565</li> <li>\u7528\u6236\u5f9e\u6bcf\u6b21\u4e92\u52d5\u4e2d \u5b78\u7fd2</li> <li>\u6280\u8853\u50b5 \u5728\u7d2f\u7a4d\u524d\u5c31\u88ab\u6355\u6349</li> </ol> <p>\"\u6700\u597d\u7684\u4ee3\u78bc\u662f\u4f60\u6c38\u9060\u4e0d\u9700\u8981\u9664\u932f\u7684\u4ee3\u78bc\u3002\" \u2014 Boring \u67b6\u69cb\u5e2b\u54f2\u5b78</p> <p>\u6700\u5f8c\u66f4\u65b0: V10.16.0</p>"},{"location":"reference/architecture/","title":"Architecture &amp; Internals","text":"<p>Understanding how Boring works under the hood.</p>"},{"location":"reference/architecture/#system-architecture","title":"\ud83c\udfd7\ufe0f System Architecture","text":"<p>Boring is built on a Stateful Autonomous Loop pattern.</p> <pre><code>graph TD\n    User[User / CLI] --&gt;|Start| AgentLoop\n\n    subgraph \"Boring Engine\"\n        AgentLoop[StatefulAgentLoop]\n        Memory[BoringMemory]\n        RAG[RAGRetriever]\n        Verifier[Parallel Verifier]\n        Circuit[Circuit Breaker]\n    end\n\n    AgentLoop --&gt;|Thinking| LLM[Google Gemini / Claude]\n    LLM --&gt;|Tool Calls| AgentLoop\n\n    AgentLoop --&gt;|Read/Write| FS[FileSystem]\n    FS --&gt;|Change Events| RAG\n\n    AgentLoop --&gt;|Verify| Verifier\n    Verifier --&gt;|Result| Circuit\n    Circuit --&gt;|Status| AgentLoop\n\n    style AgentLoop fill:#f9f,stroke:#333,stroke-width:2px\n</code></pre>"},{"location":"reference/architecture/#the-development-loop-process","title":"\ud83d\udd04 The Development Loop Process","text":"<p>Boring follows a continuous feedback loop to ensure code correctness.</p> <pre><code>sequenceDiagram\n    participant U as User/CLI\n    participant A as Agent (Thinking)\n    participant E as Executor (Tools)\n    participant V as Verifier (Tests)\n    participant M as Memory (Brain)\n\n    U-&gt;&gt;A: Submit Task\n    loop Until Done or Circuit Open\n        A-&gt;&gt;M: Fetch Context &amp; Learnings\n        M--&gt;&gt;A: Context Data\n        A-&gt;&gt;A: Generate Plan\n        A-&gt;&gt;E: Execute Tool (Edit/Run)\n        E--&gt;&gt;A: Execution Result\n        A-&gt;&gt;V: Trigger Verification\n        V-&gt;&gt;V: Run Lint &amp; Tests\n        V--&gt;&gt;A: Pass/Fail + Logs\n        alt If Fail\n            A-&gt;&gt;M: Record Error Pattern\n            A-&gt;&gt;A: Reason for next Fix\n        else If Pass\n            A-&gt;&gt;M: Update Progress\n        end\n    end\n    A-&gt;&gt;U: Final Report\n</code></pre>"},{"location":"reference/architecture/#1-modular-core-lazy-loading-srcboring","title":"1. Modular Core &amp; Lazy Loading (<code>src/boring/</code>)","text":"<p>Starting from v10.28.0, Boring uses a Diet Architecture: - Lazy Loading: Heavily utilizes <code>__getattr__</code> in <code>__init__.py</code> to import submodules ONLY when accessed. This dropped cold startup time from ~2.5s to &lt; 600ms. - Dependency Manager: A centralized <code>DependencyManager</code> (in <code>core/dependencies.py</code>) handles all optional \"Extras\" (ChromaDB, FastAPI, Streamlit), ensuring the core CLI remains lightweight (&lt; 50MB).</p>"},{"location":"reference/architecture/#2-submodule-reconstruction","title":"2. Submodule Reconstruction","text":"<p>The source is organized into specific functional layers: - <code>core/</code>: Constants, telemetry, and dependency management. - <code>services/</code>: Core logic like health checks and monitoring. - <code>cli/</code>: Typer-based interface and command definitions. - <code>tools/</code>: Atomic tools for file manipulation and analysis. - <code>intelligence/</code>: Memory (Brain), RAG, and pattern learning. - <code>loop/</code>: The autonomous state machine. - <code>mcp/</code>: Model Context Protocol server and tool exposure.</p>"},{"location":"reference/architecture/#3-the-brain-memory-srcboringintelligence","title":"3. The Brain &amp; Memory (<code>src/boring/intelligence/</code>)","text":"<p>Boring doesn't just read files; it maintains \"state\": - Context (<code>context.json</code>): Current task, plan, and progress. - Learnings (<code>learnings.json</code>): Error patterns and successful fixes. - RAG Index (ChromaDB): [OPTIONAL] Vector embeddings of the codebase for semantic search.</p>"},{"location":"reference/architecture/#hybrid-rag-workflow","title":"\ud83d\udd75\ufe0f Hybrid RAG Workflow","text":"<p>Boring employs a multi-tiered retrieval strategy to ensure context precision:</p> <pre><code>graph LR\n    Query[User Query] --&gt; HybridSearch\n\n    subgraph \"Hybrid Search Engine\"\n        HybridSearch --&gt; Keyword[Keyword Search (BM25)]\n        HybridSearch --&gt; Vector[Vector Search (ChromaDB)]\n\n        Keyword --&gt; Merger[Merge &amp; Rerank Results]\n        Vector --&gt; Merger\n    end\n\n    Merger --&gt; TopK[Top-K Candidates]\n\n    subgraph \"Graph Expansion\"\n        TopK --&gt; DepGraph[Dependency Graph Analysis]\n        DepGraph --&gt; Callers[Callers]\n        DepGraph --&gt; Callees[Callees]\n    end\n\n    Callers --&gt; FinalContext[Final Context]\n    Callees --&gt; FinalContext\n    TopK --&gt; FinalContext\n</code></pre>"},{"location":"reference/architecture/#3-evaluation-judgment-srcboringjudge","title":"3. Evaluation &amp; Judgment (<code>src/boring/judge/</code>)","text":"<p>Boring includes a built-in LLM-as-a-Judge system for self-evaluation and quality control:</p> <pre><code>sequenceDiagram\n    participant Agent as Agent\n    participant Judge as Judge Engine\n    participant Rubric as Dynamic Rubric Generator\n    participant LLM as Evaluator Model\n\n    Agent-&gt;&gt;Judge: Request Evaluation (Code/Plan)\n    Judge-&gt;&gt;Rubric: Generate/Load Scoring Rubric\n    Judge-&gt;&gt;LLM: Perform Direct Scoring / Pairwise Comparison\n    loop Bias Mitigation\n        LLM-&gt;&gt;LLM: Self-Reflection (Score Calibration)\n    end\n    LLM--&gt;&gt;Judge: Evaluation Result + Improvement Suggestions\n    Judge--&gt;&gt;Agent: Structured Report (JSON)\n</code></pre>"},{"location":"reference/architecture/#4-verification-engine-srcboringverification","title":"4. Verification Engine (<code>src/boring/verification/</code>)","text":"<p>Unlike typical agents that just generate code, Boring verifies it.</p> <ul> <li>Parallel Execution: Uses <code>ThreadPoolExecutor</code> to run linters/tests concurrently.</li> <li>Caching: Hashes file content to skip re-verification of unchanged files (<code>.boring/cache</code>).</li> <li>Layers:</li> <li>Static: Syntax check, linting (ruff, eslint).</li> <li>Dynamic: Unit tests (pytest).</li> <li>Security: Vulnerability scans (bandit).</li> </ul>"},{"location":"reference/architecture/#5-circuit-breaker-srcboringutilcircuit_breakerpy","title":"5. Circuit Breaker (<code>src/boring/util/circuit_breaker.py</code>)","text":"<p>Prevents the \"Infinite Loop of Doom\" where an agent repeatedly tries and fails.</p> <ul> <li>CLOSED: Normal operation.</li> <li>OPEN: Too many consecutive failures. Stops execution to save tokens/time.</li> <li>HALF_OPEN: Allows one attempt to see if the issue is resolved.</li> </ul>"},{"location":"reference/architecture/#security-architecture-shadow-mode","title":"\ud83d\udd12 Security Architecture (Shadow Mode)","text":"<p>Boring operates in a \"Shadow Mode\" sandbox for high-risk operations.</p> <pre><code>Request (Delete File)\n       \u2502\n       \u25bc\n[Shadow Interceptor]\n       \u2502\n  Is Safe? (Config) \u2500\u2500\u25b6 YES \u2500\u2500\u25b6 [FileSystem]\n       \u2502\n       \u25bc\n      NO\n       \u2502\n  [User Approval UI] \u2500\u2500\u25b6 YES \u2500\u2500\u25b6 [FileSystem]\n       \u2502\n       \u25bc\n      NO \u2500\u2500\u25b6 [Block &amp; Report]\n</code></pre> <p>This logic exists in <code>src/boring/security/shadow_mode.py</code>.</p>"},{"location":"reference/architecture/#mcp-integration","title":"\ud83d\udd0c MCP Integration","text":"<p>Boring exposes its internals via the Model Context Protocol (MCP).</p> <ul> <li>Tools: exposed as <code>boring_tool_name</code>.</li> <li>Resources: <code>boring://logs</code>, <code>boring://config</code>.</li> <li>Prompts: <code>/vibe_start</code>, <code>/quick_fix</code>.</li> </ul> <p>This allows Boring to run inside other AI clients like Claude Desktop or Cursor.</p>"},{"location":"reference/architecture_zh/","title":"\u67b6\u69cb\u8207\u5167\u90e8\u539f\u7406","text":"<p>\u4e86\u89e3 Boring \u7684\u5167\u90e8\u904b\u4f5c\u65b9\u5f0f\u3002</p>"},{"location":"reference/architecture_zh/#_2","title":"\ud83c\udfd7\ufe0f \u7cfb\u7d71\u67b6\u69cb","text":"<p>Boring \u5efa\u7acb\u5728 \u6709\u72c0\u614b\u81ea\u4e3b\u8ff4\u5708 (Stateful Autonomous Loop) \u6a21\u5f0f\u4e4b\u4e0a\u3002</p> <pre><code>graph TD\n    User[\u4f7f\u7528\u8005 / CLI] --&gt;|\u555f\u52d5| AgentLoop\n\n    subgraph \"Boring \u5f15\u64ce\"\n        AgentLoop[StatefulAgentLoop]\n        Memory[BoringMemory]\n        RAG[RAGRetriever]\n        Verifier[\u5e73\u884c\u9a57\u8b49\u5668]\n        Circuit[\u65b7\u8def\u5668]\n    end\n\n    AgentLoop --&gt;|\u601d\u8003| LLM[Google Gemini / Claude]\n    LLM --&gt;|\u5de5\u5177\u547c\u53eb| AgentLoop\n\n    AgentLoop --&gt;|\u8b80/\u5beb| FS[\u6a94\u6848\u7cfb\u7d71]\n    FS --&gt;|\u8b8a\u66f4\u4e8b\u4ef6| RAG\n\n    AgentLoop --&gt;|\u9a57\u8b49| Verifier\n    Verifier --&gt;|\u7d50\u679c| Circuit\n    Circuit --&gt;|\u72c0\u614b| AgentLoop\n\n    style AgentLoop fill:#f9f,stroke:#333,stroke-width:2px\n</code></pre>"},{"location":"reference/architecture_zh/#_3","title":"\ud83d\udd04 \u958b\u767c\u5faa\u74b0\u6d41\u7a0b","text":"<p>Boring \u9075\u5faa\u6301\u7e8c\u56de\u994b\u5faa\u74b0\u4ee5\u78ba\u4fdd\u7a0b\u5f0f\u78bc\u7684\u6b63\u78ba\u6027\u3002</p> <pre><code>sequenceDiagram\n    participant U as \u4f7f\u7528\u8005/CLI\n    participant A as Agent (\u601d\u8003)\n    participant E as \u57f7\u884c\u5668 (\u5de5\u5177)\n    participant V as \u9a57\u8b49\u5668 (\u6e2c\u8a66)\n    participant M as \u8a18\u61b6 (\u5927\u8166)\n\n    U-&gt;&gt;A: \u63d0\u4ea4\u4efb\u52d9\n    loop \u76f4\u5230\u5b8c\u6210\u6216\u65b7\u8def\u5668\u958b\u555f\n        A-&gt;&gt;M: \u7372\u53d6\u4e0a\u4e0b\u6587\u8207\u5b78\u7fd2\u7d93\u9a57\n        M--&gt;&gt;A: \u4e0a\u4e0b\u6587\u6578\u64da\n        A-&gt;&gt;A: \u751f\u6210\u8a08\u756b\n        A-&gt;&gt;E: \u57f7\u884c\u5de5\u5177 (\u7de8\u8f2f/\u57f7\u884c)\n        E--&gt;&gt;A: \u57f7\u884c\u7d50\u679c\n        A-&gt;&gt;V: \u89f8\u767c\u9a57\u8b49\n        V-&gt;&gt;V: \u57f7\u884c Lint \u8207\u6e2c\u8a66\n        V--&gt;&gt;A: \u901a\u904e/\u5931\u6557 + \u65e5\u8a8c\n        alt \u5982\u679c\u5931\u6557\n            A-&gt;&gt;M: \u8a18\u9304\u932f\u8aa4\u6a21\u5f0f\n            A-&gt;&gt;A: \u5206\u6790\u4e0b\u4e00\u6b65\u4fee\u5fa9\u539f\u56e0\n        else \u5982\u679c\u901a\u904e\n            A-&gt;&gt;M: \u66f4\u65b0\u9032\u5ea6\n        end\n    end\n    A-&gt;&gt;U: \u6700\u7d42\u5831\u544a\n</code></pre>"},{"location":"reference/architecture_zh/#1-srcboring","title":"1. \u6a21\u7d44\u5316\u6838\u5fc3\u8207\u5ef6\u9072\u8f09\u5165 (src/boring/)","text":"<p>\u5f9e v10.28.0 \u958b\u59cb\uff0cBoring \u63a1\u7528\u4e86 \u300c\u7626\u8eab\u67b6\u69cb\u300d(Diet Architecture)\uff1a - \u5ef6\u9072\u8f09\u5165 (Lazy Loading)\uff1a\u5927\u5e45\u5229\u7528 <code>__init__.py</code> \u4e2d\u7684 <code>__getattr__</code> \u6280\u5de7\uff0c\u50c5\u5728\u771f\u6b63\u5b58\u53d6\u6642\u624d\u532f\u5165\u5b50\u6a21\u7d44\u3002\u9019\u8b93\u51b7\u555f\u52d5\u6642\u9593\u5f9e\u7d04 2.5 \u79d2\u964d\u81f3 &lt; 600 \u6beb\u79d2\u3002 - \u4f9d\u8cf4\u7ba1\u7406\u5668 (Dependency Manager)\uff1a\u7d71\u4e00\u7684 <code>DependencyManager</code> (\u4f4d\u65bc <code>core/dependencies.py</code>) \u8ca0\u8cac\u7ba1\u7406\u6240\u6709\u53ef\u9078\u7684\u300c\u52a0\u9ede\u300d(Extras\uff0c\u5982 ChromaDB, FastAPI, Streamlit)\uff0c\u78ba\u4fdd\u6838\u5fc3 CLI \u4fdd\u6301\u8f15\u91cf\u5316 (&lt; 50MB)\u3002</p>"},{"location":"reference/architecture_zh/#2","title":"2. \u5b50\u6a21\u7d44\u91cd\u69cb","text":"<p>\u6e90\u4ee3\u78bc\u73fe\u5728\u6309\u529f\u80fd\u5c64\u7d1a\u7d44\u7e54\uff1a - <code>core/</code>\uff1a\u5e38\u91cf\u3001\u9059\u6e2c\u8207\u4f9d\u8cf4\u7ba1\u7406\u3002 - <code>services/</code>\uff1a\u6838\u5fc3\u908f\u8f2f\uff0c\u5982\u5065\u5eb7\u6aa2\u67e5\u8207\u76e3\u63a7\u3002 - <code>cli/</code>\uff1a\u57fa\u65bc Typer \u7684\u754c\u9762\u8207\u6307\u4ee4\u5b9a\u7fa9\u3002 - <code>tools/</code>\uff1a\u539f\u5b50\u5316\u7684\u5de5\u5177\uff0c\u7528\u65bc\u6587\u4ef6\u64cd\u4f5c\u8207\u5206\u6790\u3002 - <code>intelligence/</code>\uff1a\u5927\u8166 (Memory)\u3001RAG \u8207\u6a21\u5f0f\u5b78\u7fd2\u3002 - <code>loop/</code>\uff1a\u81ea\u4e3b\u904b\u4f5c\u7684\u72c0\u614b\u6a5f\u3002 - <code>mcp/</code>\uff1aModel Context Protocol \u4f3a\u670d\u5668\u8207\u5de5\u5177\u66dd\u9732\u3002</p>"},{"location":"reference/architecture_zh/#3-srcboringintelligence","title":"3. \u5927\u8166\u8207\u8a18\u61b6 (src/boring/intelligence/)","text":"<p>Boring \u4e0d\u53ea\u8b80\u53d6\u6a94\u6848\uff1b\u5b83\u7dad\u8b77\u300c\u72c0\u614b\u300d\uff1a - Context (<code>context.json</code>)\uff1a\u7576\u524d\u4efb\u52d9\u3001\u8a08\u756b\u548c\u9032\u5ea6\u3002 - Learnings (<code>learnings.json</code>)\uff1a\u932f\u8aa4\u6a21\u5f0f\u548c\u6210\u529f\u7684\u4fee\u5fa9\u3002 - RAG Index (ChromaDB)\uff1a[\u9078\u914d] \u4ee3\u78bc\u5eab\u7684\u5411\u91cf\u5d4c\u5165\uff0c\u7528\u65bc\u8a9e\u610f\u641c\u5c0b\u3002</p>"},{"location":"reference/architecture_zh/#rag-hybrid-rag","title":"\ud83d\udd75\ufe0f \u6df7\u5408 RAG (Hybrid RAG) \u5de5\u4f5c\u6d41","text":"<p>Boring \u63a1\u7528\u591a\u5c64\u6aa2\u7d22\u7b56\u7565\u4ee5\u78ba\u4fdd\u4e0a\u4e0b\u6587\u7cbe\u78ba\u5ea6\uff1a</p> <pre><code>graph LR\n    Query[\u4f7f\u7528\u8005\u67e5\u8a62] --&gt; HybridSearch\n\n    subgraph \"Hybrid Search Engine\"\n        HybridSearch --&gt; Keyword[\u95dc\u9375\u5b57\u641c\u5c0b (BM25)]\n        HybridSearch --&gt; Vector[\u5411\u91cf\u641c\u5c0b (ChromaDB)]\n\n        Keyword --&gt; Merger[\u7d50\u679c\u5408\u4f75 &amp; \u91cd\u6392\u5e8f]\n        Vector --&gt; Merger\n    end\n\n    Merger --&gt; TopK[Top-K \u521d\u9078\u7d50\u679c]\n\n    subgraph \"Graph Expansion\"\n        TopK --&gt; DepGraph[\u4f9d\u8cf4\u5716\u5206\u6790]\n        DepGraph --&gt; Callers[\u8abf\u7528\u8005]\n        DepGraph --&gt; Callees[\u88ab\u8abf\u7528\u8005]\n    end\n\n    Callers --&gt; FinalContext[\u6700\u7d42\u4e0a\u4e0b\u6587]\n    Callees --&gt; FinalContext\n    TopK --&gt; FinalContext\n</code></pre>"},{"location":"reference/architecture_zh/#3-srcboringjudge","title":"3. \u8a55\u4f30\u8207\u5be9\u5224 (<code>src/boring/judge/</code>)","text":"<p>Boring \u5167\u5efa LLM-as-a-Judge \u7cfb\u7d71\uff0c\u7528\u65bc\u81ea\u6211\u8a55\u4f30\u8207\u54c1\u8cea\u63a7\u5236\uff1a</p> <pre><code>sequenceDiagram\n    participant Agent as Agent\n    participant Judge as Judge Engine\n    participant Rubric as \u52d5\u614b\u8a55\u5206\u8868\n    participant LLM as Evaluator Model\n\n    Agent-&gt;&gt;Judge: \u8acb\u6c42\u8a55\u4f30 (Code/Plan)\n    Judge-&gt;&gt;Rubric: \u751f\u6210/\u8f09\u5165\u8a55\u5206\u6a19\u6e96\n    Judge-&gt;&gt;LLM: \u57f7\u884c Direct Scoring / Pairwise Comparison\n    loop Bias Mitigation\n        LLM-&gt;&gt;LLM: \u81ea\u6211\u53cd\u601d (\u6821\u6e96\u5206\u6578)\n    end\n    LLM--&gt;&gt;Judge: \u8a55\u5206\u7d50\u679c + \u6539\u9032\u5efa\u8b70\n    Judge--&gt;&gt;Agent: \u7d50\u69cb\u5316\u5831\u544a (JSON)\n</code></pre>"},{"location":"reference/architecture_zh/#4-srcboringverification","title":"4. \u9a57\u8b49\u5f15\u64ce (<code>src/boring/verification/</code>)","text":"<p>\u8207\u53ea\u751f\u6210\u4ee3\u78bc\u7684\u5178\u578b Agent \u4e0d\u540c\uff0cBoring \u6703 \u9a57\u8b49 \u5b83\u3002</p> <ul> <li>\u5e73\u884c\u57f7\u884c\uff1a\u4f7f\u7528 <code>ThreadPoolExecutor</code> \u4e26\u767c\u57f7\u884c linter/\u6e2c\u8a66\u3002</li> <li>\u5feb\u53d6\uff1a\u5c0d\u6a94\u6848\u5167\u5bb9\u9032\u884c\u96dc\u6e4a\uff0c\u4ee5\u8df3\u904e\u672a\u8b8a\u66f4\u6a94\u6848\u7684\u91cd\u8907\u9a57\u8b49 (<code>.boring/cache</code>)\u3002</li> <li>\u5c64\u7d1a\uff1a</li> <li>\u975c\u614b\uff1a\u8a9e\u6cd5\u6aa2\u67e5\u3001linting (ruff, eslint)\u3002</li> <li>\u52d5\u614b\uff1a\u55ae\u5143\u6e2c\u8a66 (pytest)\u3002</li> <li>\u5b89\u5168\uff1a\u6f0f\u6d1e\u6383\u63cf (bandit)\u3002</li> </ul>"},{"location":"reference/architecture_zh/#5-srcboringutilcircuit_breakerpy","title":"5. \u65b7\u8def\u5668 (<code>src/boring/util/circuit_breaker.py</code>)","text":"<p>\u9632\u6b62 Agent \u91cd\u8907\u5617\u8a66\u4e26\u5931\u6557\u7684\u300c\u7121\u9650\u8ff4\u5708\u707d\u96e3\u300d\u3002</p> <ul> <li>CLOSED\uff1a\u6b63\u5e38\u904b\u4f5c\u3002</li> <li>OPEN\uff1a\u9023\u7e8c\u5931\u6557\u6b21\u6578\u904e\u591a\u3002\u505c\u6b62\u57f7\u884c\u4ee5\u7bc0\u7701 Token/\u6642\u9593\u3002</li> <li>HALF_OPEN\uff1a\u5141\u8a31\u4e00\u6b21\u5617\u8a66\uff0c\u67e5\u770b\u554f\u984c\u662f\u5426\u5df2\u89e3\u6c7a\u3002</li> </ul>"},{"location":"reference/architecture_zh/#_4","title":"\ud83d\udd12 \u5b89\u5168\u67b6\u69cb\uff08\u5f71\u5b50\u6a21\u5f0f\uff09","text":"<p>Boring \u5728\u9ad8\u98a8\u96aa\u64cd\u4f5c\u7684\u300c\u5f71\u5b50\u6a21\u5f0f\u300d\u6c99\u7bb1\u4e2d\u904b\u4f5c\u3002</p> <pre><code>\u8acb\u6c42\uff08\u522a\u9664\u6a94\u6848\uff09\n       \u2502\n       \u25bc\n[\u5f71\u5b50\u6514\u622a\u5668]\n       \u2502\n  \u5b89\u5168\u55ce\uff1f(\u914d\u7f6e) \u2500\u2500\u25b6 \u662f \u2500\u2500\u25b6 [\u6a94\u6848\u7cfb\u7d71]\n       \u2502\n       \u25bc\n      \u5426\n       \u2502\n  [\u4f7f\u7528\u8005\u6279\u51c6 UI] \u2500\u2500\u25b6 \u662f \u2500\u2500\u25b6 [\u6a94\u6848\u7cfb\u7d71]\n       \u2502\n       \u25bc\n      \u5426 \u2500\u2500\u25b6 [\u963b\u64cb\u4e26\u5831\u544a]\n</code></pre> <p>\u6b64\u908f\u8f2f\u5b58\u5728\u65bc <code>src/boring/security/shadow_mode.py</code> \u4e2d\u3002</p>"},{"location":"reference/architecture_zh/#mcp","title":"\ud83d\udd0c MCP \u6574\u5408","text":"<p>Boring \u900f\u904e Model Context Protocol (MCP) \u66b4\u9732\u5176\u5167\u90e8\u529f\u80fd\u3002</p> <ul> <li>\u5de5\u5177\uff1a\u66b4\u9732\u70ba <code>boring_tool_name</code>\u3002</li> <li>\u8cc7\u6e90\uff1a<code>boring://logs</code>, <code>boring://config</code>\u3002</li> <li>\u63d0\u793a\uff1a<code>/vibe_start</code>, <code>/quick_fix</code>\u3002</li> </ul> <p>\u9019\u5141\u8a31 Boring \u5728\u5176\u4ed6 AI \u5ba2\u6236\u7aef\uff08\u5982 Claude Desktop \u6216 Cursor\uff09\u5167\u90e8 \u904b\u884c\u3002</p>"},{"location":"reference/comparison/","title":"Why Boring? Agent Comparison","text":"<p>Understanding how Boring differs from Cursor, Claude Code, and other AI coding assistants.</p>"},{"location":"reference/comparison/#feature-comparison","title":"\ud83d\udcca Feature Comparison","text":"Feature Cursor / Copilot Claude Code Boring for Gemini Core Workflow Manual Edit &amp; Review Command Line Agent Autonomous Loop Verification Human Feedback Loop Basic Shell Commands Strict Quality Gates Specification Prompt-based Prompt-based Spec-Driven (PRD/Task) Learning User Chat History Session Context Cross-Session Patterns Security Extension Permissions Shell Access Shadow Mode Intercept"},{"location":"reference/comparison/#the-three-core-pillars-of-boring","title":"\ud83d\udc8e The Three Core Pillars of Boring","text":""},{"location":"reference/comparison/#1-100-quality-gates","title":"1. 100% Quality Gates","text":"<p>While other tools might generate code that \"looks right,\" Boring enforces local quality standards before merging. It will iterate until it passes your linters (<code>ruff</code>, <code>eslint</code>) and tests (<code>pytest</code>). It doesn't just write code; it ensures code actually works.</p>"},{"location":"reference/comparison/#2-spec-driven-consistency","title":"2. Spec-Driven Consistency","text":"<p>Boring uses your PRD and Task checklist as the source of truth. It tracks progress against specific requirements, ensuring no edge case is forgotten and the final implementation matches the technical plan.</p>"},{"location":"reference/comparison/#3-cumulative-intelligence-learned-memory","title":"3. Cumulative Intelligence (Learned Memory)","text":"<p>Boring captures \"Fix Patterns.\" If it encountered a tricky environment issue or a subtle bug in your tech stack, it saves the successful resolution to its <code>.boring/brain</code>. Next time a similar issue occurs, it resolves it instantly without expensive re-thinking.</p>"},{"location":"reference/comparison/#when-to-use-what","title":"\ud83c\udfaf When to Use What?","text":"<ul> <li>Use Cursor/Copilot for: Rapid ad-hoc code completion and UI-centric exploration.</li> <li>Use Claude Code for: Quick terminal-based file manipulations and standard engineering tasks.</li> <li>Use Boring for: Complex feature implementation, large-scale refactors, and maintaining high reliability in production codebases where \"passing tests\" is non-negotiable.</li> </ul>"},{"location":"reference/comparison_zh/","title":"\u70ba\u4ec0\u9ebc\u9078\u64c7 Boring\uff1f\u5de5\u5177\u5c0d\u6bd4\u5206\u6790","text":"<p>\u4e86\u89e3 Boring \u8207 Cursor\u3001Claude Code \u53ca\u5176\u4ed6 AI \u7de8\u78bc\u52a9\u624b\u6709\u4f55\u4e0d\u540c\u3002</p>"},{"location":"reference/comparison_zh/#_1","title":"\ud83d\udcca \u529f\u80fd\u5c0d\u6bd4\u8868","text":"\u529f\u80fd Cursor / Copilot Claude Code Boring for Gemini \u6838\u5fc3\u5de5\u4f5c\u6d41 \u624b\u52d5\u7de8\u8f2f\u8207\u5be9\u6838 \u547d\u4ee4\u884c\u4ee3\u7406 (Agent) \u81ea\u4e3b\u5faa\u74b0 (Autonomous Loop) \u9a57\u8b49\u6a5f\u5236 \u4ef0\u8cf4\u4eba\u5de5\u53cd\u994b \u57fa\u790e\u6307\u4ee4\u57f7\u884c \u56b4\u683c\u54c1\u8cea\u9598\u9053 (Quality Gates) \u898f\u683c\u9a45\u52d5 \u57fa\u65bc\u55ae\u6b21\u63d0\u793a\u8a5e \u57fa\u65bc\u55ae\u6b21\u63d0\u793a\u8a5e \u898f\u683c\u9a45\u52d5 (PRD/Task \u5c0d\u9f4a) \u5b78\u7fd2\u8a18\u61b6 \u4f7f\u7528\u8005\u5c0d\u8a71\u6b77\u53f2 \u6703\u8a71\u4e0a\u4e0b\u6587 \u8de8\u6703\u8a71\u6a21\u5f0f\u5b78\u7fd2 (Patterns) \u5b89\u5168\u9632\u8b77 \u64f4\u5145\u529f\u80fd\u6b0a\u9650 Shell \u5b58\u53d6\u6b0a\u9650 \u5f71\u5b50\u6a21\u5f0f\u6514\u622a (Shadow Mode)"},{"location":"reference/comparison_zh/#boring_1","title":"\ud83d\udc8e Boring \u7684\u4e09\u5927\u6838\u5fc3\u652f\u67f1","text":""},{"location":"reference/comparison_zh/#1-100-quality-gates","title":"1. 100% \u54c1\u8cea\u9598\u9053 (Quality Gates)","text":"<p>\u7576\u5176\u4ed6\u5de5\u5177\u7522\u751f\u7684\u4ee3\u78bc\u53ea\u662f\u300c\u770b\u8d77\u4f86\u6b63\u78ba\u300d\u6642\uff0cBoring \u6703\u5728\u5408\u4f75\u524d\u5f37\u5236\u57f7\u884c\u672c\u5730\u54c1\u8cea\u6a19\u6e96\u3002\u5b83\u6703\u4e0d\u65b7\u8fed\u4ee3\uff0c\u76f4\u5230\u901a\u904e\u60a8\u7684 Linter (<code>ruff</code>, <code>eslint</code>) \u548c\u6e2c\u8a66 (<code>pytest</code>)\u3002\u5b83\u4e0d\u53ea\u662f\u5beb\u4ee3\u78bc\uff0c\u5b83\u78ba\u4fdd\u4ee3\u78bc \u771f\u7684\u80fd\u8dd1\u3002</p>"},{"location":"reference/comparison_zh/#2-spec-driven","title":"2. \u898f\u683c\u9a45\u52d5\u7684\u4e00\u81f4\u6027 (Spec-Driven)","text":"<p>Boring \u4ee5\u60a8\u7684 PRD \u548c\u4efb\u52d9\u6e05\u55ae\u4f5c\u70ba\u55ae\u4e00\u4e8b\u5be6\u4f86\u6e90\u3002\u5b83\u6703\u5c0d\u9f4a\u5177\u9ad4\u9700\u6c42\u8ffd\u8e64\u9032\u5ea6\uff0c\u78ba\u4fdd\u6c92\u6709\u907a\u6f0f\u4efb\u4f55\u908a\u754c\u60c5\u6cc1\uff0c\u4e26\u4fdd\u8b49\u6700\u7d42\u5be6\u4f5c\u7b26\u5408\u7576\u521d\u7684\u6280\u8853\u8a08\u756b\u3002</p>"},{"location":"reference/comparison_zh/#3-learned-memory","title":"3. \u6301\u7e8c\u9032\u5316\u7684\u667a\u6167 (Learned Memory)","text":"<p>Boring \u6703\u6355\u6349\u300c\u4fee\u5fa9\u6a21\u5f0f (Fix Patterns)\u300d\u3002\u5982\u679c\u5b83\u5728\u60a8\u7684\u6280\u8853\u68e7\u4e2d\u9047\u5230\u68d8\u624b\u7684\u74b0\u5883\u554f\u984c\u6216\u96b1\u853d\u7684 Bug\uff0c\u5b83\u6703\u5c07\u89e3\u6c7a\u65b9\u6848\u5132\u5b58\u5728 <code>.boring/brain</code> \u4e2d\u3002\u4e0b\u6b21\u9047\u5230\u985e\u4f3c\u554f\u984c\uff0c\u5b83\u80fd\u7acb\u5373\u89e3\u6c7a\uff0c\u4e0d\u518d\u6d6a\u8cbb Token \u91cd\u65b0\u601d\u8003\u3002</p>"},{"location":"reference/comparison_zh/#_2","title":"\ud83c\udfaf \u8a72\u5982\u4f55\u9078\u64c7\uff1f","text":"<ul> <li>\u4f7f\u7528 Cursor/Copilot\uff1a\u9032\u884c\u5feb\u901f\u7684\u81ea\u52d5\u88dc\u5168\u6216\u4ee5 UI \u70ba\u4e2d\u5fc3\u7684\u4ee3\u78bc\u63a2\u7d22\u3002</li> <li>\u4f7f\u7528 Claude Code\uff1a\u8655\u7406\u5feb\u901f\u7684\u7d42\u7aef\u6a94\u6848\u64cd\u4f5c\u6216\u6a19\u6e96\u5de5\u7a0b\u4efb\u52d9\u3002</li> <li>\u4f7f\u7528 Boring\uff1a\u8655\u7406\u8907\u96dc\u529f\u80fd\u5be6\u4f5c\u3001\u5927\u898f\u6a21\u91cd\u69cb\uff0c\u4ee5\u53ca\u9700\u8981\u7dad\u6301\u9ad8\u53ef\u9760\u6027\u7684\u751f\u7522\u74b0\u5883\u4ee3\u78bc\u2014\u2014\u5728\u9019\u4e9b\u5834\u666f\u4e2d\uff0c\u300c\u901a\u904e\u6e2c\u8a66\u300d\u662f\u4e0d\u53ef\u59a5\u5354\u7684\u8981\u6c42\u3002</li> </ul>"},{"location":"reference/configuration/","title":"Configuration Reference","text":"<p>Simple Guide for Beginners: Boring has two ways to configure. Choose based on your needs.</p>"},{"location":"reference/configuration/#quick-start-where-do-i-edit","title":"\ud83d\udea6 Quick Start: Where do I edit?","text":""},{"location":"reference/configuration/#scenario-1-i-am-a-solo-developer-use-cursorclaude","title":"Scenario 1: I am a Solo Developer (Use Cursor/Claude)","text":"<p>\ud83d\udc49 You should edit <code>mcp.json</code> (or Cursor Settings) This is for preferences that affect only you, such as: - Cost savings (Token Optimization) - Performance tuning - Profile Selection (Lite/Standard)</p>"},{"location":"reference/configuration/#scenario-2-i-am-a-team-lead","title":"Scenario 2: I am a Team Lead","text":"<p>\ud83d\udc49 You should create <code>.boring.toml</code> (in Project Root) This is for rules that the whole team must follow, such as: - Code Quality Standards (Lint/Test) - Security Scan Levels - CI/CD Rules</p>"},{"location":"reference/configuration/#common-scenarios-cookbook","title":"\ud83d\ude4b Common Scenarios (Cookbook)","text":""},{"location":"reference/configuration/#1-i-want-to-save-money-token-optimization","title":"1. I want to Save Money (Token Optimization)","text":"<p>Edit your MCP JSON Config: <pre><code>\"env\": {\n  \"BORING_MCP_VERBOSITY\": \"minimal\",  // Minimized output (Saves 90%)\n  \"BORING_MCP_PROFILE\": \"ultra_lite\"  // Minimized tools\n}\n</code></pre></p>"},{"location":"reference/configuration/#2-i-want-max-performance-parallelism","title":"2. I want Max Performance (Parallelism)","text":"<p>Edit your MCP JSON Config: <pre><code>\"env\": {\n  \"BORING_WORKER_COUNT\": \"8\"  // Run 8 threads parallel\n}\n</code></pre></p>"},{"location":"reference/configuration/#3-i-want-stricter-security-shadow-mode","title":"3. I want Stricter Security (Shadow Mode)","text":"<p>Edit your <code>.boring.toml</code>: <pre><code>[boring]\nenable_shadow_mode = true\n\n[boring.security]\nsecret_scan = true       # Scan for passwords\ndependency_scan = true   # Scan for vulnerabilities\n</code></pre></p>"},{"location":"reference/configuration/#detailed-reference","title":"\ud83d\udd27 Detailed Reference","text":""},{"location":"reference/configuration/#1-project-config-boringtoml","title":"1. Project Config (<code>.boring.toml</code>)","text":"<p>Place this file in your project root.</p>"},{"location":"reference/configuration/#boring-global-settings","title":"<code>[boring]</code> Global Settings","text":"<pre><code>[boring]\n# Enable debug logs (default: false)\ndebug = false\n# Enable RAG Memory (default: true)\nenable_rag = true\n</code></pre>"},{"location":"reference/configuration/#boringquality_gates","title":"<code>[boring.quality_gates]</code>","text":"<p>Define the \"Definition of Done\". <pre><code>[boring.quality_gates]\nmin_coverage = 40        # Minimum Test Coverage %\nmax_complexity = 15      # Max allowed complexity\nmax_file_lines = 500     # Max lines per file\ncheck_untyped_defs = true # Strict typing\n</code></pre></p>"},{"location":"reference/configuration/#boringhooks-git-hooks","title":"<code>[boring.hooks]</code> (Git Hooks)","text":"<p>Control behavior on Commit/Push. <pre><code>[boring.hooks]\npre_commit_level = \"STANDARD\" # Check on commit\npre_push_level = \"FULL\"       # Check on push\nauto_fix = true               # Auto-fix simple errors\ntimeout_seconds = 300         # Timeout in seconds\n</code></pre></p>"},{"location":"reference/configuration/#2-environment-variables-mcp-json-env","title":"2. Environment Variables &amp; MCP JSON (<code>env</code>)","text":"<p>These are usually set in the <code>env</code> section of your Cursor/Claude MCP config.</p> Variable Name Default Description Core Settings <code>BORING_MCP_PROFILE</code> <code>lite</code> Toolset Size (<code>minimal</code>, <code>lite</code>, <code>standard</code>, <code>full</code>, <code>ultra_lite</code>) <code>BORING_MCP_VERBOSITY</code> <code>standard</code> Output Verbosity (<code>minimal</code>, <code>standard</code>, <code>verbose</code>) <code>BORING_LAZY_MODE</code> <code>0</code> Lazy Mode: 0=Standard, 1=Lazy (Uses progressive disclosure to save 90% schema tokens) <code>BORING_LOG_LEVEL</code> <code>INFO</code> Log Level Security Settings <code>SHADOW_MODE_LEVEL</code> <code>ENABLED</code> Sandbox Level (<code>DISABLED</code>, <code>ENABLED</code>, <code>STRICT</code>) <code>BORING_ALLOW_DANGEROUS</code> <code>false</code> Allow dangerous ops (Not Recommended) Performance <code>BORING_WORKER_COUNT</code> <code>4</code> Number of parallel workers <code>BORING_CACHE_DIR</code> <code>.boring/cache</code> Cache directory location System <code>BORING_PROJECT_ROOT</code> <code>.</code> Force project path <code>BORING_RAG_ENABLED</code> <code>1</code> Enable RAG (0=Disable)"},{"location":"reference/configuration/#complete-example-mcp-json","title":"\ud83d\udcdd Complete Example: MCP JSON","text":"<p>This is what it looks like in your Cursor Settings:</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",           // REQUIRED: Enable MCP Mode\n        \"BORING_MCP_PROFILE\": \"lite\",     // RECOMMENDED: For daily dev\n        \"BORING_MCP_VERBOSITY\": \"minimal\",// RECOMMENDED: Save tokens\n        \"PROJECT_ROOT_DEFAULT\": \".\"       // Default to current dir\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"reference/configuration_zh/","title":"\u914d\u7f6e\u53c3\u8003\u624b\u518a (Configuration)","text":"<p>\u7d66\u65b0\u624b\u7684\u7c21\u55ae\u6307\u5357\uff1aBoring \u6709\u5169\u7a2e\u8a2d\u5b9a\u65b9\u5f0f\uff0c\u8acb\u6839\u64da\u60a8\u7684\u9700\u6c42\u9078\u64c7\u3002</p>"},{"location":"reference/configuration_zh/#_1","title":"\ud83d\udea6 \u5feb\u901f\u958b\u59cb\uff1a\u6211\u8a72\u6539\u54ea\u88e1\uff1f","text":""},{"location":"reference/configuration_zh/#1-cursorclaude","title":"\u60c5\u6cc1 1\uff1a\u6211\u662f\u500b\u4eba\u958b\u767c\u8005 (\u4f7f\u7528 Cursor/Claude)","text":"<p>\ud83d\udc49 \u60a8\u61c9\u8a72\u4fee\u6539 <code>mcp.json</code> (\u6216 Cursor \u8a2d\u5b9a) \u9019\u662f\u7528\u4f86\u8a2d\u5b9a \u53ea\u6709\u60a8\u81ea\u5df1 \u6703\u7528\u5230\u7684\u504f\u597d\uff0c\u4f8b\u5982\uff1a - \u7701\u9322 (Token \u512a\u5316) - \u6548\u80fd\u8abf\u6574 - Profile (Lite/Standard)</p>"},{"location":"reference/configuration_zh/#2-tech-lead","title":"\u60c5\u6cc1 2\uff1a\u6211\u662f\u5718\u968a Tech Lead","text":"<p>\ud83d\udc49 \u60a8\u61c9\u8a72\u5efa\u7acb <code>.boring.toml</code> (\u653e\u5728\u5c08\u6848\u6839\u76ee\u9304) \u9019\u662f\u7528\u4f86\u8a2d\u5b9a \u6574\u500b\u5718\u968a \u90fd\u5fc5\u9808\u9075\u5b88\u7684\u898f\u5247\uff0c\u4f8b\u5982\uff1a - \u7a0b\u5f0f\u78bc\u54c1\u8cea\u6a19\u6e96 (Lint/Test) - \u5b89\u5168\u6383\u63cf\u7b49\u7d1a - CI/CD \u898f\u5247</p>"},{"location":"reference/configuration_zh/#cookbook","title":"\ud83d\ude4b \u5e38\u898b\u8a2d\u5b9a\u60c5\u5883 (Cookbook)","text":""},{"location":"reference/configuration_zh/#1-token","title":"1. \u6211\u60f3\u8981\u7701\u9322 (Token \u512a\u5316)","text":"<p>\u4fee\u6539\u60a8\u7684 MCP JSON \u8a2d\u5b9a\uff1a <pre><code>\"env\": {\n  \"BORING_MCP_VERBOSITY\": \"minimal\",  // \u8f38\u51fa\u6975\u7c21\u5316 (\u7701 90%)\n  \"BORING_MCP_PROFILE\": \"ultra_lite\"  // \u5de5\u5177\u6975\u7c21\u5316\n}\n</code></pre></p>"},{"location":"reference/configuration_zh/#2","title":"2. \u6211\u60f3\u8981\u6548\u80fd\u5168\u958b (\u5e73\u884c\u8655\u7406)","text":"<p>\u4fee\u6539\u60a8\u7684 MCP JSON \u8a2d\u5b9a\uff1a <pre><code>\"env\": {\n  \"BORING_WORKER_COUNT\": \"8\"  // \u958b 8 \u500b\u57f7\u884c\u7dd2\u540c\u6642\u8dd1\n}\n</code></pre></p>"},{"location":"reference/configuration_zh/#3","title":"3. \u6211\u60f3\u8981\u66f4\u56b4\u683c\u7684\u5b89\u5168\u6aa2\u67e5 (\u5f71\u5b50\u6a21\u5f0f)","text":"<p>\u4fee\u6539\u60a8\u7684 <code>.boring.toml</code>\uff1a <pre><code>[boring]\nenable_shadow_mode = true\n\n[boring.security]\nsecret_scan = true       # \u6383\u63cf\u5bc6\u78bc\ndependency_scan = true   # \u6383\u63cf\u4f9d\u8cf4\u6f0f\u6d1e\n</code></pre></p>"},{"location":"reference/configuration_zh/#_2","title":"\ud83d\udd27 \u8a73\u7d30\u914d\u7f6e\u53c3\u8003","text":""},{"location":"reference/configuration_zh/#1-boringtoml","title":"1. \u5c08\u6848\u914d\u7f6e (<code>.boring.toml</code>)","text":"<p>\u5c07\u6b64\u6a94\u6848\u653e\u5728\u5c08\u6848\u6839\u76ee\u9304\u3002</p>"},{"location":"reference/configuration_zh/#boring","title":"<code>[boring]</code> \u5168\u57df\u8a2d\u5b9a","text":"<pre><code>[boring]\n# \u555f\u7528\u9664\u932f\u65e5\u8a8c (\u9810\u8a2d: false)\ndebug = false\n# \u555f\u7528 RAG \u8a18\u61b6 (\u9810\u8a2d: true)\nenable_rag = true\n</code></pre>"},{"location":"reference/configuration_zh/#boringquality_gates","title":"<code>[boring.quality_gates]</code> (\u54c1\u8cea\u9598\u9053)","text":"<p>\u8a2d\u5b9a \"Done\" \u7684\u6a19\u6e96\u3002 <pre><code>[boring.quality_gates]\nmin_coverage = 40        # \u6700\u4f4e\u6e2c\u8a66\u8986\u84cb\u7387 %\nmax_complexity = 15      # \u5141\u8a31\u7684\u6700\u5927\u8907\u96dc\u5ea6\nmax_file_lines = 500     # \u55ae\u6a94\u6700\u5927\u884c\u6578\ncheck_untyped_defs = true # \u5f37\u5236\u578b\u5225\u6aa2\u67e5\n</code></pre></p>"},{"location":"reference/configuration_zh/#boringhooks-git","title":"<code>[boring.hooks]</code> (Git \u9264\u5b50)","text":"<p>\u63a7\u5236 Commit/Push \u6642\u7684\u884c\u70ba\u3002 <pre><code>[boring.hooks]\npre_commit_level = \"STANDARD\" # commit \u6642\u505a\u6a19\u6e96\u6aa2\u67e5\npre_push_level = \"FULL\"       # push \u6642\u505a\u5b8c\u6574\u6aa2\u67e5\nauto_fix = true               # \u81ea\u52d5\u4fee\u5fa9\u7c21\u55ae\u932f\u8aa4\ntimeout_seconds = 300         # \u6aa2\u67e5\u8d85\u6642\u79d2\u6578\n</code></pre></p>"},{"location":"reference/configuration_zh/#2-mcp-json-env","title":"2. \u74b0\u5883\u8b8a\u6578 &amp; MCP JSON (<code>env</code>)","text":"<p>\u9019\u4e9b\u8b8a\u6578\u901a\u5e38\u8a2d\u5b9a\u5728\u60a8\u7684 Cursor/Claude MCP \u8a2d\u5b9a\u6a94\u7684 <code>env</code>\u5340\u584a\u4e2d\u3002</p> \u8b8a\u6578\u540d\u7a31 \u9810\u8a2d\u503c \u8aaa\u660e \u6838\u5fc3\u8a2d\u5b9a <code>BORING_MCP_PROFILE</code> <code>lite</code> \u5de5\u5177\u7d44\u5927\u5c0f (<code>minimal</code>, <code>lite</code>, <code>standard</code>, <code>full</code>, <code>ultra_lite</code>) <code>BORING_MCP_VERBOSITY</code> <code>standard</code> \u8f38\u51fa\u8a73\u7d30\u5ea6 (<code>minimal</code>, <code>standard</code>, <code>verbose</code>) <code>BORING_LAZY_MODE</code> <code>0</code> \u61f6\u4eba\u6a21\u5f0f (Lazy Mode): 0=\u6a19\u6e96, 1=\u5ef6\u9072\u52a0\u8f09 (\u5229\u7528\u9032\u968e\u767c\u73fe\u7bc0\u7701 90% Schema Token) <code>BORING_LOG_LEVEL</code> <code>INFO</code> \u65e5\u8a8c\u7b49\u7d1a \u5b89\u5168\u8a2d\u5b9a <code>SHADOW_MODE_LEVEL</code> <code>ENABLED</code> \u5b89\u5168\u6c99\u7bb1\u7b49\u7d1a (<code>DISABLED</code>, <code>ENABLED</code>, <code>STRICT</code>) <code>BORING_ALLOW_DANGEROUS</code> <code>false</code> \u662f\u5426\u5141\u8a31\u5371\u96aa\u64cd\u4f5c (\u4e0d\u5efa\u8b70) \u6548\u80fd\u8a2d\u5b9a <code>BORING_WORKER_COUNT</code> <code>4</code> \u5e73\u884c\u8655\u7406\u7684 Worker \u6578\u91cf <code>BORING_CACHE_DIR</code> <code>.boring/cache</code> \u5feb\u53d6\u76ee\u9304\u4f4d\u7f6e \u7cfb\u7d71\u8a2d\u5b9a <code>BORING_PROJECT_ROOT</code> <code>.</code> \u5f37\u5236\u6307\u5b9a\u5c08\u6848\u8def\u5f91 <code>BORING_RAG_ENABLED</code> <code>1</code> \u662f\u5426\u555f\u7528 RAG (0=\u95dc\u9589)"},{"location":"reference/configuration_zh/#mcp-json","title":"\ud83d\udcdd \u5b8c\u6574 MCP JSON \u7bc4\u4f8b","text":"<p>\u9019\u662f\u60a8\u5728 Cursor Settings \u4e2d\u770b\u8d77\u4f86\u7684\u6a23\u5b50\uff1a</p> <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"BORING_MCP_MODE\": \"1\",           // \u5fc5\u586b\uff1a\u555f\u52d5 MCP \u6a21\u5f0f\n        \"BORING_MCP_PROFILE\": \"lite\",     // \u63a8\u85a6\uff1a\u65e5\u5e38\u958b\u767c\u7528 Lite\n        \"BORING_MCP_VERBOSITY\": \"minimal\",// \u63a8\u85a6\uff1a\u7701\u9322\u6a21\u5f0f\n        \"PROJECT_ROOT_DEFAULT\": \".\"       // \u9810\u8a2d\u7576\u524d\u76ee\u9304\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"reference/contributing/","title":"Contributing","text":"<p>Please see the CONTRIBUTING.md file in the repository for contribution guidelines.</p>"},{"location":"reference/contributing/#quick-links","title":"Quick Links","text":"<ul> <li>Development Setup</li> <li>Issue Tracker</li> <li>Pull Requests</li> </ul>"},{"location":"reference/contributing_zh/","title":"\u53c3\u8207\u8ca2\u737b (Contributing)","text":"<p>\u8acb\u53c3\u95b1 CONTRIBUTING.md \u4ee5\u7372\u53d6\u5b8c\u6574\u7684\u8ca2\u737b\u6307\u5357\u3002</p>"},{"location":"reference/contributing_zh/#_1","title":"\u5feb\u901f\u9023\u7d50","text":"<ul> <li>\u958b\u767c\u74b0\u5883\u8a2d\u5b9a</li> <li>\u554f\u984c\u8ffd\u8e64 (Issues)</li> <li>\u63d0\u4ea4 Pull Requests</li> </ul>"},{"location":"reference/feature-matrix/","title":"\u529f\u80fd\u77e9\u9663\u8207\u7dad\u8b77\u72c0\u614b (Feature Matrix)","text":"<p>\u89e3\u6c7a\u98a8\u96aa: \u529f\u80fd\u81a8\u8139\u53ef\u80fd\u5c0e\u81f4\u7dad\u8b77\u56f0\u96e3</p> <p>\u672c\u6587\u6a94\u63d0\u4f9b Boring-Gemini \u6240\u6709\u529f\u80fd\u7684\u5b8c\u6574\u8996\u5716\uff0c\u5305\u62ec\u7a69\u5b9a\u6027\u72c0\u614b\u3001\u4f9d\u8cf4\u95dc\u4fc2\u3001\u4ee5\u53ca\u7dad\u8b77\u8cac\u4efb\u5206\u914d\u3002</p>"},{"location":"reference/feature-matrix/#_1","title":"\ud83d\udcca \u529f\u80fd\u72c0\u614b\u6982\u89bd","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         \u529f\u80fd\u751f\u547d\u9031\u671f (Feature Lifecycle)                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502   \ud83e\uddea Experimental \u2500\u2500\u25ba \ud83d\udd35 Beta \u2500\u2500\u25ba \u2705 Stable \u2500\u2500\u25ba \u26a0\ufe0f Deprecated \u2500\u2500\u25ba \u274c Removed  \u2502\n\u2502                                                                              \u2502\n\u2502   \u5be6\u9a57\u6027\u529f\u80fd        \u6e2c\u8a66\u4e2d       \u7a69\u5b9a\u53ef\u7528       \u5df2\u68c4\u7528          \u5df2\u79fb\u9664        \u2502\n\u2502   (\u53ef\u80fd\u96a8\u6642\u8b8a\u66f4)    (\u8b39\u614e\u4f7f\u7528)   (\u751f\u7522\u5c31\u7dd2)    (\u5c07\u5728\u4e0b\u7248\u79fb\u9664)   (\u5df2\u522a\u9664)       \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/feature-matrix/#code-intelligence","title":"\ud83e\udde0 Code Intelligence (\u4ee3\u78bc\u667a\u80fd)","text":"\u529f\u80fd \u72c0\u614b \u7248\u672c\u5f15\u5165 \u4f9d\u8cf4 \u7dad\u8b77\u8005 \u8aaa\u660e RAG Search \u2705 Stable v10.0 <code>chromadb</code>, <code>sentence-transformers</code> @Boring206 \u8a9e\u7fa9\u4ee3\u78bc\u641c\u7d22 RAG Index \u2705 Stable v10.0 <code>tree-sitter</code> @Boring206 \u4ee3\u78bc\u7d22\u5f15\u5efa\u7acb Brain Manager \u2705 Stable v10.26 SQLite @Boring206 \u6a21\u5f0f\u5b78\u7fd2\u8207\u8a18\u61b6 Vector Memory \u274c Removed v10.0 <code>chromadb</code> @Boring206 \u5411\u91cf\u8a18\u61b6\u5b58\u5132 (Moved to RAG) Pattern Mining \ud83d\udd35 Beta v10.28 - @Boring206 \u6a21\u5f0f\u6316\u6398 Predictive Analyzer \ud83d\udd35 Beta v14.0 - @Boring206 \u932f\u8aa4\u9810\u6e2c (AI Bisect) Adaptive Cache \ud83e\uddea Experimental v11.2 - @Boring206 \u667a\u80fd\u5feb\u53d6\u9810\u71b1 GraphRAG \u2705 Stable v11.3 <code>chromadb</code>, <code>networkx</code> @Boring206 \u4f9d\u8cf4\u5716\u8996\u89ba\u5316"},{"location":"reference/feature-matrix/#_2","title":"\u4f9d\u8cf4\u95dc\u4fc2\u5716","text":"<pre><code>Vector Memory \u25c4\u2500\u2500\u2500 RAG Search\n      \u2502                 \u2502\n      \u25bc                 \u25bc\n   ChromaDB \u25c4\u2500\u2500\u2500 sentence-transformers\n\nBrain Manager \u25c4\u2500\u2500\u2500 Pattern Mining\n      \u2502                 \u2502\n      \u25bc                 \u25bc\n   SQLite     \u25c4\u2500\u2500\u2500 Memory Manager\n</code></pre>"},{"location":"reference/feature-matrix/#quality-assurance","title":"\u2705 Quality Assurance (\u54c1\u8cea\u4fdd\u8b49)","text":"\u529f\u80fd \u72c0\u614b \u7248\u672c\u5f15\u5165 \u4f9d\u8cf4 \u7dad\u8b77\u8005 \u8aaa\u660e Vibe Check \u2705 Stable v10.15 LLM Provider @Boring206 \u904a\u6232\u5316\u4ee3\u78bc\u5be9\u67e5 Code Review \u2705 Stable v10.15 LLM Provider @Boring206 AI \u4ee3\u78bc\u5be9\u67e5 Test Generation \u2705 Stable v10.20 LLM Provider @Boring206 \u6e2c\u8a66\u81ea\u52d5\u751f\u6210 Security Scan \u2705 Stable v10.10 <code>bandit</code>, <code>pip-audit</code> @Boring206 \u5b89\u5168\u6383\u63cf Verify \u2705 Stable v10.5 - @Boring206 \u81ea\u52d5\u9a57\u8b49\u4fee\u5fa9 Judge/Evaluate \ud83d\udd35 Beta v10.26 LLM Provider @Boring206 LLM \u8a55\u5206 Perf Tips \ud83d\udd35 Beta v11.0 LLM Provider @Boring206 \u6027\u80fd\u5efa\u8b70"},{"location":"reference/feature-matrix/#workflow-automation","title":"\ud83d\udd04 Workflow Automation (\u5de5\u4f5c\u6d41\u81ea\u52d5\u5316)","text":"\u529f\u80fd \u72c0\u614b \u7248\u672c\u5f15\u5165 \u4f9d\u8cf4 \u7dad\u8b77\u8005 \u8aaa\u660e Shadow Mode \u2705 Stable v10.8 Git @Boring206 \u5b89\u5168\u9810\u89bd\u6a21\u5f0f Smart Commit \u2705 Stable v10.5 Git @Boring206 \u667a\u80fd\u63d0\u4ea4\u8a0a\u606f Checkpoint \u2705 Stable v10.31 Git @Boring206 \u5b89\u5168\u9084\u539f\u9ede Session Management \u2705 Stable v10.20 - @Boring206 \u4eba\u6a5f\u5c0d\u9f4a\u5de5\u4f5c\u6d41 Multi-Agent \ud83d\udd35 Beta v10.25 - @Boring206 \u591a\u4ee3\u7406\u5354\u4f5c Background Agent \ud83e\uddea Experimental v10.30 Threading @Boring206 \u5f8c\u53f0\u4efb\u52d9 Workflow Evolver \ud83e\uddea Experimental v11.0 - @Boring206 \u5de5\u4f5c\u6d41\u9032\u5316 Global Brain \u2705 Stable v11.3 Git, JSON @Boring206 \u8de8\u5c08\u6848\u77e5\u8b58\u5171\u4eab Skills Autonomy \u2705 Stable v11.3 Skills Catalog @Boring206 Agent \u6280\u80fd\u7ba1\u7406"},{"location":"reference/feature-matrix/#infrastructure","title":"\ud83c\udfd7\ufe0f Infrastructure (\u57fa\u790e\u8a2d\u65bd)","text":"\u529f\u80fd \u72c0\u614b \u7248\u672c\u5f15\u5165 \u4f9d\u8cf4 \u7dad\u8b77\u8005 \u8aaa\u660e MCP Server \u2705 Stable v10.0 <code>fastmcp</code> @Boring206 \u6838\u5fc3 MCP \u670d\u52d9 Tool Router \u2705 Stable v10.15 - @Boring206 \u81ea\u7136\u8a9e\u8a00\u8def\u7531 Plugin System \u2705 Stable v10.20 - @Boring206 \u63d2\u4ef6\u64f4\u5c55\u7cfb\u7d71 Workspace Manager \u2705 Stable v10.10 - @Boring206 \u591a\u5c08\u6848\u7ba1\u7406 SpecKit \u2705 Stable v10.28 LLM Provider @Boring206 \u898f\u683c\u9a45\u52d5\u958b\u767c HTTP API \ud83d\udd35 Beta v10.25 <code>starlette</code> @Boring206 REST API Web Monitor \ud83e\uddea Experimental v10.30 <code>streamlit</code> @Boring206 Web \u76e3\u63a7\u9762\u677f Diagnostic Engine \u2705 Stable v14.0 - @Boring206 \u6df1\u5ea6\u8a3a\u65b7 (Doctor) Offline Mode \u2705 Stable v14.0 <code>llama-cpp-python</code> @Boring206 \u96e2\u7dda\u512a\u5148\u67b6\u69cb VSCode Server \ud83e\uddea Experimental v11.0 - @Boring206 VSCode \u6574\u5408"},{"location":"reference/feature-matrix/#llm-providers","title":"\ud83e\udd16 LLM Providers (\u8a9e\u8a00\u6a21\u578b\u63d0\u4f9b\u8005)","text":"Provider \u72c0\u614b \u7248\u672c\u5f15\u5165 \u4f9d\u8cf4 \u8aaa\u660e Gemini \u2705 Stable v10.0 <code>google-genai</code> \u4e3b\u8981\u652f\u63f4 Ollama \u2705 Stable v10.20 <code>ollama</code> (optional) \u672c\u5730\u6a21\u578b OpenAI Compatible \ud83d\udd35 Beta v11.0 <code>openai</code> (optional) \u901a\u7528\u9069\u914d\u5668 Claude \ud83e\uddea Experimental v11.2 - Anthropic \u6574\u5408 LMStudio \ud83e\uddea Experimental v11.0 - \u672c\u5730\u63a8\u7406"},{"location":"reference/feature-matrix/#_3","title":"\u529f\u80fd\u964d\u7d1a\u77e9\u9663","text":"<p>\u7576\u67d0\u500b Provider \u4e0d\u53ef\u7528\u6642\u7684\u964d\u7d1a\u7b56\u7565\uff1a</p> \u529f\u80fd Gemini \u4e0d\u53ef\u7528 \u5168\u90e8 LLM \u4e0d\u53ef\u7528 RAG Search \u2705 \u6b63\u5e38 (\u50c5 Embedding) \u26a0\ufe0f \u50c5\u95dc\u9375\u5b57\u641c\u7d22 Vibe Check \ud83d\udd04 \u5207\u63db\u5230 Ollama \u274c \u529f\u80fd\u7981\u7528 Smart Commit \ud83d\udd04 \u5207\u63db\u5230 Ollama \u26a0\ufe0f \u50b3\u7d71 Git \u8a0a\u606f Shadow Mode \u2705 \u6b63\u5e38 (Git \u64cd\u4f5c) \u2705 \u6b63\u5e38 Security Scan \u2705 \u6b63\u5e38 (Bandit) \u2705 \u6b63\u5e38 Brain Manager \u2705 \u6b63\u5e38 (SQLite) \u2705 \u6b63\u5e38"},{"location":"reference/feature-matrix/#installation-profiles","title":"\ud83d\udce6 \u5b89\u88dd\u914d\u7f6e\u6a94 (Installation Profiles)","text":"Profile \u5305\u542b\u529f\u80fd \u76ee\u6a19\u7528\u6236 Core (default) CLI, Git, Basic Tools \u6240\u6709\u7528\u6236 mcp-lite Core + MCP Server Smithery \u90e8\u7f72 mcp mcp-lite + Vector Search \u672c\u5730\u5168\u529f\u80fd vector Core + RAG + ChromaDB RAG \u5c08\u7528 gui Core + Streamlit Dashboard \u8996\u89ba\u5316\u7528\u6236 dev Core + Testing + Linting \u958b\u767c\u8005 all \u5b8c\u6574\u529f\u80fd \u529f\u80fd\u6e2c\u8a66"},{"location":"reference/feature-matrix/#deprecated-features","title":"\u26a0\ufe0f \u68c4\u7528\u529f\u80fd (Deprecated Features)","text":"\u529f\u80fd \u68c4\u7528\u7248\u672c \u79fb\u9664\u8a08\u5283 \u66ff\u4ee3\u65b9\u6848 <code>boring.memory.LoopMemory</code> (\u820a\u8def\u5f91) v10.26 v12.0 <code>boring.intelligence.memory</code> <code>boring.vector_memory</code> (\u6839\u76ee\u9304) v10.26 v12.0 <code>boring.intelligence.vector_memory</code> <code>mcp/vibe_tools.py</code> (\u820a\u5165\u53e3) v10.26 v12.0 <code>mcp/tools/vibe.py</code> <code>mcp/v10_tools.py</code> (\u820a\u5165\u53e3) v10.26 v12.0 <code>mcp/tools/*.py</code> JSON Brain Storage v11.2 v13.0 SQLite Brain Manager"},{"location":"reference/feature-matrix/#_4","title":"\ud83d\udd00 \u529f\u80fd\u4f9d\u8cf4\u5716 (\u5168\u5c40)","text":"<pre><code>                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502   LLM Provider  \u2502\n                              \u2502 (Gemini/Ollama) \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                       \u2502\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u25bc                           \u25bc                           \u25bc\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502  Vibe Coder   \u2502          \u2502  Judge/Eval   \u2502          \u2502  Smart Commit \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n           \u25bc\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 Brain Manager \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n           \u2502                   \u2502\n           \u25bc                   \u2502\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502    SQLite     \u2502    \u2502Pattern Miner\u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502  RAG System   \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u25bc               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502ChromaDB\u2502  \u2502sentence-transformers\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502  MCP Server   \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u25bc               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502FastMCP \u2502  \u2502  Starlette \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/feature-matrix/#_5","title":"\ud83d\udcc8 \u7dad\u8b77\u512a\u5148\u7d1a","text":""},{"location":"reference/feature-matrix/#p0-","title":"\u9ad8\u512a\u5148\u7d1a (P0) - \u6838\u5fc3\u529f\u80fd","text":"<ul> <li>MCP Server</li> <li>Tool Router  </li> <li>Shadow Mode</li> <li>Brain Manager</li> </ul>"},{"location":"reference/feature-matrix/#p1-","title":"\u4e2d\u512a\u5148\u7d1a (P1) - \u91cd\u8981\u529f\u80fd","text":"<ul> <li>RAG System</li> <li>Vibe Coder</li> <li>Plugin System</li> <li>LLM Providers</li> </ul>"},{"location":"reference/feature-matrix/#p2-","title":"\u4f4e\u512a\u5148\u7d1a (P2) - \u64f4\u5c55\u529f\u80fd","text":"<ul> <li>Web Monitor</li> <li>Predictive Analyzer</li> <li>Workflow Evolver</li> </ul>"},{"location":"reference/feature-matrix/#_6","title":"\ud83c\udfaf \u529f\u80fd\u7c21\u5316\u7b56\u7565","text":"<p>\u70ba\u9632\u6b62\u529f\u80fd\u81a8\u8139\uff0c\u6211\u5011\u9075\u5faa\u4ee5\u4e0b\u539f\u5247\uff1a</p> <ol> <li>\u6838\u5fc3\u6700\u5c0f\u5316: \u6838\u5fc3\u5305\u53ea\u5305\u542b\u5fc5\u8981\u529f\u80fd</li> <li>\u53ef\u9078\u64f4\u5c55: \u9032\u968e\u529f\u80fd\u901a\u904e extras \u5b89\u88dd</li> <li>\u63d2\u4ef6\u512a\u5148: \u65b0\u529f\u80fd\u512a\u5148\u4f5c\u70ba\u63d2\u4ef6\u5be6\u73fe</li> <li>\u5b9a\u671f\u5be9\u67e5: \u6bcf\u5b63\u5ea6\u5be9\u67e5\u5be6\u9a57\u6027\u529f\u80fd</li> <li>\u52c7\u65bc\u79fb\u9664: 6 \u500b\u6708\u7121\u6d3b\u8e8d\u4f7f\u7528\u7684\u529f\u80fd\u5c07\u88ab\u68c4\u7528</li> </ol> <p>\u6700\u5f8c\u66f4\u65b0: 2026-01-15 | \u7248\u672c: 14.0.0</p>"},{"location":"reference/llm-adapters/","title":"LLM \u9069\u914d\u5668\u958b\u767c\u6307\u5357 (LLM Adapter Development Guide)","text":"<p>\u89e3\u6c7a\u98a8\u96aa: \u5c0d\u7279\u5b9a\u6280\u8853\u68e7 (Gemini) \u7684\u5f37\u4f9d\u8cf4</p> <p>\u672c\u6307\u5357\u8aaa\u660e\u5982\u4f55\u70ba Boring-Gemini \u6dfb\u52a0\u65b0\u7684 LLM Provider\uff0c\u5be6\u73fe\u6280\u8853\u68e7\u591a\u5143\u5316\u3002</p>"},{"location":"reference/llm-adapters/#_1","title":"\ud83c\udfaf \u6982\u8ff0","text":"<p>Boring-Gemini \u4f7f\u7528\u62bd\u8c61\u7684 <code>LLMProvider</code> \u4ecb\u9762\u4f86\u652f\u6301\u591a\u7a2e\u8a9e\u8a00\u6a21\u578b\u5f8c\u7aef\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         LLM Provider \u67b6\u69cb                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                  \u2502\n\u2502                        \u2502   LLMProvider   \u2502                                  \u2502\n\u2502                        \u2502    (Abstract)   \u2502                                  \u2502\n\u2502                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                  \u2502\n\u2502                                 \u2502                                            \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502     \u25bc               \u25bc           \u25bc           \u25bc               \u25bc               \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502 \u2502  Gemini   \u2502 \u2502  Ollama   \u2502 \u2502  OpenAI   \u2502 \u2502  Claude   \u2502 \u2502   \u4f60\u7684    \u2502      \u2502\n\u2502 \u2502  Provider \u2502 \u2502  Provider \u2502 \u2502  Compat   \u2502 \u2502  Adapter  \u2502 \u2502  Provider \u2502      \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/llm-adapters/#_2","title":"\ud83d\udce6 \u6838\u5fc3\u4ecb\u9762","text":""},{"location":"reference/llm-adapters/#llmprovider","title":"LLMProvider (\u62bd\u8c61\u57fa\u985e)","text":"<p>\u4f4d\u7f6e: <code>src/boring/llm/provider.py</code></p> <pre><code>from abc import abstractmethod\nfrom boring.interfaces import LLMClient, LLMResponse\n\n\nclass LLMProvider(LLMClient):\n    \"\"\"\n    Extended LLM Client interface that allows for more flexible configuration\n    and swapping of backends (Gemini, Ollama, LMStudio, etc.)\n    \"\"\"\n\n    @property\n    @abstractmethod\n    def model_name(self) -&gt; str:\n        \"\"\"Name of the specific model being used\"\"\"\n        pass\n\n    @property\n    @abstractmethod\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if the provider/CLI is available and configured\"\"\"\n        pass\n\n    @abstractmethod\n    def generate(\n        self,\n        prompt: str,\n        context: str = \"\",\n        system_instruction: str = \"\",\n        timeout_seconds: int = 600,\n    ) -&gt; tuple[str, bool]:\n        \"\"\"\n        Generate text from prompt and context.\n\n        Returns:\n            tuple[str, bool]: (generated_text, success)\n        \"\"\"\n        pass\n\n    @abstractmethod\n    def generate_with_tools(\n        self,\n        prompt: str,\n        context: str = \"\",\n        system_instruction: str = \"\",\n        timeout_seconds: int = 600,\n    ) -&gt; LLMResponse:\n        \"\"\"\n        Generate text and/or function calls.\n\n        Returns:\n            LLMResponse with text and function_calls\n        \"\"\"\n        pass\n\n    def get_token_usage(self) -&gt; dict[str, int]:\n        \"\"\"Return token usage statistics if available\"\"\"\n        return {}\n</code></pre>"},{"location":"reference/llm-adapters/#llmresponse","title":"LLMResponse (\u6578\u64da\u6a21\u578b)","text":"<p>\u4f4d\u7f6e: <code>src/boring/interfaces.py</code></p> <pre><code>from dataclasses import dataclass, field\nfrom typing import Any\n\n\n@dataclass\nclass LLMResponse:\n    \"\"\"Standardized LLM response\"\"\"\n    text: str = \"\"\n    function_calls: list[dict[str, Any]] = field(default_factory=list)\n    success: bool = True\n    error: str = \"\"\n    raw_response: Any = None\n</code></pre>"},{"location":"reference/llm-adapters/#provider","title":"\ud83d\ude80 \u5be6\u73fe\u65b0\u7684 Provider","text":""},{"location":"reference/llm-adapters/#1-provider","title":"\u6b65\u9a5f 1: \u5275\u5efa Provider \u6587\u4ef6","text":"<p>\u5728 <code>src/boring/llm/</code> \u5275\u5efa\u65b0\u6587\u4ef6\uff0c\u4f8b\u5982 <code>my_provider.py</code>:</p> <pre><code>\"\"\"\nMy Custom LLM Provider Implementation\n\"\"\"\n\nfrom pathlib import Path\nfrom typing import Optional\n\nfrom ..logger import get_logger\nfrom .provider import LLMProvider, LLMResponse\n\n_logger = get_logger(\"my_provider\")\n\n\nclass MyProvider(LLMProvider):\n    \"\"\"\n    Provider for My Custom LLM Service.\n    \"\"\"\n\n    def __init__(\n        self,\n        model_name: str = \"my-model-v1\",\n        api_key: Optional[str] = None,\n        base_url: str = \"https://api.my-llm.com\",\n        log_dir: Optional[Path] = None,\n    ):\n        self._model_name = model_name\n        self.api_key = api_key\n        self.base_url = base_url.rstrip(\"/\")\n        self.log_dir = log_dir or Path(\"logs\")\n\n        # Initialize your client here\n        self._client = None\n        if self.api_key:\n            self._client = self._initialize_client()\n\n    def _initialize_client(self):\n        \"\"\"Initialize the API client\"\"\"\n        # Your initialization logic\n        pass\n\n    @property\n    def model_name(self) -&gt; str:\n        return self._model_name\n\n    @property\n    def provider_name(self) -&gt; str:\n        \"\"\"Optional: Provider identifier\"\"\"\n        return \"my_provider\"\n\n    @property\n    def is_available(self) -&gt; bool:\n        \"\"\"Check if the provider is available and configured\"\"\"\n        if not self.api_key:\n            return False\n        try:\n            # Perform a health check\n            # e.g., ping the API\n            return True\n        except Exception:\n            return False\n\n    def generate(\n        self,\n        prompt: str,\n        context: str = \"\",\n        system_instruction: str = \"\",\n        timeout_seconds: int = 600,\n    ) -&gt; tuple[str, bool]:\n        \"\"\"\n        Generate text using the LLM.\n\n        Args:\n            prompt: The user's prompt\n            context: Additional context (code, documentation, etc.)\n            system_instruction: System-level instructions\n            timeout_seconds: Request timeout\n\n        Returns:\n            tuple[str, bool]: (generated_text, success)\n        \"\"\"\n        if not self.is_available:\n            return \"Error: Provider not available\", False\n\n        try:\n            # Build the full prompt\n            full_prompt = f\"{context}\\n\\n{prompt}\" if context else prompt\n\n            # Make the API call\n            response = self._call_api(full_prompt, system_instruction, timeout_seconds)\n\n            return response, True\n\n        except Exception as e:\n            _logger.error(f\"Generation failed: {e}\")\n            return str(e), False\n\n    def generate_with_tools(\n        self,\n        prompt: str,\n        context: str = \"\",\n        system_instruction: str = \"\",\n        timeout_seconds: int = 600,\n    ) -&gt; LLMResponse:\n        \"\"\"\n        Generate text with function calling support.\n\n        If your provider doesn't support native function calling,\n        you can parse tool calls from the text response.\n        \"\"\"\n        text, success = self.generate(prompt, context, system_instruction, timeout_seconds)\n\n        # If your provider supports function calling natively:\n        # function_calls = self._extract_function_calls(raw_response)\n\n        return LLMResponse(\n            text=text,\n            function_calls=[],  # Populate if supported\n            success=success,\n        )\n\n    def _call_api(\n        self, prompt: str, system_instruction: str, timeout: int\n    ) -&gt; str:\n        \"\"\"Make the actual API call\"\"\"\n        import requests\n\n        response = requests.post(\n            f\"{self.base_url}/v1/chat/completions\",\n            headers={\"Authorization\": f\"Bearer {self.api_key}\"},\n            json={\n                \"model\": self.model_name,\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": system_instruction},\n                    {\"role\": \"user\", \"content\": prompt},\n                ],\n            },\n            timeout=timeout,\n        )\n        response.raise_for_status()\n        return response.json()[\"choices\"][0][\"message\"][\"content\"]\n\n    def get_token_usage(self) -&gt; dict[str, int]:\n        \"\"\"Return token usage if tracked\"\"\"\n        return {\n            \"input_tokens\": 0,\n            \"output_tokens\": 0,\n            \"total_tokens\": 0,\n        }\n</code></pre>"},{"location":"reference/llm-adapters/#2-provider","title":"\u6b65\u9a5f 2: \u8a3b\u518a Provider","text":"<p>\u5728 <code>src/boring/llm/__init__.py</code> \u4e2d\u5c0e\u51fa:</p> <pre><code>from .my_provider import MyProvider\n\n__all__ = [\n    \"LLMProvider\",\n    \"GeminiProvider\",\n    \"OllamaProvider\",\n    \"MyProvider\",  # \u65b0\u589e\n]\n</code></pre>"},{"location":"reference/llm-adapters/#3","title":"\u6b65\u9a5f 3: \u6dfb\u52a0\u914d\u7f6e\u652f\u6301","text":"<p>\u5728 <code>src/boring/config.py</code> \u6dfb\u52a0\u914d\u7f6e:</p> <pre><code># \u65b0 Provider \u8a2d\u7f6e\nMY_PROVIDER_API_KEY: Optional[str] = os.getenv(\"MY_PROVIDER_API_KEY\")\nMY_PROVIDER_MODEL: str = os.getenv(\"MY_PROVIDER_MODEL\", \"my-model-v1\")\nMY_PROVIDER_BASE_URL: str = os.getenv(\n    \"MY_PROVIDER_BASE_URL\", \"https://api.my-llm.com\"\n)\n</code></pre>"},{"location":"reference/llm-adapters/#4-provider","title":"\u6b65\u9a5f 4: \u6dfb\u52a0 Provider \u9078\u64c7\u908f\u8f2f","text":"<p>\u5728\u9700\u8981\u4f7f\u7528 LLM \u7684\u5730\u65b9\u6dfb\u52a0\u9078\u64c7\u908f\u8f2f:</p> <pre><code>from boring.config import settings\nfrom boring.llm import GeminiProvider, OllamaProvider, MyProvider\n\n\ndef get_llm_provider() -&gt; LLMProvider:\n    \"\"\"Get the configured LLM provider with fallback chain\"\"\"\n\n    # Priority: Gemini &gt; MyProvider &gt; Ollama (local)\n    providers = [\n        lambda: GeminiProvider() if settings.GOOGLE_API_KEY else None,\n        lambda: MyProvider() if settings.MY_PROVIDER_API_KEY else None,\n        lambda: OllamaProvider(\"llama3.2\") if OllamaProvider(\"llama3.2\").is_available else None,\n    ]\n\n    for get_provider in providers:\n        provider = get_provider()\n        if provider and provider.is_available:\n            return provider\n\n    raise RuntimeError(\"No LLM provider available\")\n</code></pre>"},{"location":"reference/llm-adapters/#provider_1","title":"\ud83e\uddea \u6e2c\u8a66\u4f60\u7684 Provider","text":""},{"location":"reference/llm-adapters/#_3","title":"\u55ae\u5143\u6e2c\u8a66","text":"<p>\u5275\u5efa <code>tests/unit/llm/test_my_provider.py</code>:</p> <pre><code>import pytest\nfrom unittest.mock import Mock, patch\n\nfrom boring.llm.my_provider import MyProvider\n\n\nclass TestMyProvider:\n    \"\"\"Tests for MyProvider\"\"\"\n\n    def test_initialization(self):\n        \"\"\"Test provider initialization\"\"\"\n        provider = MyProvider(\n            model_name=\"test-model\",\n            api_key=\"test-key\",\n        )\n        assert provider.model_name == \"test-model\"\n        assert provider.api_key == \"test-key\"\n\n    def test_is_available_without_key(self):\n        \"\"\"Test availability check without API key\"\"\"\n        provider = MyProvider(api_key=None)\n        assert provider.is_available is False\n\n    @patch(\"boring.llm.my_provider.requests.post\")\n    def test_generate_success(self, mock_post):\n        \"\"\"Test successful generation\"\"\"\n        mock_post.return_value.status_code = 200\n        mock_post.return_value.json.return_value = {\n            \"choices\": [{\"message\": {\"content\": \"Hello, World!\"}}]\n        }\n\n        provider = MyProvider(api_key=\"test-key\")\n        text, success = provider.generate(\"Say hello\")\n\n        assert success is True\n        assert \"Hello\" in text\n\n    @patch(\"boring.llm.my_provider.requests.post\")\n    def test_generate_failure(self, mock_post):\n        \"\"\"Test generation failure handling\"\"\"\n        mock_post.side_effect = Exception(\"API Error\")\n\n        provider = MyProvider(api_key=\"test-key\")\n        text, success = provider.generate(\"Say hello\")\n\n        assert success is False\n        assert \"Error\" in text or \"API Error\" in text\n</code></pre>"},{"location":"reference/llm-adapters/#_4","title":"\u6574\u5408\u6e2c\u8a66","text":"<p>\u5275\u5efa <code>tests/integration/test_my_provider_integration.py</code>:</p> <pre><code>import os\nimport pytest\n\nfrom boring.llm.my_provider import MyProvider\n\n\n@pytest.mark.integration\n@pytest.mark.skipif(\n    not os.getenv(\"MY_PROVIDER_API_KEY\"),\n    reason=\"MY_PROVIDER_API_KEY not set\"\n)\nclass TestMyProviderIntegration:\n    \"\"\"Integration tests for MyProvider (requires real API key)\"\"\"\n\n    def test_real_generation(self):\n        \"\"\"Test real API call\"\"\"\n        provider = MyProvider(api_key=os.getenv(\"MY_PROVIDER_API_KEY\"))\n\n        text, success = provider.generate(\"What is 2+2? Reply with just the number.\")\n\n        assert success is True\n        assert \"4\" in text\n</code></pre>"},{"location":"reference/llm-adapters/#_5","title":"\ud83d\udccb \u5be6\u73fe\u6aa2\u67e5\u6e05\u55ae","text":"<p>\u5728\u63d0\u4ea4 PR \u524d\u78ba\u8a8d:</p> <ul> <li>[ ] \u5be6\u73fe\u4e86 <code>LLMProvider</code> \u7684\u6240\u6709\u62bd\u8c61\u65b9\u6cd5</li> <li>[ ] \u8655\u7406\u4e86 API \u932f\u8aa4\u548c\u8d85\u6642</li> <li>[ ] \u6dfb\u52a0\u4e86\u9069\u7576\u7684\u65e5\u8a8c\u8a18\u9304</li> <li>[ ] \u914d\u7f6e\u901a\u904e\u74b0\u5883\u8b8a\u91cf\u8b80\u53d6</li> <li>[ ] \u6709 <code>is_available</code> \u5065\u5eb7\u6aa2\u67e5</li> <li>[ ] \u7de8\u5beb\u4e86\u55ae\u5143\u6e2c\u8a66 (\u226580% \u8986\u84cb)</li> <li>[ ] \u7de8\u5beb\u4e86\u6574\u5408\u6e2c\u8a66 (\u53ef\u9078\uff0c\u9700\u771f\u5be6 API)</li> <li>[ ] \u66f4\u65b0\u4e86 <code>docs/reference/feature-matrix.md</code></li> <li>[ ] \u66f4\u65b0\u4e86 <code>pyproject.toml</code> \u6dfb\u52a0\u53ef\u9078\u4f9d\u8cf4 (\u5982\u9700)</li> <li>[ ] \u66f4\u65b0\u4e86 README \u8aaa\u660e\u65b0 Provider</li> </ul>"},{"location":"reference/llm-adapters/#_6","title":"\ud83d\udd04 \u529f\u80fd\u964d\u7d1a\u7b56\u7565","text":""},{"location":"reference/llm-adapters/#_7","title":"\u964d\u7d1a\u93c8","text":"<pre><code>Gemini (\u96f2\u7aef) \u2192 Ollama (\u672c\u5730) \u2192 \u529f\u80fd\u7981\u7528\n     \u2502              \u2502              \u2502\n     \u25bc              \u25bc              \u25bc\n  API Key       \u672c\u5730\u904b\u884c        \u932f\u8aa4\u63d0\u793a\n</code></pre>"},{"location":"reference/llm-adapters/#_8","title":"\u5be6\u73fe\u964d\u7d1a","text":"<pre><code>def generate_with_fallback(prompt: str) -&gt; tuple[str, bool]:\n    \"\"\"Generate with automatic fallback to available providers\"\"\"\n\n    providers = [\n        (\"gemini\", lambda: GeminiProvider()),\n        (\"ollama\", lambda: OllamaProvider(\"llama3.2\")),\n    ]\n\n    for name, get_provider in providers:\n        try:\n            provider = get_provider()\n            if provider.is_available:\n                return provider.generate(prompt)\n        except Exception as e:\n            _logger.warning(f\"Provider {name} failed: {e}\")\n            continue\n\n    return \"Error: All LLM providers unavailable\", False\n</code></pre>"},{"location":"reference/llm-adapters/#provider_2","title":"\ud83c\udff7\ufe0f \u73fe\u6709 Provider \u53c3\u8003","text":"Provider \u6587\u4ef6 \u7279\u9ede <code>GeminiProvider</code> <code>gemini.py</code> SDK + CLI \u96d9\u6a21\u5f0f <code>OllamaProvider</code> <code>ollama.py</code> \u672c\u5730\u904b\u884c\uff0c\u7121\u9700 API Key <code>OpenAICompatProvider</code> <code>openai_compat.py</code> \u901a\u7528 OpenAI \u517c\u5bb9 API <code>ClaudeAdapter</code> <code>claude_adapter.py</code> Anthropic Claude"},{"location":"reference/llm-adapters/#_9","title":"\ud83e\udd1d \u8ca2\u737b","text":"<p>\u5982\u679c\u4f60\u5be6\u73fe\u4e86\u65b0\u7684 Provider\uff0c\u6b61\u8fce\u63d0\u4ea4 PR\uff01</p> <p>\u8acb\u78ba\u4fdd: 1. \u9075\u5faa\u672c\u6307\u5357\u7684\u898f\u7bc4 2. \u901a\u904e\u6240\u6709\u6e2c\u8a66 3. \u66f4\u65b0\u6587\u6a94</p> <p>\u8a73\u898b- Contributing Guide</p> <p>\u6700\u5f8c\u66f4\u65b0: 2026-01-12 | \u7248\u672c: 1.0.0</p>"},{"location":"reference/offline-matrix/","title":"Offline Feature Matrix (\u96e2\u7dda\u529f\u80fd\u77e9\u9663)","text":"<p>Version: V14.0.0 Status: Stable</p> <p>\u672c\u6587\u4ef6\u5217\u51fa\u4e86 Boring-Gemini \u5728 \u96e2\u7dda\u6a21\u5f0f (Offline Mode) \u4e0b\u7684\u529f\u80fd\u652f\u63f4\u72c0\u614b\u3002</p>"},{"location":"reference/offline-matrix/#fully-supported","title":"\u2705 \u5b8c\u5168\u652f\u63f4 (Fully Supported)","text":"<p>\u9019\u4e9b\u529f\u80fd\u5728\u7121\u7db2\u8def\u74b0\u5883\u4e0b\u53ef 100% \u6b63\u5e38\u904b\u4f5c (\u9700\u4e0b\u8f09\u672c\u5730\u6a21\u578b)\u3002</p> \u529f\u80fd\u6a21\u7d44 \u8aaa\u660e \u4f9d\u8cf4 Core Logic (\u6838\u5fc3\u908f\u8f2f) \u4efb\u52d9\u898f\u5283\u3001\u4ee3\u78bc\u751f\u6210\u3001\u908f\u8f2f\u63a8\u7406 <code>local_llm</code> (GGUF) File Operations (\u6a94\u6848\u64cd\u4f5c) <code>read</code>, <code>write</code>, <code>diff</code>, <code>grep</code> \u672c\u5730\u6587\u4ef6\u7cfb\u7d71 RAG (Basic) \u57fa\u65bc\u95dc\u9375\u5b57\u7684\u4ee3\u78bc\u641c\u7d22 \u7121 RAG (Semantic) \u57fa\u65bc\u5411\u91cf\u7684\u8a9e\u7fa9\u641c\u7d22 <code>SentenceTransformers</code>, <code>ChromaDB</code> (Local) Brain Manager \u8a18\u61b6\u5b58\u53d6\u3001\u6a21\u5f0f\u5b78\u7fd2 SQLite Git Operations <code>commit</code>, <code>status</code>, <code>log</code>, <code>bisect</code> \u672c\u5730 Git Diagnostic Engine <code>boring diagnostic</code>, <code>boring doctor</code> \u975c\u614b\u5206\u6790 Predictive Intelligence <code>boring predict</code> (Static Analysis part) \u975c\u614b\u5206\u6790 + \u672c\u5730\u898f\u5247"},{"location":"reference/offline-matrix/#partially-supported","title":"\u26a0\ufe0f \u90e8\u5206\u652f\u63f4 (Partially Supported)","text":"<p>\u529f\u80fd\u53ef\u7528\uff0c\u4f46\u6703\u6709\u964d\u7d1a\u6216\u9650\u5236\u3002</p> \u529f\u80fd\u6a21\u7d44 \u9650\u5236\u8aaa\u660e \u66ff\u4ee3\u65b9\u6848 Vibe Coder \u7121\u6cd5\u8a2a\u554f\u5916\u90e8\u6587\u6a94/API \u50c5\u4f9d\u8cf4 RAG \u6aa2\u7d22\u672c\u5730\u6587\u6a94 Security Scan \u7121\u6cd5\u67e5\u8a62 CVE \u5be6\u6642\u6578\u64da\u5eab \u50c5\u9032\u884c\u975c\u614b SAST \u6383\u63cf (Bandit) SpecKit \u7121\u6cd5\u9a57\u8b49\u5916\u90e8 API \u898f\u683c \u50c5\u9a57\u8b49\u672c\u5730 Schema Plugin System \u7121\u6cd5\u5b89\u88dd\u65b0\u63d2\u4ef6 (\u9700 pip) \u50c5\u80fd\u4f7f\u7528\u5df2\u5b89\u88dd\u63d2\u4ef6"},{"location":"reference/offline-matrix/#not-supported","title":"\u274c \u4e0d\u652f\u63f4 (Not Supported)","text":"<p>\u9019\u4e9b\u529f\u80fd\u9700\u8981\u7db2\u8def\u9023\u63a5\uff0c\u5728\u96e2\u7dda\u6a21\u5f0f\u4e0b\u6703\u88ab\u81ea\u52d5\u7981\u7528\u3002</p> \u529f\u80fd\u6a21\u7d44 \u95dc\u806f\u5de5\u5177 Web Search <code>boring_search_web</code> External API Calls \u4efb\u4f55\u9700\u8981\u5916\u90e8 HTTP \u8acb\u6c42\u7684\u81ea\u8a02\u5de5\u5177 Cloud LLM Providers Gemini (Cloud), OpenAI, Claude API Auto Update <code>pip install --upgrade</code>, <code>self-update</code>"},{"location":"reference/offline-matrix/#model-compatibility","title":"\ud83d\udee0\ufe0f \u6a21\u578b\u76f8\u5bb9\u6027 (Model Compatibility)","text":"<p>\u63a8\u85a6\u7528\u65bc\u96e2\u7dda\u7de8\u78bc\u7684 GGUF \u6a21\u578b\uff1a</p> \u6a21\u578b\u540d\u7a31 \u63a8\u85a6\u7528\u9014 \u6700\u5c0f RAM \u901f\u5ea6 Qwen 2.5 Coder (1.5B) \u6975\u901f\u88dc\u5168\u3001\u7c21\u55ae\u4fee\u6539 4GB \u26a1\u26a1\u26a1 Llama 3 Instruct (8B) \u901a\u7528\u7de8\u78bc\u3001\u91cd\u69cb 8GB \u26a1\u26a1 Mistral Nemo (12B) \u8907\u96dc\u908f\u8f2f\u3001\u67b6\u69cb\u8a2d\u8a08 16GB \u26a1 DeepSeek Coder (33B) \u5c08\u5bb6\u7d1a\u5be9\u67e5 (\u6162\u901f) 32GB+ \ud83d\udc22 <p>\u6700\u5f8c\u66f4\u65b0: V14.0.0</p>"},{"location":"reference/prompts/","title":"\u26a1 Prompts &amp; Workflows Reference","text":"<p>This is the complete reference for all available MCP Prompts and Workflows in Boring. </p> <ul> <li>Prompts: Accessed via your IDE's prompt selector (e.g., <code>Cmd+I</code> or <code>\u2728</code> button).</li> <li>Workflows: Accessed via slash commands in Chat (e.g., <code>/release-prep</code>).</li> </ul>"},{"location":"reference/prompts/#startup-planning","title":"\ud83d\ude80 Startup &amp; Planning (\u5c08\u6848\u555f\u52d5\u8207\u898f\u5283)","text":"Command / Prompt Type Description Best Usage Scenario <code>vibe_start</code> Prompt One-Click Project Kick-off. A guided architect workflow that leads you from a vague idea to a structured project plan. Starting a new project or a major complex feature. <code>setup_project</code> Prompt Project Initialization. Guides you through running quickstart, installing hooks, and health checks. Setting up a fresh repository for the first time. <code>/speckit-constitution</code> Workflow Establish Principles. Creates a <code>constitution.md</code> to define non-negotiable rules for the project. First step of any new repository to set coding standards. <code>/speckit-clarify</code> Workflow Requirement Clarification. Analyzes your request and asks 3-5 critical questions to clear ambiguity. When requirements are vague or you're unsure where to start. <code>/speckit-plan</code> Workflow Technical Planning. Converts requirements into a detailed technical implementation plan. After requirements are clear, before writing any code. <code>plan_feature</code> Prompt Feature Spec Generator. Generates a detailed implementation plan for a specific new feature. When adding a single feature to an existing project. <code>/speckit-tasks</code> Workflow Task Breakdown. Converts the implementation plan into a checklist in <code>task.md</code>. Ready to start coding? Run this to generate your to-do list. <code>roadmap</code> Prompt Roadmap Visualizer. Analyzes <code>task.md</code> and generates a Mermaid Gantt/Flowchart of progress. reviewing project timeline and next major milestones. <code>suggest_roadmap</code> Prompt Next Steps Suggestion. AI suggests the next logical features or technical improvements to work on. When you're stuck or looking for what to build next."},{"location":"reference/prompts/#development-building","title":"\ud83c\udfd7\ufe0f Development &amp; Building (\u958b\u767c\u8207\u5efa\u7f6e)","text":"Command / Prompt Type Description Best Usage Scenario <code>full_stack_dev</code> Prompt Full Stack Workflow. Specialized guides for building Frontend + Backend + DB applications. Building a web application from scratch. <code>run_agent</code> Prompt Multi-Agent Task. Orchestrates multiple AI agents (Architect, Coder, Reviewer) to solve a complex task. Handing off a large, self-contained task to the AI. <code>smart_commit</code> Prompt Semantic Commit. Generates a conventional commit message based on your <code>task.md</code> progress. When you are ready to save your changes. <code>vibe_check</code> Prompt Project Health Check. Analyzes project structure, docs, and \"vibe\" (cleanliness), giving a 0-100 score. When you want a quick sense of the project's state. <code>system_status</code> Prompt System Status. Shows current loop status, active background tasks, and general health. Debugging why the agent seems busy or checking progress."},{"location":"reference/prompts/#quality-verification","title":"\ud83d\udee1\ufe0f Quality &amp; Verification (\u54c1\u8cea\u8207\u9a57\u8b49)","text":"Command / Prompt Type Description Best Usage Scenario <code>review_code</code> Prompt Architect Review. Deep code review focusing on architecture, security, and performance nuances. Before merging code or when you finished a module. <code>/speckit-checklist</code> Workflow Quality Checklist. Generates a specific checklist to verify if the implementation meets requirements. Before marking a task as \"Done\". <code>/speckit-analyze</code> Workflow Consistency Check. Ensures that your Code, Plan, and Specs are consistent with each other. When requirements change or after major refactoring. <code>security_scan</code> Prompt Security Audit. Scans for secrets, vulnerabilities (SAST), and bad dependencies. Before release or periodically during dev. <code>evaluate_architecture</code> Prompt Hostile Architect. A strict review that focuses solely on scalability, coupling, and design risks. Early in the design phase or during major refactors. <code>evaluate_code</code> Prompt LLM Judge. Scores code quality based on a specific rubric (Correctness, readability, etc.). Objective quality assessment. <code>compare_implementations</code> Prompt A/B Testing. Compares two different code paths/versions and declares a winner. Deciding between two refactoring approaches. <code>audit_quality</code> Prompt Full System Audit. Runs Health + Security + Verification checks all at once. Pre-flight check before a major deployment."},{"location":"reference/prompts/#maintenance-refactoring","title":"\ud83d\udd27 Maintenance &amp; Refactoring (\u7dad\u8b77\u8207\u91cd\u69cb)","text":"Command / Prompt Type Description Best Usage Scenario <code>quick_fix</code> Prompt Auto-Fixer. Automatically diagnosis and fixes lint errors, format issues, and simple bugs. When you have red squiggly lines or failing lint checks. <code>debug_error</code> Prompt Root Cause Analysis. Analyzes an error message/stack trace to find the root cause and suggest logic fixes. When you hit a bug or crash. <code>refactor_code</code> Prompt Refactoring. Suggests improvements for code clarity, performance, and structure. When code works but looks messy (\"Code Smell\"). <code>/release-prep</code> Workflow Release Protocol. Handle version bumping, changelog updates, and release checks. When you are ready to publish a new version. <code>safe_refactor</code> Prompt Transactional Refactor. Performs changes in a \"Sandbox\" that can be auto-rolled back if verification fails. Execution risky changes where you want a safety net. <code>rollback</code> Prompt Undo Changes. Reverts the codebase to the last safe state (requires Transaction usage). When a <code>safe_refactor</code> attempt goes wrong. <code>verify_work</code> Prompt Manual Verification. Explicitly triggers the verification workflow (Tests + Linting). When you want to double-check everything is green."},{"location":"reference/prompts/#knowledge-context","title":"\ud83e\udde0 Knowledge &amp; Context (\u77e5\u8b58\u8207\u4e0a\u4e0b\u6587)","text":"Command / Prompt Type Description Best Usage Scenario <code>explain_code</code> Prompt Code Tutor. Explains how a specific file or function works in plain language. Onboarding to a new codebase. <code>visualize</code> Prompt Diagram Gen. Generates Mermaid.js diagrams (Class, Sequence, Flow) for code. Visualizing complex dependencies. <code>visualize_architecture</code> Prompt Arch Visualization. Generates high-level module dependency diagrams. Understanding the big picture of the system. <code>semantic_search</code> Prompt Deep Search. Uses RAG to find code based on meaning, not just keywords. \"Where is the auth logic?\" <code>project_brain</code> Prompt Knowledge Base. Summarizes what the AI has learned about this project (patterns, rules). Checking what the AI knows about your project context. <code>manage_memory</code> Prompt Memory Management. Consolidates learned patterns and updates evaluation rubrics. After a long coding session to \"save\" learnings."},{"location":"reference/prompts/#workspace-session-management","title":"\u2699\ufe0f Workspace &amp; Session Management (\u5de5\u4f5c\u5340\u8207\u6703\u8a71)","text":"Command / Prompt Type Description Best Usage Scenario <code>save_session</code> Prompt Save Context. Saves your current working files and conversation state to a named slot. Switching context or taking a break. <code>load_session</code> Prompt Load Context. Restores a previously saved session. Resuming work on a specific feature. <code>switch_project</code> Prompt Switch Project. Changes the active Boring workspace to another registered project. Working on multi-repo setups. <code>add_project</code> Prompt Register Project. Adds a new directory to the Boring workspace registry. Importing an existing project into Boring. <code>shadow_review</code> Prompt Shadow Mode Admin. Review/Approve/Reject pending high-risk operations. When Shadow Mode blocks an action you need to perform."},{"location":"reference/prompts/#advanced-plugins","title":"\ud83e\udde9 Advanced / Plugins","text":"Command / Prompt Type Description Best Usage Scenario <code>run_plugin</code> Prompt Execute Plugin. Runs a specific installed Boring plugin. Using 3rd party extensions. <code>create_plugin</code> Prompt Plugin Scaffolding. Generates template code for a new Boring plugin. Extending Boring's capabilities. <code>background_verify</code> Prompt Async Verify. Runs verification in the background (returns a Task ID). Validating huge codebases without blocking the chat. <code>background_test</code> Prompt Async Test. Runs tests in the background. Running long test suites."},{"location":"reference/prompts_zh/","title":"\u26a1 Prompts \u8207\u5de5\u4f5c\u6d41\u53c3\u8003\u624b\u518a","text":"<p>\u9019\u662f Boring \u4e2d\u6240\u6709\u53ef\u7528 MCP Prompts \u548c Workflows \u7684 \u5b8c\u6574\u53c3\u8003\u624b\u518a\u3002</p> <ul> <li>Prompts: \u900f\u904e IDE \u7684 Prompt \u9078\u64c7\u5668\u4f7f\u7528\uff08\u4f8b\u5982 <code>Cmd+I</code> \u6216 \u2728 \u6309\u9215\uff09\u3002</li> <li>Workflows: \u900f\u904e Chat \u4e2d\u7684\u659c\u7dda\u6307\u4ee4\u4f7f\u7528\uff08\u4f8b\u5982 <code>/release-prep</code>\uff09\u3002</li> </ul>"},{"location":"reference/prompts_zh/#startup-planning","title":"\ud83d\ude80 \u5c08\u6848\u555f\u52d5\u8207\u898f\u5283 (Startup &amp; Planning)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>vibe_start</code> Prompt \u4e00\u9375\u5c08\u6848\u555f\u52d5\u3002\u5f15\u5c0e\u5f0f\u67b6\u69cb\u6d41\u7a0b\uff0c\u5e36\u9818\u60a8\u5f9e\u6a21\u7cca\u7684\u60f3\u6cd5\u5230\u7d50\u69cb\u5316\u7684\u5c08\u6848\u8a08\u756b\u3002 \u958b\u555f\u65b0\u5c08\u6848\u6216\u958b\u767c\u5927\u578b\u8907\u96dc\u529f\u80fd\u6642\u3002 <code>setup_project</code> Prompt \u5c08\u6848\u521d\u59cb\u5316\u3002\u5f15\u5c0e\u60a8\u57f7\u884c\u5feb\u901f\u555f\u52d5\u3001\u5b89\u88dd Git hooks \u548c\u5065\u5eb7\u6aa2\u67e5\u3002 \u7b2c\u4e00\u6b21\u8a2d\u5b9a\u65b0\u7684 Repository \u6642\u3002 <code>/speckit-constitution</code> Workflow \u5efa\u7acb\u539f\u5247\u3002\u5efa\u7acb <code>constitution.md</code> \u4ee5\u5b9a\u7fa9\u5c08\u6848\u4e2d\u4e0d\u53ef\u59a5\u5354\u7684\u898f\u5247\u3002 \u4efb\u4f55\u65b0\u5132\u5b58\u5eab\u7684\u7b2c\u4e00\u6b65\uff0c\u7528\u65bc\u78ba\u7acb\u7de8\u78bc\u6a19\u6e96\u3002 <code>/speckit-clarify</code> Workflow \u9700\u6c42\u91d0\u6e05\u3002\u5206\u6790\u60a8\u7684\u8acb\u6c42\u4e26\u63d0\u51fa 3-5 \u500b\u95dc\u9375\u554f\u984c\u4ee5\u6d88\u9664\u6b67\u7fa9\u3002 \u7576\u9700\u6c42\u6a21\u7cca\u4e0d\u6e05\uff0c\u6216\u4e0d\u78ba\u5b9a\u5f9e\u4f55\u958b\u59cb\u6642\u3002 <code>/speckit-plan</code> Workflow \u6280\u8853\u898f\u5283\u3002\u5c07\u9700\u6c42\u8f49\u63db\u70ba\u8a73\u7d30\u7684\u6280\u8853\u5be6\u4f5c\u8a08\u756b\u3002 \u9700\u6c42\u78ba\u8a8d\u5f8c\uff0c\u958b\u59cb\u5beb\u7a0b\u5f0f\u78bc\u4e4b\u524d\u3002 <code>plan_feature</code> Prompt \u529f\u80fd\u898f\u683c\u7522\u751f\u5668\u3002\u70ba\u7279\u5b9a\u7684\u65b0\u529f\u80fd\u751f\u6210\u8a73\u7d30\u7684\u5be6\u4f5c\u8a08\u756b\u3002 \u5728\u73fe\u6709\u5c08\u6848\u4e2d\u589e\u52a0\u55ae\u4e00\u529f\u80fd\u6642\u3002 <code>/speckit-tasks</code> Workflow \u4efb\u52d9\u62c6\u89e3\u3002\u5c07\u5be6\u4f5c\u8a08\u756b\u8f49\u63db\u70ba <code>task.md</code> \u4e2d\u7684\u6aa2\u67e5\u6e05\u55ae\u3002 \u6e96\u5099\u597d\u958b\u59cb\u5beb\u7a0b\u5f0f\u4e86\u55ce\uff1f\u57f7\u884c\u6b64\u6307\u4ee4\u751f\u6210\u5f85\u8fa6\u4e8b\u9805\u3002 <code>roadmap</code> Prompt \u8def\u7dda\u5716\u8996\u89ba\u5316\u3002\u5206\u6790 <code>task.md</code> \u4e26\u751f\u6210\u9032\u5ea6\u7684 Mermaid \u7518\u7279\u5716\u6216\u6d41\u7a0b\u5716\u3002 \u6aa2\u8996\u5c08\u6848\u6642\u9593\u8ef8\u548c\u4e0b\u4e00\u500b\u4e3b\u8981\u91cc\u7a0b\u7891\u6642\u3002 <code>suggest_roadmap</code> Prompt \u4e0b\u4e00\u6b65\u5efa\u8b70\u3002AI \u5efa\u8b70\u63a5\u4e0b\u4f86\u61c9\u8a72\u958b\u767c\u7684\u529f\u80fd\u6216\u662f\u6280\u8853\u6539\u9032\u3002 \u7576\u60a8\u5361\u4f4f\u6216\u5728\u5c0b\u627e\u4e0b\u4e00\u500b\u958b\u767c\u76ee\u6a19\u6642\u3002"},{"location":"reference/prompts_zh/#development-building","title":"\ud83c\udfd7\ufe0f \u958b\u767c\u8207\u5efa\u7f6e (Development &amp; Building)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>full_stack_dev</code> Prompt \u5168\u68e7\u958b\u767c\u5de5\u4f5c\u6d41\u3002\u91dd\u5c0d\u5efa\u7f6e \u524d\u7aef + \u5f8c\u7aef + \u8cc7\u6599\u5eab \u61c9\u7528\u7a0b\u5f0f\u7684\u5c08\u7528\u6307\u5357\u3002 \u5f9e\u982d\u958b\u59cb\u5efa\u7f6e Web \u61c9\u7528\u7a0b\u5f0f\u6642\u3002 <code>run_agent</code> Prompt \u591a\u667a\u80fd\u9ad4\u4efb\u52d9\u3002\u5354\u8abf\u591a\u500b AI \u4ee3\u7406\uff08\u67b6\u69cb\u5e2b\u3001\u5de5\u7a0b\u5e2b\u3001\u5be9\u67e5\u54e1\uff09\u89e3\u6c7a\u8907\u96dc\u4efb\u52d9\u3002 \u5c07\u5927\u578b\u3001\u7368\u7acb\u7684\u4efb\u52d9\u79fb\u4ea4\u7d66 AI \u8655\u7406\u6642\u3002 <code>smart_commit</code> Prompt \u667a\u80fd\u63d0\u4ea4\u3002\u6839\u64da <code>task.md</code> \u7684\u9032\u5ea6\u81ea\u52d5\u751f\u6210\u7b26\u5408\u898f\u7bc4\u7684 Commit \u8a0a\u606f\u3002 \u6e96\u5099\u5132\u5b58\u8b8a\u66f4\u6642\u3002 <code>vibe_check</code> Prompt \u5c08\u6848\u5065\u5eb7\u6aa2\u67e5\u3002\u5206\u6790\u5c08\u6848\u7d50\u69cb\u3001\u6587\u4ef6\u548c\u300c\u6c1b\u570d\u300d(Vibe)\uff0c\u7d66\u51fa 0-100 \u7684\u8a55\u5206\u3002 \u60f3\u8981\u5feb\u901f\u4e86\u89e3\u5c08\u6848\u72c0\u614b\u6642\u3002 <code>system_status</code> Prompt \u7cfb\u7d71\u72c0\u614b\u3002\u986f\u793a\u76ee\u524d\u7684\u8ff4\u5708\u72c0\u614b\u3001\u6d3b\u8e8d\u7684\u80cc\u666f\u4efb\u52d9\u548c\u6574\u9ad4\u5065\u5eb7\u72c0\u6cc1\u3002 \u5075\u932f Agent \u70ba\u4f55\u5fd9\u788c\u6216\u6aa2\u67e5\u9032\u5ea6\u6642\u3002"},{"location":"reference/prompts_zh/#quality-verification","title":"\ud83d\udee1\ufe0f \u54c1\u8cea\u8207\u9a57\u8b49 (Quality &amp; Verification)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>review_code</code> Prompt \u67b6\u69cb\u5e2b\u5be9\u67e5\u3002\u6df1\u5ea6\u4ee3\u78bc\u5be9\u67e5\uff0c\u5c08\u6ce8\u65bc\u67b6\u69cb\u3001\u5b89\u5168\u6027\u548c\u6548\u80fd\u7d30\u7bc0\u3002 \u5408\u4f75\u4ee3\u78bc\u524d\uff0c\u6216\u5b8c\u6210\u4e00\u500b\u6a21\u7d44\u5f8c\u3002 <code>/speckit-checklist</code> Workflow \u54c1\u8cea\u6aa2\u67e5\u6e05\u55ae\u3002\u751f\u6210\u7279\u5b9a\u7684\u6aa2\u67e5\u6e05\u55ae\uff0c\u4ee5\u9a57\u8b49\u5be6\u4f5c\u662f\u5426\u7b26\u5408\u9700\u6c42\u3002 \u5c07\u4efb\u52d9\u6a19\u8a18\u70ba\u300c\u5b8c\u6210\u300d\u4e4b\u524d\u3002 <code>/speckit-analyze</code> Workflow \u4e00\u81f4\u6027\u6aa2\u67e5\u3002\u78ba\u4fdd\u60a8\u7684\u4ee3\u78bc\u3001\u8a08\u756b\u548c\u898f\u683c\u5f7c\u6b64\u4e00\u81f4\u3002 \u7576\u9700\u6c42\u8b8a\u66f4\u6216\u91cd\u5927\u91cd\u69cb\u4e4b\u5f8c\u3002 <code>security_scan</code> Prompt \u5b89\u5168\u5be9\u8a08\u3002\u6383\u63cf\u6a5f\u5bc6\u6d29\u9732\u3001\u6f0f\u6d1e (SAST) \u548c\u4e0d\u826f\u4f9d\u8cf4\u9805\u3002 \u767c\u5e03\u524d\uff0c\u6216\u958b\u767c\u904e\u7a0b\u4e2d\u5b9a\u671f\u57f7\u884c\u3002 <code>evaluate_architecture</code> Prompt \u56b4\u53b2\u67b6\u69cb\u5e2b\u3002\u56b4\u683c\u7684\u5be9\u67e5\uff0c\u50c5\u5c08\u6ce8\u65bc\u53ef\u64f4\u5c55\u6027\u3001\u8026\u5408\u548c\u8a2d\u8a08\u98a8\u96aa\u3002 \u8a2d\u8a08\u968e\u6bb5\u65e9\u671f\u6216\u91cd\u5927\u91cd\u69cb\u671f\u9593\u3002 <code>evaluate_code</code> Prompt LLM \u8a55\u5be9\u3002\u6839\u64da\u7279\u5b9a\u6a19\u6e96\uff08\u6b63\u78ba\u6027\u3001\u53ef\u8b80\u6027\u7b49\uff09\u5c0d\u4ee3\u78bc\u54c1\u8cea\u9032\u884c\u8a55\u5206\u3002 \u5ba2\u89c0\u54c1\u8cea\u8a55\u4f30\u3002 <code>compare_implementations</code> Prompt A/B \u6e2c\u8a66\u3002\u6bd4\u8f03\u5169\u500b\u4e0d\u540c\u7684\u4ee3\u78bc\u8def\u5f91/\u7248\u672c\u4e26\u5ba3\u5e03\u512a\u52dd\u8005\u3002 \u5728\u5169\u7a2e\u91cd\u69cb\u65b9\u6848\u4e4b\u9593\u505a\u6c7a\u7b56\u6642\u3002 <code>audit_quality</code> Prompt \u5168\u7cfb\u7d71\u5be9\u8a08\u3002\u4e00\u6b21\u6027\u57f7\u884c\u5065\u5eb7\u6aa2\u67e5 + \u5b89\u5168\u6383\u63cf + \u9a57\u8b49\u3002 \u91cd\u5927\u90e8\u7f72\u524d\u7684\u6700\u7d42\u6aa2\u67e5\u3002"},{"location":"reference/prompts_zh/#maintenance-refactoring","title":"\ud83d\udd27 \u7dad\u8b77\u8207\u91cd\u69cb (Maintenance &amp; Refactoring)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>quick_fix</code> Prompt \u4e00\u9375\u4fee\u5fa9\u3002\u81ea\u52d5\u8a3a\u65b7\u4e26\u4fee\u5fa9 Lint \u932f\u8aa4\u3001\u683c\u5f0f\u554f\u984c\u548c\u7c21\u55ae Bug\u3002 \u51fa\u73fe\u7d05\u8272\u6ce2\u6d6a\u7dda\u6216 lint \u6aa2\u67e5\u5931\u6557\u6642\u3002 <code>debug_error</code> Prompt \u6839\u672c\u539f\u56e0\u5206\u6790\u3002\u5206\u6790\u932f\u8aa4\u8a0a\u606f/\u5806\u758a\u8ffd\u8e64\uff0c\u627e\u51fa\u6839\u672c\u539f\u56e0\u4e26\u5efa\u8b70\u4fee\u6b63\u3002 \u9047\u5230 Bug \u6216\u5d29\u6f70\u6642\u3002 <code>refactor_code</code> Prompt \u4ee3\u78bc\u91cd\u69cb\u3002\u5efa\u8b70\u6539\u9032\u4ee3\u78bc\u6e05\u6670\u5ea6\u3001\u6548\u80fd\u548c\u7d50\u69cb\u3002 \u7576\u4ee3\u78bc\u80fd\u8dd1\u4f46\u770b\u8d77\u4f86\u5f88\u4e82 (\"Code Smell\") \u6642\u3002 <code>/release-prep</code> Workflow \u767c\u5e03\u5354\u8b70\u3002\u8655\u7406\u7248\u672c\u5347\u7d1a\u3001\u66f4\u65b0\u8b8a\u66f4\u65e5\u8a8c\u548c\u767c\u5e03\u6aa2\u67e5\u3002 \u6e96\u5099\u767c\u5e03\u65b0\u7248\u672c\u6642\u3002 <code>safe_refactor</code> Prompt \u4ea4\u6613\u5f0f\u91cd\u69cb\u3002\u5728\u300c\u6c99\u7bb1\u300d\u4e2d\u57f7\u884c\u8b8a\u66f4\uff0c\u5982\u679c\u9a57\u8b49\u5931\u6557\u53ef\u81ea\u52d5\u5fa9\u539f\u3002 \u57f7\u884c\u9ad8\u98a8\u96aa\u8b8a\u66f4\u4e26\u5e0c\u671b\u6709\u5b89\u5168\u7db2\u6642\u3002 <code>rollback</code> Prompt \u5fa9\u539f\u8b8a\u66f4\u3002\u5c07\u4ee3\u78bc\u5eab\u5fa9\u539f\u5230\u6700\u5f8c\u4e00\u500b\u5b89\u5168\u72c0\u614b\uff08\u9700\u8981\u914d\u5408 Transaction \u4f7f\u7528\uff09\u3002 \u7576 <code>safe_refactor</code> \u5617\u8a66\u5931\u6557\u6642\u3002 <code>verify_work</code> Prompt \u624b\u52d5\u9a57\u8b49\u3002\u660e\u78ba\u89f8\u767c\u9a57\u8b49\u5de5\u4f5c\u6d41\uff08\u6e2c\u8a66 + Linting\uff09\u3002 \u7576\u60a8\u60f3\u518d\u6b21\u78ba\u8a8d\u6240\u6709\u6aa2\u67e5\u90fd\u662f\u7da0\u71c8\u6642\u3002"},{"location":"reference/prompts_zh/#knowledge-context","title":"\ud83e\udde0 \u77e5\u8b58\u8207\u4e0a\u4e0b\u6587 (Knowledge &amp; Context)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>explain_code</code> Prompt \u4ee3\u78bc\u5c0e\u5e2b\u3002\u7528\u901a\u4fd7\u8a9e\u8a00\u89e3\u91cb\u7279\u5b9a\u6a94\u6848\u6216\u51fd\u5f0f\u7684\u904b\u4f5c\u65b9\u5f0f\u3002 \u719f\u6089\u65b0\u4ee3\u78bc\u5eab\u6642\u3002 <code>visualize</code> Prompt \u5716\u8868\u751f\u6210\u3002\u751f\u6210\u4ee3\u78bc\u7684 Mermaid.js \u5716\u8868\uff08\u985e\u5225\u5716\u3001\u5e8f\u5217\u5716\u3001\u6d41\u7a0b\u5716\uff09\u3002 \u8996\u89ba\u5316\u8907\u96dc\u4f9d\u8cf4\u95dc\u4fc2\u6642\u3002 <code>visualize_architecture</code> Prompt \u67b6\u69cb\u8996\u89ba\u5316\u3002\u751f\u6210\u9ad8\u5c64\u6b21\u7684\u6a21\u7d44\u4f9d\u8cf4\u5716\u8868\u3002 \u4e86\u89e3\u7cfb\u7d71\u7684\u5927\u5c40\u89c0\u3002 <code>semantic_search</code> Prompt \u6df1\u5ea6\u641c\u5c0b\u3002\u4f7f\u7528 RAG \u57fa\u65bc\u8a9e\u610f\u800c\u975e\u50c5\u95dc\u9375\u5b57\u4f86\u5c0b\u627e\u4ee3\u78bc\u3002 \u300c\u8a8d\u8b49\u908f\u8f2f\u5728\u54ea\u88e1\uff1f\u300d <code>project_brain</code> Prompt \u77e5\u8b58\u5eab\u3002\u7e3d\u7d50 AI \u5c0d\u6b64\u5c08\u6848\u7684\u5b78\u7fd2\u5167\u5bb9\uff08\u6a21\u5f0f\u3001\u898f\u5247\uff09\u3002 \u6aa2\u67e5 AI \u5c0d\u60a8\u5c08\u6848\u80cc\u666f\u7684\u4e86\u89e3\u7a0b\u5ea6\u3002 <code>manage_memory</code> Prompt \u8a18\u61b6\u7ba1\u7406\u3002\u6574\u7406\u5df2\u5b78\u7fd2\u7684\u6a21\u5f0f\u4e26\u66f4\u65b0\u8a55\u4f30\u6a19\u6e96\u3002 \u5728\u9577\u6642\u9593\u7684\u7de8\u78bc\u5de5\u4f5c\u5f8c\u300c\u5132\u5b58\u300d\u5b78\u7fd2\u6210\u679c\u3002"},{"location":"reference/prompts_zh/#workspace-session-management","title":"\u2699\ufe0f \u5de5\u4f5c\u5340\u8207\u6703\u8a71\u7ba1\u7406 (Workspace &amp; Session Management)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>save_session</code> Prompt \u5132\u5b58\u4e0a\u4e0b\u6587\u3002\u5c07\u7576\u524d\u5de5\u4f5c\u6a94\u6848\u548c\u5c0d\u8a71\u72c0\u614b\u5132\u5b58\u5230\u547d\u540d\u63d2\u69fd\u4e2d\u3002 \u5207\u63db\u4e0a\u4e0b\u6587\u6216\u4f11\u606f\u6642\u3002 <code>load_session</code> Prompt \u8f09\u5165\u4e0a\u4e0b\u6587\u3002\u9084\u539f\u4e4b\u524d\u5132\u5b58\u7684\u6703\u8a71\u3002 \u6062\u5fa9\u7279\u5b9a\u529f\u80fd\u7684\u958b\u767c\u5de5\u4f5c\u6642\u3002 <code>switch_project</code> Prompt \u5207\u63db\u5c08\u6848\u3002\u5c07\u6d3b\u8e8d\u7684 Boring \u5de5\u4f5c\u5340\u5207\u63db\u5230\u53e6\u4e00\u500b\u5df2\u8a3b\u518a\u7684\u5c08\u6848\u3002 \u5728\u591a\u500b Repo \u914d\u7f6e\u4e2d\u5de5\u4f5c\u6642\u3002 <code>add_project</code> Prompt \u8a3b\u518a\u5c08\u6848\u3002\u5c07\u65b0\u76ee\u9304\u52a0\u5165 Boring \u5de5\u4f5c\u5340\u8a3b\u518a\u8868\u3002 \u5c07\u73fe\u6709\u5c08\u6848\u532f\u5165 Boring \u6642\u3002 <code>shadow_review</code> Prompt \u5f71\u5b50\u6a21\u5f0f\u7ba1\u7406\u3002\u5be9\u67e5/\u6279\u51c6/\u62d2\u7d55\u5f85\u8655\u7406\u7684\u9ad8\u98a8\u96aa\u64cd\u4f5c\u3002 \u7576\u5f71\u5b50\u6a21\u5f0f\u963b\u64cb\u4e86\u60a8\u9700\u8981\u57f7\u884c\u7684\u64cd\u4f5c\u6642\u3002"},{"location":"reference/prompts_zh/#advanced-plugins","title":"\ud83e\udde9 \u9032\u968e / \u64f4\u5145\u529f\u80fd (Advanced / Plugins)","text":"\u6307\u4ee4 / Prompt \u985e\u578b \u8aaa\u660e \u6700\u4f73\u4f7f\u7528\u60c5\u5883 <code>run_plugin</code> Prompt \u57f7\u884c\u63d2\u4ef6\u3002\u57f7\u884c\u7279\u5b9a\u7684 Boring \u63d2\u4ef6\u3002 \u4f7f\u7528\u7b2c\u4e09\u65b9\u64f4\u5145\u6642\u3002 <code>create_plugin</code> Prompt \u63d2\u4ef6\u958b\u767c\u3002\u751f\u6210\u65b0 Boring \u63d2\u4ef6\u7684\u6a21\u677f\u4ee3\u78bc\u3002 \u64f4\u5145 Boring \u7684\u529f\u80fd\u6642\u3002 <code>background_verify</code> Prompt \u80cc\u666f\u9a57\u8b49\u3002\u5728\u80cc\u666f\u57f7\u884c\u9a57\u8b49\uff08\u8fd4\u56de Task ID\uff09\u3002 \u9a57\u8b49\u5927\u578b\u4ee3\u78bc\u5eab\u800c\u4e0d\u963b\u585e\u5c0d\u8a71\u8996\u7a97\u6642\u3002 <code>background_test</code> Prompt \u80cc\u666f\u6e2c\u8a66\u3002\u5728\u80cc\u666f\u57f7\u884c\u6e2c\u8a66\u3002 \u57f7\u884c\u9577\u6642\u9593\u7684\u6e2c\u8a66\u5957\u4ef6\u6642\u3002"},{"location":"reference/security-privacy/","title":"Enterprise Security &amp; Privacy Whitepaper","text":"<p>A technical overview of data handling, LLM interaction, and security safeguards in Boring.</p>"},{"location":"reference/security-privacy/#data-architecture","title":"\ud83d\udd10 Data Architecture","text":"<p>Boring follows a \"Local-First, LLM-Assisted\" architecture.</p>"},{"location":"reference/security-privacy/#local-storage-no-cloud-sync","title":"\ud83c\udfe0 Local Storage (No Cloud sync)","text":"<ul> <li>Codebase Index: All vector embeddings (RAG) are stored locally in the project directory.</li> <li>Learnings &amp; Patterns: Experience gained is stored in local JSON files.</li> <li>Logs: Execution logs and traces never leave your machine unless manually exported.</li> </ul>"},{"location":"reference/security-privacy/#outbound-traffic-llm-api","title":"\ud83c\udf10 Outbound Traffic (LLM API)","text":"<p>Only the following data is sent to the LLM (Google Gemini or Anthropic Claude): 1.  Prompt: The task instructions. 2.  Code Chunks: Relevant snippets retrieved via RAG (filtered for relevance). 3.  File Metadata: Filenames and directory structures needed for context.</p> <p>[!IMPORTANT] Boring does not upload your entire repository to the cloud. It only sends snippets strictly necessary for the current task.</p>"},{"location":"reference/security-privacy/#execution-safety","title":"\ud83d\udee1\ufe0f Execution Safety","text":""},{"location":"reference/security-privacy/#shadow-mode","title":"Shadow Mode","text":"<p>High-risk operations (file deletion, system command execution, network requests) are intercepted by the Shadow Interceptor. - Rule-based: You can whitelist paths or tools. - Human-in-the-Loop: Dangerous operations pause and wait for your explicit approval in the UI.</p>"},{"location":"reference/security-privacy/#quality-gates","title":"Quality Gates","text":"<p>Before any code is considered \"final\", Boring runs it through multiple local verification layers: - Static analysis (Linter) - Security scans (Secret detection, SAST) - Dynamic tests (Unit Tests)</p>"},{"location":"reference/security-privacy/#privacy-compliance","title":"\u2696\ufe0f Privacy Compliance","text":"<ul> <li>No Training: We do not use your code to train foundation models.</li> <li>Compliance: Boring respects <code>.gitignore</code> and <code>.dockerignore</code> to avoid indexing sensitive or temporary files.</li> <li>Transparency: Every outgoing request and every tool execution is logged for audit purposes.</li> </ul>"},{"location":"reference/security-privacy/#recommended-security-configuration","title":"\ud83d\udee1\ufe0f Recommended Security Configuration","text":"<p>For enterprise environments, we recommend the following <code>.boring.toml</code> settings: <pre><code>[security]\nshadow_mode = \"STRICT\"      # Require approval for all write operations\nscan_for_secrets = true     # Block commits containing API keys\nallowed_domains = [\"*\"]     # Restrict outgoing network calls if necessary\n</code></pre></p>"},{"location":"reference/security-privacy_zh/","title":"\u4f01\u696d\u5b89\u5168\u8207\u96b1\u79c1\u767d\u76ae\u66f8","text":"<p>Boring \u95dc\u65bc\u8cc7\u6599\u8655\u7406\u3001LLM \u4e92\u52d5\u8207\u5b89\u5168\u9632\u8b77\u6a5f\u5236\u7684\u6280\u8853\u6982\u89bd\u3002</p>"},{"location":"reference/security-privacy_zh/#_2","title":"\ud83d\udd10 \u8cc7\u6599\u67b6\u69cb","text":"<p>Boring \u9075\u5faa \u300c\u672c\u5730\u512a\u5148\uff0cLLM \u8f14\u52a9\u300d \u7684\u67b6\u69cb\u3002</p>"},{"location":"reference/security-privacy_zh/#_3","title":"\ud83c\udfe0 \u672c\u5730\u5132\u5b58\uff08\u7121\u96f2\u7aef\u540c\u6b65\uff09","text":"<ul> <li>\u4ee3\u78bc\u7d22\u5f15\uff1a\u6240\u6709 RAG \u5411\u91cf\u5d4c\u5165\u7686\u5132\u5b58\u5728\u60a8\u672c\u5730\u5c08\u6848\u76ee\u9304\u4e2d\u3002</li> <li>\u5b78\u7fd2\u7d93\u9a57\uff1a\u7cfb\u7d71\u5b78\u5230\u7684\u89e3\u6c7a\u65b9\u6848\u5132\u5b58\u5728\u672c\u5730 JSON \u6a94\u6848\u3002</li> <li>\u65e5\u8a8c\uff1a\u57f7\u884c\u65e5\u8a8c\u8207\u8ffd\u8e64\u8cc7\u8a0a\u7d55\u4e0d\u6703\u96e2\u958b\u60a8\u7684\u6a5f\u5668\uff0c\u9664\u975e\u624b\u52d5\u532f\u51fa\u3002</li> </ul>"},{"location":"reference/security-privacy_zh/#llm-api","title":"\ud83c\udf10 \u5916\u90e8\u901a\u8a0a (LLM API)","text":"<p>\u50c5\u6709\u4e0b\u5217\u8cc7\u6599\u6703\u50b3\u9001\u81f3 LLM (Google Gemini \u6216 Anthropic Claude)\uff1a 1.  \u63d0\u793a\u8a5e (Prompt)\uff1a\u4efb\u52d9\u6307\u4ee4\u3002 2.  \u4ee3\u78bc\u7247\u6bb5\uff1a\u900f\u904e RAG \u6aa2\u7d22\u51fa\u7684\u76f8\u95dc\u7a0b\u5f0f\u4ee3\u78bc\uff08\u7d93\u904e\u6ffe\uff09\u3002 3.  \u4e2d\u7e7c\u8cc7\u6599\uff1a\u4e0a\u4e0b\u6587\u6240\u9700\u7684\u6a94\u6848\u540d\u7a31\u8207\u76ee\u9304\u7d50\u69cb\u3002</p> <p>[!IMPORTANT] Boring \u4e0d\u6703 \u5c07\u60a8\u7684\u6574\u500b\u5132\u5b58\u5eab\u4e0a\u50b3\u81f3\u96f2\u7aef\u3002\u5b83\u50c5\u50b3\u9001\u76ee\u524d\u4efb\u52d9\u56b4\u683c\u9700\u8981\u7684\u7a0b\u5f0f\u78bc\u7247\u6bb5\u3002</p>"},{"location":"reference/security-privacy_zh/#_4","title":"\ud83d\udee1\ufe0f \u57f7\u884c\u5b89\u5168","text":""},{"location":"reference/security-privacy_zh/#shadow-mode","title":"\u5f71\u5b50\u6a21\u5f0f (Shadow Mode)","text":"<p>\u9ad8\u98a8\u96aa\u64cd\u4f5c\uff08\u522a\u9664\u6a94\u6848\u3001\u57f7\u884c\u7cfb\u7d71\u547d\u4ee4\u3001\u7db2\u8def\u8acb\u6c42\uff09\u6703\u88ab \u5f71\u5b50\u6514\u622a\u5668 \u6514\u622a\u3002 - \u898f\u5247\u5c0e\u5411\uff1a\u60a8\u53ef\u4ee5\u5c07\u7279\u5b9a\u8def\u5f91\u6216\u5de5\u5177\u52a0\u5165\u767d\u540d\u55ae\u3002 - \u4eba\u5de5\u4ecb\u5165\uff1a\u5371\u96aa\u64cd\u4f5c\u6703\u66ab\u505c\u4e26\u7b49\u5f85\u60a8\u5728 UI \u4e2d\u660e\u78ba\u6279\u51c6\u3002</p>"},{"location":"reference/security-privacy_zh/#quality-gates","title":"\u54c1\u8cea\u9598\u9053 (Quality Gates)","text":"<p>\u5728\u4efb\u4f55\u4ee3\u78bc\u88ab\u8996\u70ba\u300c\u5b8c\u6210\u300d\u4e4b\u524d\uff0cBoring \u6703\u57f7\u884c\u591a\u5c64\u672c\u5730\u9a57\u8b49\uff1a - \u975c\u614b\u5206\u6790 (Linter) - \u5b89\u5168\u6383\u63cf (\u79d8\u5bc6\u5075\u6e2c\u3001SAST) - \u52d5\u614b\u6e2c\u8a66 (\u55ae\u5143\u6e2c\u8a66)</p>"},{"location":"reference/security-privacy_zh/#_5","title":"\u2696\ufe0f \u96b1\u79c1\u5408\u898f","text":"<ul> <li>\u4e0d\u9032\u884c\u8a13\u7df4\uff1a\u6211\u5011\u4e0d\u6703\u4f7f\u7528\u60a8\u7684\u5c08\u6848\u7a0b\u5f0f\u78bc\u4f86\u8a13\u7df4\u57fa\u790e\u6a21\u578b\u3002</li> <li>\u5408\u898f\u6027\uff1aBoring \u5c0a\u91cd <code>.gitignore</code> \u8207 <code>.dockerignore</code>\uff0c\u907f\u514d\u7d22\u5f15\u654f\u611f\u6216\u66ab\u5b58\u6a94\u6848\u3002</li> <li>\u900f\u660e\u5ea6\uff1a\u6bcf\u4e00\u6b21\u5916\u90e8\u8acb\u6c42\u8207\u5de5\u5177\u57f7\u884c\u7686\u6709\u65e5\u8a8c\u7d00\u9304\uff0c\u4fbf\u65bc\u5be9\u6838\u3002</li> </ul>"},{"location":"reference/security-privacy_zh/#_6","title":"\ud83d\udee1\ufe0f \u63a8\u85a6\u7684\u5b89\u5168\u914d\u7f6e","text":"<p>\u5c0d\u65bc\u4f01\u696d\u7d1a\u74b0\u5883\uff0c\u6211\u5011\u63a8\u85a6\u4ee5\u4e0b\u5728 <code>.boring.toml</code> \u4e2d\u7684\u8a2d\u5b9a\uff1a <pre><code>[security]\nshadow_mode = \"STRICT\"      # \u6240\u6709\u5beb\u5165\u64cd\u4f5c\u7686\u9700\u7d93\u7531\u4eba\u5de5\u6279\u51c6\nscan_for_secrets = true     # \u963b\u64cb\u5305\u542b API Key \u7684\u63d0\u4ea4\n</code></pre></p>"},{"location":"reference/sustainability/","title":"\u9805\u76ee\u53ef\u6301\u7e8c\u6027\u7b56\u7565 (Sustainability Strategy)","text":"<p>\u89e3\u6c7a\u98a8\u96aa: \u55ae\u4e00\u7dad\u8b77\u8005\u7684\u53ef\u6301\u7e8c\u6027\u98a8\u96aa\u3001\u529f\u80fd\u81a8\u8139\u3001\u6280\u8853\u68e7\u4f9d\u8cf4</p> <p>\u672c\u6587\u6a94\u8aaa\u660e Boring-Gemini \u9805\u76ee\u7684\u53ef\u6301\u7e8c\u767c\u5c55\u7b56\u7565\uff0c\u78ba\u4fdd\u9805\u76ee\u9577\u671f\u5065\u5eb7\u767c\u5c55\u3002</p>"},{"location":"reference/sustainability/#_1","title":"\ud83c\udfaf \u53ef\u6301\u7e8c\u6027\u9858\u666f","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        \ud83c\udf31 \u53ef\u6301\u7e8c\u6027\u4e09\u5927\u652f\u67f1                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502   \u2502  \ud83d\udc65 \u4eba\u54e1\u5f48\u6027     \u2502   \u2502  \ud83d\udd27 \u6280\u8853\u5f48\u6027     \u2502   \u2502  \ud83d\udce6 \u67b6\u69cb\u5f48\u6027     \u2502          \u2502\n\u2502   \u2502  (Bus Factor)   \u2502   \u2502  (Tech Agnostic) \u2502   \u2502  (Modularity)   \u2502          \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502            \u2502                     \u2502                     \u2502                    \u2502\n\u2502   \u2022 \u591a\u7dad\u8b77\u8005        \u2022 LLM \u62bd\u8c61\u5c64      \u2022 \u63d2\u4ef6\u7cfb\u7d71               \u2502\n\u2502   \u2022 \u5b8c\u5584\u6587\u6a94        \u2022 \u53ef\u9078\u4f9d\u8cf4         \u2022 \u6700\u5c0f\u6838\u5fc3               \u2502\n\u2502   \u2022 \u81ea\u52d5\u5316 CI/CD    \u2022 \u964d\u7d1a\u7b56\u7565         \u2022 \u6e05\u6670\u908a\u754c               \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/sustainability/#_2","title":"\ud83d\udea8 \u98a8\u96aa\u8b58\u5225\u8207\u7de9\u89e3","text":""},{"location":"reference/sustainability/#1-bus-factor-1","title":"\u98a8\u96aa 1: \u55ae\u4e00\u7dad\u8b77\u8005 (Bus Factor = 1)","text":"<p>\u7576\u524d\u72c0\u614b: \u26a0\ufe0f \u9ad8\u98a8\u96aa</p> <p>\u5f71\u97ff: \u5982\u679c\u4e3b\u8981\u7dad\u8b77\u8005\u7121\u6cd5\u7e7c\u7e8c\uff0c\u9805\u76ee\u53ef\u80fd\u505c\u6eef</p> <p>\u7de9\u89e3\u7b56\u7565:</p> \u7b56\u7565 \u884c\u52d5 \u72c0\u614b \u6587\u6a94\u5b8c\u6574 \u6240\u6709\u67b6\u69cb\u6c7a\u7b56\u90fd\u6709\u6587\u6a94\u8a18\u9304 \u2705 \u5df2\u5be6\u65bd \u81ea\u52d5\u5316 CI/CD \u5168\u81ea\u52d5\u5316\uff0c\u6e1b\u5c11\u4eba\u5de5\u5e72\u9810 \u2705 \u5df2\u5be6\u65bd \u7dad\u8b77\u8005\u62db\u52df \u5275\u5efa MAINTAINERS.md\uff0c\u660e\u78ba\u8ca2\u737b\u968e\u68af \u2705 \u5df2\u5be6\u65bd \u9818\u57df\u5c08\u5bb6 \u5728 CODEOWNERS \u4e2d\u5b9a\u7fa9\u9818\u57df\u8ca0\u8cac\u4eba \ud83d\udd04 \u9032\u884c\u4e2d \u6c7a\u7b56\u8a18\u9304 ADR (Architecture Decision Records) \ud83d\udd04 \u9032\u884c\u4e2d \u77e5\u8b58\u8f49\u79fb \u9304\u88fd\u95dc\u9375\u7cfb\u7d71\u7684\u8aaa\u660e\u8996\u983b \ud83d\udcc5 \u8a08\u5283\u4e2d <p>\u6210\u529f\u6307\u6a19: - [ ] Bus Factor \u2265 2 (\u81f3\u5c11 2 \u4f4d\u6d3b\u8e8d\u7dad\u8b77\u8005) - [ ] \u6240\u6709\u6838\u5fc3\u6a21\u7d44\u6709\u5099\u63f4\u7dad\u8b77\u8005 - [ ] 100% \u95dc\u9375\u529f\u80fd\u6709\u6587\u6a94</p>"},{"location":"reference/sustainability/#2-feature-creep","title":"\u98a8\u96aa 2: \u529f\u80fd\u81a8\u8139 (Feature Creep)","text":"<p>\u7576\u524d\u72c0\u614b: \u26a0\ufe0f \u4e2d\u7b49\u98a8\u96aa</p> <p>\u5f71\u97ff: \u7dad\u8b77\u6210\u672c\u589e\u52a0\uff0c\u4ee3\u78bc\u8cea\u91cf\u4e0b\u964d</p> <p>\u7de9\u89e3\u7b56\u7565:</p> \u7b56\u7565 \u884c\u52d5 \u72c0\u614b \u529f\u80fd\u77e9\u9663 \u7dad\u8b77 feature-matrix.md \u2705 \u5df2\u5be6\u65bd \u6a21\u7d44\u5316\u5b89\u88dd extras: <code>[mcp]</code>, <code>[vector]</code>, <code>[gui]</code> \u2705 \u5df2\u5be6\u65bd \u63d2\u4ef6\u512a\u5148 \u65b0\u529f\u80fd\u512a\u5148\u4f5c\u70ba\u63d2\u4ef6 \u2705 \u5df2\u5be6\u65bd \u5b9a\u671f\u5be9\u67e5 \u5b63\u5ea6\u529f\u80fd\u5be9\u67e5\u6703\u8b70 \ud83d\udcc5 \u8a08\u5283\u4e2d \u68c4\u7528\u6d41\u7a0b \u660e\u78ba\u7684\u529f\u80fd\u751f\u547d\u9031\u671f \u2705 \u5df2\u5be6\u65bd \u8986\u84cb\u7387\u9580\u6abb \u65b0\u529f\u80fd\u5fc5\u9808\u6709 80%+ \u6e2c\u8a66\u8986\u84cb \u2705 \u5df2\u5be6\u65bd <p>\u529f\u80fd\u7c21\u5316\u539f\u5247:</p> <pre><code>                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502       \u65b0\u529f\u80fd\u63d0\u6848           \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                  \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502 \u662f\u5426\u53ef\u4ee5\u4f5c\u70ba\u63d2\u4ef6\u5be6\u73fe\uff1f      \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u662f \u2502         \u2502 \u5426\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502 \u5275\u5efa\u63d2\u4ef6     \u2502 \u2502 \u662f\u5426\u6838\u5fc3\u529f\u80fd\uff1f\u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                   \u662f \u2502      \u2502 \u5426\n                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502 \u6dfb\u52a0\u5230\u6838\u5fc3 \u2502 \u2502 \u62d2\u7d55\u6216\u5ef6\u5f8c  \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u6210\u529f\u6307\u6a19: - [ ] \u6838\u5fc3\u4f9d\u8cf4 &lt; 15 \u500b - [ ] \u6bcf\u5b63\u5ea6\u5be9\u67e5\u4e26\u6e05\u7406 \u2265 1 \u500b\u5be6\u9a57\u6027\u529f\u80fd - [ ] \u63d2\u4ef6\u4f54\u65b0\u529f\u80fd\u6bd4\u4f8b \u2265 50%</p>"},{"location":"reference/sustainability/#3-vendor-lock-in","title":"\u98a8\u96aa 3: \u6280\u8853\u68e7\u5f37\u4f9d\u8cf4 (Vendor Lock-in)","text":"<p>\u7576\u524d\u72c0\u614b: \u26a0\ufe0f \u4e2d\u7b49\u98a8\u96aa</p> <p>\u5f71\u97ff: \u5982\u679c\u4f9d\u8cf4\u7684\u670d\u52d9\u8b8a\u66f4\u6216\u505c\u6b62\uff0c\u9805\u76ee\u53d7\u5f71\u97ff</p> <p>\u4e3b\u8981\u4f9d\u8cf4\u98a8\u96aa:</p> \u4f9d\u8cf4 \u98a8\u96aa\u7b49\u7d1a \u7de9\u89e3\u7b56\u7565 <code>google-genai</code> (Gemini) \ud83d\udfe1 \u4e2d\u7b49 LLM Provider \u62bd\u8c61\u5c64 <code>chromadb</code> \ud83d\udfe1 \u4e2d\u7b49 \u53ef\u66ff\u63db\u5411\u91cf\u8cc7\u6599\u5eab\u4ecb\u9762 <code>fastmcp</code> \ud83d\udfe2 \u4f4e MCP \u662f\u958b\u653e\u6a19\u6e96 <code>sentence-transformers</code> \ud83d\udfe2 \u4f4e \u53ef\u66ff\u63db embedding \u6a21\u578b <p>\u7de9\u89e3\u7b56\u7565:</p> \u7b56\u7565 \u884c\u52d5 \u72c0\u614b LLM \u62bd\u8c61 <code>src/boring/llm/provider.py</code> \u4ecb\u9762 \u2705 \u5df2\u5be6\u65bd \u591a Provider Gemini, Ollama, OpenAI, Claude \u2705 \u5df2\u5be6\u65bd \u964d\u7d1a\u6a5f\u5236 \u529f\u80fd\u5728\u4f9d\u8cf4\u4e0d\u53ef\u7528\u6642\u512a\u96c5\u964d\u7d1a \u2705 \u5df2\u5be6\u65bd \u672c\u5730\u512a\u5148 \u652f\u6301\u5b8c\u5168\u96e2\u7dda\u4f7f\u7528 (Ollama) \u2705 \u5df2\u5be6\u65bd \u53ef\u9078\u4f9d\u8cf4 \u91cd\u578b\u4f9d\u8cf4\u653e\u5728 extras \u4e2d \u2705 \u5df2\u5be6\u65bd <p>\u4f9d\u8cf4\u66ff\u63db\u77e9\u9663:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u7576\u524d\u4f9d\u8cf4       \u2502    \u66ff\u4ee3\u65b9\u6848      \u2502   \u5207\u63db\u96e3\u5ea6       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 google-genai    \u2502 ollama/openai   \u2502 \ud83d\udfe2 \u7c21\u55ae         \u2502\n\u2502 chromadb        \u2502 qdrant/milvus   \u2502 \ud83d\udfe1 \u4e2d\u7b49         \u2502\n\u2502 sentence-trans  \u2502 openai embeddings\u2502 \ud83d\udfe1 \u4e2d\u7b49         \u2502\n\u2502 fastmcp         \u2502 \u624b\u52d5 MCP \u5be6\u73fe    \u2502 \ud83d\udfe1 \u4e2d\u7b49         \u2502\n\u2502 streamlit       \u2502 gradio/flask    \u2502 \ud83d\udfe2 \u7c21\u55ae         \u2502\n\u2502 typer           \u2502 click/argparse  \u2502 \ud83d\udd34 \u56f0\u96e3         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u6210\u529f\u6307\u6a19: - [x] \u652f\u6301 \u2265 3 \u500b LLM Provider - [ ] 100% \u6838\u5fc3\u529f\u80fd\u53ef\u96e2\u7dda\u904b\u884c - [ ] \u6bcf\u500b\u4e3b\u8981\u4f9d\u8cf4\u6709\u6587\u6a94\u5316\u7684\u66ff\u4ee3\u65b9\u6848</p>"},{"location":"reference/sustainability/#_3","title":"\ud83d\udd04 \u81ea\u52d5\u5316\u7b56\u7565","text":""},{"location":"reference/sustainability/#_4","title":"\u6e1b\u5c11\u4eba\u5de5\u7dad\u8b77\u8ca0\u64d4","text":"\u81ea\u52d5\u5316\u9805\u76ee \u5de5\u5177 \u72c0\u614b \u4ee3\u78bc\u683c\u5f0f\u5316 <code>ruff format</code> \u2705 \u5df2\u5be6\u65bd Linting <code>ruff check</code> \u2705 \u5df2\u5be6\u65bd \u985e\u578b\u6aa2\u67e5 <code>mypy</code> \u2705 \u5df2\u5be6\u65bd \u6e2c\u8a66\u57f7\u884c <code>pytest</code> + GitHub Actions \u2705 \u5df2\u5be6\u65bd \u4f9d\u8cf4\u66f4\u65b0 <code>dependabot</code> \u2705 \u5df2\u5be6\u65bd \u4f9d\u8cf4\u5be9\u8a08 <code>pip-audit</code> \u2705 \u5df2\u5be6\u65bd \u5b89\u5168\u6383\u63cf <code>bandit</code> \u2705 \u5df2\u5be6\u65bd \u6587\u6a94\u751f\u6210 <code>mkdocs</code> \u2705 \u5df2\u5be6\u65bd \u7248\u672c\u767c\u5e03 GitHub Actions <code>publish.yml</code> \u2705 \u5df2\u5be6\u65bd Issue \u5206\u985e GitHub Actions (\u8a08\u5283) \ud83d\udcc5 \u8a08\u5283\u4e2d PR \u81ea\u52d5\u5408\u4f75 <code>dependabot-auto-merge.yml</code> \u2705 \u5df2\u5be6\u65bd"},{"location":"reference/sustainability/#_5","title":"\u8cea\u91cf\u9580\u6abb","text":"<pre><code># \u6240\u6709 PR \u5fc5\u9808\u901a\u904e\nquality_gates:\n  lint: \"ruff check . (0 errors)\"\n  format: \"ruff format --check (0 changes)\"\n  types: \"mypy src/boring/ (0 errors)\"\n  tests: \"pytest (100% pass)\"\n  coverage: \"&gt;= 50%\"\n  security: \"bandit (no high/medium)\"\n  docs: \"interrogate &gt;= 80%\"\n</code></pre>"},{"location":"reference/sustainability/#_6","title":"\ud83d\udcda \u6587\u6a94\u7b56\u7565","text":""},{"location":"reference/sustainability/#_7","title":"\u964d\u4f4e\u8ca2\u737b\u9580\u6abb","text":"\u6587\u6a94\u985e\u578b \u76ee\u6a19\u8b80\u8005 \u512a\u5148\u7d1a README \u65b0\u7528\u6236 P0 CONTRIBUTING \u65b0\u8ca2\u737b\u8005 P0 MAINTAINERS \u6f5b\u5728\u7dad\u8b77\u8005 P0 Architecture \u958b\u767c\u8005 P1 API Reference \u6574\u5408\u958b\u767c\u8005 P1 Tutorials \u5b78\u7fd2\u8005 P2 ADR \u6838\u5fc3\u5718\u968a P2"},{"location":"reference/sustainability/#_8","title":"\u96d9\u8a9e\u7dad\u8b77","text":"<ul> <li>\u6240\u6709\u6838\u5fc3\u6587\u6a94\u63d0\u4f9b\u4e2d\u82f1\u6587\u7248\u672c</li> <li>\u4f7f\u7528 CI \u6aa2\u67e5\u96d9\u8a9e\u540c\u6b65</li> </ul>"},{"location":"reference/sustainability/#_9","title":"\ud83d\udcc5 \u5b9a\u671f\u5be9\u67e5\u6e05\u55ae","text":""},{"location":"reference/sustainability/#_10","title":"\u6708\u5ea6\u5be9\u67e5","text":"<ul> <li>[ ] \u6aa2\u67e5 dependabot PRs</li> <li>[ ] \u5be9\u67e5\u65b0 Issues \u548c PRs</li> <li>[ ] \u66f4\u65b0\u529f\u80fd\u72c0\u614b (\u5982\u6709\u8b8a\u66f4)</li> </ul>"},{"location":"reference/sustainability/#_11","title":"\u5b63\u5ea6\u5be9\u67e5","text":"<ul> <li>[ ] \u529f\u80fd\u77e9\u9663\u5be9\u67e5 - \u6a19\u8a18\u68c4\u7528\u529f\u80fd</li> <li>[ ] \u4f9d\u8cf4\u5b89\u5168\u5be9\u8a08</li> <li>[ ] \u6587\u6a94\u5b8c\u6574\u6027\u6aa2\u67e5</li> <li>[ ] \u7dad\u8b77\u8005\u72c0\u614b\u78ba\u8a8d</li> <li>[ ] Bus Factor \u8a55\u4f30</li> </ul>"},{"location":"reference/sustainability/#_12","title":"\u5e74\u5ea6\u5be9\u67e5","text":"<ul> <li>[ ] \u4e3b\u8981\u7248\u672c\u898f\u5283</li> <li>[ ] \u67b6\u69cb\u6c7a\u7b56\u56de\u9867</li> <li>[ ] \u8ca2\u737b\u8005\u611f\u8b1d\u8207\u8a8d\u53ef</li> <li>[ ] \u53ef\u6301\u7e8c\u6027\u7b56\u7565\u66f4\u65b0</li> </ul>"},{"location":"reference/sustainability/#_13","title":"\ud83c\udf93 \u77e5\u8b58\u4fdd\u5b58","text":""},{"location":"reference/sustainability/#_14","title":"\u95dc\u9375\u77e5\u8b58\u8cc7\u7522","text":"\u77e5\u8b58\u985e\u578b \u4f4d\u7f6e \u8ca0\u8cac\u4eba \u67b6\u69cb\u6c7a\u7b56 <code>docs/adr/</code> @Boring206 API \u8a2d\u8a08 <code>docs/api/</code> @Boring206 \u914d\u7f6e\u8aaa\u660e <code>docs/reference/configuration.md</code> @Boring206 \u6545\u969c\u6392\u9664 <code>docs/reference/troubleshooting.md</code> @Boring206 \u8b8a\u66f4\u65e5\u8a8c <code>CHANGELOG.md</code> @Boring206"},{"location":"reference/sustainability/#_15","title":"\u96b1\u6027\u77e5\u8b58\u8f49\u5316","text":"<p>\u70ba\u9632\u6b62\u77e5\u8b58\u6d41\u5931\uff0c\u4ee5\u4e0b\u96b1\u6027\u77e5\u8b58\u9700\u8981\u6587\u6a94\u5316\uff1a</p> <ul> <li>[ ] MCP \u5de5\u5177\u8a2d\u8a08\u539f\u5247</li> <li>[ ] RAG \u7d22\u5f15\u7b56\u7565\u6c7a\u7b56</li> <li>[ ] Brain Manager \u8cc7\u6599\u7d50\u69cb\u6f14\u9032</li> <li>[ ] \u7248\u672c\u767c\u5e03\u6d41\u7a0b\u7d30\u7bc0</li> <li>[ ] \u5e38\u898b bug \u6a21\u5f0f\u548c\u89e3\u6c7a\u65b9\u6848</li> </ul>"},{"location":"reference/sustainability/#_16","title":"\ud83d\udcca \u5065\u5eb7\u6307\u6a19","text":""},{"location":"reference/sustainability/#_17","title":"\u9805\u76ee\u5065\u5eb7\u5100\u8868\u677f","text":"\u6307\u6a19 \u76ee\u6a19 \u7576\u524d \u72c0\u614b Bus Factor \u2265 2 1 \ud83d\udfe1 \u6e2c\u8a66\u8986\u84cb\u7387 \u2265 60% 60% \u2705 \u6587\u6a94\u8986\u84cb\u7387 \u2265 80% ~80% \u2705 \u958b\u653e Issues &lt; 50 ~20 \u2705 PR \u97ff\u61c9\u6642\u9593 &lt; 7 \u5929 ~2 \u5929 \u2705 \u4f9d\u8cf4\u904e\u671f\u6578 0 0 \u2705 \u5b89\u5168\u6f0f\u6d1e 0 \u9ad8/\u4e2d 0 \u2705 CI \u901a\u904e\u7387 100% ~99% \u2705"},{"location":"reference/sustainability/#_18","title":"\ud83c\udd98 \u61c9\u6025\u8a08\u5283","text":""},{"location":"reference/sustainability/#_19","title":"\u5982\u679c\u4e3b\u8981\u7dad\u8b77\u8005\u7121\u6cd5\u7e7c\u7e8c","text":"<ol> <li>\u77ed\u671f (1-3 \u500b\u6708):</li> <li>\u793e\u5340\u6210\u54e1\u63a5\u7ba1 Issue \u5206\u985e</li> <li>Dependabot \u81ea\u52d5\u7dad\u8b77\u4f9d\u8cf4</li> <li> <p>CI/CD \u6301\u7e8c\u904b\u884c</p> </li> <li> <p>\u4e2d\u671f (3-6 \u500b\u6708):</p> </li> <li>\u62db\u52df\u65b0\u7dad\u8b77\u8005 (\u900f\u904e MAINTAINERS.md)</li> <li> <p>\u793e\u5340\u6295\u7968\u6c7a\u5b9a\u9805\u76ee\u65b9\u5411</p> </li> <li> <p>\u9577\u671f:</p> </li> <li>\u8003\u616e\u6350\u8d08\u7d66\u57fa\u91d1\u6703 (\u5982 Python Software Foundation)</li> <li>\u6216 Archive \u9805\u76ee\u4e26\u63a8\u85a6\u66ff\u4ee3\u65b9\u6848</li> </ol>"},{"location":"reference/sustainability/#_20","title":"\u806f\u7d61\u65b9\u5f0f","text":"<p>\u7dca\u6025\u60c5\u6cc1\u8acb\u806f\u7d61: - GitHub Issues: \u516c\u958b\u8a0e\u8ad6 - Email: \u898b SECURITY.md</p> <p>\u6700\u5f8c\u66f4\u65b0: 2026-01-12 | \u7248\u672c: 1.0.0</p>"},{"location":"reference/sustainability_zh/","title":"\u9805\u76ee\u53ef\u6301\u7e8c\u6027\u7b56\u7565 (Sustainability Strategy)","text":"<p>\u89e3\u6c7a\u98a8\u96aa: \u55ae\u4e00\u7dad\u8b77\u8005\u7684\u53ef\u6301\u7e8c\u6027\u98a8\u96aa\u3001\u529f\u80fd\u81a8\u8139\u3001\u6280\u8853\u68e7\u4f9d\u8cf4</p> <p>\u672c\u6587\u6a94\u8aaa\u660e Boring-Gemini \u9805\u76ee\u7684\u53ef\u6301\u7e8c\u767c\u5c55\u7b56\u7565\uff0c\u78ba\u4fdd\u9805\u76ee\u9577\u671f\u5065\u5eb7\u767c\u5c55\u3002</p>"},{"location":"reference/sustainability_zh/#_1","title":"\ud83c\udfaf \u53ef\u6301\u7e8c\u6027\u9858\u666f","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        \ud83c\udf31 \u53ef\u6301\u7e8c\u6027\u4e09\u5927\u652f\u67f1                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502   \u2502  \ud83d\udc65 \u4eba\u54e1\u5f48\u6027     \u2502   \u2502  \ud83d\udd27 \u6280\u8853\u5f48\u6027     \u2502   \u2502  \ud83d\udce6 \u67b6\u69cb\u5f48\u6027     \u2502          \u2502\n\u2502   \u2502  (Bus Factor)   \u2502   \u2502  (Tech Agnostic) \u2502   \u2502  (Modularity)   \u2502          \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502            \u2502                     \u2502                     \u2502                    \u2502\n\u2502   \u2022 \u591a\u7dad\u8b77\u8005        \u2022 LLM \u62bd\u8c61\u5c64      \u2022 \u63d2\u4ef6\u7cfb\u7d71               \u2502\n\u2502   \u2022 \u5b8c\u5584\u6587\u6a94        \u2022 \u53ef\u9078\u4f9d\u8cf4         \u2022 \u6700\u5c0f\u6838\u5fc3               \u2502\n\u2502   \u2022 \u81ea\u52d5\u5316 CI/CD    \u2022 \u964d\u7d1a\u7b56\u7565         \u2022 \u6e05\u6670\u908a\u754c               \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/sustainability_zh/#_2","title":"\ud83d\udea8 \u98a8\u96aa\u8b58\u5225\u8207\u7de9\u89e3","text":""},{"location":"reference/sustainability_zh/#1-bus-factor-1","title":"\u98a8\u96aa 1: \u55ae\u4e00\u7dad\u8b77\u8005 (Bus Factor = 1)","text":"<p>\u7576\u524d\u72c0\u614b: \u26a0\ufe0f \u9ad8\u98a8\u96aa</p> <p>\u5f71\u97ff: \u5982\u679c\u4e3b\u8981\u7dad\u8b77\u8005\u7121\u6cd5\u7e7c\u7e8c\uff0c\u9805\u76ee\u53ef\u80fd\u505c\u6eef</p> <p>\u7de9\u89e3\u7b56\u7565:</p> \u7b56\u7565 \u884c\u52d5 \u72c0\u614b \u6587\u6a94\u5b8c\u6574 \u6240\u6709\u67b6\u69cb\u6c7a\u7b56\u90fd\u6709\u6587\u6a94\u8a18\u9304 \u2705 \u5df2\u5be6\u65bd \u81ea\u52d5\u5316 CI/CD \u5168\u81ea\u52d5\u5316\uff0c\u6e1b\u5c11\u4eba\u5de5\u5e72\u9810 \u2705 \u5df2\u5be6\u65bd \u7dad\u8b77\u8005\u62db\u52df \u5275\u5efa MAINTAINERS.md\uff0c\u660e\u78ba\u8ca2\u737b\u968e\u68af \u2705 \u5df2\u5be6\u65bd \u9818\u57df\u5c08\u5bb6 \u5728 CODEOWNERS \u4e2d\u5b9a\u7fa9\u9818\u57df\u8ca0\u8cac\u4eba \u2705 \u5df2\u5be6\u65bd \u6c7a\u7b56\u8a18\u9304 ADR (Architecture Decision Records) \ud83d\udd04 \u9032\u884c\u4e2d \u77e5\u8b58\u8f49\u79fb \u9304\u88fd\u95dc\u9375\u7cfb\u7d71\u7684\u8aaa\u660e\u8996\u983b \ud83d\udcc5 \u8a08\u5283\u4e2d"},{"location":"reference/sustainability_zh/#2-feature-creep","title":"\u98a8\u96aa 2: \u529f\u80fd\u81a8\u8139 (Feature Creep)","text":"<p>\u7576\u524d\u72c0\u614b: \u26a0\ufe0f \u4e2d\u7b49\u98a8\u96aa</p> <p>\u5f71\u97ff: \u7dad\u8b77\u6210\u672c\u589e\u52a0\uff0c\u4ee3\u78bc\u8cea\u91cf\u4e0b\u964d</p> <p>\u7de9\u89e3\u7b56\u7565:</p> \u7b56\u7565 \u884c\u52d5 \u72c0\u614b \u529f\u80fd\u77e9\u9663 \u7dad\u8b77 feature-matrix.md \u2705 \u5df2\u5be6\u65bd \u6a21\u7d44\u5316\u5b89\u88dd extras: <code>[mcp]</code>, <code>[vector]</code>, <code>[gui]</code> \u2705 \u5df2\u5be6\u65bd \u63d2\u4ef6\u512a\u5148 \u65b0\u529f\u80fd\u512a\u5148\u4f5c\u70ba\u63d2\u4ef6 \u2705 \u5df2\u5be6\u65bd \u5b9a\u671f\u5be9\u67e5 \u5b63\u5ea6\u529f\u80fd\u5be9\u67e5\u6703\u8b70 \ud83d\udcc5 \u8a08\u5283\u4e2d \u68c4\u7528\u6d41\u7a0b \u660e\u78ba\u7684\u529f\u80fd\u751f\u547d\u9031\u671f \u2705 \u5df2\u5be6\u65bd"},{"location":"reference/sustainability_zh/#3-vendor-lock-in","title":"\u98a8\u96aa 3: \u6280\u8853\u68e7\u5f37\u4f9d\u8cf4 (Vendor Lock-in)","text":"<p>\u7576\u524d\u72c0\u614b: \u26a0\ufe0f \u4e2d\u7b49\u98a8\u96aa</p> <p>\u7de9\u89e3\u7b56\u7565:</p> \u7b56\u7565 \u884c\u52d5 \u72c0\u614b LLM \u62bd\u8c61 <code>src/boring/llm/provider.py</code> \u4ecb\u9762 \u2705 \u5df2\u5be6\u65bd \u591a Provider Gemini, Ollama, OpenAI, Claude \u2705 \u5df2\u5be6\u65bd \u964d\u7d1a\u6a5f\u5236 \u529f\u80fd\u5728\u4f9d\u8cf4\u4e0d\u53ef\u7528\u6642\u512a\u96c5\u964d\u7d1a \u2705 \u5df2\u5be6\u65bd \u672c\u5730\u512a\u5148 \u652f\u6301\u5b8c\u5168\u96e2\u7dda\u4f7f\u7528 (Ollama) \u2705 \u5df2\u5be6\u65bd"},{"location":"reference/sustainability_zh/#_3","title":"\ud83d\udcca \u5065\u5eb7\u6307\u6a19","text":"\u6307\u6a19 \u76ee\u6a19 \u7576\u524d \u72c0\u614b Bus Factor \u2265 2 1 \ud83d\udfe1 \u62db\u52df\u4e2d \u6e2c\u8a66\u8986\u84cb\u7387 \u2265 60% 60% \u2705 \u6587\u6a94\u8986\u84cb\u7387 \u2265 80% ~80% \u2705 \u958b\u653e Issues &lt; 50 ~20 \u2705 PR \u97ff\u61c9\u6642\u9593 &lt; 7 \u5929 ~2 \u5929 \u2705 \u4f9d\u8cf4\u904e\u671f\u6578 0 0 \u2705 \u5b89\u5168\u6f0f\u6d1e 0 \u9ad8/\u4e2d 0 \u2705"},{"location":"reference/sustainability_zh/#_4","title":"\ud83d\udd17 \u76f8\u95dc\u6587\u6a94","text":"<ul> <li>\u7dad\u8b77\u8005\u6307\u5357</li> <li>\u529f\u80fd\u77e9\u9663</li> <li>LLM \u9069\u914d\u5668\u6307\u5357</li> <li>\u8ca2\u737b\u6307\u5357</li> </ul> <p>\u6700\u5f8c\u66f4\u65b0: 2026-01-12</p>"},{"location":"reference/troubleshooting/","title":"Troubleshooting Guide","text":"<p>Diagnose and fix common issues with Boring.</p>"},{"location":"reference/troubleshooting/#diagnosis-tools","title":"\ud83d\udd0d Diagnosis Tools","text":"<p>Before trying manual fixes, use built-in diagnosis tools:</p> <pre><code># Check environment and system health\nboring doctor\n\n# Show current configuration (useful for debugging)\nboring config show\n\n# View logs\ntail -f ~/.boring_logs/boring.log\n</code></pre>"},{"location":"reference/troubleshooting/#common-issues","title":"\ud83d\uded1 Common Issues","text":""},{"location":"reference/troubleshooting/#1-agent-is-stuck-in-thinking-state","title":"1. \"Agent is stuck in Thinking state\"","text":"<p>Symptoms: The spinner keeps spinning for &gt; 2 minutes with no output.</p> <p>Causes: - API rate limits (429) - Complex prompt causing timeout - Network connectivity issues</p> <p>Solutions: 1. Check logs: <code>tail ~/.boring_logs/boring.log</code> for API errors. 2. Restart: <code>Ctrl+C</code> to stop, then <code>boring start</code> again. Boring resumes from memory. 3. Reset context: If stuck on a bad thought loop:    <pre><code>rm .boring/memory/context.json\nboring start\n</code></pre></p>"},{"location":"reference/troubleshooting/#2-rag-search-returns-no-results","title":"2. \"RAG search returns no results\"","text":"<p>Symptoms: <code>boring_rag_search</code> returns empty list.</p> <p>Causes: - Index not built - Embeddings missing - <code>.gitignore</code> excluding source files</p> <p>Solutions: 1. Force re-index:    <pre><code>boring rag index --force\n</code></pre> 2. Check <code>.gitignore</code>: Ensure <code>src/</code> is not ignored. 3. Verify installation: Run <code>pip show chromadb</code>. If missing, install <code>boring-aicoding[mcp]</code>.</p>"},{"location":"reference/troubleshooting/#3-shadow-mode-blocking-everything","title":"3. \"Shadow Mode blocking everything\"","text":"<p>Symptoms: Every operation asks for approval, even safe ones.</p> <p>Causes: - Level set to <code>STRICT</code> in global config. - <code>auto_approve_patterns</code> are empty.</p> <p>Solutions: 1. Check level:    <pre><code>boring_shadow_mode status\n</code></pre> 2. Lower level (if safe):    <pre><code>boring_shadow_mode(action=\"set_level\", level=\"ENABLED\")\n</code></pre> 3. Reset config:    Delete <code>~/.boring/brain/shadow_config.json</code> to restore defaults.</p>"},{"location":"reference/troubleshooting/#4-smithery-installation-fails-on-gemini-client","title":"4. \"Smithery installation fails on Gemini Client\"","text":"<p>Symptoms: Error during <code>npx</code> installation or \"Connection refused\".</p> <p>Causes: - Gemini Client has specific network/environment constraints for Smithery.</p> <p>Solution: Use local pip installation as fallback: 1. <code>git clone https://github.com/Boring206/boring-gemini.git</code> 2. <code>pip install -e .</code> 3. Configure MCP manually (see Configuration).</p>"},{"location":"reference/troubleshooting/#5-verification-fails-on-clean-code","title":"5. \"Verification fails on clean code\"","text":"<p>Symptoms: <code>boring verify</code> reports errors that exist only in cache.</p> <p>Causes: - Stale cache file.</p> <p>Solution: 1. Clear cache:    <pre><code>rm -rf .boring/cache/\n</code></pre> 2. Run fresh verification:    <pre><code>boring verify --force\n</code></pre></p>"},{"location":"reference/troubleshooting/#debugging-modes","title":"\ud83d\udc1b Debugging Modes","text":""},{"location":"reference/troubleshooting/#enable-debug-logs","title":"Enable Debug Logs","text":"<p>In <code>.boring.toml</code>: <pre><code>[boring]\ndebug = true\n</code></pre></p> <p>Or via ENV: <pre><code>export BORING_LOG_LEVEL=DEBUG\nboring start\n</code></pre></p>"},{"location":"reference/troubleshooting/#trace-api-calls","title":"Trace API Calls","text":"<p>To see exactly what's sent to the LLM: <pre><code>tail -f ~/.boring_logs/api_trace.log\n</code></pre></p>"},{"location":"reference/troubleshooting/#getting-help","title":"\ud83c\udd98 Getting Help","text":"<p>If these steps don't fix it:</p> <ol> <li>Run <code>boring doctor</code> and save the output.</li> <li>Collect logs: Zip <code>~/.boring_logs/</code>.</li> <li>Open an Issue: GitHub Issues with the above info.</li> </ol>"},{"location":"reference/troubleshooting/#6-tools-are-missing-command-not-found","title":"6. \"Tools are missing / Command not found\"","text":"<p>Symptoms: You try to use <code>boring_code_review</code> or <code>boring_test_gen</code> but the agent says \"Tool not found\".</p> <p>Causes: - You are likely in <code>minimal</code> or <code>ultra_lite</code> profile.</p> <p>Solution: 1. Check current profile:    <pre><code>boring config show\n</code></pre> 2. Switch to <code>lite</code> or <code>standard</code>:    <pre><code>export BORING_MCP_PROFILE=lite\n# Restart your IDE/Server\n</code></pre>    See MCP Profiles Guide for details.</p>"},{"location":"reference/troubleshooting_zh/","title":"\u6545\u969c\u6392\u9664\u6307\u5357","text":"<p>\u8a3a\u65b7\u4e26\u4fee\u5fa9 Boring \u7684\u5e38\u898b\u554f\u984c\u3002</p>"},{"location":"reference/troubleshooting_zh/#_2","title":"\ud83d\udd0d \u8a3a\u65b7\u5de5\u5177","text":"<p>\u5728\u5617\u8a66\u624b\u52d5\u4fee\u5fa9\u4e4b\u524d\uff0c\u8acb\u4f7f\u7528\u5167\u5efa\u8a3a\u65b7\u5de5\u5177\uff1a</p> <pre><code># \u6aa2\u67e5\u74b0\u5883\u548c\u7cfb\u7d71\u5065\u5eb7\u72c0\u6cc1\nboring doctor\n\n# \u986f\u793a\u7576\u524d\u914d\u7f6e\uff08\u5c0d\u9664\u932f\u5f88\u6709\u7528\uff09\nboring config show\n\n# \u67e5\u770b\u65e5\u8a8c\ntail -f ~/.boring_logs/boring.log\n</code></pre>"},{"location":"reference/troubleshooting_zh/#_3","title":"\ud83d\uded1 \u5e38\u898b\u554f\u984c","text":""},{"location":"reference/troubleshooting_zh/#1-agent-thinking","title":"1. \"Agent \u5361\u5728 Thinking \u72c0\u614b\"","text":"<p>\u75c7\u72c0\uff1a\u65cb\u8f49\u6307\u793a\u5668\u6301\u7e8c\u8d85\u904e 2 \u5206\u9418\uff0c\u6c92\u6709\u8f38\u51fa\u3002</p> <p>\u539f\u56e0\uff1a - API \u901f\u7387\u9650\u5236 (429) - \u8907\u96dc\u63d0\u793a\u5c0e\u81f4\u8d85\u6642 - \u7db2\u8def\u9023\u63a5\u554f\u984c</p> <p>\u89e3\u6c7a\u65b9\u6848\uff1a 1. \u6aa2\u67e5\u65e5\u8a8c\uff1a<code>tail ~/.boring_logs/boring.log</code> \u67e5\u770b API \u932f\u8aa4\u3002 2. \u91cd\u555f\uff1a\u6309 <code>Ctrl+C</code> \u505c\u6b62\uff0c\u7136\u5f8c\u518d\u6b21\u57f7\u884c <code>boring start</code>\u3002Boring \u6703\u5f9e\u8a18\u61b6\u4e2d\u6062\u5fa9\u3002 3. \u91cd\u7f6e\u4e0a\u4e0b\u6587\uff1a\u5982\u679c\u5361\u5728\u932f\u8aa4\u7684\u601d\u8003\u8ff4\u5708\u4e2d\uff1a    <pre><code>rm .boring/memory/context.json\nboring start\n</code></pre></p>"},{"location":"reference/troubleshooting_zh/#2-rag","title":"2. \"RAG \u641c\u5c0b\u6c92\u6709\u8fd4\u56de\u7d50\u679c\"","text":"<p>\u75c7\u72c0\uff1a<code>boring_rag_search</code> \u8fd4\u56de\u7a7a\u5217\u8868\u3002</p> <p>\u539f\u56e0\uff1a - \u7d22\u5f15\u672a\u5efa\u7acb - \u5d4c\u5165\u5411\u91cf\u7f3a\u5931 - <code>.gitignore</code> \u6392\u9664\u4e86\u539f\u59cb\u78bc\u6a94\u6848</p> <p>\u89e3\u6c7a\u65b9\u6848\uff1a 1. \u5f37\u5236\u91cd\u65b0\u7d22\u5f15\uff1a    <pre><code>boring rag index --force\n</code></pre> 2. \u6aa2\u67e5 <code>.gitignore</code>\uff1a\u78ba\u4fdd <code>src/</code> \u672a\u88ab\u5ffd\u7565\u3002 3. \u9a57\u8b49\u5b89\u88dd\uff1a\u57f7\u884c <code>pip show chromadb</code>\u3002\u5982\u679c\u7f3a\u5931\uff0c\u5b89\u88dd <code>boring-aicoding[mcp]</code>\u3002</p>"},{"location":"reference/troubleshooting_zh/#3","title":"3. \"\u5f71\u5b50\u6a21\u5f0f\u963b\u64cb\u4e86\u6240\u6709\u64cd\u4f5c\"","text":"<p>\u75c7\u72c0\uff1a\u6bcf\u500b\u64cd\u4f5c\u90fd\u8981\u6c42\u6279\u51c6\uff0c\u5373\u4f7f\u662f\u5b89\u5168\u7684\u64cd\u4f5c\u3002</p> <p>\u539f\u56e0\uff1a - \u5168\u57df\u914d\u7f6e\u4e2d\u7d1a\u5225\u8a2d\u70ba <code>STRICT</code>\u3002 - <code>auto_approve_patterns</code> \u70ba\u7a7a\u3002</p> <p>\u89e3\u6c7a\u65b9\u6848\uff1a 1. \u6aa2\u67e5\u7d1a\u5225\uff1a    <pre><code>boring_shadow_mode status\n</code></pre> 2. \u964d\u4f4e\u7d1a\u5225\uff08\u5982\u679c\u5b89\u5168\uff09\uff1a    <pre><code>boring_shadow_mode(action=\"set_level\", level=\"ENABLED\")\n</code></pre> 3. \u91cd\u7f6e\u914d\u7f6e\uff1a    \u522a\u9664 <code>~/.boring/brain/shadow_config.json</code> \u4ee5\u6062\u5fa9\u9810\u8a2d\u503c\u3002</p>"},{"location":"reference/troubleshooting_zh/#4-smithery-gemini-client","title":"4. \"Smithery \u5b89\u88dd\u5728 Gemini Client \u4e0a\u5931\u6557\"","text":"<p>\u75c7\u72c0\uff1a<code>npx</code> \u5b89\u88dd\u671f\u9593\u51fa\u932f\u6216 \"Connection refused\"\u3002</p> <p>\u539f\u56e0\uff1a - Gemini Client \u5c0d Smithery \u6709\u7279\u5b9a\u7684\u7db2\u8def/\u74b0\u5883\u9650\u5236\u3002</p> <p>\u89e3\u6c7a\u65b9\u6848\uff1a \u4f7f\u7528\u672c\u5730 pip \u5b89\u88dd\u4f5c\u70ba\u5099\u7528\uff1a 1. <code>git clone https://github.com/Boring206/boring-gemini.git</code> 2. <code>pip install -e .</code> 3. \u624b\u52d5\u914d\u7f6e MCP\uff08\u53c3\u898b \u914d\u7f6e\uff09\u3002</p>"},{"location":"reference/troubleshooting_zh/#5","title":"5. \"\u4e7e\u6de8\u7684\u4ee3\u78bc\u9a57\u8b49\u5931\u6557\"","text":"<p>\u75c7\u72c0\uff1a<code>boring verify</code> \u5831\u544a\u50c5\u5b58\u5728\u65bc\u5feb\u53d6\u4e2d\u7684\u932f\u8aa4\u3002</p> <p>\u539f\u56e0\uff1a - \u904e\u671f\u7684\u5feb\u53d6\u6a94\u6848\u3002</p> <p>\u89e3\u6c7a\u65b9\u6848\uff1a 1. \u6e05\u9664\u5feb\u53d6\uff1a    <pre><code>rm -rf .boring/cache/\n</code></pre> 2. \u57f7\u884c\u5168\u65b0\u9a57\u8b49\uff1a    <pre><code>boring verify --force\n</code></pre></p>"},{"location":"reference/troubleshooting_zh/#_4","title":"\ud83d\udc1b \u9664\u932f\u6a21\u5f0f","text":""},{"location":"reference/troubleshooting_zh/#_5","title":"\u555f\u7528\u9664\u932f\u65e5\u8a8c","text":"<p>\u5728 <code>.boring.toml</code> \u4e2d\uff1a <pre><code>[boring]\ndebug = true\n</code></pre></p> <p>\u6216\u900f\u904e\u74b0\u5883\u8b8a\u6578\uff1a <pre><code>export BORING_LOG_LEVEL=DEBUG\nboring start\n</code></pre></p>"},{"location":"reference/troubleshooting_zh/#api","title":"\u8ffd\u8e64 API \u547c\u53eb","text":"<p>\u67e5\u770b\u767c\u9001\u7d66 LLM \u7684\u78ba\u5207\u5167\u5bb9\uff1a <pre><code>tail -f ~/.boring_logs/api_trace.log\n</code></pre></p>"},{"location":"reference/troubleshooting_zh/#_6","title":"\ud83c\udd98 \u53d6\u5f97\u5e6b\u52a9","text":"<p>\u5982\u679c\u9019\u4e9b\u6b65\u9a5f\u7121\u6cd5\u4fee\u5fa9\uff1a</p> <ol> <li>\u57f7\u884c <code>boring doctor</code> \u4e26\u4fdd\u5b58\u8f38\u51fa\u3002</li> <li>\u6536\u96c6\u65e5\u8a8c\uff1a\u58d3\u7e2e <code>~/.boring_logs/</code>\u3002</li> <li>\u958b\u555f Issue\uff1aGitHub Issues \u4e26\u9644\u4e0a\u4e0a\u8ff0\u8cc7\u8a0a\u3002</li> </ol>"},{"location":"reference/troubleshooting_zh/#6","title":"6. \"\u627e\u4e0d\u5230\u5de5\u5177 / \u6307\u4ee4\u672a\u627e\u5230\"","text":"<p>\u75c7\u72c0\uff1a\u5617\u8a66\u4f7f\u7528 <code>boring_code_review</code> \u6216 <code>boring_test_gen</code> \u4f46 Agent \u8aaa\u300c\u627e\u4e0d\u5230\u5de5\u5177\u300d\u3002</p> <p>\u539f\u56e0\uff1a - \u60a8\u53ef\u80fd\u8655\u65bc <code>minimal</code> \u6216 <code>ultra_lite</code> Profile \u6a21\u5f0f\u3002</p> <p>\u89e3\u6c7a\u65b9\u6848\uff1a 1. \u6aa2\u67e5\u7576\u524d Profile\uff1a    <pre><code>boring config show\n</code></pre> 2. \u5207\u63db\u81f3 <code>lite</code> \u6216 <code>standard</code>\uff1a    <pre><code>export BORING_MCP_PROFILE=lite\n# \u91cd\u555f IDE/Server\n</code></pre>    \u8a73\u60c5\u8acb\u898b MCP Profiles \u6307\u5357\u3002</p>"},{"location":"tutorials/ADVANCED_TUTORIAL/","title":"Boring for Gemini: Advanced Developer Guide","text":"<p>Audience: Senior/Staff Engineers who want to understand the internals, extend the platform, or integrate it into enterprise workflows.</p>"},{"location":"tutorials/ADVANCED_TUTORIAL/#1-architecture-overview","title":"1. Architecture Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AI Client (Claude/Gemini)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502 MCP Protocol (stdio/HTTP)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    FastMCP Server Layer                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 V9 Tools    \u2502 V10 Tools      \u2502 Advanced Tools          \u2502 \u2502\n\u2502  \u2502 (Plugins,   \u2502 (RAG, Agents,  \u2502 (Security, Transactions,\u2502 \u2502\n\u2502  \u2502  Workspace) \u2502  Shadow Mode)  \u2502  Background, Context)   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502              Dynamic Discovery Resources                \u2502 \u2502\n\u2502  \u2502  boring://capabilities  |  boring://tools/{category}   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#key-design-decisions","title":"Key Design Decisions","text":"<ol> <li>Discovery-First: ~55 tools consolidated into 14 categories. AI queries <code>boring://capabilities</code> first.</li> <li>Transactional Safety: Git-based rollback for risky operations.</li> <li>Async by Default: Long tasks (test, verify, security scan) run in background threads.</li> <li>Memory Persistence: Cross-session context via SQLite + vector embeddings.</li> </ol>"},{"location":"tutorials/ADVANCED_TUTORIAL/#15-universal-router-tool-profiles-v1024","title":"1.5. Universal Router &amp; Tool Profiles (V10.24)","text":"<p>The Universal Router is the single gateway to all Boring tools. It uses keyword matching and category selection to route natural language intent to the right tools.</p>"},{"location":"tutorials/ADVANCED_TUTORIAL/#architecture","title":"Architecture","text":"<pre><code>                  User: \"Help me write tests\" \n                              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  ToolRouter.route(\"write tests\")  \u2502\n\u2502        \u2193                          \u2502\n\u2502   KeywordMatch: testing (95%)     \u2502\n\u2502        \u2193                          \u2502\n\u2502   \u2192 boring_test_gen              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#tool-profiles","title":"Tool Profiles","text":"<p>To reduce LLM context, use profiles:</p> Profile Tools Use Case <code>minimal</code> 8 Simple single-tool workflows <code>lite</code> 20 Default - daily dev work <code>standard</code> 50 Full-featured projects <code>full</code> 60+ Power users, everything exposed <p>Config (<code>.boring.toml</code>): <pre><code>[boring.mcp]\nprofile = \"lite\"\n</code></pre></p> <p>CLI: <pre><code>boring-route \"\u5e6b\u6211\u5beb\u6e2c\u8a66\"  # \u81ea\u52d5\u8def\u7531\u5230 boring_test_gen\nboring-route \"search for auth logic\"  # \u81ea\u52d5\u8def\u7531\u5230 boring_rag_search\n</code></pre></p>"},{"location":"tutorials/ADVANCED_TUTORIAL/#2-mcp-tool-registration-deep-dive","title":"2. MCP Tool Registration Deep Dive","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#entry-point-srcboringmcpserverpy","title":"Entry Point: <code>src/boring/mcp/server.py</code>","text":"<pre><code>def get_server_instance():\n    \"\"\"Configure and return the FastMCP server.\"\"\"\n    # V9: Plugins, Workspace, Auto-Fix\n    register_v9_tools(mcp, audited, helpers)\n\n    # V10: RAG, Multi-Agent, Shadow Mode\n    register_v10_tools(mcp, audited, helpers)\n\n    # V10.16: Security, Transactions, Background, Context\n    register_advanced_tools(mcp)\n\n    # Dynamic Discovery Resources\n    register_discovery_resources(mcp)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#creating-a-new-tool","title":"Creating a New Tool","text":"<pre><code># src/boring/mcp/tools/my_tool.py\nfrom pydantic import Field\nfrom boring.mcp.instance import mcp\n\n@mcp.tool()\ndef boring_my_tool(\n    target: str = Field(description=\"Target path to process\"),\n    mode: str = Field(default=\"standard\", description=\"Processing mode\"),\n) -&gt; str:\n    \"\"\"One-line description shown in MCP.\"\"\"\n    # Implementation\n    return {\"status\": \"success\", \"result\": ...}\n</code></pre> <p>Important: All parameters MUST use <code>Field(description=...)</code> for Smithery schema generation.</p>"},{"location":"tutorials/ADVANCED_TUTORIAL/#3-dynamic-discovery-system","title":"3. Dynamic Discovery System","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#how-it-works","title":"How It Works","text":"<pre><code># src/boring/mcp/tools/discovery.py\nCAPABILITIES = {\n    \"security\": {\n        \"description\": \"Security scanning, secret detection\",\n        \"tools\": [\"boring_security_scan\"],\n        \"docs\": \"Use boring_security_scan to check for vulnerabilities.\",\n    },\n    # ... 13 more categories\n}\n\n@mcp.resource(\"boring://capabilities\")\ndef get_capabilities() -&gt; str:\n    \"\"\"AI calls this first to understand available tools.\"\"\"\n    return json.dumps(CAPABILITIES)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#ai-workflow","title":"AI Workflow","text":"<ol> <li>AI calls <code>boring://capabilities</code> \u2192 gets category list</li> <li>AI calls <code>boring://tools/security</code> \u2192 gets detailed usage</li> <li>AI invokes <code>boring_security_scan()</code></li> </ol>"},{"location":"tutorials/ADVANCED_TUTORIAL/#4-transaction-rollback-pattern","title":"4. Transaction &amp; Rollback Pattern","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#usage","title":"Usage","text":"<pre><code># Start transaction (creates git stash)\nboring_transaction_start(message=\"Refactoring auth module\")\n\n# Make risky changes...\nboring_multi_agent(task=\"Refactor authentication\")\n\n# Verify\nresult = boring_verify(level=\"FULL\")\n\nif result[\"passed\"]:\n    boring_transaction_commit()  # Finalize\nelse:\n    boring_rollback()  # Restore previous state\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#internals-srcboringtransactionspy","title":"Internals (<code>src/boring/transactions.py</code>)","text":"<ul> <li>Uses <code>git stash</code> for atomic savepoints</li> <li>Tracks transaction stack for nested operations</li> <li>Auto-rollback on unhandled exceptions</li> </ul>"},{"location":"tutorials/ADVANCED_TUTORIAL/#5-background-task-system","title":"5. Background Task System","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#architecture_1","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  MCP Tool Call   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 BackgroundTaskRunner\u2502\n\u2502  (non-blocking)  \u2502     \u2502  (ThreadPoolExecutor)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u25bc                            \u25bc                            \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 verify  \u2502                 \u2502  test   \u2502                  \u2502 security\u2502\n  \u2502  task   \u2502                 \u2502  task   \u2502                  \u2502  scan   \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#usage_1","title":"Usage","text":"<pre><code># Submit task\nresult = boring_background_task(task_type=\"verify\", task_args={\"level\": \"FULL\"})\ntask_id = result[\"task_id\"]  # \"task-a1b2c3d4\"\n\n# Check status (non-blocking)\nstatus = boring_task_status(task_id=task_id)\n# {\"status\": \"running\", \"progress\": 45, ...}\n\n# List all active tasks\ntasks = boring_list_tasks()\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#6-shadow-mode-human-in-the-loop","title":"6. Shadow Mode (Human-in-the-Loop)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#when-to-use","title":"When to Use","text":"<ul> <li>File deletions</li> <li>Database migrations</li> <li>Production deployments</li> <li>Any operation marked \"high-risk\"</li> </ul>"},{"location":"tutorials/ADVANCED_TUTORIAL/#workflow","title":"Workflow","text":"<pre><code># Enable Shadow Mode\nboring_shadow_mode(mode=\"STRICT\")\n\n# High-risk operation is CAPTURED, not executed\nboring_multi_agent(task=\"Delete all test files\")\n# Returns: {\"status\": \"pending_approval\", \"operation_id\": \"op-xyz\"}\n\n# Human reviews\nboring_shadow_status()  # See pending operations\n\n# Approve or Reject\nboring_shadow_approve(operation_id=\"op-xyz\", note=\"Reviewed, safe to proceed\")\n# or\nboring_shadow_reject(operation_id=\"op-xyz\", note=\"Too risky\")\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#7-plugin-development","title":"7. Plugin Development","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#structure","title":"Structure","text":"<pre><code>.boring_plugins/\n\u251c\u2500\u2500 my_plugin/\n\u2502   \u251c\u2500\u2500 plugin.yaml      # Metadata\n\u2502   \u251c\u2500\u2500 __init__.py      # Entry point\n\u2502   \u2514\u2500\u2500 handlers.py      # Logic\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#pluginyaml","title":"plugin.yaml","text":"<pre><code>name: my_plugin\nversion: 1.0.0\ndescription: Custom code analyzer\nhooks:\n  - pre_verify\n  - post_commit\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#initpy","title":"init.py","text":"<pre><code>def pre_verify(context):\n    \"\"\"Called before every verification.\"\"\"\n    print(f\"Verifying: {context.project_path}\")\n    return {\"skip\": False}  # Return {\"skip\": True} to bypass\n\ndef post_commit(context):\n    \"\"\"Called after every commit.\"\"\"\n    # Send Slack notification, update dashboard, etc.\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#registration","title":"Registration","text":"<pre><code>boring_run_plugin(name=\"my_plugin\", args={\"target\": \"src/\"})\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#8-rag-semantic-search","title":"8. RAG &amp; Semantic Search","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#indexing","title":"Indexing","text":"<pre><code># Index the codebase (runs on first call)\nboring_rag_index(force=True)  # Rebuild index\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#search","title":"Search","text":"<pre><code># Natural language query\nresults = boring_rag_search(\n    query=\"authentication middleware that validates JWT\",\n    max_results=5,\n    expand_graph=True,  # Include callers/callees\n)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#dependency-graph","title":"Dependency Graph","text":"<pre><code># Get context for a specific function\ncontext = boring_rag_context(\n    file_path=\"src/auth/jwt.py\",\n    function_name=\"validate_token\",\n)\n# Returns: callers, callees, related files\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#9-multi-agent-orchestration","title":"9. Multi-Agent Orchestration","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#agent-roles","title":"Agent Roles","text":"Agent Role Tools Used Architect Design, planning <code>boring_agent_plan</code> Coder Implementation File edits, <code>boring_delegate</code> Reviewer Quality assurance <code>boring_agent_review</code>, <code>boring_verify</code>"},{"location":"tutorials/ADVANCED_TUTORIAL/#custom-delegation","title":"Custom Delegation","text":"<pre><code># Delegate to specialized sub-agent\nboring_delegate(\n    task=\"Query the database for user schema\",\n    tool_type=\"database\",  # database, web_search, file_system, api, reasoning\n)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#10-speckit-workflows","title":"10. SpecKit Workflows","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#available-workflows","title":"Available Workflows","text":"Command Purpose <code>/speckit-clarify</code> Generate clarifying questions <code>/speckit-plan</code> Create implementation plan <code>/speckit-tasks</code> Break plan into actionable tasks <code>/speckit-analyze</code> Cross-artifact consistency check <code>/speckit-checklist</code> Generate quality checklist"},{"location":"tutorials/ADVANCED_TUTORIAL/#chaining-example","title":"Chaining Example","text":"<pre><code>1. User: \"Build a payment system\"\n2. AI: /speckit-clarify \u2192 \"What payment providers? What currencies?\"\n3. User answers\n4. AI: /speckit-plan \u2192 Detailed implementation plan\n5. AI: /speckit-tasks \u2192 Checklist of 15 tasks\n6. AI: boring_multi_agent() \u2192 Execute plan\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#13-team-knowledge-portability-brain","title":"13. Team Knowledge &amp; Portability (Brain)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#the-boringbrain-directory","title":"The <code>.boring/brain/</code> Directory","text":"<p>The \"Shared Brain\" of your project. It contains portable knowledge that can be committed to Git and shared across your team.</p> Subdirectory/File Content Portable? Purpose <code>patterns.json</code> Learned coding styles \u2705 YES Teaches AI your team's specific coding patterns <code>rubrics/*.yaml</code> Evaluation standards \u2705 YES Standardizes code review criteria across team <code>quality_history.json</code> Quality scores \u26a0\ufe0f NO Project-specific history (don't copy to new repos)"},{"location":"tutorials/ADVANCED_TUTORIAL/#porting-knowledge","title":"Porting Knowledge","text":"<p>To transfer AI knowledge to a new project: 1. Copy <code>.boring/brain/patterns.json</code> 2. Copy <code>.boring/brain/rubrics/</code> 3. Commit to the new repo 4. Result: AI immediately adopts your team's coding style and review standards.</p>"},{"location":"tutorials/ADVANCED_TUTORIAL/#learning-patterns-boring_learn","title":"Learning Patterns (<code>boring_learn</code>)","text":"<p>AI learns from your modifications. 1. You fix a bug or refactor code in your preferred style. 2. Run <code>/learn_patterns</code> (or <code>boring_learn</code>). 3. AI compares <code>HEAD</code> vs <code>HEAD~1</code>, extracts the \"diff pattern\", and saves it. 4. Next time: AI applies this pattern automatically.</p>"},{"location":"tutorials/ADVANCED_TUTORIAL/#11-smithery-deployment","title":"11. Smithery Deployment","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#smitheryyaml","title":"smithery.yaml","text":"<pre><code>startCommand:\n  type: stdio\n  configSchema:\n    type: object\n    properties:\n      GOOGLE_API_KEY:\n        type: string\n        description: API key for Gemini\n    required:\n      - GOOGLE_API_KEY\n  commandFunction:\n    command: python\n    args: [\"-m\", \"boring.mcp.server\"]\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#http-mode-for-debugging","title":"HTTP Mode (for debugging)","text":"<pre><code>python -m boring.mcp.http --port 8000\n# Access: http://localhost:8000/.well-known/mcp.json\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#12-testing-quality-gates","title":"12. Testing &amp; Quality Gates","text":""},{"location":"tutorials/ADVANCED_TUTORIAL/#run-tests","title":"Run Tests","text":"<pre><code>pytest tests/ -v --cov=src/boring --cov-fail-under=39\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<pre><code>boring_hooks_install  # Sets up pre-commit hooks\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#cicd-integration","title":"CI/CD Integration","text":"<pre><code># .github/workflows/quality.yml\njobs:\n  lint:\n    run: ruff check src/ tests/\n  format:\n    run: ruff format --check src/ tests/\n  test:\n    run: pytest tests/ --cov\n  security:\n    run: boring_security_scan\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL/#quick-reference-card","title":"Quick Reference Card","text":"Category Key Tools Knowledge <code>boring_learn</code>, <code>boring_create_rubrics</code> Verification <code>boring_verify</code>, <code>boring_auto_fix</code> Security <code>boring_security_scan</code> Transactions <code>boring_transaction_start</code>, <code>boring_rollback</code> Background <code>boring_background_task</code>, <code>boring_task_status</code> RAG <code>boring_rag_search</code>, <code>boring_rag_context</code> Agents <code>boring_multi_agent</code>, <code>boring_agent_plan</code> Shadow <code>boring_shadow_mode</code>, <code>boring_shadow_approve</code> Plugins <code>boring_run_plugin</code>, <code>boring_list_plugins</code> Workspace <code>boring_workspace_add</code>, <code>boring_workspace_switch</code>"},{"location":"tutorials/ADVANCED_TUTORIAL/#next-steps","title":"Next Steps","text":"<ol> <li>Explore: Run <code>boring://capabilities</code> to see all available tools</li> <li>Experiment: Try <code>boring_multi_agent(task=\"...\", execute=True)</code> to run in background (Use with caution!)</li> <li>Extend: Create a custom plugin in <code>.boring_plugins/</code></li> <li>Contribute: See <code>CONTRIBUTING.md</code> for development guidelines</li> </ol> <p>Built with \u2764\ufe0f by the Boring for Gemini team</p> <p>Last updated: V14.0.0</p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/","title":"Boring for Gemini: \u9032\u968e\u958b\u767c\u8005\u6307\u5357 (Advanced Developer Guide)","text":"<p>\u9069\u5408\u5c0d\u8c61: \u8cc7\u6df1/\u4e3b\u4efb\u5de5\u7a0b\u5e2b\uff0c\u60f3\u8981\u4e86\u89e3\u5167\u90e8\u6a5f\u5236\u3001\u64f4\u5c55\u5e73\u53f0\u529f\u80fd\u6216\u5c07\u5176\u6574\u5408\u81f3\u4f01\u696d\u5de5\u4f5c\u6d41\u4e2d\u3002</p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#1-architecture-overview","title":"1. \u67b6\u69cb\u7e3d\u89bd (Architecture Overview)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AI Client (Claude/Gemini)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502 MCP Protocol (stdio/HTTP)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    FastMCP Server Layer                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 V9 Tools    \u2502 V10 Tools      \u2502 Advanced Tools          \u2502 \u2502\n\u2502  \u2502 (Plugins,   \u2502 (RAG, Agents,  \u2502 (Security, Transactions,\u2502 \u2502\n\u2502  \u2502  Workspace) \u2502  Shadow Mode)  \u2502  Background, Context)   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502              Dynamic Discovery Resources                \u2502 \u2502\n\u2502  \u2502  boring://capabilities  |  boring://tools/{category}   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n25: \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_1","title":"\u95dc\u9375\u8a2d\u8a08\u6c7a\u7b56","text":"<ol> <li>\u63a2\u7d22\u512a\u5148 (Discovery-First): \u5c07\u7d04 55 \u500b\u5de5\u5177\u6574\u5408\u70ba 14 \u500b\u985e\u5225\u3002AI \u9996\u5148\u67e5\u8a62 <code>boring://capabilities</code>\u3002</li> <li>\u4e8b\u52d9\u5b89\u5168 (Transactional Safety): \u57fa\u65bc Git \u7684\u56de\u6efe\u6a5f\u5236\uff0c\u7528\u65bc\u98a8\u96aa\u64cd\u4f5c\u3002</li> <li>\u9810\u8a2d\u975e\u540c\u6b65 (Async by Default): \u9577\u6642\u9593\u4efb\u52d9\uff08\u6e2c\u8a66\u3001\u9a57\u8b49\u3001\u5b89\u5168\u6383\u63cf\uff09\u5728\u80cc\u666f\u57f7\u884c\u7dd2\u4e2d\u904b\u884c\u3002</li> <li>\u8a18\u61b6\u6301\u4e45\u5316 (Memory Persistence): \u900f\u904e SQLite + \u5411\u91cf\u5d4c\u5165 (Embeddings) \u5be6\u73fe\u8de8 Session \u4e0a\u4e0b\u6587\u3002</li> </ol>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#15-universal-router-tool-profiles-v140","title":"1.5. Universal Router \u8207 Tool Profiles (V14.0)","text":"<p>Universal Router \u662f\u6240\u6709 Boring \u5de5\u5177\u7684\u7d71\u4e00\u5165\u53e3\u3002\u5b83\u4f7f\u7528\u95dc\u9375\u5b57\u914d\u5c0d\u548c\u985e\u5225\u9078\u64c7\uff0c\u5c07\u81ea\u7136\u8a9e\u8a00\u610f\u5716\u8def\u7531\u5230\u6b63\u78ba\u7684\u5de5\u5177\u3002</p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_2","title":"\u67b6\u69cb","text":"<pre><code>                  \u7528\u6236: \"\u5e6b\u6211\u5beb\u6e2c\u8a66\" \n                              \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  ToolRouter.route(\"\u5beb\u6e2c\u8a66\")       \u2502\n\u2502        \u2193                          \u2502\n\u2502   KeywordMatch: testing (95%)     \u2502\n\u2502        \u2193                          \u2502\n\u2502   \u2192 boring_test_gen              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#tool-profiles","title":"Tool Profiles","text":"<p>\u70ba\u6e1b\u5c11 LLM \u4e0a\u4e0b\u6587\u4f54\u7528\uff0c\u4f7f\u7528 Profile\uff1a</p> Profile \u5de5\u5177\u6578 \u9069\u7528\u5834\u666f <code>minimal</code> 8 \u7c21\u55ae\u55ae\u4e00\u5de5\u5177\u5de5\u4f5c\u6d41 <code>lite</code> 20 \u9810\u8a2d - \u65e5\u5e38\u958b\u767c <code>standard</code> 50 \u5168\u529f\u80fd\u5c08\u6848 <code>full</code> 60+ \u9032\u968e\u7528\u6236\uff0c\u66b4\u9732\u6240\u6709\u5de5\u5177 <p>\u914d\u7f6e (<code>.boring.toml</code>)\uff1a <pre><code>[boring.mcp]\nprofile = \"lite\"\n</code></pre></p> <p>CLI\uff1a <pre><code>boring-route \"\u5e6b\u6211\u5beb\u6e2c\u8a66\"  # \u81ea\u52d5\u8def\u7531\u5230 boring_test_gen\nboring-route \"search for auth logic\"  # \u81ea\u52d5\u8def\u7531\u5230 boring_rag_search\n</code></pre></p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#2-mcp","title":"2. MCP \u5de5\u5177\u8a3b\u518a\u6df1\u5ea6\u89e3\u6790","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#srcboringmcpserverpy","title":"\u9032\u5165\u9ede\uff1a<code>src/boring/mcp/server.py</code>","text":"<pre><code>def get_server_instance():\n    \"\"\"Configure and return the FastMCP server.\"\"\"\n    # V9: Plugins, Workspace, Auto-Fix\n    register_v9_tools(mcp, audited, helpers)\n\n    # V10: RAG, Multi-Agent, Shadow Mode\n    register_v10_tools(mcp, audited, helpers)\n\n    # V10.16: Security, Transactions, Background, Context\n    register_advanced_tools(mcp)\n\n    # Dynamic Discovery Resources\n    register_discovery_resources(mcp)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_3","title":"\u5efa\u7acb\u65b0\u5de5\u5177","text":"<pre><code># src/boring/mcp/tools/my_tool.py\nfrom pydantic import Field\nfrom boring.mcp.instance import mcp\n\n@mcp.tool()\ndef boring_my_tool(\n    target: str = Field(description=\"Target path to process\"),\n    mode: str = Field(default=\"standard\", description=\"Processing mode\"),\n) -&gt; str:\n    \"\"\"One-line description shown in MCP.\"\"\"\n    # Implementation\n    return {\"status\": \"success\", \"result\": ...}\n</code></pre> <p>\u91cd\u8981: \u6240\u6709\u53c3\u6578\u90fd \u5fc5\u9808 \u4f7f\u7528 <code>Field(description=...)</code> \u4ee5\u4fbf Smithery\u751f\u6210 Schema\u3002</p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#3-dynamic-discovery-system","title":"3. \u52d5\u614b\u767c\u73fe\u7cfb\u7d71 (Dynamic Discovery System)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_4","title":"\u904b\u4f5c\u539f\u7406","text":"<pre><code># src/boring/mcp/tools/discovery.py\nCAPABILITIES = {\n    \"security\": {\n        \"description\": \"Security scanning, secret detection\",\n        \"tools\": [\"boring_security_scan\"],\n        \"docs\": \"Use boring_security_scan to check for vulnerabilities.\",\n    },\n    # ... 13 more categories\n}\n\n@mcp.resource(\"boring://capabilities\")\ndef get_capabilities() -&gt; str:\n    \"\"\"AI calls this first to understand available tools.\"\"\"\n    return json.dumps(CAPABILITIES)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#ai","title":"AI \u5de5\u4f5c\u6d41","text":"<ol> <li>AI \u547c\u53eb <code>boring://capabilities</code> \u2192 \u53d6\u5f97\u985e\u5225\u6e05\u55ae</li> <li>AI \u547c\u53eb <code>boring://tools/security</code> \u2192 \u53d6\u5f97\u8a73\u7d30\u7528\u6cd5</li> <li>AI \u57f7\u884c <code>boring_security_scan()</code></li> </ol>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#4-transaction-rollback-pattern","title":"4. \u4e8b\u52d9\u8207\u56de\u6efe\u6a21\u5f0f (Transaction &amp; Rollback Pattern)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_5","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<pre><code># \u958b\u59cb\u4e8b\u52d9 (\u5efa\u7acb git stash)\nboring_transaction_start(message=\"Refactoring auth module\")\n\n# \u57f7\u884c\u98a8\u96aa\u8b8a\u66f4...\nboring_multi_agent(task=\"Refactor authentication\")\n\n# \u9a57\u8b49\nresult = boring_verify(level=\"FULL\")\n\nif result[\"passed\"]:\n    boring_transaction_commit()  # \u5b8c\u6210\nelse:\n    boring_rollback()  # \u9084\u539f\u81f3\u5148\u524d\u72c0\u614b\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#srcboringtransactionspy","title":"\u5167\u90e8\u6a5f\u5236 (<code>src/boring/transactions.py</code>)","text":"<ul> <li>\u4f7f\u7528 <code>git stash</code> \u4f5c\u70ba\u539f\u5b50\u9084\u539f\u9ede (Savepoints)</li> <li>\u8ffd\u8e64\u4e8b\u52d9\u5806\u758a\u4ee5\u652f\u63f4\u5de2\u72c0\u64cd\u4f5c</li> <li>\u672a\u8655\u7406\u7684\u7570\u5e38\u6703\u81ea\u52d5\u89f8\u767c\u56de\u6efe</li> </ul>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#5-background-task-system","title":"5. \u80cc\u666f\u4efb\u52d9\u7cfb\u7d71 (Background Task System)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_6","title":"\u67b6\u69cb","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  MCP Tool Call   \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 BackgroundTaskRunner\u2502\n\u2502  (non-blocking)  \u2502     \u2502  (ThreadPoolExecutor)\u2502\n\u2502                  \u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n                                    \u2502\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u25bc                            \u25bc                            \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 verify  \u2502                 \u2502  test   \u2502                  \u2502 security\u2502\n  \u2502  task   \u2502                 \u2502  task   \u2502                  \u2502  scan   \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_7","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<pre><code># \u63d0\u4ea4\u4efb\u52d9\nresult = boring_background_task(task_type=\"verify\", task_args={\"level\": \"FULL\"})\ntask_id = result[\"task_id\"]  # \"task-a1b2c3d4\"\n\n# \u6aa2\u67e5\u72c0\u614b (\u975e\u963b\u585e)\nstatus = boring_task_status(task_id=task_id)\n# {\"status\": \"running\", \"progress\": 45, ...}\n\n# \u5217\u51fa\u6240\u6709\u6d3b\u8e8d\u4efb\u52d9\ntasks = boring_list_tasks()\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#6-shadow-mode-human-in-the-loop","title":"6. \u5f71\u5b50\u6a21\u5f0f (Shadow Mode - Human-in-the-Loop)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_8","title":"\u4f55\u6642\u4f7f\u7528","text":"<ul> <li>\u6a94\u6848\u522a\u9664</li> <li>\u8cc7\u6599\u5eab\u9077\u79fb</li> <li>\u751f\u7522\u74b0\u5883\u90e8\u7f72</li> <li>\u4efb\u4f55\u6a19\u8a18\u70ba\u300c\u9ad8\u98a8\u96aa\u300d\u7684\u64cd\u4f5c</li> </ul>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_9","title":"\u5de5\u4f5c\u6d41","text":"<pre><code># \u555f\u7528\u5f71\u5b50\u6a21\u5f0f\nboring_shadow_mode(mode=\"STRICT\")\n\n# \u9ad8\u98a8\u96aa\u64cd\u4f5c\u88ab\u300c\u6355\u7372\u300d\uff0c\u4e0d\u6703\u76f4\u63a5\u57f7\u884c\nboring_multi_agent(task=\"Delete all test files\")\n# \u8fd4\u56de: {\"status\": \"pending_approval\", \"operation_id\": \"op-xyz\"}\n\n# \u4eba\u985e\u9032\u884c\u5be9\u67e5\nboring_shadow_status()  # \u67e5\u770b\u5f85\u5be9\u64cd\u4f5c\n\n# \u6279\u51c6\u6216\u62d2\u7d55\nboring_shadow_approve(operation_id=\"op-xyz\", note=\"Reviewed, safe to proceed\")\n# \u6216\nboring_shadow_reject(operation_id=\"op-xyz\", note=\"Too risky\")\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#7-plugin-development","title":"7. \u63d2\u4ef6\u958b\u767c (Plugin Development)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_10","title":"\u7d50\u69cb","text":"<pre><code>.boring_plugins/\n\u251c\u2500\u2500 my_plugin/\n\u2502   \u251c\u2500\u2500 plugin.yaml      # Metadata\n\u2502   \u251c\u2500\u2500 __init__.py      # Entry point\n\u2502   \u2514\u2500\u2500 handlers.py      # Logic\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#pluginyaml","title":"plugin.yaml","text":"<pre><code>name: my_plugin\nversion: 1.0.0\ndescription: Custom code analyzer\nhooks:\n  - pre_verify\n  - post_commit\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#initpy","title":"init.py","text":"<pre><code>def pre_verify(context):\n    \"\"\"\u6bcf\u6b21\u9a57\u8b49\u524d\u547c\u53eb\"\"\"\n    print(f\"Verifying: {context.project_path}\")\n    return {\"skip\": False}  # \u8fd4\u56de {\"skip\": True} \u53ef\u7565\u904e\u9a57\u8b49\n\ndef post_commit(context):\n    \"\"\"\u6bcf\u6b21\u63d0\u4ea4\u5f8c\u547c\u53eb\"\"\"\n    # \u767c\u9001 Slack \u901a\u77e5\u3001\u66f4\u65b0\u5100\u8868\u677f\u7b49\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_11","title":"\u8a3b\u518a\u8207\u57f7\u884c","text":"<pre><code>boring_run_plugin(name=\"my_plugin\", args={\"target\": \"src/\"})\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#8-rag","title":"8. RAG \u8207\u8a9e\u7fa9\u641c\u5c0b","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#indexing","title":"\u7d22\u5f15 (Indexing)","text":"<pre><code># \u5efa\u7acb\u7a0b\u5f0f\u78bc\u5eab\u7d22\u5f15 (\u9996\u6b21\u57f7\u884c)\nboring_rag_index(force=True)  # \u91cd\u5efa\u7d22\u5f15\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#search","title":"\u641c\u5c0b (Search)","text":"<pre><code># \u81ea\u7136\u8a9e\u8a00\u67e5\u8a62\nresults = boring_rag_search(\n    query=\"authentication middleware that validates JWT\",\n    max_results=5,\n    expand_graph=True,  # \u5305\u542b\u547c\u53eb\u8005/\u88ab\u547c\u53eb\u8005\n)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#dependency-graph","title":"\u4f9d\u8cf4\u5716 (Dependency Graph)","text":"<pre><code># \u53d6\u5f97\u7279\u5b9a\u51fd\u6578\u7684\u4e0a\u4e0b\u6587\ncontext = boring_rag_context(\n    file_path=\"src/auth/jwt.py\",\n    function_name=\"validate_token\",\n)\n# \u8fd4\u56de: callers, callees, related files\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#9-multi-agent-orchestration","title":"9. \u591a\u667a\u80fd\u9ad4\u7de8\u6392 (Multi-Agent Orchestration)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_12","title":"\u667a\u80fd\u9ad4\u89d2\u8272","text":"Agent \u89d2\u8272 \u4f7f\u7528\u5de5\u5177 Architect (\u67b6\u69cb\u5e2b) \u8a2d\u8a08\u3001\u898f\u5283 <code>boring_agent_plan</code> Coder (\u5de5\u7a0b\u5e2b) \u5be6\u4f5c File edits, <code>boring_delegate</code> Reviewer (\u5be9\u67e5\u54e1) \u54c1\u8cea\u4fdd\u8b49 <code>boring_agent_review</code>, <code>boring_verify</code>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_13","title":"\u81ea\u8a02\u59d4\u6d3e","text":"<pre><code># \u59d4\u6d3e\u7d66\u5c08\u696d\u5b50 Agent\nboring_delegate(\n    task=\"Query the database for user schema\",\n    tool_type=\"database\",  # database, web_search, file_system, api, reasoning\n)\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#10-speckit","title":"10. SpecKit \u5de5\u4f5c\u6d41","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_14","title":"\u53ef\u7528\u5de5\u4f5c\u6d41","text":"\u6307\u4ee4 \u7528\u9014 <code>/speckit-clarify</code> \u751f\u6210\u91d0\u6e05\u554f\u984c <code>/speckit-plan</code> \u5efa\u7acb\u5be6\u4f5c\u8a08\u756b <code>/speckit-tasks</code> \u5c07\u8a08\u756b\u62c6\u89e3\u70ba\u53ef\u57f7\u884c\u7684\u4efb\u52d9 <code>/speckit-analyze</code> \u8de8\u6587\u4ef6\u4e00\u81f4\u6027\u6aa2\u67e5 (Spec vs Code) <code>/speckit-checklist</code> \u751f\u6210\u54c1\u8cea\u6aa2\u67e5\u6e05\u55ae"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_15","title":"\u4e32\u63a5\u7bc4\u4f8b","text":"<pre><code>1. \u7528\u6236: \"Build a payment system\"\n2. AI: /speckit-clarify \u2192 \"What payment providers? What currencies?\"\n3. User answers\n4. AI: /speckit-plan \u2192 Detailed implementation plan\n5. AI: /speckit-tasks \u2192 Checklist of 15 tasks\n6. AI: boring_multi_agent() \u2192 Execute plan\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#11-brain","title":"11. \u5718\u968a\u77e5\u8b58\u8207\u53ef\u651c\u6027 (Brain)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#boringbrain","title":"<code>.boring/brain/</code> \u76ee\u9304","text":"<p>\u9019\u662f\u5c08\u6848\u7684\u300c\u5171\u4eab\u5927\u8166\u300d\u3002\u5305\u542b\u53ef\u651c\u5f0f\u7684\u77e5\u8b58\uff0c\u53ef\u63d0\u4ea4\u5230 Git \u4e26\u5728\u5718\u968a\u9593\u5171\u4eab\u3002</p> \u5b50\u76ee\u9304/\u6a94\u6848 \u5167\u5bb9 \u53ef\u651c\u5e36? \u7528\u9014 <code>patterns.json</code> \u5b78\u7fd2\u5230\u7684\u7de8\u78bc\u98a8\u683c \u2705 YES \u6559\u5c0e AI \u4f60\u5011\u5718\u968a\u7279\u5b9a\u7684\u7de8\u78bc\u6a21\u5f0f <code>rubrics/*.yaml</code> \u8a55\u4f30\u6a19\u6e96 \u2705 YES \u7d71\u4e00\u5718\u968a\u9593\u7684\u4ee3\u78bc\u5be9\u67e5\u6a19\u6e96 <code>quality_history.json</code> \u54c1\u8cea\u5206\u6578\u6b77\u53f2 \u26a0\ufe0f NO \u5c08\u6848\u7279\u5b9a\u7684\u6b77\u53f2\u8a18\u9304 (\u52ff\u8907\u88fd\u5230\u65b0 Repo)"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_16","title":"\u79fb\u690d\u77e5\u8b58","text":"<p>\u5c07 AI \u77e5\u8b58\u8f49\u79fb\u5230\u65b0\u5c08\u6848\uff1a 1. \u8907\u88fd <code>.boring/brain/patterns.json</code> 2. \u8907\u88fd <code>.boring/brain/rubrics/</code> 3. \u63d0\u4ea4 \u5230\u65b0 Repo 4. \u7d50\u679c: AI \u7acb\u5373\u63a1\u7528\u4f60\u5011\u5718\u968a\u7684\u7de8\u78bc\u98a8\u683c\u8207\u5be9\u67e5\u6a19\u6e96\u3002</p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#boring_learn","title":"\u5b78\u7fd2\u6a21\u5f0f (<code>boring_learn</code>)","text":"<p>AI \u5f9e \u4f60\u7684 \u4fee\u6539\u4e2d\u5b78\u7fd2\u3002 1. \u4f60\u4ee5\u504f\u597d\u7684\u98a8\u683c\u4fee\u5fa9 Bug \u6216\u91cd\u69cb\u4ee3\u78bc\u3002 2. \u57f7\u884c <code>/learn_patterns</code> (\u6216 <code>boring_learn</code>)\u3002 3. AI \u6bd4\u8f03 <code>HEAD</code> \u8207 <code>HEAD~1</code>\uff0c\u63d0\u53d6 \"diff pattern\"\uff0c\u4e26\u5132\u5b58\u3002 4. \u4e0b\u6b21: AI \u6703\u81ea\u52d5\u61c9\u7528\u6b64\u6a21\u5f0f\u3002</p>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#12-smithery","title":"12. Smithery \u90e8\u7f72","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#smitheryyaml","title":"smithery.yaml","text":"<pre><code>startCommand:\n  type: stdio\n  configSchema:\n    type: object\n    properties:\n      GOOGLE_API_KEY:\n        type: string\n        description: API key for Gemini\n    required:\n      - GOOGLE_API_KEY\n  commandFunction:\n    command: python\n    args: [\"-m\", \"boring.mcp.server\"]\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#http","title":"HTTP \u6a21\u5f0f (\u9664\u932f\u7528)","text":"<pre><code>python -m boring.mcp.http --port 8000\n# \u5b58\u53d6: http://localhost:8000/.well-known/mcp.json\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#13-quality-gates","title":"13. \u6e2c\u8a66\u8207\u54c1\u8cea\u9580\u6abb (Quality Gates)","text":""},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_17","title":"\u57f7\u884c\u6e2c\u8a66","text":"<pre><code>pytest tests/ -v --cov=src/boring --cov-fail-under=39\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<pre><code>boring_hooks_install  # \u8a2d\u5b9a pre-commit hooks\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#cicd","title":"CI/CD \u6574\u5408","text":"<pre><code># .github/workflows/quality.yml\njobs:\n  lint:\n    run: ruff check src/ tests/\n  format:\n    run: ruff format --check src/ tests/\n  test:\n    run: pytest tests/ --cov\n  security:\n    run: boring_security_scan\n</code></pre>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#quick-reference-card","title":"\u5feb\u901f\u53c3\u8003\u5361 (Quick Reference Card)","text":"\u985e\u5225 \u95dc\u9375\u5de5\u5177 Knowledge <code>boring_learn</code>, <code>boring_create_rubrics</code> Verification <code>boring_verify</code>, <code>boring_auto_fix</code> Security <code>boring_security_scan</code> Transactions <code>boring_transaction_start</code>, <code>boring_rollback</code> Background <code>boring_background_task</code>, <code>boring_task_status</code> RAG <code>boring_rag_search</code>, <code>boring_rag_context</code> Agents <code>boring_multi_agent</code>, <code>boring_agent_plan</code> Shadow <code>boring_shadow_mode</code>, <code>boring_shadow_approve</code> Plugins <code>boring_run_plugin</code>, <code>boring_list_plugins</code> Workspace <code>boring_workspace_add</code>, <code>boring_workspace_switch</code>"},{"location":"tutorials/ADVANCED_TUTORIAL_zh/#_18","title":"\u4e0b\u4e00\u6b65","text":"<ol> <li>\u63a2\u7d22: \u57f7\u884c <code>boring://capabilities</code> \u67e5\u770b\u6240\u6709\u53ef\u7528\u5de5\u5177</li> <li>\u5be6\u9a57: \u5617\u8a66 <code>boring_multi_agent(task=\"...\", execute=True)</code> \u5728\u80cc\u666f\u57f7\u884c (\u8acb\u5c0f\u5fc3\u4f7f\u7528!)</li> <li>\u64f4\u5c55: \u5728 <code>.boring_plugins/</code> \u4e2d\u5efa\u7acb\u81ea\u8a02\u63d2\u4ef6</li> <li>\u8ca2\u737b: \u53c3\u95b1 <code>contributing_zh.md</code> \u4e86\u89e3\u958b\u767c\u6307\u5357</li> </ol> <p>Built with \u2764\ufe0f by the Boring for Gemini team</p> <p>\u5eab\u5f8c\u66f4\u65b0: V14.0.0</p>"},{"location":"tutorials/PRACTICAL_DEMO/","title":"\ud83d\udd25 Boring \u5be6\u6230\u5c55\u793a\uff1a10 \u5206\u9418\u8b93\u4f60\u898b\u8b58 AI \u958b\u767c\u7684\u672a\u4f86","text":"<p>\u300c\u4e0d\u6703\u5beb\u7a0b\u5f0f\u6c92\u95dc\u4fc2\uff0cBoring \u5e6b\u4f60\u641e\u5b9a\u4e00\u5207\u3002\u300d</p> <p>\u9019\u4e0d\u662f\u8a87\u5927\u2014\u2014\u9019\u662f Vibe Coding \u7684\u771f\u8ae6\u3002</p>"},{"location":"tutorials/PRACTICAL_DEMO/#boring","title":"\ud83c\udfaf \u4ec0\u9ebc\u662f Boring\uff1f","text":"<p>\u60f3\u50cf\u4f60\u6709\u4e00\u500b\u67b6\u69cb\u5e2b\u7d1a\u5225\u7684 AI \u8ecd\u5e2b\uff0c\u5b83\u4e0d\u53ea\u6703\u5beb\u7a0b\u5f0f\u78bc\uff0c\u9084\u6703\uff1a</p> <pre><code>\ud83c\udfdb\ufe0f \u8a2d\u8a08\u67b6\u69cb      \u2192  \u5728\u5beb\u7a0b\u5f0f\u78bc\u4e4b\u524d\uff0c\u5148\u5e6b\u4f60\u898f\u5283\u5168\u5c40\n\ud83d\udd0d \u5be9\u67e5\u4ee3\u78bc      \u2192  \u50cf\u8cc7\u6df1\u5de5\u7a0b\u5e2b\u4e00\u6a23 Review \u4f60\u7684\u4ee3\u78bc  \n\ud83d\udee1\ufe0f \u4fdd\u8b77\u5b89\u5168      \u2192  \u81ea\u52d5\u6aa2\u6e2c\u5b89\u5168\u6f0f\u6d1e\u548c\u654f\u611f\u8cc7\u8a0a\u5916\u6d29\n\ud83d\udd04 \u81ea\u52d5\u4fee\u5fa9      \u2192  \u4e00\u9375\u89e3\u6c7a Lint\u3001\u683c\u5f0f\u3001\u6e2c\u8a66\u554f\u984c\n\ud83e\udde0 \u5b78\u7fd2\u4f60\u7684\u98a8\u683c  \u2192  \u8a18\u4f4f\u4f60\u559c\u6b61\u600e\u9ebc\u5beb\u7a0b\u5f0f\u78bc\n</code></pre> <p>\u4e00\u53e5\u8a71\u7e3d\u7d50\uff1aBoring = \u4f60\u7684 AI \u958b\u767c\u5718\u968a\uff08\u67b6\u69cb\u5e2b + \u8cc7\u6df1\u5de5\u7a0b\u5e2b + QA\uff09</p>"},{"location":"tutorials/PRACTICAL_DEMO/#1-0-1","title":"\ud83d\ude80 \u5be6\u6230\u6848\u4f8b 1\uff1a\u5f9e 0 \u5230 1 \u5efa\u7acb\u5c08\u6848","text":""},{"location":"tutorials/PRACTICAL_DEMO/#fastapi","title":"\u5834\u666f\uff1a\u4f60\u60f3\u5efa\u7acb\u4e00\u500b FastAPI \u5f8c\u7aef","text":"<p>\u50b3\u7d71\u65b9\u5f0f\uff1a <pre><code>1. \u624b\u52d5\u5efa\u7acb\u5c08\u6848\u76ee\u9304\n2. \u521d\u59cb\u5316 Git\n3. \u8a2d\u5b9a\u865b\u64ec\u74b0\u5883\n4. \u5b89\u88dd\u4f9d\u8cf4\n5. \u5efa\u7acb\u6a94\u6848\u7d50\u69cb\n6. \u958b\u59cb\u5beb\u7a0b\u5f0f\u78bc...\n\uff0830 \u5206\u9418\u5f8c\uff0c\u4f60\u9084\u5728\u8a2d\u5b9a\u74b0\u5883\uff09\n</code></pre></p> <p>Boring \u65b9\u5f0f\uff1a <pre><code>\u4f60: \"\u5e6b\u6211\u5efa\u7acb\u4e00\u500b FastAPI \u8a8d\u8b49\u670d\u52d9\uff0c\u8981\u6709 JWT \u548c OAuth2\"\n\nBoring \u67b6\u69cb\u5e2b: \n  \"\u7b49\u7b49\uff0c\u5728\u958b\u59cb\u4e4b\u524d\u6211\u9700\u8981\u4e86\u89e3\u5e7e\u500b\u554f\u984c...\"\n\n  \ud83e\udd14 \u554f\u984c 1: \u8cc7\u6599\u5eab\u8981\u7528\u4ec0\u9ebc\uff1fPostgreSQL \u9084\u662f SQLite\uff1f\n  \ud83e\udd14 \u554f\u984c 2: \u9700\u8981\u652f\u63f4\u793e\u4ea4\u767b\u5165\u55ce\uff08Google/GitHub\uff09\uff1f\n  \ud83e\udd14 \u554f\u984c 3: Token \u904e\u671f\u6642\u9593\u591a\u4e45\uff1f\n\n\u4f60: \"PostgreSQL\uff0c\u8981 GitHub \u767b\u5165\uff0cToken 24 \u5c0f\u6642\"\n\nBoring: \n  \u2705 \u751f\u6210\u67b6\u69cb\u8a2d\u8a08...\n  \u2705 \u5efa\u7acb\u5c08\u6848\u7d50\u69cb...\n  \u2705 \u5be6\u4f5c\u8a8d\u8b49\u908f\u8f2f...\n  \u2705 \u64b0\u5beb\u6e2c\u8a66...\n  \u2705 \u9a57\u8b49\u901a\u904e\uff01\n\n  \ud83d\udcc1 \u4f60\u7684\u5c08\u6848\u5df2\u6e96\u5099\u5c31\u7dd2\uff1a\n  src/\n  \u251c\u2500\u2500 main.py           # FastAPI \u5165\u53e3\n  \u251c\u2500\u2500 auth/\n  \u2502   \u251c\u2500\u2500 jwt.py        # JWT \u5be6\u4f5c\n  \u2502   \u251c\u2500\u2500 oauth.py      # GitHub OAuth\n  \u2502   \u2514\u2500\u2500 middleware.py # \u8a8d\u8b49\u4e2d\u4ecb\u8edf\u9ad4\n  \u251c\u2500\u2500 models/           # \u8cc7\u6599\u6a21\u578b\n  \u2514\u2500\u2500 tests/            # \u6e2c\u8a66\uff08\u8986\u84cb\u7387 85%\uff09\n</code></pre></p> <p>\u6838\u5fc3\u6307\u4ee4 (Vibe Coder Style)\uff1a <pre><code>\u4f60: \"\u5e6b\u6211\u5efa\u7acb\u4e00\u500b FastAPI \u8a8d\u8b49\u670d\u52d9\uff0c\u8981\u6709 JWT \u548c GitHub OAuth\"\n\n# \u6216\u4f7f\u7528 CLI\nboring-route \"\u5efa\u7acb FastAPI \u8a8d\u8b49\u670d\u52d9\"\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO/#2","title":"\ud83d\udee0\ufe0f \u5be6\u6230\u6848\u4f8b 2\uff1a\u81ea\u52d5\u4fee\u5fa9\u4ee3\u78bc\u554f\u984c","text":""},{"location":"tutorials/PRACTICAL_DEMO/#lint","title":"\u5834\u666f\uff1a\u4f60\u7684\u4ee3\u78bc\u6709\u4e00\u5806 Lint \u932f\u8aa4","text":"<p>\u50b3\u7d71\u65b9\u5f0f\uff1a <pre><code>$ ruff check src/\nFound 47 errors in 12 files.\n\n\uff08\u7136\u5f8c\u4f60\u958b\u59cb\u4e00\u500b\u4e00\u500b\u4fee\uff09\n# 30 \u5206\u9418\u5f8c...\n</code></pre></p> <p>Boring \u65b9\u5f0f\uff1a <pre><code>\u4f60: \"/quick_fix\"\n\nBoring:\n  \ud83d\udd0d \u6383\u63cf\u4e2d...\n  \ud83d\udcca \u767c\u73fe 47 \u500b\u554f\u984c\uff1a\n     - 23 \u500b\u683c\u5f0f\u554f\u984c\n     - 15 \u500b\u672a\u4f7f\u7528\u7684 import\n     - 9 \u500b\u985e\u578b\u554f\u984c\n\n  \u26a1 \u81ea\u52d5\u4fee\u5fa9\u4e2d...\n  \u2705 47/47 \u554f\u984c\u5df2\u4fee\u5fa9\n  \u2705 \u683c\u5f0f\u5316\u5b8c\u6210\n  \u2705 \u6240\u6709\u6e2c\u8a66\u901a\u904e\n\n  \u7e3d\u8017\u6642\uff1a8.3 \u79d2\n</code></pre></p> <p>\u9019\u80cc\u5f8c\u767c\u751f\u4e86\u4ec0\u9ebc\uff1a <pre><code>boring-route \"/quick_fix\"\n    \u2193\nboring_verify \u2192 \u627e\u51fa\u6240\u6709\u554f\u984c\n    \u2193\nboring_auto_fix \u2192 \u81ea\u52d5\u4fee\u5fa9\n    \u2193\nruff format \u2192 \u683c\u5f0f\u5316\n    \u2193\npytest \u2192 \u78ba\u8a8d\u6c92\u58de\u6389\n</code></pre></p> <p>\ud83d\udca1 V14.0 \u63d0\u793a\uff1a\u4f7f\u7528 <code>boring-route</code> CLI \u6216\u81ea\u7136\u8a9e\u8a00\u5c0d\u8a71\uff0c\u7cfb\u7d71\u6703\u81ea\u52d5\u8def\u7531\u5230\u6b63\u78ba\u7684\u5de5\u5177\u3002</p>"},{"location":"tutorials/PRACTICAL_DEMO/#3","title":"\ud83d\udd12 \u5be6\u6230\u6848\u4f8b 3\uff1a\u5b89\u5168\u6383\u63cf\u8207\u9632\u8b77","text":""},{"location":"tutorials/PRACTICAL_DEMO/#api-key","title":"\u5834\u666f\uff1a\u4f60\u4e0d\u5c0f\u5fc3\u628a API Key \u5beb\u6b7b\u5728\u7a0b\u5f0f\u78bc\u88e1","text":"<p>\u50b3\u7d71\u65b9\u5f0f\uff1a <pre><code># \u4f60\u53ef\u80fd\u5230 Push \u5230 GitHub \u5f8c\u624d\u767c\u73fe...\n# \u7136\u5f8c\u63a5\u5230 GitHub Secret Scanning \u7684\u8b66\u544a\n# \u63a5\u8457\u7dca\u6025 Rotate Key\u3001Force Push...\n</code></pre></p> <p>Boring \u65b9\u5f0f\uff1a <pre><code>\u4f60: \"/security_scan\"\n\nBoring:\n  \ud83d\udd0d \u5b89\u5168\u6383\u63cf\u4e2d...\n\n  \ud83d\udea8 \u767c\u73fe 3 \u500b\u56b4\u91cd\u554f\u984c\uff01\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 HIGH: \u767c\u73fe\u786c\u7de8\u78bc\u7684 API Key                      \u2502\n  \u2502 \u4f4d\u7f6e: src/config.py:23                          \u2502\n  \u2502 \u5167\u5bb9: STRIPE_API_KEY = \"sk_live_...\"            \u2502\n  \u2502 \u5efa\u8b70: \u4f7f\u7528\u74b0\u5883\u8b8a\u6578 os.getenv(\"STRIPE_API_KEY\")  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 MEDIUM: \u4f7f\u7528\u5df2\u77e5\u6709\u6f0f\u6d1e\u7684\u5957\u4ef6                    \u2502\n  \u2502 \u5957\u4ef6: requests==2.25.0 (CVE-2023-32681)         \u2502\n  \u2502 \u5efa\u8b70: \u5347\u7d1a\u5230 requests&gt;=2.31.0                   \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  \ud83d\udee1\ufe0f \u662f\u5426\u81ea\u52d5\u4fee\u5fa9\uff1f[Y/n]\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO/#4rag","title":"\ud83e\udde0 \u5be6\u6230\u6848\u4f8b 4\uff1aRAG \u8a9e\u7fa9\u641c\u5c0b","text":""},{"location":"tutorials/PRACTICAL_DEMO/#10","title":"\u5834\u666f\uff1a\u4f60\u63a5\u624b\u4e00\u500b 10 \u842c\u884c\u7684\u907a\u7559\u5c08\u6848","text":"<p>\u50b3\u7d71\u65b9\u5f0f\uff1a <pre><code>$ grep -r \"authentication\" src/\n# \u5f97\u5230 500 \u884c\u7d50\u679c\n# \u7136\u5f8c\u4f60\u958b\u59cb\u4e00\u884c\u884c\u770b...\n</code></pre></p> <p>Boring \u65b9\u5f0f\uff1a <pre><code>\u4f60: \"\u6211\u60f3\u627e\u8655\u7406 JWT Token \u9a57\u8b49\u7684\u51fd\u6578\"\n\nBoring (\ud83c\udf1f **Universal Router \u81ea\u52d5\u8def\u7531\u5230 `boring_rag_search`**)\uff1a:\n\n  \ud83d\udd0d \u8a9e\u7fa9\u641c\u5c0b\u7d50\u679c\uff1a\n\n  1\ufe0f\u20e3 src/auth/jwt.py:45 - validate_token()\n     \u76f8\u95dc\u5ea6: 98%\n     \"\u9a57\u8b49 JWT token \u7684\u7c3d\u540d\u548c\u904e\u671f\u6642\u9593\"\n\n  2\ufe0f\u20e3 src/middleware/auth.py:23 - require_auth()\n     \u76f8\u95dc\u5ea6: 87%\n     \"\u88dd\u98fe\u5668\uff0c\u78ba\u4fdd request \u5e36\u6709\u6709\u6548 token\"\n\n  3\ufe0f\u20e3 src/utils/security.py:78 - decode_jwt()\n     \u76f8\u95dc\u5ea6: 82%\n     \"\u89e3\u78bc JWT payload\uff0c\u8fd4\u56de user_id\"\n\n  \ud83d\udcca \u4f9d\u8cf4\u95dc\u4fc2\u5716\uff1a\n  decode_jwt() \u2190 validate_token() \u2190 require_auth()\n                                    \u2191\n                              routes/users.py\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO/#5transaction","title":"\ud83d\udd04 \u5be6\u6230\u6848\u4f8b 5\uff1a\u5b89\u5168\u91cd\u69cb\uff08Transaction\uff09","text":""},{"location":"tutorials/PRACTICAL_DEMO/#_1","title":"\u5834\u666f\uff1a\u4f60\u8981\u91cd\u69cb\u6838\u5fc3\u6a21\u7d44\uff0c\u4f46\u6015\u641e\u7838","text":"<p>\u50b3\u7d71\u65b9\u5f0f\uff1a <pre><code>1. git checkout -b refactor-auth\n2. \u958b\u59cb\u6539...\n3. \u6539\u5230\u4e00\u534a\u767c\u73fe\u601d\u8def\u932f\u4e86\n4. \u624b\u52d5 git reset \u6216 revert\n5. \u5fc3\u7d2f...\n</code></pre></p> <p>Boring \u65b9\u5f0f\uff1a <pre><code>\u4f60: \"/safe_refactor \u91cd\u69cb\u8a8d\u8b49\u6a21\u7d44\uff0c\u6539\u7528\u7b56\u7565\u6a21\u5f0f\"\n\nBoring:\n  \ud83d\udce6 \u958b\u59cb\u4e8b\u52d9...\n\n  \ud83d\udcbe \u5df2\u5efa\u7acb\u9084\u539f\u9ede [txn-a8f3c2]\n\n  \ud83c\udfdb\ufe0f \u67b6\u69cb\u5e2b\u5206\u6790:\n     \"\u7b56\u7565\u6a21\u5f0f\u5f88\u9069\u5408\u9019\u500b\u5834\u666f\uff0c\u56e0\u70ba...\"\n\n  \ud83d\udcbb Coder \u958b\u59cb\u91cd\u69cb...\n\n  \ud83d\udd0d Reviewer \u5be9\u67e5\u4e2d...\n     \u26a0\ufe0f \u767c\u73fe\u6f5b\u5728\u554f\u984c: \u7f3a\u5c11\u5411\u5f8c\u517c\u5bb9\n     \ud83d\udca1 \u5efa\u8b70: \u4fdd\u7559\u820a\u51fd\u6578\u4f5c\u70ba alias\n\n  \ud83e\uddea \u9a57\u8b49\u7d50\u679c:\n     \u2705 \u6e2c\u8a66\u901a\u904e (58/58)\n     \u2705 Lint \u901a\u904e\n     \u2705 \u985e\u578b\u6aa2\u67e5\u901a\u904e\n\n  \u2705 \u91cd\u69cb\u5b8c\u6210\uff01\n\n  \u662f\u5426\u63d0\u4ea4\uff1f[Y/n/rollback]\n\n\u4f60: \"rollback\"  # \u5982\u679c\u5f8c\u6094\u4e86\n\nBoring:\n  \u23ea \u5df2\u56de\u6efe\u5230 [txn-a8f3c2]\n  \ud83d\udcc4 \u6240\u6709\u6a94\u6848\u5df2\u9084\u539f\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO/#7-auto-learning-v140-updated","title":"\ud83e\udde0 \u5be6\u6230\u6848\u4f8b 7\uff1a\u81ea\u52d5\u5b78\u7fd2\u8207\u9032\u5316 (Auto-Learning V14.0 Updated)","text":""},{"location":"tutorials/PRACTICAL_DEMO/#ai","title":"\u5834\u666f\uff1aAI \u8001\u662f\u72af\u540c\u6a23\u7684\u932f","text":"<p>\u50b3\u7d71\u65b9\u5f0f\uff1a <pre><code>\u4f60: \"\u9019\u4e0d\u5c0d\uff0c\u9019\u88e1\u8981\u7528 `check_password_hash` \u4e0d\u662f `check_password`\"\nAI: \"\u62b1\u6b49\u6211\u6539...\"\n(\u7b2c\u4e8c\u5929\uff0c\u65b0\u7684\u5c0d\u8a71)\nAI: \"\u6211\u53c8\u7528\u4e86 `check_password`...\"\n(\u4f60\u5d29\u6f70...)\n</code></pre></p> <p>Boring \u65b9\u5f0f (Auto-Sense Mode)\uff1a <pre><code>\u4f60: \"\u9019\u4e0d\u5c0d\uff0c\u9019\u88e1\u8981\u7528 `check_password_hash`\"\nBoring: (\u4fee\u6b63\u4ee3\u78bc)\n\n[\u7cfb\u7d71\u80cc\u666f\u904b\u4f5c]:\n\ud83d\udd0d \u5075\u6e2c\u5230\u7528\u6236\u4fee\u6b63 -&gt; \u63d0\u53d6\u6a21\u5f0f -&gt; \u5b58\u5165\u77e5\u8b58\u5eab\n\n(\u7b2c\u4e8c\u5929\uff0c\u65b0\u7684\u5c0d\u8a71)\n\u4f60: \"\u5e6b\u6211\u5beb\u767b\u5165\u529f\u80fd\"\nBoring: \n  \u2705 \u8b80\u53d6\u5c08\u6848\u8a18\u61b6...\n  \ud83d\udca1 \u767c\u73fe\u5b78\u7fd2\u6a21\u5f0f: \"Password Hashing Preference\"\n\n  \"\u597d\u7684\uff0c\u6211\u6703\u4f7f\u7528 `check_password_hash` \u9032\u884c\u9a57\u8b49...\"\n</code></pre></p> <p>\u4e3b\u52d5\u6559\u5b78\uff1a \u4f60\u4e5f\u53ef\u4ee5\u4e3b\u52d5\u6559\u5b83\uff1a <pre><code>\u4f60: \"/learn \u9019\u88e1\u7684 API \u56de\u50b3\u683c\u5f0f\u5fc5\u9808\u5305\u5728 `data` \u6b04\u4f4d\u88e1\"\nBoring: \u2705 \u5df2\u5b78\u7fd2\u898f\u5247\uff1a[API Response Format]\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO/#8multi-agent","title":"\ud83e\udd16 \u5be6\u6230\u6848\u4f8b 8\uff1aMulti-Agent \u5354\u4f5c","text":""},{"location":"tutorials/PRACTICAL_DEMO/#_2","title":"\u5834\u666f\uff1a\u8907\u96dc\u4efb\u52d9\u9700\u8981\u591a\u500b\u89d2\u8272","text":"<pre><code>\u4f60: \"\u5efa\u7acb\u4e00\u500b\u5b8c\u6574\u7684\u7528\u6236\u7ba1\u7406\u7cfb\u7d71\uff0c\u5305\u542b CRUD\u3001\u6b0a\u9650\u63a7\u5236\u548c Audit Log\"\n\nBoring:\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  \ud83c\udfdb\ufe0f ARCHITECT PHASE\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  \u8a2d\u8a08\u6c7a\u7b56:\n  \u2022 \u63a1\u7528 RBAC \u6b0a\u9650\u6a21\u578b\n  \u2022 Audit Log \u4f7f\u7528 Event Sourcing\n  \u2022 \u7528\u6236\u8cc7\u6599\u63a1\u7528\u8edf\u522a\u9664\n\n  \u751f\u6210\u6587\u4ef6:\n  \u2022 implementation_plan.md\n  \u2022 database_schema.sql\n  \u2022 api_spec.yaml\n\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  \ud83d\udcbb CODER PHASE\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  \u5be6\u4f5c\u9032\u5ea6:\n  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591] 80%\n\n  \u5df2\u5b8c\u6210:\n  \u2705 User CRUD endpoints\n  \u2705 Role model &amp; permissions\n  \u2705 Audit event dispatcher\n\n  \u9032\u884c\u4e2d:\n  \ud83d\udd04 Permission decorator\n\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  \ud83d\udd0d REVIEWER PHASE  \n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  \u5be9\u67e5\u5831\u544a:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 \u7a0b\u5f0f\u78bc\u54c1\u8cea: \u2b50\u2b50\u2b50\u2b50\u2606 (4.2/5)          \u2502\n  \u2502 \u6e2c\u8a66\u8986\u84cb\u7387: 78%                       \u2502\n  \u2502 \u5b89\u5168\u8a55\u4f30: \u901a\u904e                        \u2502\n  \u2502 \u6548\u80fd\u8a55\u4f30: \u826f\u597d                        \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  \u5efa\u8b70:\n  \u2022 \u8003\u616e\u52a0\u5165 rate limiting\n  \u2022 \u5efa\u8b70\u5c0d\u654f\u611f\u64cd\u4f5c\u52a0\u5165 2FA\n</code></pre>"},{"location":"tutorials/PRACTICAL_DEMO/#_3","title":"\u26a1 \u5e38\u7528\u5feb\u6377\u6307\u4ee4\u901f\u67e5\u8868","text":"\u60f3\u505a\u4ec0\u9ebc \u8f38\u5165 Boring \u6703\u505a\u4ec0\u9ebc \ud83d\ude80 \u65b0\u5c08\u6848\u958b\u767c <code>/vibe_start</code> \u5b8c\u6574 Spec-Driven \u6d41\u7a0b \ud83d\udd27 \u4fee\u5fa9\u6240\u6709\u554f\u984c <code>/quick_fix</code> Lint + Format + Test \ud83d\udee1\ufe0f \u5b89\u5168\u6383\u63cf <code>/security_scan</code> SAST + Secret Detection \ud83d\udd0d \u641c\u5c0b\u4ee3\u78bc <code>/semantic_search</code> RAG \u8a9e\u7fa9\u641c\u5c0b \ud83d\udd04 \u5b89\u5168\u91cd\u69cb <code>/safe_refactor</code> Transaction + Verify \ud83d\udcca \u54c1\u8cea\u8a55\u4f30 <code>/evaluate_code</code> LLM Judge \u8a55\u5206 \ud83d\udcbe \u667a\u80fd\u63d0\u4ea4 <code>/smart_commit</code> Auto-generate commit msg \ud83d\uddfa\ufe0f \u67e5\u770b\u9032\u5ea6 <code>/roadmap</code> \u751f\u6210\u7518\u7279\u5716 \ud83e\udde0 \u5b78\u7fd2\u98a8\u683c <code>/learn_patterns</code> AI \u5b78\u7fd2\u4f60\u7684\u5beb\u6cd5 \u2753 \u5065\u5eb7\u6aa2\u67e5 <code>/vibe_check</code> \u5c08\u6848\u5065\u5eb7\u5ea6\u8a55\u5206"},{"location":"tutorials/PRACTICAL_DEMO/#_4","title":"\ud83c\udfae \u4e92\u52d5\u5f0f\u5c0d\u8a71\u7bc4\u4f8b","text":""},{"location":"tutorials/PRACTICAL_DEMO/#1debug-bug","title":"\u7bc4\u4f8b 1\uff1aDebug \u4e00\u500b\u8a6d\u7570\u7684 Bug","text":"<pre><code>\u4f60: \u6211\u7684 API \u56de\u50b3 500\uff0c\u932f\u8aa4\u662f \"TypeError: 'NoneType' object is not iterable\"\n\nBoring:\n  \ud83d\udd0d \u5206\u6790\u932f\u8aa4...\n\n  \ud83d\udccd Root Cause \u5b9a\u4f4d:\n  \u4f4d\u7f6e: src/services/user.py:67\n  \u51fd\u6578: get_user_orders()\n\n  \u554f\u984c:\n    orders = db.query(Order).filter_by(user_id=user_id).all()\n    return [order.to_dict() for order in orders]  # \u2190 \u9019\u88e1\u7206\u4e86\n\n  \u539f\u56e0: \n    \u7576 user_id \u4e0d\u5b58\u5728\u6642\uff0c\u8fd4\u56de None \u800c\u975e\u7a7a\u5217\u8868\n\n  \ud83c\udfdb\ufe0f \u67b6\u69cb\u5e2b\u5efa\u8b70:\n    \u9019\u662f\u5178\u578b\u7684\u300cNull Object Pattern\u300d\u7f3a\u5931\u3002\n    \u5efa\u8b70\u6c38\u9060\u8fd4\u56de\u7a7a\u5217\u8868 [] \u800c\u975e None\uff0c\n    \u8b93\u8abf\u7528\u65b9\u53ef\u4ee5\u5b89\u5168\u5730\u904d\u6b77\u3002\n\n  \u4fee\u5fa9:\n    orders = db.query(Order).filter_by(user_id=user_id).all() or []\n\n  \u662f\u5426\u81ea\u52d5\u4fee\u5fa9\uff1f[Y/n]\n</code></pre>"},{"location":"tutorials/PRACTICAL_DEMO/#2_1","title":"\u7bc4\u4f8b 2\uff1a\u6548\u80fd\u512a\u5316\u5efa\u8b70","text":"<pre><code>\u4f60: \"/optimize_performance\"\n\nBoring:\n  \ud83d\udd0d \u6383\u63cf\u6548\u80fd\u554f\u984c...\n\n  \u26a0\ufe0f \u767c\u73fe N+1 Query \u554f\u984c\n\n  \u4f4d\u7f6e: src/routes/users.py:34\n\n  \u554f\u984c\u7a0b\u5f0f\u78bc:\n    users = User.query.all()\n    for user in users:\n        orders = user.orders  # \u6bcf\u500b user \u90fd\u89f8\u767c\u4e00\u6b21 DB query\n\n  \u5efa\u8b70:\n    users = User.query.options(\n        joinedload(User.orders)\n    ).all()\n\n  \u9810\u4f30\u6548\u80fd\u63d0\u5347: 10x (100 users \u2192 1 query vs 101 queries)\n</code></pre>"},{"location":"tutorials/PRACTICAL_DEMO/#boring_1","title":"\ud83c\udfc6 \u70ba\u4ec0\u9ebc\u9078\u64c7 Boring\uff1f","text":"\u7279\u6027 \u50b3\u7d71 AI \u52a9\u624b Boring \u4ee3\u78bc\u751f\u6210 \u2705 \u2705 \u67b6\u69cb\u8a2d\u8a08 \u274c \u2705 \u67b6\u69cb\u5e2b\u4eba\u8a2d \u9700\u6c42\u91d0\u6e05 \u274c \u2705 SpecKit \u4e94\u90e8\u66f2 \u5b89\u5168\u6383\u63cf \u274c \u2705 SAST + Secret Detection \u81ea\u52d5\u4fee\u5fa9 \u274c \u2705 \u4e00\u9375\u4fee\u5fa9 \u4ee3\u78bc\u5be9\u67e5 \u274c \u2705 Multi-Agent Review \u98a8\u96aa\u63a7\u5236 \u274c \u2705 Shadow Mode \u53ef\u56de\u6efe \u274c \u2705 Transaction \u8a9e\u7fa9\u641c\u5c0b \u274c \u2705 RAG Vector Search \u5b78\u7fd2\u9069\u61c9 \u274c \u2705 \u77e5\u8b58\u5eab\u6301\u4e45\u5316"},{"location":"tutorials/PRACTICAL_DEMO/#_5","title":"\ud83d\ude80 \u99ac\u4e0a\u958b\u59cb","text":""},{"location":"tutorials/PRACTICAL_DEMO/#1mcpsmithery","title":"\ud83c\udfae \u65b9\u5f0f 1\uff1aMCP/Smithery\uff08\u63a8\u85a6\uff01\u6700\u7c21\u55ae\uff09","text":"<p>\u76f4\u63a5\u5728 Gemini CLI \u6216 Cursor \u4e2d\u4f7f\u7528\uff0c\u7121\u9700\u984d\u5916\u8a2d\u5b9a\uff1a</p> <pre><code># \u5b89\u88dd\u5230 Gemini CLI\nnpx -y @smithery/cli@latest install boring/boring --client gemini-cli\n</code></pre> <p>\u7136\u5f8c\u5728 Gemini CLI \u4e2d\u76f4\u63a5\u5c0d\u8a71\uff1a <pre><code>\u4f60: \"\u5e6b\u6211\u5efa\u7acb\u4e00\u500b FastAPI \u8a8d\u8b49\u670d\u52d9\"\nBoring: \u300c\u597d\u7684\uff0c\u8b93\u6211\u5148\u554f\u4f60\u5e7e\u500b\u554f\u984c...\u300d\n</code></pre></p> <p>\u2705 \u4e0d\u9700\u8981 <code>PROMPT.md</code> \u2705 \u4e0d\u9700\u8981 <code>boring-setup</code> \u2705 \u4e92\u52d5\u5f0f\u5c0d\u8a71\uff0c\u96a8\u6642\u53ef\u505c</p>"},{"location":"tutorials/PRACTICAL_DEMO/#2_2","title":"\ud83e\udd16 \u65b9\u5f0f 2\uff1a\u81ea\u4e3b\u5faa\u74b0\u6a21\u5f0f\uff08\u9032\u968e\u7528\u6236\uff09","text":"<p>\u7528\u65bc \u5168\u81ea\u52d5\u3001\u9577\u6642\u9593 \u958b\u767c\u4efb\u52d9\uff0c\u5728 CMD/PowerShell \u4e2d\u57f7\u884c\uff1a</p> <pre><code># Step 1: \u5b89\u88dd (\u53ea\u9700\u4e00\u6b21)\npip install boring-aicoding\n\n# Step 2: \u5efa\u7acb\u5c08\u6848\u7d50\u69cb (\u53ea\u6709\u9019\u7a2e\u6a21\u5f0f\u9700\u8981 boring-setup\uff01)\n# \u6ce8\u610f\uff1a\u5728 CMD \u57f7\u884c boring start \u524d\uff0c*\u5fc5\u9808* \u5148\u57f7\u884c boring-setup \u521d\u59cb\u5316\u5c08\u6848\uff01\nboring-setup my-awesome-app\ncd my-awesome-app\n\n# Step 3: \u7de8\u8f2f PROMPT.md\uff0c\u544a\u8a34 AI \u8981\u505a\u4ec0\u9ebc\n# Step 4: \u555f\u52d5\u81ea\u4e3b\u5faa\u74b0\nboring start                         # \u4f7f\u7528\u81ea\u52d5\u5075\u6e2c\u7684 CLI\nboring start --provider claude-code  # \u4f7f\u7528 Claude Code CLI\nboring start --provider gemini-cli   # \u4f7f\u7528 Gemini CLI\n</code></pre> <p><code>boring-setup</code> \u505a\u4e86\u4ec0\u9ebc\uff1f <pre><code>my-awesome-app/\n\u251c\u2500\u2500 PROMPT.md      # \u2705 \u5fc5\u8981 - \u4f60\u8981\u5beb\u7684\u4efb\u52d9\u8aaa\u660e\n\u251c\u2500\u2500 @fix_plan.md   # \u4efb\u52d9\u6e05\u55ae\n\u251c\u2500\u2500 GEMINI.md      # \u5c08\u6848\u8aaa\u660e\n\u2514\u2500\u2500 .boring/brain/ # AI \u77e5\u8b58\u5eab\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO/#_6","title":"\ud83d\udcca \u5169\u7a2e\u65b9\u5f0f\u6bd4\u8f03","text":"MCP/Smithery <code>boring start</code> \u5b89\u88dd\u65b9\u5f0f <code>npx @smithery/cli ...</code> <code>pip install boring-aicoding</code> (\u5fc5\u9808) \u9700\u8981 <code>boring-setup</code> \u274c \u4e0d\u9700\u8981 \u2705 \u9700\u8981 \u9700\u8981 <code>PROMPT.md</code> \u274c \u4e0d\u9700\u8981 \u2705 \u9700\u8981 \u904b\u884c\u65b9\u5f0f \u5c0d\u8a71\u5f0f \u5168\u81ea\u52d5\u5faa\u74b0 \u9069\u5408\u5834\u666f \u4e92\u52d5\u958b\u767c \u9577\u6642\u9593\u81ea\u52d5\u958b\u767c \u4e2d\u65b7\u65b9\u5f0f \u96a8\u6642 Ctrl+C <p>\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u53ea\u4f7f\u7528 Smithery \u5b89\u88dd\uff0c\u662f\u7121\u6cd5\u5728\u7d42\u7aef\u6a5f\u57f7\u884c <code>boring start</code> \u7684\uff01\u53ea\u6709 pip \u5b89\u88dd\u624d\u6703\u63d0\u4f9b <code>boring</code> \u6307\u4ee4\u3002</p>"},{"location":"tutorials/PRACTICAL_DEMO/#_7","title":"\ud83c\udfaf \u8a18\u4f4f\u9019\u53e5\u8a71","text":"<p>\u300c\u5c08\u696d\u73a9\u5bb6\u4e0d\u8a18 Tool \u540d\u7a31\uff0c\u56e0\u70ba Prompt \u5df2\u7d93\u5e6b\u4f60\u6e96\u5099\u597d\u6240\u6709\u6230\u8853\u7d44\u5408\u3002\u300d</p> <p>\u4f60\u53ea\u9700\u8981\u544a\u8a34 Boring \u4f60\u60f3\u8981\u4ec0\u9ebc\uff0c\u5269\u4e0b\u7684\u4ea4\u7d66\u5b83\u3002</p> <p>Built with \u2764\ufe0f by the Boring206</p>"},{"location":"tutorials/PRACTICAL_DEMO/#_8","title":"\ud83d\udcda \u5ef6\u4f38\u95b1\u8b80","text":"<ul> <li>\u5b8c\u6574\u6559\u7a0b \u2014 \u8a73\u7d30\u7684\u529f\u80fd\u4ecb\u7d39</li> <li>\u9032\u968e\u958b\u767c\u8005\u6307\u5357 \u2014 \u67b6\u69cb\u8207\u5167\u90e8\u6a5f\u5236</li> <li>\u5c08\u696d\u5be6\u6230\u6307\u5357 \u2014 18 \u500b\u5c08\u5bb6\u5de5\u4f5c\u6d41</li> <li>\u5de5\u5177\u6e05\u55ae \u2014 \u6240\u6709 55+ \u500b\u5de5\u5177</li> </ul> <p>\u6700\u5f8c\u66f4\u65b0: V14.0.0</p>"},{"location":"tutorials/PRACTICAL_DEMO_en/","title":"\ud83d\udd25 Boring Practical Demo: See the Future of AI Development in 10 Minutes","text":"<p>\"It's okay if you don't know how to code, Boring handles everything.\"</p> <p>This isn't exaggeration\u2014this is the essence of Vibe Coding.</p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#what-is-boring","title":"\ud83c\udfaf What is Boring?","text":"<p>Imagine you have an Architect-level AI strategist that doesn't just write code, but also:</p> <pre><code>\ud83c\udfdb\ufe0f Designs Architecture  \u2192  Plans the big picture before coding\n\ud83d\udd0d Reviews Code          \u2192  Reviews your code like a senior engineer\n\ud83d\udee1\ufe0f Secures System        \u2192  Automatically detects vulnerabilities and secrets\n\ud83d\udd04 Auto-Repairs          \u2192  One-click fix for Lint, Format, and Test issues\n\ud83e\udde0 Learns Your Style     \u2192  Remembers how you like to code\n</code></pre> <p>In one sentence: Boring = Your AI Development Team (Architect + Senior Engineer + QA)</p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-1-building-from-zero-to-one","title":"\ud83d\ude80 Use Case 1: Building from Zero to One","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-you-want-to-build-a-fastapi-backend","title":"Scenario: You want to build a FastAPI backend","text":"<p>Traditional Way: <pre><code>1. Manually create project directory\n2. Initialize Git\n3. Set up virtual environment\n4. Install dependencies\n5. Create file structure\n6. Start coding...\n(30 minutes later, you're still setting up env)\n</code></pre></p> <p>Boring Way: <pre><code>You: \"Help me build a FastAPI auth service with JWT and OAuth2\"\n\nBoring Architect: \n  \"Hold on, before we start, I need to clarify a few things...\"\n\n  \ud83e\udd14 Q1: Which database? PostgreSQL or SQLite?\n  \ud83e\udd14 Q2: Do you need social login (Google/GitHub)?\n  \ud83e\udd14 Q3: Token expiration time?\n\nYou: \"PostgreSQL, GitHub login, 24 hours token\"\n\nBoring: \n  \u2705 Generating architecture design...\n  \u2705 Creating project structure...\n  \u2705 Implementing auth logic...\n  \u2705 Writing tests...\n  \u2705 Verification passed!\n\n  \ud83d\udcc1 Your project is ready:\n  src/\n  \u251c\u2500\u2500 main.py           # FastAPI entry point\n  \u251c\u2500\u2500 auth/\n  \u2502   \u251c\u2500\u2500 jwt.py        # JWT implementation\n  \u2502   \u251c\u2500\u2500 oauth.py      # GitHub OAuth\n  \u2502   \u2514\u2500\u2500 middleware.py # Auth middleware\n  \u251c\u2500\u2500 models/           # Data models\n  \u2514\u2500\u2500 tests/            # Tests (85% coverage)\n</code></pre></p> <p>Core Command (Vibe Coder Style): <pre><code>You: \"Help me build a FastAPI auth service with JWT and GitHub OAuth\"\n\n# Or use CLI\nboring-route \"build FastAPI auth service\"\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-2-auto-fixing-code-issues","title":"\ud83d\udee0\ufe0f Use Case 2: Auto-Fixing Code Issues","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-your-code-has-a-ton-of-lint-errors","title":"Scenario: Your code has a ton of Lint errors","text":"<p>Traditional Way: <pre><code>$ ruff check src/\nFound 47 errors in 12 files.\n\n(Then you fix them one by one...)\n# 30 minutes later...\n</code></pre></p> <p>Boring Way: <pre><code>You: \"/quick_fix\"\n\nBoring:\n  \ud83d\udd0d Scanning...\n  \ud83d\udcca Found 47 issues:\n     - 23 formatting issues\n     - 15 unused imports\n     - 9 type issues\n\n  \u26a1 Auto-fixing...\n  \u2705 47/47 issues fixed\n  \u2705 Formatting complete\n  \u2705 All tests passed\n\n  Total time: 8.3 seconds\n</code></pre></p> <p>What happened behind the scenes: <pre><code>boring_verify \u2192 Find all issues\n     \u2193\nboring_auto_fix \u2192 Auto repair\n     \u2193\nruff format \u2192 Formatting\n     \u2193\npytest \u2192 Confirm nothing broke\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-3-security-scan-protection","title":"\ud83d\udd12 Use Case 3: Security Scan &amp; Protection","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-you-accidentally-hardcoded-an-api-key","title":"Scenario: You accidentally hardcoded an API Key","text":"<p>Traditional Way: <pre><code># You might discover it only after pushing to GitHub...\n# Then get a warning from GitHub Secret Scanning\n# Then emergency Rotate Key, Force Push...\n</code></pre></p> <p>Boring Way: <pre><code>You: \"/security_scan\"\n\nBoring:\n  \ud83d\udd0d Scanning security...\n\n  \ud83d\udea8 Found 3 CRITICAL issues!\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 HIGH: Hardcoded API Key detected                \u2502\n  \u2502 Location: src/config.py:23                      \u2502\n  \u2502 Content: STRIPE_API_KEY = \"sk_live_...\"         \u2502\n  \u2502 Suggestion: Use os.getenv(\"STRIPE_API_KEY\")     \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 MEDIUM: Usage of vulnerable package             \u2502\n  \u2502 Package: requests==2.25.0 (CVE-2023-32681)      \u2502\n  \u2502 Suggestion: Upgrade to requests&gt;=2.31.0         \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  \ud83d\udee1\ufe0f Auto-fix? [Y/n]\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-4-rag-semantic-search","title":"\ud83e\udde0 Use Case 4: RAG Semantic Search","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-you-take-over-a-100k-line-legacy-project","title":"Scenario: You take over a 100k line legacy project","text":"<p>Traditional Way: <pre><code>$ grep -r \"authentication\" src/\n# Get 500 lines of results\n# Then you start reading line by line...\n</code></pre></p> <p>Boring Way: <pre><code>You: \"I want to find the function that handles JWT Token validation\"\n\nBoring (\ud83c\udf1f **Universal Router auto-routes to `boring_rag_search`**):\n\n  \ud83d\udd0d Semantic Search Results:\n\n  1\ufe0f\u20e3 src/auth/jwt.py:45 - validate_token()\n     Relevance: 98%\n     \"Validates JWT token signature and expiration\"\n\n  2\ufe0f\u20e3 src/middleware/auth.py:23 - require_auth()\n     Relevance: 87%\n     \"Decorator, ensures request has valid token\"\n\n  3\ufe0f\u20e3 src/utils/security.py:78 - decode_jwt()\n     Relevance: 82%\n     \"Decodes JWT payload, returns user_id\"\n\n  \ud83d\udcca Dependency Graph:\n  decode_jwt() \u2190 validate_token() \u2190 require_auth()\n                                    \u2191\n                               routes/users.py\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-5-safe-refactoring-transaction","title":"\ud83d\udd04 Use Case 5: Safe Refactoring (Transaction)","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-you-need-to-refactor-a-core-module-but-are-afraid-of-breaking-it","title":"Scenario: You need to refactor a core module but are afraid of breaking it","text":"<p>Traditional Way: <pre><code>1. git checkout -b refactor-auth\n2. Start changing...\n3. Realize halfway that the approach is wrong\n4. Manual git reset or revert\n5. Tired...\n</code></pre></p> <p>Boring Way: <pre><code>You: \"/safe_refactor Refactor auth module to use Strategy Pattern\"\n\nBoring:\n  \ud83d\udce6 Starting transaction...\n\n  \ud83d\udcbe Savepoint created [txn-a8f3c2]\n\n  \ud83c\udfdb\ufe0f Architect Analysis:\n     \"Strategy pattern fits here because...\"\n\n  \ud83d\udcbb Coder starts refactoring...\n\n  \ud83d\udd0d Reviewer verifying...\n     \u26a0\ufe0f Potential issue found: Missing backward compatibility\n     \ud83d\udca1 Suggestion: Keep old function as alias\n\n  \ud83e\uddea Verification Result:\n     \u2705 Tests passed (58/58)\n     \u2705 Lint passed\n     \u2705 Type check passed\n\n  \u2705 Refactor complete!\n\n  Commit? [Y/n/rollback]\n\nYou: \"rollback\"  # If you regret it\n\nBoring:\n  \u23ea Rolled back to [txn-a8f3c2]\n  \ud83d\udcc4 All files restored\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-7-auto-learning-evolution-auto-learning-v140-updated","title":"\ud83e\udde0 Use Case 7: Auto-Learning &amp; Evolution (Auto-Learning V14.0 Updated)","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-ai-keeps-making-the-same-mistake","title":"Scenario: AI keeps making the same mistake","text":"<p>Traditional Way: <pre><code>You: \"That's wrong, use `check_password_hash` here, not `check_password`\"\nAI: \"Sorry, fixing...\"\n(Next day, new conversation)\nAI: \"I used `check_password`...\"\n(You collapse...)\n</code></pre></p> <p>Boring Way (Auto-Sense Mode): <pre><code>You: \"That's wrong, use `check_password_hash` here\"\nBoring: (Fixes code)\n\n[System Background]:\n\ud83d\udd0d Detects user correction -&gt; Extracts pattern -&gt; Saves to Brain\n\n(Next day, new conversation)\nYou: \"Write a login function\"\nBoring: \n  \u2705 Reading project memory...\n  \ud83d\udca1 Found learned pattern: \"Password Hashing Preference\"\n\n  \"Okay, I will use `check_password_hash` for validation...\"\n</code></pre></p> <p>Active Teaching: You can also teach it actively: <pre><code>You: \"/learn API response format must be wrapped in `data` field here\"\nBoring: \u2705 Learned rule: [API Response Format]\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#use-case-8-multi-agent-collaboration","title":"\ud83e\udd16 Use Case 8: Multi-Agent Collaboration","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#scenario-complex-task-needing-multiple-roles","title":"Scenario: Complex task needing multiple roles","text":"<pre><code>You: \"Build a complete user management system, including CRUD, permissions, and Audit Log\"\n\nBoring:\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  \ud83c\udfdb\ufe0f ARCHITECT PHASE\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  Design Decisions:\n  \u2022 Use RBAC permission model\n  \u2022 Audit Log uses Event Sourcing\n  \u2022 User data uses soft delete\n\n  Generated Docs:\n  \u2022 implementation_plan.md\n  \u2022 database_schema.sql\n  \u2022 api_spec.yaml\n\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  \ud83d\udcbb CODER PHASE\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  Implementation Progress:\n  [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591] 80%\n\n  Completed:\n  \u2705 User CRUD endpoints\n  \u2705 Role model &amp; permissions\n  \u2705 Audit event dispatcher\n\n  In Progress:\n  \ud83d\udd04 Permission decorator\n\n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n  \ud83d\udd0d REVIEWER PHASE  \n  \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n  Review Report:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Code Quality: \u2b50\u2b50\u2b50\u2b50\u2606 (4.2/5)          \u2502\n  \u2502 Test Coverage: 78%                    \u2502\n  \u2502 Security: Passed                      \u2502\n  \u2502 Performance: Good                     \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  Suggestions:\n  \u2022 Consider adding rate limiting\n  \u2022 Suggest adding 2FA for sensitive ops\n</code></pre>"},{"location":"tutorials/PRACTICAL_DEMO_en/#quick-shortcut-cheatsheet","title":"\u26a1 Quick Shortcut Cheatsheet","text":"What you want Input What Boring does \ud83d\ude80 New Project <code>/vibe_start</code> Complete Spec-Driven Flow \ud83d\udd27 Fix All Issues <code>/quick_fix</code> Lint + Format + Test \ud83d\udee1\ufe0f Security Scan <code>/security_scan</code> SAST + Secret Detection \ud83d\udd0d Search Code <code>/semantic_search</code> RAG Semantic Search \ud83d\udd04 Safe Refactor <code>/safe_refactor</code> Transaction + Verify \ud83d\udcca Quality Eval <code>/evaluate_code</code> LLM Judge Scoring \ud83d\udcbe Smart Commit <code>/smart_commit</code> Auto-generate commit msg \ud83d\uddfa\ufe0f View Roadmap <code>/roadmap</code> Generate Gantt Chart \ud83e\udde0 Learn Style <code>/learn_patterns</code> AI learns your style \u2753 Health Check <code>/vibe_check</code> Project Health Score"},{"location":"tutorials/PRACTICAL_DEMO_en/#interactive-conversation-example","title":"\ud83c\udfae Interactive Conversation Example","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#example-1-debugging-a-weird-bug","title":"Example 1: Debugging a Weird Bug","text":"<pre><code>You: My API returns 500, error is \"TypeError: 'NoneType' object is not iterable\"\n\nBoring:\n  \ud83d\udd0d Analyzing error...\n\n  \ud83d\udccd Root Cause Locator:\n  Location: src/services/user.py:67\n  Function: get_user_orders()\n\n  Problem:\n    orders = db.query(Order).filter_by(user_id=user_id).all()\n    return [order.to_dict() for order in orders]  # \u2190 Booom here\n\n  Reason: \n    When user_id doesn't exist, it returns None instead of empty list\n\n  \ud83c\udfdb\ufe0f Architect Advice:\n    This is a classic \"Null Object Pattern\" violation.\n    Suggest always returning empty list [] instead of None,\n    so caller can iterate safely.\n\n  Fix:\n    orders = db.query(Order).filter_by(user_id=user_id).all() or []\n\n  Auto-fix? [Y/n]\n</code></pre>"},{"location":"tutorials/PRACTICAL_DEMO_en/#example-2-performance-optimization","title":"Example 2: Performance Optimization","text":"<pre><code>You: \"/optimize_performance\"\n\nBoring:\n  \ud83d\udd0d Scanning performance issues...\n\n  \u26a0\ufe0f Found N+1 Query Issue\n\n  Location: src/routes/users.py:34\n\n  Problem Code:\n    users = User.query.all()\n    for user in users:\n        orders = user.orders  # Triggers DB query for every user\n\n  Suggestion:\n    users = User.query.options(\n        joinedload(User.orders)\n    ).all()\n\n  Estimated Gain: 10x (100 users \u2192 1 query vs 101 queries)\n</code></pre>"},{"location":"tutorials/PRACTICAL_DEMO_en/#why-choose-boring","title":"\ud83c\udfc6 Why Choose Boring?","text":"Feature Traditional AI Boring Code Gen \u2705 \u2705 Architecture \u274c \u2705 Architect Persona Clarification \u274c \u2705 SpecKit 5-Steps Security \u274c \u2705 SAST + Secret Detection Auto-Fix \u274c \u2705 One-Click Fix Code Review \u274c \u2705 Multi-Agent Review Risk Control \u274c \u2705 Shadow Mode Rollback \u274c \u2705 Transaction Semantic Search \u274c \u2705 RAG Vector Search Learning \u274c \u2705 Brain Persistence"},{"location":"tutorials/PRACTICAL_DEMO_en/#start-now","title":"\ud83d\ude80 Start Now","text":""},{"location":"tutorials/PRACTICAL_DEMO_en/#mode-1-mcpsmithery-recommended-easiest","title":"\ud83c\udfae Mode 1: MCP/Smithery (Recommended! Easiest)","text":"<p>Use directly in Gemini CLI or Cursor, no extra config:</p> <pre><code># Install to Gemini CLI\nnpx -y @smithery/cli@latest install boring/boring --client gemini-cli\n</code></pre> <p>Then chat in Gemini CLI: <pre><code>You: \"Help me build a FastAPI auth service\"\nBoring: \"Sure, let me ask a few questions first...\"\n</code></pre></p> <p>\u2705 NO <code>PROMPT.md</code> \u2705 NO <code>boring-setup</code> \u2705 Interactive conversation, stop anytime</p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#mode-2-autonomous-loop-mode-advanced","title":"\ud83e\udd16 Mode 2: Autonomous Loop Mode (Advanced)","text":"<p>For fully autonomous, long-running dev tasks, run in CMD/PowerShell:</p> <pre><code># Step 1: Install (Once)\npip install boring-aicoding\n\n# Step 2: Create Project Structure (Only needed for this mode!)\n# Note: MUST run boring-setup before boring start in CMD!\nboring-setup my-awesome-app\ncd my-awesome-app\n\n# Step 3: Edit PROMPT.md, tell AI what to do\n# Step 4: Start Loop\nboring start                         # Auto-detect CLI\nboring start --provider claude-code  # Use Claude Code CLI\nboring start --provider gemini-cli   # Use Gemini CLI\n</code></pre> <p>What does <code>boring-setup</code> do? <pre><code>my-awesome-app/\n\u251c\u2500\u2500 PROMPT.md      # \u2705 Required - Your task Instructions\n\u251c\u2500\u2500 @fix_plan.md   # Task Checklist\n\u251c\u2500\u2500 GEMINI.md      # Project Context\n\u2514\u2500\u2500 .boring/brain/ # AI Knowledge Base\n</code></pre></p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#comparison","title":"\ud83d\udcca Comparison","text":"MCP/Smithery <code>boring start</code> Installation <code>npx @smithery/cli ...</code> <code>pip install boring-aicoding</code> (Required) Need <code>boring-setup</code> \u274c No \u2705 Yes Need <code>PROMPT.md</code> \u274c No \u2705 Yes Workflow Conversational Auto-Loop Use Case Interactive Dev Long-running Auto Dev Stop Anytime Ctrl+C <p>Note: If you only use Smithery install, you cannot run <code>boring start</code> in terminal! Only pip install provides <code>boring</code> command.</p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#remember-this","title":"\ud83c\udfaf Remember This","text":"<p>\"Pro players don't memorize Tool names, because Prompts have prepared all tactical combos.\"</p> <p>You just tell Boring what you want, and leave the rest to it.</p> <p>Built with \u2764\ufe0f by the Boring206</p>"},{"location":"tutorials/PRACTICAL_DEMO_en/#further-reading","title":"\ud83d\udcda Further Reading","text":"<ul> <li>Complete Tutorial \u2014 Detailed feature intro</li> <li>Advanced Developer Guide \u2014 Architecture &amp; Internals</li> <li>Professional Playbook \u2014 18 Expert Workflows</li> <li>Tool Reference \u2014 All 55+ Tools</li> </ul> <p>Last updated: V14.0.0</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/","title":"Boring \u5c08\u696d\u958b\u767c\u5be6\u6230\u6307\u5357 (Professional Playbook)","text":"<p>\u76ee\u6a19\uff1a\u5f9e\u300c\u5beb\u51fa\u6703\u8dd1\u7684\u7a0b\u5f0f\u78bc\u300d\u6649\u5347\u70ba\u300c\u4ea4\u4ed8\u751f\u7522\u7b49\u7d1a\u3001\u9ad8\u5f48\u6027\u3001\u96f6\u50b5\u52d9\u7684\u7cfb\u7d71\u67b6\u69cb\u300d\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#prompt-first-workflow","title":"\u6838\u5fc3\u54f2\u5b78\uff1a\u6377\u5f91\u958b\u767c (Prompt-First Workflow)","text":"<p>\u4f60\u8981\u8a18\u4f4f\u7684\u4e0d\u662f Tool \u540d\u7a31\uff0c\u800c\u662f \u5de5\u4f5c\u5834\u666f (Prompts)\u3002\u5728\u5de5\u4f5c\u6642\uff0c\u4f60\u53ea\u9700\u8f38\u5165 <code>/</code> \u6216 Prompt \u540d\u7a31\uff0cAI \u5c31\u6703\u81ea\u52d5\u7d44\u5408\u5de5\u5177\u57f7\u884c\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#_1","title":"\u7b2c\u4e00\u968e\u6bb5\uff1a\u9700\u6c42\u5be9\u5ea6\u8207\u67b6\u69cb\u5171\u8b58","text":"<p>\u4e0d\u8981\u76f4\u63a5\u5beb Code\u3002\u5c08\u696d\u7684\u7b2c\u4e00\u6b65\u662f\u78ba\u4fdd AI \u771f\u6b63\u7406\u89e3\u8907\u96dc\u7684\u696d\u52d9\u908f\u8f2f\u3002</p> <ol> <li>\u555f\u52d5\u67b6\u69cb\u5e2b\u8a08\u756b\uff1a\u4f7f\u7528 <code>/vibe_start</code>\u3002</li> <li>\u5e95\u5c64\u9a45\u52d5\uff1a(\u5b8c\u6574 Spec-Driven \u6d41\u7a0b)      <code>speckit_constitution</code> (\u539f\u5247) -&gt; <code>speckit_clarify</code> (\u91d0\u6e05) -&gt; <code>speckit_plan</code> (\u8a08\u756b) -&gt; <code>speckit_checklist</code> (\u9a57\u6536\u6a19\u6e96) -&gt; <code>speckit_analyze</code> (\u4e00\u81f4\u6027\u5206\u6790) -&gt; <code>evaluate_architecture</code>\u3002</li> <li>\u5f37\u5236\u89e3\u6790\u67b6\u69cb\uff1a\u4f7f\u7528 <code>/evaluate_architecture</code>\u3002</li> <li>\u9019\u80fd\u5f37\u5236 AI \u6307\u51fa\u4f60\u9700\u6c42\u4e2d\u7684\u8a2d\u8a08\u7f3a\u9677\uff08\u4f8b\u5982\uff1a\u7f3a\u5c11 Retry \u6a5f\u5236\u3001\u6f5b\u5728\u7684 O(N) \u64cd\u4f5c\uff09\u3002</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#vibe_start-vs-full_stack_dev","title":"\ud83d\udca1 <code>/vibe_start</code> vs <code>/full_stack_dev</code>","text":"<ul> <li><code>/vibe_start</code> (Architect Mode): \u9069\u5408\u5f9e 0 \u5230 1 \u7684\u65b0\u5c08\u6848\uff0c\u91cd\u8996\u9700\u6c42\u91d0\u6e05\u3001\u898f\u683c\u5236\u5b9a\u8207\u67b6\u69cb\u6b63\u78ba\u6027\u3002\u6703\u7d93\u904e\u5b8c\u6574\u7684 Plan/Spec \u6d41\u7a0b\u3002</li> <li><code>/full_stack_dev</code> (Hacker Mode): \u9069\u5408\u9700\u6c42\u660e\u78ba\u3001\u6280\u8853\u5c0e\u5411\u7684\u958b\u767c\u3002\u76f4\u63a5\u9032\u5165\u6280\u8853\u5be6\u4f5c (\u5982 \"\u7528 Next.js \u5beb\u500b\u767b\u5165\u9801\")\uff0c\u901f\u5ea6\u5feb\u4f46\u67b6\u69cb\u6aa2\u67e5\u8f03\u5c11\u3002</li> </ul>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#safety-net","title":"\u7b2c\u4e8c\u968e\u6bb5\uff1a\u5efa\u7acb\u539f\u5b50\u64cd\u4f5c\u9632\u8b77\u7db2 (Safety Net)","text":"<p>\u5728\u4fee\u6539\u6838\u5fc3\u6a21\u7d44\u524d\uff0c\u5148\u5efa\u7acb\u4e00\u500b\u300c\u9003\u751f\u8259\u300d\u3002</p> <ol> <li>\u5b89\u5168\u91cd\u69cb\uff1a\u4f7f\u7528 <code>/safe_refactor</code>\u3002</li> <li>\u5e95\u5c64\u9a45\u52d5\uff1a<code>boring_transaction_start</code> -&gt; (\u4fee\u6539) -&gt; <code>boring_verify</code>\u3002</li> <li>\u5982\u679c\u6e2c\u8a66\u4e0d\u901a\u904e\uff0c\u4f60\u53ef\u4ee5\u63a5\u8457\u7528 <code>/rollback</code> \u4e00\u9375\u5fa9\u539f\u3002</li> <li>\u5be9\u67e5\u5f71\u5b50\u64cd\u4f5c\uff1a\u4f7f\u7528 <code>/shadow_review</code>\u3002</li> <li>\u6aa2\u67e5\u6240\u6709\u88ab <code>Shadow Mode</code> \u6514\u622a\u7684\u5371\u96aa\u64cd\u4f5c\u3002</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#_2","title":"\u7b2c\u4e09\u968e\u6bb5\uff1a\u5feb\u901f\u8a3a\u65b7\u8207\u4fee\u5fa9","text":"<p>\u5229\u7528\u81ea\u52d5\u5316\u5faa\u74b0\u89e3\u6c7a\u7463\u788e\u554f\u984c\u3002</p> <ol> <li>\u81ea\u52d5\u4fee\u5fa9\uff1a\u4f7f\u7528 <code>/quick_fix</code>\u3002</li> <li>\u5e95\u5c64\u9a45\u52d5\uff1a<code>boring_verify</code> -&gt; <code>boring_auto_fix</code> -&gt; <code>ruff format</code>\u3002</li> <li>\u80cc\u666f\u9a57\u8b49\uff1a\u5982\u679c\u662f\u5927\u578b\u5c08\u6848\uff0c\u4f7f\u7528 <code>/background_verify</code>\u3002</li> <li>\u8b93 AI \u5728\u80cc\u666f\u8dd1\u6e2c\u8a66\uff0c\u4f60\u7e7c\u7e8c\u5beb\u4e0b\u4e00\u500b\u529f\u80fd\u3002</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#ab","title":"\u7b2c\u56db\u968e\u6bb5\uff1a\u54c1\u8cea\u8a55\u4f30\u8207 A/B \u5c0d\u6bd4","text":"<p>\u4ea4\u4ed8\u524d\u7684\u6700\u7d42\u6d17\u79ae\u3002</p> <ol> <li>\u57f7\u884c\u5b89\u5168\u6383\u63cf\uff1a\u4f7f\u7528 <code>/security_scan</code>\u3002</li> <li>\u81ea\u52d5\u6aa2\u6e2c Secrets \u662f\u5426\u5916\u6d29\uff0c\u4f9d\u8cf4\u5305\u662f\u5426\u6709 CVE \u6f0f\u6d1e\u3002</li> <li>\u4ee3\u78bc\u8a55\u5206\uff1a\u4f7f\u7528 <code>/evaluate_code</code>\u3002</li> <li>\u5be6\u4f5c\u5c0d\u6bd4\uff1a\u4f7f\u7528 <code>/compare_implementations</code>\u3002</li> <li>\u5c07\u4f60\u7684\u5169\u500b\u65b9\u6848\u8def\u5f91\u4ea4\u7d66\u300cAI \u88c1\u5224\u300d\uff0c\u8b93\u5b83\u9078\u51fa\u7dad\u8b77\u6027\u6700\u4f73\u7684\u7248\u672c\u3002</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#prompt","title":"\u5c08\u696d Prompt \u6377\u5f91\u8868","text":"\u60f3\u8981\u505a\u4ec0\u9ebc \u4f7f\u7528\u9019\u500b Prompt \u5c0d\u61c9\u7684 Tool \u7d44\u5408 \u65b0\u529f\u80fd\u958b\u767c <code>/vibe_start</code> Speckit + Agent Plan \u9ad8\u98a8\u96aa\u6539\u52d5 <code>/safe_refactor</code> Transactions + Verify \u4fee Lint/\u683c\u5f0f <code>/quick_fix</code> Auto-fix + Ruff \u7a0b\u5f0f\u78bc\u67e5\u932f <code>/debug_error</code> Diagnose + Verify \u5b89\u5168\u6aa2\u67e5 <code>/security_scan</code> Security (SAST/Secrets) \u641c\u5c0b\u4ee3\u78bc <code>/semantic_search</code> RAG Search \u5168\u9762\u54c1\u8cea\u7a3d\u6838 <code>/audit_quality</code> Health + Security + Verify \u67e5\u770b\u672a\u4f86\u8def\u5f91 <code>/roadmap</code> Task + Mermaid Gantt \u7cfb\u7d71\u72c0\u614b\u76e3\u63a7 <code>/system_status</code> Status + Progress \u67b6\u69cb\u8996\u89ba\u5316 <code>/visualize</code> Mermaid Diagrams \u67e5\u770b AI \u8a18\u61b6 <code>/project_brain</code> Brain Summary \u667a\u80fd\u63d0\u4ea4 <code>/smart_commit</code> boring_verify + boring_commit \u5c08\u6848\u5065\u6aa2 <code>/vibe_check</code> Vibe Score &amp; Health \u6548\u80fd\u512a\u5316\u5206\u6790 <code>/optimize_performance</code> Arch Evaluation \u5b78\u7fd2\u5c08\u6848\u6a21\u5f0f <code>/learn_patterns</code> boring_learn \u5efa\u7acb\u8a55\u4f30\u6a19\u6e96 <code>/create_rubrics</code> boring_create_rubrics \u5efa\u7acb RAG \u7d22\u5f15 <code>/index_codebase</code> boring_rag_index \u6e05\u9664\u77ed\u671f\u8a18\u61b6 <code>/reset_memory</code> boring_forget_all \u8a2d\u5b9a IDE <code>/setup_ide</code> boring_setup_extensions \u6a19\u8a18\u4efb\u52d9\u5b8c\u6210 <code>/mark_done</code> boring_done"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#vibe-coding-the-karpathy-style","title":"\ud83d\udd25 Vibe Coding \u5c08\u5c6c\u5de5\u4f5c\u6d41 (The Karpathy Style)","text":"<p>Vibe Coding \u7684\u7cbe\u9ad3\u5728\u65bc\u300cFlow\u300d\u3002\u4e0d\u8981\u88ab\u7d30\u7bc0\u5361\u4f4f\uff0c\u7528\u9ad8\u5c64\u6b21\u6307\u4ee4\u63a7\u5236 AI\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#1-visualize","title":"1. \u8996\u89ba\u5316\u5c0e\u5411 (<code>/visualize</code>)","text":"<p>\u4e0d\u8981\u8b80\u4ee3\u78bc\uff0c\u770b\u4ee3\u78bc\u3002 - <code>boring run \"/visualize\"</code> -&gt; \u77ac\u9593\u751f\u6210\u67b6\u69cb\u5716\u3002 - \u767c\u73fe\u67b6\u69cb\u592a\u4e82\uff1f -&gt; <code>boring run \"/refactor\"</code>\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#2-smart_commit","title":"2. \u667a\u80fd\u63d0\u4ea4 (<code>/smart_commit</code>)","text":"<p>\u5beb\u5b8c\u529f\u80fd\u61f6\u5f97\u5beb Commit Message\uff1f - <code>boring run \"/smart_commit\"</code> - AI \u6703\u5148\u57f7\u884c <code>boring_verify</code> \u9a57\u8b49\u54c1\u8cea - \u82e5\u7121\u6307\u5b9a\u8a0a\u606f\uff0c\u81ea\u52d5\u547c\u53eb <code>boring_commit</code> \u5f9e <code>task.md</code> \u63d0\u53d6\u5df2\u5b8c\u6210\u4efb\u52d9\uff0c\u751f\u6210 Conventional Commits \u683c\u5f0f\uff08\u5982 <code>feat(auth): add jwt support</code>\uff09 - Flow \u4e0d\u4e2d\u65b7\u3002</p> <p>\ud83d\udca1 \u67b6\u69cb\u8aaa\u660e\uff1a<code>boring_commit</code> \u662f\u5e95\u5c64 Tool\uff0c<code>smart_commit</code> \u662f\u7d44\u5408\u6d41\u7a0b (Verify \u2192 Commit \u2192 Push)\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#3-vibe-check-vibe_check","title":"3. Vibe Check (<code>/vibe_check</code>)","text":"<p>\u89ba\u5f97\u5c08\u6848\u54ea\u88e1\u602a\u602a\u7684\uff1f - \u8b93 AI \u7d66\u4f60\u7684\u5c08\u6848\u6253\u5206\u6578\u3002 - \u5b83\u6703\u6aa2\u67e5\u6587\u4ef6\u5b8c\u6574\u5ea6\u3001\u4ee3\u78bc\u9ad2\u4e82\u5ea6\u3001\u662f\u5426\u7b26\u5408\u5b83\u5b78\u5230\u7684 Pattern\u3002 - \u4fdd\u6301 Vibe Score &gt; 90 \u5206\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#4-roadmap","title":"4. \u81ea\u52d5\u5c0e\u822a (<code>/roadmap</code>)","text":"<p>\u8ff7\u8def\u4e86\u55ce\uff1f - <code>/roadmap</code> \u6703\u8b80\u53d6 <code>task.md</code> \u4e26\u751f\u6210\u7518\u7279\u5716\u3002 - \u544a\u8a34\u4f60\u300c\u6211\u5011\u5728\u54ea\u88e1\u300d\u4ee5\u53ca\u300c\u4e0b\u4e00\u6b65\u53bb\u54ea\u88e1\u300d\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#ai-brain-management","title":"\u9032\u968e\u6280\u5de7\uff1aAI \u77e5\u8b58\u5eab\u7ba1\u7406 (Brain Management)","text":"<p>Boring \u7684\u6838\u5fc3\u5927\u8166\u4f4d\u65bc <code>.boring/brain/</code>\uff0c\u9019\u662f\u4f60\u53ef\u4ee5\u300c\u6253\u5305\u5e36\u8d70\u300d\u7684\u667a\u6167\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#1-ai-code-style-learn_patterns","title":"1. \u6559\u6703 AI \u4f60\u7684 Code Style (<code>/learn_patterns</code>)","text":"<p>\u7576 AI \u5beb\u51fa\u7684\u4ee3\u78bc\u4e0d\u7b26\u5408\u4f60\u7684\u7fd2\u6163\u6642\uff0c\u4e0d\u8981\u53ea\u5728\u9019\u6b21\u5c0d\u8a71\u4e2d\u7cfe\u6b63\u5b83\u3002 1. \u624b\u52d5\u4fee\u6539\u4ee3\u78bc\u6210\u4f60\u559c\u6b61\u7684\u6a23\u5b50\u3002 2. \u57f7\u884c <code>/learn_patterns</code>\u3002 3. AI \u6703\u5206\u6790\u4f60\u7684\u4fee\u6539\uff0c\u5b78\u6703\u300c\u5594\uff01\u539f\u4f86\u9019\u500b\u5c08\u6848\u8981\u9019\u6a23\u5beb\u300d\u3002 4. \u6c38\u4e45\u751f\u6548\uff1a\u4ee5\u5f8c\u5b83\u90fd\u6703\u9019\u6a23\u5beb\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#2-brain-portability","title":"2. \u79fb\u690d\u5927\u8166\u5230\u65b0\u5c08\u6848 (Brain Portability)","text":"<p>\u60f3\u5728\u65b0\u5c08\u6848\u6cbf\u7528\u820a\u5c08\u6848\u7684\u7fd2\u6163\uff1f 1. \u8907\u88fd <code>.boring/brain/patterns.json</code> (\u4ee3\u78bc\u98a8\u683c)\u3002 2. \u8907\u88fd <code>.boring/brain/rubrics/</code> (\u8a55\u5206\u6a19\u6e96)\u3002 3. \u8cbc\u5230\u65b0\u5c08\u6848\u7684\u540c\u540d\u8cc7\u6599\u593e\u3002 4. \u5b8c\u6210\uff1a\u65b0\u5c08\u6848\u7684 AI \u77ac\u9593\u64c1\u6709 5 \u5e74\u8cc7\u6df1\u5de5\u7a0b\u5e2b\u7684\u7d93\u9a57\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#3-cross-project-knowledge-v10","title":"3. \u8de8\u5c08\u6848\u77e5\u8b58\u5171\u4eab (Cross-Project Knowledge V10+)","text":"<p>Boring \u652f\u63f4\u5168\u57df\u77e5\u8b58\u5eab\u3002 - \u4f60\u7684\u4fee\u6b63\u8207\u504f\u597d\u6703\u81ea\u52d5\u540c\u6b65\u5230 <code>~/.boring/brain/global_patterns.json</code>\u3002 - \u958b\u555f\u4efb\u4f55\u65b0\u5c08\u6848\u6642\uff0cBoring \u90fd\u5df2\u7d93\u77e5\u9053\u4f60\u7684\u559c\u597d\u3002</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK/#api","title":"\u5c08\u5bb6\u6848\u4f8b\uff1a\u91cd\u69cb\u4e00\u500b API","text":"<pre><code>1. \u4f60: \"/safe_refactor \u5c0e\u5165 Redis \u9396\u6a5f\u5236\"\n2. Boring: (\u81ea\u52d5\u958b\u555f Transaction) -&gt; (\u958b\u59cb\u4fee\u6539) -&gt; (\u81ea\u52d5\u8dd1\u6e2c\u8a66)\n3. Boring: \"\u274c \u6e2c\u8a66\u5931\u6557\u3002\u5df2\u81ea\u52d5\u5075\u6e2c\u932f\u8aa4\uff0c\u662f\u5426\u57f7\u884c `/quick_fix`\uff1f\"\n4. \u4f60: \"\u57f7\u884c /quick_fix\"\n5. Boring: (\u81ea\u52d5\u4fee\u5fa9\u8a9e\u6cd5\u932f\u8aa4) -&gt; (\u9a57\u8b49\u901a\u904e)\n6. \u4f60: \"/smart_commit\"\n</code></pre> <p>\u201c\u5c08\u696d\u73a9\u5bb6\u4e0d\u8a18 Tool\uff0c\u56e0\u70ba Prompt \u5df2\u7d93\u5e6b\u4f60\u6e96\u5099\u597d\u4e86\u6240\u6709\u6230\u8853\u7d44\u5408\u3002\u201d</p> <p>Last updated: V14.0.0</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/","title":"Boring Professional Playbook","text":"<p>Goal: Promotion from \"Writing code that runs\" to \"Delivering production-grade, highly resilient, zero-debt system architecture\".</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#core-philosophy-prompt-first-workflow","title":"Core Philosophy: Prompt-First Workflow","text":"<p>What you need to memorize is not Tool Names, but Work Scenarios (Prompts). When working, simply type <code>/</code> or the Prompt name, and the AI will automatically combine tools to execute.</p> <p>\ud83d\udca1 V10.24 Tip: You can also use <code>boring-route \"your intent\"</code> CLI or just describe naturally in chat. The Universal Router will auto-select the right tools.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#phase-1-requirement-scrutiny-architecture-consensus","title":"Phase 1: Requirement Scrutiny &amp; Architecture Consensus","text":"<p>Don't write Code directly. The first professional step is ensuring AI truly understands complex business logic.</p> <ol> <li>Launch Architect Plan: Use <code>/vibe_start</code>.</li> <li>Underlying Driver: (Complete Spec-Driven Flow)      <code>speckit_constitution</code> (Principles) -&gt; <code>speckit_clarify</code> (Clarify) -&gt; <code>speckit_plan</code> (Plan) -&gt; <code>speckit_checklist</code> (Criteria) -&gt; <code>speckit_analyze</code> (Consistency) -&gt; <code>evaluate_architecture</code>.</li> <li>Force Architecture Analysis: Use <code>/evaluate_architecture</code>.</li> <li>This forces AI to point out design flaws in your requirements (e.g., missing Retry mechanism, potential O(N) operations).</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#vibe_start-vs-full_stack_dev","title":"\ud83d\udca1 <code>/vibe_start</code> vs <code>/full_stack_dev</code>","text":"<ul> <li><code>/vibe_start</code> (Architect Mode): Best for new 0-to-1 projects, emphasizing requirement clarification, spec definition, and architectural correctness. Goes through full Plan/Spec flow.</li> <li><code>/full_stack_dev</code> (Hacker Mode): Best for clear requirements, tech-driven dev. Jumps straight to implementation (e.g., \"Write a login page with Next.js\"), faster but less architectural checks.</li> </ul>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#phase-2-building-atomic-safety-net","title":"Phase 2: Building Atomic Safety Net","text":"<p>Before modifying core modules, build an \"Escape Pod\".</p> <ol> <li>Safe Refactor: Use <code>/safe_refactor</code>.</li> <li>Underlying Driver: <code>boring_transaction_start</code> -&gt; (Modify) -&gt; <code>boring_verify</code>.</li> <li>If tests fail, you can follow up with <code>/rollback</code> to restore instantly.</li> <li>Review Shadow Ops: Use <code>/shadow_review</code>.</li> <li>Check all dangerous operations intercepted by <code>Shadow Mode</code>.</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#phase-3-quick-diagnosis-repair","title":"Phase 3: Quick Diagnosis &amp; Repair","text":"<p>Use automation loops to solve trivial issues.</p> <ol> <li>Auto Fix: Use <code>/quick_fix</code>.</li> <li>Underlying Driver: <code>boring_verify</code> -&gt; <code>boring_auto_fix</code> -&gt; <code>ruff format</code>.</li> <li>Background Verify: For large projects, use <code>/background_verify</code>.</li> <li>Let AI run tests in background while you write the next feature.</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#phase-4-quality-eval-ab-contrast","title":"Phase 4: Quality Eval &amp; A/B Contrast","text":"<p>The final baptism before delivery.</p> <ol> <li>Run Security Scan: Use <code>/security_scan</code>.</li> <li>Auto-detects leaked Secrets or dependencies with CVEs.</li> <li>Code Scoring: Use <code>/evaluate_code</code>.</li> <li>Implementation Contrast: Use <code>/compare_implementations</code>.</li> <li>Hand your two solution paths to the \"AI Judge\" to pick the most maintainable version.</li> </ol>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#professional-prompt-cheatsheet","title":"Professional Prompt Cheatsheet","text":"What to do Use this Prompt Corresponding Tool Combo New Feature Dev <code>/vibe_start</code> Speckit + Agent Plan High Risk Change <code>/safe_refactor</code> Transactions + Verify Fix Lint/Format <code>/quick_fix</code> Auto-fix + Ruff Debug Code <code>/debug_error</code> Diagnose + Verify Security Check <code>/security_scan</code> Security (SAST/Secrets) Search Code <code>/semantic_search</code> RAG Search Full Quality Audit <code>/audit_quality</code> Health + Security + Verify View Roadmap <code>/roadmap</code> Task + Mermaid Gantt System Monitor <code>/system_status</code> Status + Progress Architecture Vis <code>/visualize</code> Mermaid Diagrams View AI Memory <code>/project_brain</code> Brain Summary Smart Commit <code>/smart_commit</code> boring_verify + boring_commit Project Health <code>/vibe_check</code> Vibe Score &amp; Health Perf Opt Analysis <code>/optimize_performance</code> Arch Evaluation Learn Patterns <code>/learn_patterns</code> boring_learn Create Rubrics <code>/create_rubrics</code> boring_create_rubrics Build RAG Index <code>/index_codebase</code> boring_rag_index Clear Short Term <code>/reset_memory</code> boring_forget_all Setup IDE <code>/setup_ide</code> boring_setup_extensions Mark Done <code>/mark_done</code> boring_done"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#vibe-coding-exclusive-workflow-the-karpathy-style","title":"\ud83d\udd25 Vibe Coding Exclusive Workflow (The Karpathy Style)","text":"<p>The essence of Vibe Coding is \"Flow\". Don't get stuck on details, control AI with high-level directives.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#1-visualization-oriented-visualize","title":"1. Visualization Oriented (<code>/visualize</code>)","text":"<p>Don't read code, see code. - <code>boring run \"/visualize\"</code> -&gt; Instantly generate architecture diagram. - Architecture looks messy? -&gt; <code>boring run \"/refactor\"</code>.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#2-smart-commit-smart_commit","title":"2. Smart Commit (<code>/smart_commit</code>)","text":"<p>Too lazy to write Commit Message after coding? - <code>boring run \"/smart_commit\"</code> - AI first runs <code>boring_verify</code> to verify quality. - If no message provided, automatically calls <code>boring_commit</code> to extract completed tasks from <code>task.md</code> and generate Conventional Commits format (e.g., <code>feat(auth): add jwt support</code>). - Flow Uninterrupted.</p> <p>\ud83d\udca1 Architecture Note: <code>boring_commit</code> is the underlying Tool, <code>smart_commit</code> is the composite flow (Verify \u2192 Commit \u2192 Push).</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#3-vibe-check-vibe_check","title":"3. Vibe Check (<code>/vibe_check</code>)","text":"<p>Feel something is off with the project? - Let AI score your project. - It checks documentation completeness, code messiness, and compliance with learned Patterns. - Keep Vibe Score &gt; 90.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#4-auto-navigation-roadmap","title":"4. Auto Navigation (<code>/roadmap</code>)","text":"<p>Lost? - <code>/roadmap</code> reads <code>task.md</code> and generates a Gantt chart. - Tells you \"Where we are\" and \"Where to go next\".</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#advanced-technique-ai-knowledge-base-brain-management","title":"Advanced Technique: AI Knowledge Base (Brain Management)","text":"<p>Boring's core brain is located at <code>.boring/brain/</code>, which is \"packable wisdom\".</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#1-teach-ai-your-code-style-learn_patterns","title":"1. Teach AI Your Code Style (<code>/learn_patterns</code>)","text":"<p>When AI writes code that doesn't fit your habit, don't just correct it in this conversation. 1. Manually modify code to your liking. 2. Run <code>/learn_patterns</code>. 3. AI analyzes your change, learns \"Oh! So this project writes like this\". 4. Permenently Effective: It will write like this from now on.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#2-port-brain-to-new-project-brain-portability","title":"2. Port Brain to New Project (Brain Portability)","text":"<p>Want to carry over habits to a new project? 1. Copy <code>.boring/brain/patterns.json</code> (Code Style). 2. Copy <code>.boring/brain/rubrics/</code> (Scoring Rubrics). 3. Paste to new project's same folder. 4. Done: New project's AI instantly possesses 5 years of senior engineer experience.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#3-cross-project-knowledge-cross-project-knowledge-v10","title":"3. Cross-Project Knowledge (Cross-Project Knowledge V10+)","text":"<p>Boring supports Global Knowledge Base. - Your fixes and preferences automatically sync to <code>~/.boring/brain/global_patterns.json</code>. - When starting any new project, Boring already knows your preferences.</p>"},{"location":"tutorials/PROFESSIONAL_PLAYBOOK_en/#expert-case-refactoring-an-api","title":"Expert Case: Refactoring an API","text":"<pre><code>1. You: \"/safe_refactor Introduce Redis locking mechanism\"\n2. Boring: (Auto Start Transaction) -&gt; (Start Modifying) -&gt; (Auto Run Tests)\n3. Boring: \"\u274c Tests failed. Error detected. Execute `/quick_fix`?\"\n4. You: \"Run /quick_fix\"\n5. Boring: (Auto fix syntax error) -&gt; (Verify Passed)\n6. You: \"/smart_commit\"\n</code></pre> <p>\u201cPro players don't memorize Tools, because Prompts have prepared all tactical combos.\u201d</p> <p>Last updated: V14.0.0</p>"},{"location":"tutorials/TUTORIAL/","title":"Boring for Gemini: Complete Tutorial","text":"<p>\u5f9e\u96f6\u958b\u59cb\uff0c5 \u5206\u9418\u4e0a\u624b Vibe Coding \u7684\u67b6\u69cb\u5e2b\u5f8c\u7aef</p>"},{"location":"tutorials/TUTORIAL/#part-1-5","title":"Part 1: \u5feb\u901f\u5165\u9580 (5 \u5206\u9418\u4e0a\u624b)","text":""},{"location":"tutorials/TUTORIAL/#11-boring","title":"1.1 \u4ec0\u9ebc\u662f Boring?","text":"<p>Boring \u4e0d\u662f\u4e00\u500b\u666e\u901a\u7684 AI \u7a0b\u5f0f\u78bc\u751f\u6210\u5668\u2014\u2014\u5b83\u662f\u4f60\u7684\u8cc7\u6df1\u67b6\u69cb\u5e2b\u5c0e\u5e2b\u3002</p> \u50b3\u7d71 AI \u52a9\u624b Boring \u67b6\u69cb\u5e2b \u751f\u6210\u7a0b\u5f0f\u78bc \u5148\u554f\u9700\u6c42\uff0c\u518d\u8a2d\u8a08\u67b6\u69cb \u4fee\u5fa9\u932f\u8aa4 \u89e3\u91cb\u70ba\u4ec0\u9ebc\u932f\u8aa4\u6703\u767c\u751f \u88ab\u52d5\u56de\u61c9 \u4e3b\u52d5\u8b66\u544a\u6f5b\u5728\u98a8\u96aa <p>\u6838\u5fc3\u512a\u52e2: - \ud83c\udfdb\ufe0f \u67b6\u69cb\u5e2b\u4eba\u8a2d: \u6bcf\u6b21\u4e92\u52d5\u90fd\u5305\u542b\u67b6\u69cb\u5efa\u8b70 - \ud83d\udd04 \u81ea\u52d5\u4fee\u5fa9\u5faa\u74b0: \u4e00\u9375\u4fee\u5fa9 Lint/Test/Format - \ud83d\udee1\ufe0f Shadow Mode: \u9ad8\u98a8\u96aa\u64cd\u4f5c\u7684\u5b89\u5168\u5be9\u6838 - \ud83d\udd0d RAG \u8a9e\u7fa9\u641c\u5c0b: \u7528\u81ea\u7136\u8a9e\u8a00\u627e\u7a0b\u5f0f\u78bc</p>"},{"location":"tutorials/TUTORIAL/#12","title":"1.2 \u5b89\u88dd\u6307\u5357","text":""},{"location":"tutorials/TUTORIAL/#1-pip","title":"\u65b9\u6cd5 1: pip \u5b89\u88dd (\u63a8\u85a6)","text":"<pre><code>pip install boring-aicoding\n</code></pre>"},{"location":"tutorials/TUTORIAL/#2","title":"\u65b9\u6cd5 2: \u5f9e\u539f\u59cb\u78bc\u5b89\u88dd","text":"<pre><code>git clone https://github.com/Boring206/boring-gemini.git\ncd boring-gemini\npip install -e \".[mcp]\"\n</code></pre>"},{"location":"tutorials/TUTORIAL/#13-ide-one-click","title":"1.3 IDE \u6574\u5408 (One-Click)","text":"<p>\u4e0d\u8981\u624b\u52d5\u7de8\u8f2f\u8a2d\u5b9a\u6a94\uff01Boring \u63d0\u4f9b\u4e86\u81ea\u52d5\u8a2d\u5b9a\u5de5\u5177\u3002</p>"},{"location":"tutorials/TUTORIAL/#_1","title":"\u2705 \u63a8\u85a6\u65b9\u6cd5\uff1a\u4e00\u9375\u6574\u5408","text":"<p>\u5728\u7d42\u7aef\u6a5f\u57f7\u884c\uff1a</p> <pre><code># \u81ea\u52d5\u5075\u6e2c Cursor/VSCode/Claude \u4e26\u5b89\u88dd\u8a2d\u5b9a\nboring setup-extensions\n</code></pre> <p>\u9019\u6703\u81ea\u52d5\uff1a 1. \u5efa\u7acb/\u66f4\u65b0 MCP \u8a2d\u5b9a\u6a94 (<code>mcp.json</code>) 2. \u5b89\u88dd\u5fc5\u8981\u7684 MCP Server (Boring, Context7) 3. \u8a2d\u5b9a API Key (\u6703\u63d0\u793a\u8f38\u5165)</p>"},{"location":"tutorials/TUTORIAL/#fallback","title":"\u624b\u52d5\u65b9\u6cd5 (Fallback)","text":"<p>\u5982\u679c\u81ea\u52d5\u8a2d\u5b9a\u5931\u6557\uff0c\u8acb\u53c3\u8003 MCP Configuration Guide \u9032\u884c\u624b\u52d5\u8a2d\u5b9a\u3002</p>"},{"location":"tutorials/TUTORIAL/#14","title":"1.4 \u7b2c\u4e00\u500b\u5c08\u6848","text":"<pre><code># \u5efa\u7acb\u65b0\u5c08\u6848 (\u57f7\u884c boring start \u524d\u5fc5\u9808\u6b64\u6b65\u9a5f\uff01)\nboring-setup my-app\ncd my-app\n\n# \u67e5\u770b\u72c0\u614b\nboring status\n\n# \u5b89\u88dd Git hooks\nboring_hooks_install\n</code></pre> <p>\u5c08\u6848\u7d50\u69cb: <pre><code>my-app/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 tests/\n\u251c\u2500\u2500 PROMPT.md          # AI \u6307\u4ee4\n\u251c\u2500\u2500 @fix_plan.md       # \u4efb\u52d9\u6e05\u55ae\n\u2514\u2500\u2500 .boring/brain/     # \u77e5\u8b58\u5eab\n</code></pre></p>"},{"location":"tutorials/TUTORIAL/#part-2","title":"Part 2: \u6838\u5fc3\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"tutorials/TUTORIAL/#21-vibe-start","title":"2.1 Vibe Start \u5b8c\u6574\u6d41\u7a0b","text":"<p>\u4f7f\u7528 <code>vibe_start</code> prompt \u555f\u52d5\u5168\u81ea\u52d5\u958b\u767c\u6d41\u7a0b:</p> <pre><code>\u4f60: \"Build a REST API for user management\"\n\nBoring:\n1\ufe0f\u20e3 **Foundation** (Constitution &amp; Clarify) \u2192 \u78ba\u7acb\u539f\u5247\u8207\u91d0\u6e05\u9700\u6c42\n2\ufe0f\u20e3 **Spec &amp; Plan** (Plan, Checklist) \u2192 \u751f\u6210\u5be6\u4f5c\u8a08\u756b\u8207\u9a57\u6536\u6a19\u6e96\n3\ufe0f\u20e3 **Pre-Analysis** (SpecKit Analyze) \u2192 \u78ba\u4fdd\u8a08\u756b\u4e00\u81f4\u6027\n4\ufe0f\u20e3 **Implementation** (Multi-Agent) \u2192 \u5354\u4f5c\u958b\u767c\n5\ufe0f\u20e3 **Verification** (Verify &amp; Fix) \u2192 \u54c1\u8cea\u9a57\u8b49\u8207\u4fee\u5fa9\n</code></pre> <p>\u5c0d\u8a71\u7bc4\u4f8b:</p> <p>User: \"Build a REST API for user management\"</p> <p>Boring: (Thinking...) I will start the Vibe Coder workflow. Calling tool: <code>boring_multi_agent</code> or <code>vibe_start</code></p>"},{"location":"tutorials/TUTORIAL/#22-quick-fix","title":"2.2 Quick Fix \u81ea\u52d5\u4fee\u5fa9","text":"<p>\u4e00\u9375\u4fee\u5fa9\u6240\u6709\u7a0b\u5f0f\u78bc\u554f\u984c:</p> <p>\u5c0d\u8a71\u7bc4\u4f8b:</p> <p>User: \"Fix all the linting errors\" Boring: I'll run the quick fix loop. Calling tool: <code>boring_auto_fix</code></p> <p>\u6216\u8005\u4f7f\u7528 CLI: <pre><code>boring-route \"Fix the lint errors\"\n</code></pre></p> <p>\u57f7\u884c\u6d41\u7a0b: 1. <code>boring_verify(level='FULL')</code> \u2014 \u627e\u51fa\u6240\u6709\u554f\u984c 2. <code>boring_auto_fix(max_iterations=3)</code> \u2014 \u81ea\u52d5\u4fee\u5fa9 3. \u518d\u6b21\u9a57\u8b49\u78ba\u8a8d\u4fee\u5fa9\u6210\u529f</p>"},{"location":"tutorials/TUTORIAL/#23-multi-agent","title":"2.3 Multi-Agent \u5354\u4f5c","text":"Agent \u89d2\u8272 \u8ca0\u8cac \ud83c\udfdb\ufe0f Architect \u898f\u5283\u8005 \u8a2d\u8a08\u67b6\u69cb\u3001\u5efa\u7acb\u8a08\u756b \ud83d\udcbb Coder \u57f7\u884c\u8005 \u5beb\u7a0b\u5f0f\u78bc\u3001\u5be6\u4f5c\u529f\u80fd \ud83d\udd0d Reviewer \u5be9\u67e5\u8005 \u7a0b\u5f0f\u78bc\u5be9\u67e5\u3001\u54c1\u8cea\u628a\u95dc <p>\u5c0d\u8a71\u7bc4\u4f8b:</p> <p>User: \"Implement user authentication with JWT\"</p> <p>Boring: I'll assign this to the Coder agent. Calling tool: <code>boring_multi_agent</code></p>"},{"location":"tutorials/TUTORIAL/#part-3","title":"Part 3: \u9032\u968e\u529f\u80fd","text":""},{"location":"tutorials/TUTORIAL/#31-rag","title":"3.1 RAG \u8a9e\u7fa9\u641c\u5c0b","text":"<p>\u7528\u81ea\u7136\u8a9e\u8a00\u641c\u5c0b\u7a0b\u5f0f\u78bc:</p> <pre><code># \u5efa\u7acb\u7d22\u5f15 (\u7b2c\u4e00\u6b21\u57f7\u884c\uff0c\u9700\u5b89\u88dd chromadb)\nboring_rag_index()\n\n# \u641c\u5c0b\nboring_rag_search(query=\"\u9a57\u8b49 JWT token \u7684\u51fd\u6578\")\n# \u8fd4\u56de: \u76f8\u95dc\u6a94\u6848\u3001\u51fd\u6578\u5b9a\u7fa9\u3001\u547c\u53eb\u95dc\u4fc2\n\n# \u53d6\u5f97\u7279\u5b9a\u51fd\u6578\u7684\u4e0a\u4e0b\u6587\nboring_rag_context(file_path=\"src/auth/jwt.py\", function_name=\"validate\")\n</code></pre>"},{"location":"tutorials/TUTORIAL/#32-shadow-mode","title":"3.2 Shadow Mode \u5b89\u5168\u57f7\u884c","text":"<p>\u5c0d\u65bc\u9ad8\u98a8\u96aa\u64cd\u4f5c\uff0c\u555f\u7528\u4eba\u5de5\u5be9\u6838:</p> <pre><code># \u555f\u7528\u56b4\u683c\u6a21\u5f0f\nboring_shadow_mode(mode=\"STRICT\")\n\n# \u57f7\u884c\u9ad8\u98a8\u96aa\u64cd\u4f5c (\u88ab\u6355\u7372\uff0c\u4e0d\u6703\u76f4\u63a5\u57f7\u884c)\nboring_multi_agent(task=\"Delete all test files\")\n# \u8fd4\u56de: pending_approval\n\n# \u67e5\u770b\u5f85\u5be9\u6838\u64cd\u4f5c\nboring_shadow_status()\n\n# \u6279\u51c6\u6216\u62d2\u7d55\nboring_shadow_approve(operation_id=\"op-xyz\")\nboring_shadow_reject(operation_id=\"op-xyz\", note=\"\u592a\u5371\u96aa\")\n</code></pre>"},{"location":"tutorials/TUTORIAL/#33-transaction-rollback","title":"3.3 Transaction &amp; Rollback","text":"<p>Git-based \u539f\u5b50\u64cd\u4f5c\uff0c\u53ef\u96a8\u6642\u56de\u6efe:</p> <pre><code># \u958b\u59cb\u4ea4\u6613 (\u5efa\u7acb\u9084\u539f\u9ede)\nboring_transaction_start(message=\"Refactoring auth\")\n\n# \u57f7\u884c\u8b8a\u66f4...\nboring_multi_agent(task=\"Refactor authentication module\")\n\n# \u9a57\u8b49\nresult = boring_verify(level=\"FULL\")\n\nif result[\"passed\"]:\n    boring_transaction_commit()  # \u78ba\u8a8d\u8b8a\u66f4\nelse:\n    boring_rollback()  # \u56de\u6efe\u5230\u9084\u539f\u9ede\n</code></pre>"},{"location":"tutorials/TUTORIAL/#34-background-tasks","title":"3.4 Background Tasks","text":"<p>\u9577\u6642\u9593\u4efb\u52d9\u5728\u80cc\u666f\u57f7\u884c:</p> <pre><code># \u63d0\u4ea4\u80cc\u666f\u4efb\u52d9\nresult = boring_background_task(task_type=\"verify\", task_args={\"level\": \"FULL\"})\ntask_id = result[\"task_id\"]\n\n# \u6aa2\u67e5\u9032\u5ea6 (\u975e\u963b\u585e)\nstatus = boring_task_status(task_id=task_id)\n# {\"status\": \"running\", \"progress\": 60}\n\n# \u5217\u51fa\u6240\u6709\u4efb\u52d9\nboring_list_tasks()\n</code></pre>"},{"location":"tutorials/TUTORIAL/#35-auto-learning-v140-updated","title":"3.5 Auto-Learning (V14.0 Updated)","text":"<p>Boring \u6703\u89c0\u5bdf\u4f60\u7684\u4fee\u6b63\uff0c\u81ea\u52d5\u9032\u5316\uff1a</p> <ol> <li>\u88ab\u52d5\u5b78\u7fd2\uff1a\u7576\u4f60\u62d2\u7d55 AI \u7684\u8b8a\u66f4\u4e26\u624b\u52d5\u4fee\u6539\u5f8c\uff0cBoring \u6703\u5206\u6790\u5dee\u7570\u4e26\u5b78\u7fd2\u3002</li> <li>\u4e3b\u52d5\u5b78\u7fd2\uff1a    <pre><code># \u6559\u6703 AI \u4e00\u500b\u65b0\u898f\u5247\nboring_learn_pattern(\n    pattern_type=\"code_style\",\n    description=\"Always use UTC for datetimes\",\n    context=\"When handling time\",\n    solution=\"datetime.now(timezone.utc)\"\n)\n</code></pre></li> <li>\u77e5\u8b58\u67e5\u770b:    <pre><code>boring_brain_summary()\n</code></pre></li> </ol>"},{"location":"tutorials/TUTORIAL/#part-4-ide","title":"Part 4: IDE \u6574\u5408","text":""},{"location":"tutorials/TUTORIAL/#41-cursorwindsurf-mcp","title":"4.1 Cursor/Windsurf MCP \u8a2d\u5b9a","text":"<p>\u5b8c\u6574\u8a2d\u5b9a\u6a94: <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"GOOGLE_API_KEY\": \"your-key\",\n        \"BORING_MCP_DEBUG\": \"1\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"tutorials/TUTORIAL/#42-smithery","title":"4.2 Smithery \u96f2\u7aef\u90e8\u7f72","text":"<p>\u8a2a\u554f Smithery:</p> <ol> <li>\u9023\u63a5\u4f60\u7684 GitHub \u5e33\u865f</li> <li>\u8a2d\u5b9a <code>GOOGLE_API_KEY</code></li> <li>\u5728\u4efb\u4f55 MCP \u5ba2\u6236\u7aef\u4f7f\u7528</li> </ol>"},{"location":"tutorials/TUTORIAL/#43-dynamic-discovery-v140","title":"4.3 Dynamic Discovery (V14.0)","text":"<p>AI \u81ea\u52d5\u63a2\u7d22\u53ef\u7528\u5de5\u5177:</p> <pre><code># \u5217\u51fa\u6240\u6709\u80fd\u529b\u985e\u5225\nboring://capabilities\n\n# \u53d6\u5f97\u7279\u5b9a\u985e\u5225\u7684\u8a73\u7d30\u4f7f\u7528\u65b9\u5f0f\nboring://tools/security\nboring://tools/rag_search\n</code></pre>"},{"location":"tutorials/TUTORIAL/#part-5","title":"Part 5: \u5be6\u6230\u6848\u4f8b","text":""},{"location":"tutorials/TUTORIAL/#51-demo-rest-api","title":"5.1 Demo: \u5efa\u7acb REST API","text":"<pre><code># Step 1: \u555f\u52d5 Vibe Coding\nvibe_start(idea=\"Build a FastAPI REST API for todo management\")\n\n# Boring \u6703:\n# 1. \u554f\u4f60: \u9700\u8981\u8a8d\u8b49\u55ce? \u8cc7\u6599\u5eab\u9078\u64c7?\n# 2. \u751f\u6210\u8a08\u756b: API \u7aef\u9ede\u3001\u8cc7\u6599\u6a21\u578b\n# 3. \u57f7\u884c\u958b\u767c: \u5efa\u7acb\u6a94\u6848\u3001\u5beb\u6e2c\u8a66\n# 4. \u9a57\u8b49: \u8dd1\u6e2c\u8a66\u3001\u5b89\u5168\u6383\u63cf\n</code></pre> <p>\u9810\u671f\u8f38\u51fa: <pre><code>src/\n\u251c\u2500\u2500 main.py          # FastAPI \u5165\u53e3\n\u251c\u2500\u2500 models.py        # Pydantic \u6a21\u578b\n\u251c\u2500\u2500 routes/\n\u2502   \u2514\u2500\u2500 todos.py     # CRUD \u8def\u7531\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 test_todos.py # \u6e2c\u8a66\n</code></pre></p>"},{"location":"tutorials/TUTORIAL/#52-demo","title":"5.2 Demo: \u91cd\u69cb\u907a\u7559\u4ee3\u78bc","text":"<pre><code># Step 1: \u67b6\u69cb\u8a55\u4f30 (Hostile Architect \u6a21\u5f0f)\nevaluate_architecture(target=\"src/legacy/\")\n\n# Boring \u6703\u6307\u51fa:\n# \u26a0\ufe0f God class detected in UserManager\n# \u26a0\ufe0f N+1 query in get_users()\n# \u26a0\ufe0f Missing error handling\n</code></pre> <pre><code># Step 2: \u57f7\u884c\u91cd\u69cb\nboring_multi_agent(task=\"Refactor UserManager into smaller services\")\n\n# Step 3: \u9a57\u8b49\nboring_verify(level=\"FULL\")\n</code></pre>"},{"location":"tutorials/TUTORIAL/#53-demo","title":"5.3 Demo: \u932f\u8aa4\u6392\u67e5","text":"<pre><code># Step 1: Debug \u932f\u8aa4\ndebug_error(error_message=\"TypeError: 'NoneType' object is not iterable\")\n\n# Boring \u67b6\u69cb\u5e2b\u6703\u5206\u6790:\n# 1. Root Cause: get_users() returns None when DB is empty\n# 2. Likely Culprit: src/services/user.py:45\n# 3. Suggested Fix: Return empty list instead of None\n# 4. \ud83c\udfdb\ufe0f Architecture Lesson: \u9019\u662f\u56e0\u70ba\u7f3a\u5c11 Null Object Pattern...\n</code></pre> <pre><code># Step 2: \u81ea\u52d5\u4fee\u5fa9\nboring_auto_fix(max_iterations=3)\n\n# Step 3: \u78ba\u8a8d\u4fee\u5fa9\nboring_verify(level=\"STANDARD\")\n</code></pre>"},{"location":"tutorials/TUTORIAL/#part-6","title":"Part 6: \u81ea\u8a02\u8207\u64f4\u5c55","text":""},{"location":"tutorials/TUTORIAL/#61-plugin","title":"6.1 \u5efa\u7acb\u81ea\u8a02 Plugin","text":"<p>\u76ee\u9304\u7d50\u69cb: <pre><code>.boring_plugins/\n\u2514\u2500\u2500 my_analyzer/\n    \u251c\u2500\u2500 plugin.yaml\n    \u2514\u2500\u2500 __init__.py\n</code></pre></p> <p>plugin.yaml: <pre><code>name: my_analyzer\nversion: 1.0.0\ndescription: Custom code analyzer\nhooks:\n  - pre_verify\n</code></pre></p> <p>init.py: <pre><code>def pre_verify(context):\n    \"\"\"\u6bcf\u6b21\u9a57\u8b49\u524d\u57f7\u884c\"\"\"\n    print(f\"Analyzing: {context.project_path}\")\n    # \u4f60\u7684\u81ea\u8a02\u908f\u8f2f\n    return {\"skip\": False}\n</code></pre></p> <p>\u4f7f\u7528: <pre><code>boring_run_plugin(name=\"my_analyzer\")\n</code></pre></p>"},{"location":"tutorials/TUTORIAL/#62-speckit-workflows","title":"6.2 SpecKit Workflows","text":"Workflow \u7528\u9014 <code>/speckit-clarify</code> \u751f\u6210\u91d0\u6e05\u554f\u984c <code>/speckit-plan</code> \u5efa\u7acb\u5be6\u4f5c\u8a08\u756b <code>/speckit-tasks</code> \u62c6\u89e3\u70ba\u4efb\u52d9\u6e05\u55ae <code>/speckit-analyze</code> \u8de8\u6587\u4ef6\u4e00\u81f4\u6027\u6aa2\u67e5 <code>/speckit-checklist</code> \u751f\u6210\u54c1\u8cea\u6aa2\u67e5\u6e05\u55ae <p>\u4f7f\u7528\u7bc4\u4f8b: <pre><code>\u4f60: /speckit-plan\nBoring: \u8acb\u63d0\u4f9b\u4f60\u7684\u9700\u6c42\u63cf\u8ff0...\n\u4f60: \u6211\u9700\u8981\u4e00\u500b\u4f7f\u7528\u8005\u8a8d\u8b49\u7cfb\u7d71\nBoring: [\u751f\u6210\u8a73\u7d30\u5be6\u4f5c\u8a08\u756b]\n</code></pre></p>"},{"location":"tutorials/TUTORIAL/#63-rubrics","title":"6.3 Rubrics \u8a55\u5206\u6a19\u6e96","text":"<p>\u81ea\u8a02\u7a0b\u5f0f\u78bc\u54c1\u8cea\u898f\u5247:</p> <p>.boring/brain/rubrics/my_rules.yaml: <pre><code>name: my_coding_standards\nrules:\n  - name: no_print_statements\n    severity: warning\n    pattern: \"print\\\\(\"\n    message: \"Use logging instead of print\"\n\n  - name: require_docstrings\n    severity: error\n    check: functions_have_docstrings\n</code></pre></p> <p>\u4f7f\u7528: <pre><code>boring_evaluate(target=\"src/\", rubric=\"my_rules\")\n</code></pre></p>"},{"location":"tutorials/TUTORIAL/#_2","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\ud83d\udcd6 \u9032\u968e\u958b\u767c\u8005\u6307\u5357 \u2014 \u6df1\u5165\u67b6\u69cb\u8207\u5167\u90e8\u6a5f\u5236</li> <li>\ud83d\udcda \u5b8c\u6574\u5de5\u5177\u6e05\u55ae \u2014 \u6240\u6709 60+ \u500b\u5de5\u5177</li> <li>\u2753 \u5e38\u898b\u554f\u984c FAQ \u2014 \u7591\u96e3\u6392\u89e3</li> <li>\ud83c\udfdb\ufe0f Prompt \u8a2d\u8a08\u54f2\u5b78 \u2014 \u67b6\u69cb\u5e2b\u4eba\u8a2d\u8a2d\u8a08</li> </ul> <p>Built with \u2764\ufe0f by the Boring for Gemini team</p> <p>\u6700\u5f8c\u66f4\u65b0: V14.0.0</p>"},{"location":"tutorials/TUTORIAL_en/","title":"Boring for Gemini: Complete Tutorial","text":"<p>From Zero to Hero: 5 Minutes to Vibe Coding with Architect Backend</p>"},{"location":"tutorials/TUTORIAL_en/#part-1-quick-start-5-minutes","title":"Part 1: Quick Start (5 Minutes)","text":""},{"location":"tutorials/TUTORIAL_en/#11-what-is-boring","title":"1.1 What is Boring?","text":"<p>Boring is not just an AI code generator\u2014it is your Senior Architect Mentor.</p> Traditional AI Assistant Boring Architect Generates Code Asks requirements first, then designs architecture Fixes Errors Explains why errors happened Passive Response Proactively warns about potential risks <p>Core Advantages: - \ud83c\udfdb\ufe0f Architect Persona: Every interaction includes architecture advice - \ud83d\udd04 Auto-Repair Loop: One-click fix for Lint/Test/Format - \ud83d\udee1\ufe0f Shadow Mode: Security audit for high-risk operations - \ud83d\udd0d RAG Semantic Search: Find code using natural language</p>"},{"location":"tutorials/TUTORIAL_en/#12-installation-guide","title":"1.2 Installation Guide","text":""},{"location":"tutorials/TUTORIAL_en/#method-1-pip-install-recommended","title":"Method 1: pip install (Recommended)","text":"<pre><code>pip install boring-aicoding\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#method-2-install-from-source","title":"Method 2: Install from Source","text":"<pre><code>git clone https://github.com/Boring206/boring-gemini.git\ncd boring-gemini\npip install -e \".[mcp]\"\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#13-ide-integration","title":"1.3 IDE Integration","text":""},{"location":"tutorials/TUTORIAL_en/#cursor-windsurf","title":"Cursor / Windsurf","text":"<p>Create <code>.cursor/mcp.json</code>: <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"GOOGLE_API_KEY\": \"your-api-key\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#claude-desktop","title":"Claude Desktop","text":"<p>Add to <code>claude_desktop_config.json</code>: <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#14-first-project","title":"1.4 First Project","text":"<pre><code># Create New Project (Must do this before boring start!)\nboring-setup my-app\ncd my-app\n\n# Check Status\nboring status\n\n# Install Git hooks\nboring_hooks_install\n</code></pre> <p>Project Structure: <pre><code>my-app/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 tests/\n\u251c\u2500\u2500 PROMPT.md          # AI Instructions\n\u251c\u2500\u2500 @fix_plan.md       # Task Checklist\n\u2514\u2500\u2500 .boring/brain/     # Knowledge Base\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#part-2-core-workflows","title":"Part 2: Core Workflows","text":""},{"location":"tutorials/TUTORIAL_en/#21-vibe-start-complete-flow","title":"2.1 Vibe Start Complete Flow","text":"<p>Use <code>vibe_start</code> prompt to launch fully automated dev flow:</p> <pre><code>You: \"Build a REST API for user management\"\n\nBoring:\n1\ufe0f\u20e3 **Foundation** (Constitution &amp; Clarify) \u2192 Establish principles &amp; clarify needs\n2\ufe0f\u20e3 **Spec &amp; Plan** (Plan, Checklist) \u2192 Generate implementation plan &amp; criteria\n3\ufe0f\u20e3 **Pre-Analysis** (SpecKit Analyze) \u2192 Ensure plan consistency\n4\ufe0f\u20e3 **Implementation** (Multi-Agent) \u2192 Collaborative development\n5\ufe0f\u20e3 **Verification** (Verify &amp; Fix) \u2192 Quality verification &amp; fixing\n</code></pre> <p>Conversation Example:</p> <p>You: \"Build a REST API for user management\"</p> <p>Boring: (Thinking...) I will start the Vibe Coder workflow. Calling tool: <code>boring_multi_agent</code> or <code>vibe_start</code></p>"},{"location":"tutorials/TUTORIAL_en/#22-quick-fix-auto-repair","title":"2.2 Quick Fix Auto-Repair","text":"<p>One-click fix for all code issues:</p> <p>Conversation Example:</p> <p>You: \"Fix all the linting errors\" Boring: I'll run the quick fix loop. Calling tool: <code>boring_auto_fix</code></p> <p>Or via CLI: <pre><code>boring-route \"Fix the lint errors\"\n</code></pre></p> <p>Execution Flow: 1. <code>boring_verify(level='FULL')</code> \u2014 Find all issues 2. <code>boring_auto_fix(max_iterations=3)</code> \u2014 Auto repair 3. Verify again to confirm success</p>"},{"location":"tutorials/TUTORIAL_en/#23-multi-agent-collaboration","title":"2.3 Multi-Agent Collaboration","text":"Agent Role Responsibility \ud83c\udfdb\ufe0f Architect Planner Design architecture, create plan \ud83d\udcbb Coder Executor Write code, implement features \ud83d\udd0d Reviewer Auditor Code review, quality gate <p>Conversation Example:</p> <p>You: \"Implement user authentication with JWT\"</p> <p>Boring: I'll assign this to the Coder agent. Calling tool: <code>boring_multi_agent</code></p>"},{"location":"tutorials/TUTORIAL_en/#part-3-advanced-features","title":"Part 3: Advanced Features","text":""},{"location":"tutorials/TUTORIAL_en/#31-rag-semantic-search","title":"3.1 RAG Semantic Search","text":"<p>Search code using natural language:</p> <pre><code># Create Index (First run only, needs chromadb)\nboring_rag_index()\n\n# Search\nboring_rag_search(query=\"Function validating JWT token\")\n# Returns: Related files, function definitions, call graph\n\n# Get Context for Specific Function\nboring_rag_context(file_path=\"src/auth/jwt.py\", function_name=\"validate\")\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#32-shadow-mode-safe-execution","title":"3.2 Shadow Mode Safe Execution","text":"<p>Enable human review for high-risk operations:</p> <pre><code># Enable Strict Mode\nboring_shadow_mode(mode=\"STRICT\")\n\n# Execute High-Risk Op (Captured, will not run directly)\nboring_multi_agent(task=\"Delete all test files\")\n# Returns: pending_approval\n\n# View Pending Ops\nboring_shadow_status()\n\n# Approve or Reject\nboring_shadow_approve(operation_id=\"op-xyz\")\nboring_shadow_reject(operation_id=\"op-xyz\", note=\"Too dangerous\")\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#33-transaction-rollback","title":"3.3 Transaction &amp; Rollback","text":"<p>Git-based atomic operations, rollback anytime:</p> <pre><code># Start Transaction (Create Savepoint)\nboring_transaction_start(message=\"Refactoring auth\")\n\n# Make Changes...\nboring_multi_agent(task=\"Refactor authentication module\")\n\n# Verify\nresult = boring_verify(level=\"FULL\")\n\nif result[\"passed\"]:\n    boring_transaction_commit()  # Confirm changes\nelse:\n    boring_rollback()  # Rollback to savepoint\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#34-background-tasks","title":"3.4 Background Tasks","text":"<p>Run long-running tasks in background:</p> <pre><code># Submit Background Task\nresult = boring_background_task(task_type=\"verify\", task_args={\"level\": \"FULL\"})\ntask_id = result[\"task_id\"]\n\n# Check Progress (Non-blocking)\nstatus = boring_task_status(task_id=task_id)\n# {\"status\": \"running\", \"progress\": 60}\n\n# List All Tasks\nboring_list_tasks()\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#35-auto-learning-v140-updated","title":"3.5 Auto-Learning (V14.0 Updated)","text":"<p>Boring observes your fixes and evolves automatically:</p> <ol> <li>Passive Learning: When you reject AI changes and manually fix code, Boring analyzes diffs and learns.</li> <li>Active Learning:    <pre><code># Teach AI a new rule\nboring_learn_pattern(\n    pattern_type=\"code_style\",\n    description=\"Always use UTC for datetimes\",\n    context=\"When handling time\",\n    solution=\"datetime.now(timezone.utc)\"\n)\n</code></pre></li> <li>View Knowledge:    <pre><code>boring_brain_summary()\n</code></pre></li> </ol>"},{"location":"tutorials/TUTORIAL_en/#part-4-ide-integration","title":"Part 4: IDE Integration","text":""},{"location":"tutorials/TUTORIAL_en/#41-cursorwindsurf-mcp-config","title":"4.1 Cursor/Windsurf MCP Config","text":"<p>Complete Config: <pre><code>{\n  \"mcpServers\": {\n    \"boring\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"boring.mcp.server\"],\n      \"env\": {\n        \"GOOGLE_API_KEY\": \"your-key\",\n        \"BORING_MCP_DEBUG\": \"1\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#42-smithery-cloud-deployment","title":"4.2 Smithery Cloud Deployment","text":"<p>Visit Smithery:</p> <ol> <li>Connect your GitHub account</li> <li>Set <code>GOOGLE_API_KEY</code></li> <li>Use in any MCP client</li> </ol>"},{"location":"tutorials/TUTORIAL_en/#43-dynamic-discovery-v140","title":"4.3 Dynamic Discovery (V14.0)","text":"<p>AI automatically discovers available tools:</p> <pre><code># List all capability categories\nboring://capabilities\n\n# Get detailed usage for specific category\nboring://tools/security\nboring://tools/rag_search\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#part-5-practical-cases","title":"Part 5: Practical Cases","text":""},{"location":"tutorials/TUTORIAL_en/#51-demo-build-rest-api","title":"5.1 Demo: Build REST API","text":"<pre><code># Step 1: Start Vibe Coding\nvibe_start(idea=\"Build a FastAPI REST API for todo management\")\n\n# Boring will:\n# 1. Ask you: Auth needed? Database choice?\n# 2. Generate Plan: API endpoints, Data models\n# 3. Execute Dev: Create files, Write tests\n# 4. Verify: Run tests, Security scan\n</code></pre> <p>Expected Output: <pre><code>src/\n\u251c\u2500\u2500 main.py          # FastAPI entry\n\u251c\u2500\u2500 models.py        # Pydantic models\n\u251c\u2500\u2500 routes/\n\u2502   \u2514\u2500\u2500 todos.py     # CRUD routes\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 test_todos.py # Tests\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#52-demo-refactor-legacy-code","title":"5.2 Demo: Refactor Legacy Code","text":"<pre><code># Step 1: Architect Evaluation (Hostile Architect Mode)\nevaluate_architecture(target=\"src/legacy/\")\n\n# Boring will point out:\n# \u26a0\ufe0f God class detected in UserManager\n# \u26a0\ufe0f N+1 query in get_users()\n# \u26a0\ufe0f Missing error handling\n</code></pre> <pre><code># Step 2: Execute Refactor\nboring_multi_agent(task=\"Refactor UserManager into smaller services\")\n\n# Step 3: Verify\nboring_verify(level=\"FULL\")\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#53-demo-debugging","title":"5.3 Demo: Debugging","text":"<pre><code># Step 1: Debug Error\ndebug_error(error_message=\"TypeError: 'NoneType' object is not iterable\")\n\n# Boring Architect analyzes:\n# 1. Root Cause: get_users() returns None when DB is empty\n# 2. Likely Culprit: src/services/user.py:45\n# 3. Suggested Fix: Return empty list instead of None\n# 4. \ud83c\udfdb\ufe0f Architecture Lesson: Missing Null Object Pattern...\n</code></pre> <pre><code># Step 2: Auto Fix\nboring_auto_fix(max_iterations=3)\n\n# Step 3: Verify\nboring_verify(level=\"STANDARD\")\n</code></pre>"},{"location":"tutorials/TUTORIAL_en/#part-6-customization-extension","title":"Part 6: Customization &amp; Extension","text":""},{"location":"tutorials/TUTORIAL_en/#61-create-custom-plugin","title":"6.1 Create Custom Plugin","text":"<p>Directory Structure: <pre><code>.boring_plugins/\n\u2514\u2500\u2500 my_analyzer/\n    \u251c\u2500\u2500 plugin.yaml\n    \u2514\u2500\u2500 __init__.py\n</code></pre></p> <p>plugin.yaml: <pre><code>name: my_analyzer\nversion: 1.0.0\ndescription: Custom code analyzer\nhooks:\n  - pre_verify\n</code></pre></p> <p>init.py: <pre><code>def pre_verify(context):\n    \"\"\"Run before every verification\"\"\"\n    print(f\"Analyzing: {context.project_path}\")\n    # Your custom logic\n    return {\"skip\": False}\n</code></pre></p> <p>Usage: <pre><code>boring_run_plugin(name=\"my_analyzer\")\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#62-speckit-workflows","title":"6.2 SpecKit Workflows","text":"Workflow Usage <code>/speckit-clarify</code> Generate clarifying questions <code>/speckit-plan</code> Create implementation plan <code>/speckit-tasks</code> Break down into task list <code>/speckit-analyze</code> Cross-document consistency check <code>/speckit-checklist</code> Generate quality checklist <p>Example: <pre><code>You: /speckit-plan\nBoring: Please provide requirement description...\nYou: I need a user auth system\nBoring: [Generates detailed implementation plan]\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#63-scoring-rubrics","title":"6.3 Scoring Rubrics","text":"<p>Customize code quality rules:</p> <p>.boring/brain/rubrics/my_rules.yaml: <pre><code>name: my_coding_standards\nrules:\n  - name: no_print_statements\n    severity: warning\n    pattern: \"print\\\\(\"\n    message: \"Use logging instead of print\"\n\n  - name: require_docstrings\n    severity: error\n    check: functions_have_docstrings\n</code></pre></p> <p>Usage: <pre><code>boring_evaluate(target=\"src/\", rubric=\"my_rules\")\n</code></pre></p>"},{"location":"tutorials/TUTORIAL_en/#next-steps","title":"Next Steps","text":"<ul> <li>\ud83d\udcd6 Advanced Developer Guide \u2014 Architecture &amp; Internals</li> <li>\ud83d\udcda Full Tool Reference \u2014 All 60+ Tools</li> <li>\u2753 FAQ \u2014 Troubleshooting</li> <li>\ud83c\udfdb\ufe0f Prompt Philosophy \u2014 Architect Persona Design</li> </ul> <p>Built with \u2764\ufe0f by the Boring for Gemini team</p> <p>Last updated: V14.0.0</p>"}]}