============================= test session starts =============================
platform win32 -- Python 3.12.6, pytest-9.0.2, pluggy-1.6.0 -- C:\Python312\python.exe
cachedir: .pytest_cache
rootdir: D:\User\Desktop\ralphgeminicode\boring-gemini
configfile: pyproject.toml
plugins: anyio-4.11.0, Faker-38.0.0, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 920 items

tests/unit/mcp/test_agents_tools.py::test_boring_delegate_telemetry PASSED [  0%]
tests/unit/mcp/test_agents_tools.py::test_boring_delegate_telemetry_failure_silence PASSED [  0%]
tests/unit/mcp/test_agents_tools.py::test_boring_delegate_cot PASSED     [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_template PASSED [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_empty_task PASSED [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_whitespace_task PASSED [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_invalid_level PASSED [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_invalid_max_loops_low PASSED [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_invalid_max_loops_high PASSED [  0%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_run_boring_no_project PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_health_check_healthy PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_health_check_with_checks PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_health_check_exception PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_quickstart_with_project PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_quickstart_no_project PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_quickstart_has_workflows PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_status_success PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_status_no_project PASSED [  1%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_status_exception PASSED [  2%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_done_returns_message PASSED [  2%]
tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_done_with_long_message PASSED [  2%]
tests/unit/mcp/test_core_tools_v10.py::test_register_core_tools PASSED   [  2%]
tests/unit/mcp/test_core_tools_v10.py::test_boring_quickstart PASSED     [  2%]
tests/unit/mcp/test_core_tools_v10.py::test_boring_health_check FAILED   [  2%]
tests/unit/mcp/test_core_tools_v10.py::test_boring_status PASSED         [  2%]
tests/unit/mcp/test_core_tools_v10.py::test_boring_skills_browse PASSED  [  2%]
tests/unit/mcp/test_evaluation.py::TestEvaluationTools::test_boring_evaluate_file PASSED [  2%]
tests/unit/mcp/test_evaluation.py::TestEvaluationTools::test_boring_evaluate_interactive PASSED [  3%]
tests/unit/mcp/test_evaluation.py::TestEvaluationTools::test_boring_evaluate_rate_limited PASSED [  3%]
tests/unit/mcp/test_git.py::TestGitTools::test_boring_hooks_install_success PASSED [  3%]
tests/unit/mcp/test_git.py::TestGitTools::test_boring_hooks_install_idempotent PASSED [  3%]
tests/unit/mcp/test_git.py::TestGitTools::test_boring_hooks_uninstall PASSED [  3%]
tests/unit/mcp/test_git.py::TestGitTools::test_boring_hooks_status PASSED [  3%]
tests/unit/mcp/test_ide_prompts.py::test_setup_ide_prompt PASSED         [  3%]
tests/unit/mcp/test_integration.py::TestIntegrationTools::test_boring_setup_extensions_success PASSED [  3%]
tests/unit/mcp/test_integration.py::TestIntegrationTools::test_boring_setup_extensions_no_gemini PASSED [  3%]
tests/unit/mcp/test_integration.py::TestIntegrationTools::test_boring_notebooklm_guide PASSED [  4%]
tests/unit/mcp/test_knowledge.py::TestKnowledgeTools::test_boring_learn_success PASSED [  4%]
tests/unit/mcp/test_knowledge.py::TestKnowledgeTools::test_boring_create_rubrics PASSED [  4%]
tests/unit/mcp/test_knowledge.py::TestKnowledgeTools::test_boring_brain_summary PASSED [  4%]
tests/unit/mcp/test_resources.py::TestResources::test_get_project_status PASSED [  4%]
tests/unit/mcp/test_resources.py::TestResources::test_get_prompt PASSED  [  4%]
tests/unit/mcp/test_server.py::TestServer::test_run_server PASSED        [  4%]
tests/unit/mcp/test_server.py::TestServer::test_run_server_no_mcp PASSED [  4%]
tests/unit/mcp/test_skills_integration.py::test_install_skill_success PASSED [  4%]
tests/unit/mcp/test_skills_integration.py::test_install_skill_not_found PASSED [  5%]
tests/unit/mcp/test_skills_integration.py::test_install_skill_no_command PASSED [  5%]
tests/unit/mcp/test_verification.py::TestVerificationTools::test_boring_verify_success PASSED [  5%]
tests/unit/mcp/test_verification.py::TestVerificationTools::test_boring_verify_file PASSED [  5%]
tests/unit/mcp/test_workflow.py::TestWorkflowTools::test_speckit_evolve_workflow PASSED [  5%]
tests/unit/mcp/test_workflow.py::TestWorkflowTools::test_speckit_reset_workflow PASSED [  5%]
tests/unit/mcp/test_workflow.py::TestWorkflowTools::test_boring_install_workflow PASSED [  5%]
tests/unit/mcp/test_workflow.py::TestWorkflowTools::test_boring_list_workflows PASSED [  5%]
tests/unit/test_agent_protocol.py::test_protocol_initialization PASSED   [  5%]
tests/unit/test_agent_protocol.py::test_send_message PASSED              [  5%]
tests/unit/test_agent_protocol.py::test_get_messages PASSED              [  6%]
tests/unit/test_agent_protocol.py::test_respond_to_message PASSED        [  6%]
tests/unit/test_agent_protocol.py::test_shared_context PASSED            [  6%]
tests/unit/test_agent_protocol.py::test_consensus_voting PASSED          [  6%]
tests/unit/test_agent_protocol.py::test_performance_tracking PASSED      [  6%]
tests/unit/test_agent_protocol.py::test_agent_handoff PASSED             [  6%]
tests/unit/test_agents.py::TestAgentBase::test_agent_role_enum PASSED    [  6%]
tests/unit/test_agents.py::TestAgentBase::test_shared_resource PASSED    [  6%]
tests/unit/test_agents.py::TestAgentBase::test_agent_message PASSED      [  6%]
tests/unit/test_agents.py::TestAgentBase::test_agent_context PASSED      [  7%]
tests/unit/test_agents.py::TestArchitectAgent::test_architect_system_prompt PASSED [  7%]
tests/unit/test_agents.py::TestArchitectAgent::test_extract_file_list PASSED [  7%]
tests/unit/test_agents.py::TestReviewerAgent::test_reviewer_system_prompt PASSED [  7%]
tests/unit/test_agents.py::TestReviewerAgent::test_extract_verdict_pass PASSED [  7%]
tests/unit/test_agents.py::TestReviewerAgent::test_extract_verdict_needs_work PASSED [  7%]
tests/unit/test_agents.py::TestReviewerAgent::test_extract_issues PASSED [  7%]
tests/unit/test_agents.py::TestOrchestratorInit::test_orchestrator_creates_agents PASSED [  7%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_init PASSED [  7%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_system_prompt PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_execute_success PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_execute_generation_fails PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_execute_with_human_feedback PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_execute_with_existing_plan PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_extract_file_list PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_extract_file_list_empty PASSED [  8%]
tests/unit/test_agents_architect.py::TestArchitectAgent::test_extract_file_list_multiple_patterns PASSED [  8%]
tests/unit/test_agents_base.py::TestAgentRole::test_应包含所有定义的代理角色 PASSED [  8%]
tests/unit/test_agents_base.py::TestSharedResource::test_当创建新资源时_版本号应为1 PASSED [  9%]
tests/unit/test_agents_base.py::TestSharedResource::test_当转换为字典时_应包含所有字段 PASSED [  9%]
tests/unit/test_agents_base.py::TestSharedResource::test_当从字典创建时_应正确还原所有字段 PASSED [  9%]
tests/unit/test_agents_base.py::TestSharedResource::test_当字典中没有role时_应设置为None PASSED [  9%]
tests/unit/test_agents_base.py::TestAgentMessage::test_当创建消息时_应保存所有字段 PASSED [  9%]
tests/unit/test_agents_base.py::TestAgentMessage::test_当创建带artifacts的消息时_应保存artifacts PASSED [  9%]
tests/unit/test_agents_base.py::TestAgentMessage::test_当消息需要审批时_应设置审批标志和原因 PASSED [  9%]
tests/unit/test_agents_base.py::TestAgentContext::test_当创建context时_应初始化所有默认值 PASSED [  9%]
tests/unit/test_agents_base.py::TestAgentContext::test_当获取不存在的资源时_应返回None PASSED [  9%]
tests/unit/test_agents_base.py::TestAgentContext::test_当设置新资源时_应能获取该资源 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgentContext::test_当更新已存在的资源时_版本号应递增 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgentContext::test_当添加消息时_应保存到消息历史 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgentContext::test_当获取最新消息时_应返回最后添加的消息 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgentContext::test_当没有消息时_应返回None PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgentContext::test_当获取当前计划时_应返回implementation_plan资源 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgentContext::test_当获取修改的文件列表时_应返回modified_files资源 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgent::test_Agent应该是抽象基类 PASSED [ 10%]
tests/unit/test_agents_base.py::TestAgent::test_当创建具体Agent实现时_應保存role和llm_client PASSED [ 10%]
tests/unit/test_agents_reviewer.py::TestReviewerAgent::test_init PASSED  [ 10%]
tests/unit/test_agents_reviewer.py::TestReviewerAgent::test_system_prompt PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestReviewerAgent::test_execute_no_code_output PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestReviewerAgent::test_execute_success_pass PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestReviewerAgent::test_execute_needs_work PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestReviewerAgent::test_execute_generation_fails PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_init PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_parallel_all_aspects PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_parallel_specific_aspects PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_parallel_with_exception PASSED [ 11%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_parallel_reject_verdict PASSED [ 12%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_aspect_success PASSED [ 12%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_aspect_no_json PASSED [ 12%]
tests/unit/test_agents_reviewer.py::TestParallelReviewOrchestrator::test_review_aspect_exception PASSED [ 12%]
tests/unit/test_background_agent.py::test_submit_task PASSED             [ 12%]
tests/unit/test_background_agent.py::test_task_execution PASSED          [ 12%]
tests/unit/test_background_agent.py::test_task_failure PASSED            [ 12%]
tests/unit/test_background_agent.py::test_list_tasks PASSED              [ 12%]
tests/unit/test_brain_manager.py::TestBrainManager::test_init PASSED     [ 12%]
tests/unit/test_brain_manager.py::TestBrainManager::test_init_with_log_dir PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_ensure_structure PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_load_patterns_empty PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_load_patterns_existing PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_load_patterns_invalid_json PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_save_patterns PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_learn_from_memory PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_get_relevant_patterns PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_add_pattern PASSED [ 13%]
tests/unit/test_brain_manager.py::TestBrainManager::test_create_rubric PASSED [ 14%]
tests/unit/test_circuit.py::TestCircuitState::test_circuit_state_values PASSED [ 14%]
tests/unit/test_circuit.py::TestLoopInfo::test_loop_info_creation PASSED [ 14%]
tests/unit/test_circuit.py::TestInitCircuitBreaker::test_init_creates_state_file PASSED [ 14%]
tests/unit/test_circuit.py::TestInitCircuitBreaker::test_init_sets_closed_state PASSED [ 14%]
tests/unit/test_circuit.py::TestGetCircuitState::test_get_circuit_state_returns_dict PASSED [ 14%]
tests/unit/test_circuit.py::TestRecordLoopResult::test_record_success PASSED [ 14%]
tests/unit/test_circuit.py::TestRecordLoopResult::test_record_failure PASSED [ 14%]
tests/unit/test_circuit.py::TestShouldHaltExecution::test_should_not_halt_initially PASSED [ 14%]
tests/unit/test_circuit.py::TestResetCircuitBreaker::test_reset_sets_closed_state PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_init_success PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_init_failure PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_generate_success PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_generate_auth_error PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_generate_timeout PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_execute_cli_json_success PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_execute_cli_json_invalid PASSED [ 15%]
tests/unit/test_cli_client.py::TestGeminiCLIAdapter::test_create_cli_adapter_factory PASSED [ 15%]
tests/unit/test_cli_client.py::TestCLIUtilities::test_check_cli_available PASSED [ 15%]
tests/unit/test_cli_client.py::TestCLIUtilities::test_check_cli_authenticated_success PASSED [ 16%]
tests/unit/test_cli_client.py::TestCLIUtilities::test_check_cli_authenticated_failure PASSED [ 16%]
tests/unit/test_config.py::TestSettings::test_settings_has_project_root PASSED [ 16%]
tests/unit/test_config.py::TestSettings::test_settings_has_log_dir PASSED [ 16%]
tests/unit/test_config.py::TestSettings::test_settings_has_timeout PASSED [ 16%]
tests/unit/test_config.py::TestSettings::test_settings_has_max_loops PASSED [ 16%]
tests/unit/test_config.py::TestSettings::test_settings_has_default_model PASSED [ 16%]
tests/unit/test_config.py::TestSettingsClass::test_settings_class_exists PASSED [ 16%]
tests/unit/test_config.py::TestSettingsClass::test_project_root_is_path PASSED [ 16%]
tests/unit/test_config.py::TestSupportedModels::test_supported_models_is_list PASSED [ 17%]
tests/unit/test_config.py::TestSupportedModels::test_supported_models_contains_strings PASSED [ 17%]
tests/unit/test_config.py::TestInitDirectories::test_init_directories_exists PASSED [ 17%]
tests/unit/test_context_sync.py::test_save_load_context PASSED           [ 17%]
tests/unit/test_context_sync.py::test_list_contexts PASSED               [ 17%]
tests/unit/test_context_sync.py::test_user_profile_manager PASSED        [ 17%]
tests/unit/test_dashboard.py::TestDashboard::test_load_json_success PASSED [ 17%]
tests/unit/test_dashboard.py::TestDashboard::test_load_json_file_not_found PASSED [ 17%]
tests/unit/test_dashboard.py::TestDashboard::test_load_json_decode_error PASSED [ 17%]
tests/unit/test_dashboard.py::TestDashboard::test_main_layout PASSED     [ 18%]
tests/unit/test_dashboard.py::TestDashboard::test_main_no_data PASSED    [ 18%]
tests/unit/test_dashboard.py::TestDashboard::test_main_brain_explorer PASSED [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_init PASSED        [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_run_with_healing_success PASSED [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_run_with_healing_disabled PASSED [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_run_with_healing_no_fix PASSED [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_run_with_healing_apply_fix PASSED [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_find_relevant_frame PASSED [ 18%]
tests/unit/test_debugger.py::TestBoringDebugger::test_apply_fix_no_match PASSED [ 19%]
tests/unit/test_dependencies.py::TestDependencyManager::test_check_chroma_success PASSED [ 19%]
tests/unit/test_dependencies.py::TestDependencyManager::test_check_chroma_failure PASSED [ 19%]
tests/unit/test_dependencies.py::TestDependencyManager::test_require_chroma_raises PASSED [ 19%]
tests/unit/test_dependencies.py::TestDependencyManager::test_check_gui PASSED [ 19%]
tests/unit/test_dependencies.py::TestDependencyManager::test_caching PASSED [ 19%]
tests/unit/test_diff_patcher.py::TestExtractSearchReplaceBlocks::test_extract_simple_block PASSED [ 19%]
tests/unit/test_diff_patcher.py::TestExtractSearchReplaceBlocks::test_extract_block_with_file_path PASSED [ 19%]
tests/unit/test_diff_patcher.py::TestExtractSearchReplaceBlocks::test_extract_multiple_blocks PASSED [ 19%]
tests/unit/test_diff_patcher.py::TestExtractSearchReplaceBlocks::test_extract_no_blocks PASSED [ 20%]
tests/unit/test_diff_patcher.py::TestApplySearchReplace::test_apply_simple_replace PASSED [ 20%]
tests/unit/test_diff_patcher.py::TestApplySearchReplace::test_apply_replace_not_found PASSED [ 20%]
tests/unit/test_diff_patcher.py::TestApplySearchReplace::test_apply_replace_file_not_found PASSED [ 20%]
tests/unit/test_diff_patcher.py::TestApplySearchReplace::test_apply_replace_only_first_occurrence PASSED [ 20%]
tests/unit/test_diff_patcher.py::TestApplySearchReplaceBlocks::test_apply_multiple_blocks PASSED [ 20%]
tests/unit/test_error_translator.py::test_translator_initialization PASSED [ 20%]
tests/unit/test_error_translator.py::test_translate_module_not_found PASSED [ 20%]
tests/unit/test_error_translator.py::test_translate_syntax_error PASSED  [ 20%]
tests/unit/test_error_translator.py::test_translate_unknown_error PASSED [ 20%]
tests/unit/test_evaluation_advanced.py::TestBoringEvaluationMetrics::test_rate_limited PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringEvaluationMetrics::test_no_project PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringEvaluationMetrics::test_no_memory_dir PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringEvaluationMetrics::test_success_with_memory PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringEvaluationMetrics::test_handles_exception PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringBiasReport::test_rate_limited PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringBiasReport::test_no_project PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringBiasReport::test_success PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringBiasReport::test_custom_days PASSED [ 21%]
tests/unit/test_evaluation_advanced.py::TestBoringBiasReport::test_handles_exception PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_rate_limited PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_default_criteria_code_quality PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_custom_criteria PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_security_domain PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_strictness_levels PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_output_format PASSED [ 22%]
tests/unit/test_evaluation_advanced.py::TestBoringGenerateRubric::test_handles_exception PASSED [ 22%]
tests/unit/test_exceptions.py::TestBoringError::test_boring_error_exists PASSED [ 22%]
tests/unit/test_exceptions.py::TestBoringError::test_boring_error_message PASSED [ 23%]
tests/unit/test_exceptions.py::TestBoringError::test_boring_error_with_details PASSED [ 23%]
tests/unit/test_exceptions.py::TestAPIErrors::test_api_error_exists PASSED [ 23%]
tests/unit/test_exceptions.py::TestAPIErrors::test_rate_limit_error PASSED [ 23%]
tests/unit/test_exceptions.py::TestAPIErrors::test_authentication_error PASSED [ 23%]
tests/unit/test_exceptions.py::TestFileErrors::test_file_error_exists PASSED [ 23%]
tests/unit/test_exceptions.py::TestFileErrors::test_path_security_error PASSED [ 23%]
tests/unit/test_exceptions.py::TestVerificationErrors::test_verification_error_exists PASSED [ 23%]
tests/unit/test_exceptions.py::TestVerificationErrors::test_lint_error PASSED [ 23%]
tests/unit/test_exceptions.py::TestLoopErrors::test_loop_error_exists PASSED [ 24%]
tests/unit/test_exceptions.py::TestLoopErrors::test_circuit_breaker_open_error PASSED [ 24%]
tests/unit/test_exceptions.py::TestConfigurationErrors::test_configuration_error PASSED [ 24%]
tests/unit/test_exceptions.py::TestConfigurationErrors::test_dependency_error PASSED [ 24%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_api_error_inherits_from_boring_error PASSED [ 24%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_file_error_inherits_from_boring_error PASSED [ 24%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_verification_error_inherits_from_boring_error PASSED [ 24%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当创建manager时_应设置项目根和配置文件路径 PASSED [ 24%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当未指定项目根时_应使用settings中的默认值 PASSED [ 24%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当系统中有gemini命令时_应返回True PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当系统中没有gemini命令时_应返回False PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当gemini可用且命令成功时_应返回已安装的扩展列表 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当gemini不可用时_应返回空列表 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当命令执行失败时_应返回空列表 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当gemini不可用时_安装扩展应返回失败 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当扩展已安装时_应返回已安装状态 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当扩展未安装且命令成功时_应安装成功 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_install_extension_custom_command PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当命令超时时_安装扩展应返回失败 PASSED [ 25%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当安装所有推荐扩展时_应返回每个扩展的安装结果 PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_setup_auto_extensions_with_context7 PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_setup_auto_extensions_none_installed PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当有已安装扩展时_增强提示应包含扩展指令 PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当没有已安装扩展时_增强提示应返回原提示 PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当criticalthink已安装时_应返回命令字符串 PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_当criticalthink未安装时_应返回None PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_create_extensions_report PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_register_boring_mcp_success PASSED [ 26%]
tests/unit/test_extensions.py::TestExtensionsManager::test_register_boring_mcp_not_available PASSED [ 27%]
tests/unit/test_extensions.py::TestExtensionsManager::test_register_boring_mcp_failure PASSED [ 27%]
tests/unit/test_extensions.py::TestModuleFunctions::test_当设置项目扩展时_应安装所有推荐扩展 PASSED [ 27%]
tests/unit/test_extensions.py::TestModuleFunctions::test_当gemini不可用时_设置项目扩展应显示警告 PASSED [ 27%]
tests/unit/test_extensions.py::TestModuleFunctions::test_当创建criticalthink命令文件时_应生成toml配置文件 PASSED [ 27%]
tests/unit/test_extensions.py::TestModuleFunctions::test_当创建speckit命令文件时_应生成包含plan的toml配置文件 PASSED [ 27%]
tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_markdown_format PASSED [ 27%]
tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_xml_format PASSED [ 27%]
tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_empty_content PASSED [ 27%]
tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_no_blocks PASSED [ 28%]
tests/unit/test_file_patcher.py::TestApplyPatches::test_apply_patches_creates_file PASSED [ 28%]
tests/unit/test_file_patcher.py::TestApplyPatches::test_apply_patches_to_existing_file PASSED [ 28%]
tests/unit/test_file_patcher.py::TestApplyPatches::test_apply_patches_creates_subdirectories PASSED [ 28%]
tests/unit/test_file_patcher.py::TestPathTraversalProtection::test_blocks_path_traversal PASSED [ 28%]
tests/unit/test_file_patcher.py::TestPathTraversalProtection::test_blocks_absolute_path PASSED [ 28%]
tests/unit/test_file_patcher.py::TestFileExtensionFiltering::test_blocks_executable_extensions PASSED [ 28%]
tests/unit/test_function_calling.py::TestBoringTools::test_tools_structure PASSED [ 28%]
tests/unit/test_function_calling.py::TestBoringTools::test_tools_have_function_declarations PASSED [ 28%]
tests/unit/test_function_calling.py::TestBoringTools::test_write_file_tool_exists PASSED [ 29%]
tests/unit/test_function_calling.py::TestBoringTools::test_search_replace_tool_exists PASSED [ 29%]
tests/unit/test_function_calling.py::TestBoringTools::test_report_status_tool_exists PASSED [ 29%]
tests/unit/test_function_calling.py::TestProcessFunctionCalls::test_process_write_file PASSED [ 29%]
tests/unit/test_function_calling.py::TestProcessFunctionCalls::test_process_search_replace PASSED [ 29%]
tests/unit/test_function_calling.py::TestProcessFunctionCalls::test_process_report_status PASSED [ 29%]
tests/unit/test_function_calling.py::TestProcessFunctionCalls::test_security_check_path_traversal PASSED [ 29%]
tests/unit/test_gemini_client.py::TestGetBoringTools::test_get_boring_tools_returns_list PASSED [ 29%]
tests/unit/test_gemini_client.py::TestGeminiClientInit::test_init_with_api_key PASSED [ 29%]
tests/unit/test_gemini_client.py::TestGeminiClientInit::test_init_sets_model_name PASSED [ 30%]
tests/unit/test_gemini_client.py::TestGeminiClientGenerate::test_generate_success PASSED [ 30%]
tests/unit/test_gemini_client.py::TestGeminiClientGenerate::test_generate_handles_exception PASSED [ 30%]
tests/unit/test_gemini_client.py::TestCreateGeminiClient::test_create_gemini_client_no_key_returns_none PASSED [ 30%]
tests/unit/test_health.py::TestCheckApiKey::test_api_key_not_set PASSED  [ 30%]
tests/unit/test_health.py::TestCheckApiKey::test_api_key_valid_format PASSED [ 30%]
tests/unit/test_health.py::TestCheckApiKey::test_api_key_invalid_format PASSED [ 30%]
tests/unit/test_health.py::TestCheckPythonVersion::test_python_version_sufficient PASSED [ 30%]
tests/unit/test_health.py::TestCheckDependencies::test_required_dependencies_installed PASSED [ 30%]
tests/unit/test_health.py::TestCheckPromptFile::test_prompt_file_missing PASSED [ 30%]
tests/unit/test_health.py::TestCheckPromptFile::test_prompt_file_exists PASSED [ 31%]
tests/unit/test_health.py::TestCheckPromptFile::test_prompt_file_too_short PASSED [ 31%]
tests/unit/test_health.py::TestCheckGitRepo::test_not_git_repo PASSED    [ 31%]
tests/unit/test_health.py::TestRunHealthCheck::test_run_health_check_returns_report PASSED [ 31%]
tests/unit/test_health.py::TestRunHealthCheck::test_health_report_counts PASSED [ 31%]
tests/unit/test_hooks.py::TestHooksManager::test_当创建manager时_应设置项目根和git目录路径 PASSED [ 31%]
tests/unit/test_hooks.py::TestHooksManager::test_当未指定项目根时_应使用当前工作目录 PASSED [ 31%]
tests/unit/test_hooks.py::TestHooksManager::test_当存在git目录时_应返回True PASSED [ 31%]
tests/unit/test_hooks.py::TestHooksManager::test_当不存在git目录时_应返回False PASSED [ 31%]
tests/unit/test_hooks.py::TestHooksManager::test_当在git仓库中安装hook时_应创建hook文件 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当不在git仓库中时_安装hook应返回失败 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当hook已存在时_安装前应备份原文件 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当在Unix系统上安装hook时_应设置可执行权限 SKIPPED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当安装所有hooks时_应创建pre_commit和pre_push文件 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当不在git仓库中时_安装所有hooks应返回失败 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当卸载已安装的hook时_应删除hook文件 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当hook不存在时_卸载应返回失败 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当卸载有备份的hook时_应恢复备份文件 PASSED [ 32%]
tests/unit/test_hooks.py::TestHooksManager::test_当卸载所有hooks时_应删除所有hook文件 PASSED [ 33%]
tests/unit/test_hooks.py::TestHooksManager::test_当在git仓库中获取状态时_应返回hooks安装状态 PASSED [ 33%]
tests/unit/test_hooks.py::TestHooksManager::test_当不在git仓库中时_状态应显示is_git_repo为False PASSED [ 33%]
tests/unit/test_hooks.py::TestHooksManager::test_当hook未安装时_状态应显示installed为False PASSED [ 33%]
tests/unit/test_hooks.py::TestHooksManager::test_当hook不是Boring_hook时_状态应显示is_boring_hook为False PASSED [ 33%]
tests/unit/test_intelligence.py::TestIntelligentRanker::test_ranker_initialization PASSED [ 33%]
tests/unit/test_intelligence.py::TestIntelligentRanker::test_record_selection PASSED [ 33%]
tests/unit/test_intelligence.py::TestIntelligentRanker::test_record_skip PASSED [ 33%]
tests/unit/test_intelligence.py::TestIntelligentRanker::test_boost_calculation PASSED [ 33%]
tests/unit/test_intelligence.py::TestIntelligentRanker::test_get_top_chunks PASSED [ 34%]
tests/unit/test_intelligence.py::TestPredictiveAnalyzer::test_analyzer_initialization PASSED [ 34%]
tests/unit/test_intelligence.py::TestPredictiveAnalyzer::test_learn_error_correlation PASSED [ 34%]
tests/unit/test_intelligence.py::TestPredictiveAnalyzer::test_file_pattern_extraction PASSED [ 34%]
tests/unit/test_intelligence.py::TestPredictiveAnalyzer::test_prevention_tips PASSED [ 34%]
tests/unit/test_intelligence.py::TestPredictiveAnalyzer::test_health_score PASSED [ 34%]
tests/unit/test_intelligence.py::TestContextOptimizer::test_optimizer_initialization PASSED [ 34%]
tests/unit/test_intelligence.py::TestContextOptimizer::test_add_section PASSED [ 34%]
tests/unit/test_intelligence.py::TestContextOptimizer::test_deduplication PASSED [ 34%]
tests/unit/test_intelligence.py::TestContextOptimizer::test_compression PASSED [ 35%]
tests/unit/test_intelligence.py::TestContextOptimizer::test_smart_builder PASSED [ 35%]
tests/unit/test_intelligence.py::TestContextOptimizer::test_token_limit_enforcement PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_cache_initialization PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_set_and_get PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_cache_miss PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_expiration PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_eviction PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_cached_decorator PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_stats_tracking PASSED [ 35%]
tests/unit/test_intelligence.py::TestAdaptiveCache::test_clear PASSED    [ 36%]
tests/unit/test_intelligence.py::TestIntegration::test_rag_with_ranker PASSED [ 36%]
tests/unit/test_intelligence.py::TestIntegration::test_storage_predictions PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_init PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_init_defaults PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_show_header PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_prompt_action PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_confirm_resume PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_confirm_abort PASSED [ 36%]
tests/unit/test_interactive.py::TestInteractiveSession::test_edit_prompt PASSED [ 37%]
tests/unit/test_interactive.py::TestInteractiveSession::test_run_command PASSED [ 37%]
tests/unit/test_interactive.py::TestInteractiveSession::test_view_errors PASSED [ 37%]
tests/unit/test_interactive.py::TestInteractiveSession::test_view_logs PASSED [ 37%]
tests/unit/test_interactive.py::TestInteractiveSession::test_reset_circuit PASSED [ 37%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当创建judge时_应保存provider PASSED [ 37%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当创建judge时指定tracker_应保存tracker PASSED [ 37%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当评分代码成功时_应返回评分和推理 PASSED [ 37%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当使用交互模式时_应返回待审核状态 PASSED [ 37%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当JSON解析失败时_应返回0分和错误信息 PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当API调用异常时_应返回0分和错误信息 PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当有tracker时_评分应记录到tracker PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当比较两个计划且结果一致时_应返回获胜者和平均置信度 PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当比较两个计划且结果不一致时_应返回TIE PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当使用交互模式比较计划时_应返回待审核状态 PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当解析失败时_比较计划应返回TIE PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当API异常时_比较计划应返回TIE PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当比较两个代码且结果一致时_应返回获胜者和平均置信度 PASSED [ 38%]
tests/unit/test_judge_core.py::TestLLMJudge::test_当比较两个代码且结果不一致时_应返回TIE PASSED [ 39%]
tests/unit/test_judge_core.py::TestLLMJudge::test_compare_code_interactive PASSED [ 39%]
tests/unit/test_judge_core.py::TestLLMJudge::test_compare_code_parse_failure PASSED [ 39%]
tests/unit/test_judge_core.py::TestLLMJudge::test_compare_code_exception PASSED [ 39%]
tests/unit/test_judge_core.py::TestLLMJudge::test_extract_json_deprecated PASSED [ 39%]
tests/unit/test_judge_core.py::TestLLMJudge::test_build_grade_prompt_compatibility PASSED [ 39%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_当CLI可用时_应设置is_available为True PASSED [ 39%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_当CLI不可用时_应设置is_available为False PASSED [ 39%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_model_name_property PASSED [ 39%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_当CLI不可用时_生成应返回失败 PASSED [ 40%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_当CLI不可用时_带工具的生成应返回失败 PASSED [ 40%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_当CLI命令成功时_带工具的生成应返回响应 PASSED [ 40%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_当CLI命令失败时_带工具的生成应返回错误 PASSED [ 40%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_parse_tool_calls_with_json PASSED [ 40%]
tests/unit/test_llm_claude_adapter.py::TestClaudeCLIAdapter::test_parse_tool_calls_no_json PASSED [ 40%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当提供API密钥时_应使用SDK后端 PASSED [ 40%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当未提供API密钥但CLI可用时_应使用CLI后端 PASSED [ 40%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当未提供API密钥且CLI不可用时_应使用SDK后端但client为None PASSED [ 40%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_model_name_property PASSED [ 40%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_is_available_sdk PASSED [ 41%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_is_available_cli PASSED [ 41%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当使用CLI后端生成时_应返回CLI适配器的响应 PASSED [ 41%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当使用SDK后端生成时_应返回SDK的响应 PASSED [ 41%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当SDK未初始化时_生成应返回错误 PASSED [ 41%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当SDK抛出异常时_生成应返回错误 PASSED [ 41%]
tests/unit/test_llm_gemini.py::TestGeminiProvider::test_当使用CLI后端时_chat方法应返回响应字符串 PASSED [ 41%]
tests/unit/test_llm_init.py::TestGetProvider::test_当指定claude_code时_应返回ClaudeProvider PASSED [ 41%]
tests/unit/test_llm_init.py::TestGetProvider::test_当指定ollama时_应返回OllamaProvider PASSED [ 41%]
tests/unit/test_llm_init.py::TestGetProvider::test_当指定ollama但未指定model时_应使用默认模型llama3 PASSED [ 42%]
tests/unit/test_llm_init.py::TestGetProvider::test_当未指定provider时_应返回GeminiProvider PASSED [ 42%]
tests/unit/test_llm_init.py::TestGetProvider::test_当从settings读取provider时_应使用settings的值 PASSED [ 42%]
tests/unit/test_llm_init.py::TestGetProvider::test_当指定model_name时_应传递给provider PASSED [ 42%]
tests/unit/test_llm_init.py::TestModuleExports::test_应导出所有必需的公共接口 PASSED [ 42%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_init PASSED [ 42%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_model_name_property PASSED [ 42%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_provider_name_property PASSED [ 42%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_base_url_property PASSED [ 42%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_当服务器可达时_应返回is_available为True PASSED [ 43%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_当服务器不可达时_应返回is_available为False PASSED [ 43%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_当API返回成功时_生成应返回响应文本 PASSED [ 43%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_当提供context时_生成应包含context在请求中 PASSED [ 43%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_当API返回错误时_生成应返回失败 PASSED [ 43%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_当网络异常时_生成应返回失败 PASSED [ 43%]
tests/unit/test_llm_openai_compat.py::TestOpenAICompatProvider::test_generate_with_tools PASSED [ 43%]
tests/unit/test_llm_provider.py::test_ollama_provider_init PASSED        [ 43%]
tests/unit/test_llm_provider.py::test_ollama_is_available PASSED         [ 43%]
tests/unit/test_llm_provider.py::test_ollama_generate PASSED             [ 44%]
tests/unit/test_llm_provider.py::test_openai_compat_provider_init PASSED [ 44%]
tests/unit/test_llm_provider.py::test_create_judge_provider_factory PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_init_with_api_key PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_init_without_api_key_cli_available PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_init_genai_not_available PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_init_no_api_key_no_cli PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_sdk_success PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_cli_backend PASSED [ 44%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_model_not_found_fallback PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_rate_limit_error PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_timeout_error PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_empty_response PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_with_retry_success PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_with_retry_rate_limit PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_with_tools_success PASSED [ 45%]
tests/unit/test_llm_sdk.py::TestGeminiClient::test_generate_with_tools_cli_backend PASSED [ 45%]
tests/unit/test_logger.py::TestLogStatus::test_log_status_creates_log_file PASSED [ 45%]
tests/unit/test_logger.py::TestLogStatus::test_log_status_different_levels PASSED [ 45%]
tests/unit/test_logger.py::TestLogStatus::test_log_status_with_nonexistent_dir PASSED [ 46%]
tests/unit/test_logger.py::TestConfigureLogging::test_imports_succeed PASSED [ 46%]
tests/unit/test_logger.py::TestConfigureLogging::test_log_status_exists PASSED [ 46%]
tests/unit/test_logger.py::TestStructuredLogging::test_logger_with_context PASSED [ 46%]
tests/unit/test_loop.py::TestLoopUtilityFunctions::test_plan_completion_detection_complete PASSED [ 46%]
tests/unit/test_loop.py::TestLoopUtilityFunctions::test_plan_completion_detection_incomplete PASSED [ 46%]
tests/unit/test_loop.py::TestLoopUtilityFunctions::test_plan_completion_no_file PASSED [ 46%]
tests/unit/test_loop.py::TestLoopUtilityFunctions::test_syntax_check_valid_python PASSED [ 46%]
tests/unit/test_loop.py::TestLoopUtilityFunctions::test_syntax_check_invalid_python PASSED [ 46%]
tests/unit/test_loop.py::TestAgentLoopWithAPI::test_init_default_values SKIPPED [ 47%]
tests/unit/test_loop.py::TestAgentLoopWithAPI::test_init_custom_model SKIPPED [ 47%]
tests/unit/test_loop.py::TestLoopConfigDefaults::test_default_model_from_settings PASSED [ 47%]
tests/unit/test_loop.py::TestLoopConfigDefaults::test_project_root_exists PASSED [ 47%]
tests/unit/test_loop.py::TestLoopConfigDefaults::test_log_dir_exists PASSED [ 47%]
tests/unit/test_loop_agent.py::TestStatefulAgentLoop::test_init PASSED   [ 47%]
tests/unit/test_loop_agent.py::TestStatefulAgentLoop::test_init_cli_mode PASSED [ 47%]
tests/unit/test_loop_agent.py::TestStatefulAgentLoop::test_init_cli_not_available PASSED [ 47%]
tests/unit/test_loop_agent.py::TestStatefulAgentLoop::test_init_sdk_failed PASSED [ 47%]
tests/unit/test_loop_agent.py::TestStatefulAgentLoop::test_init_subsystems PASSED [ 48%]
tests/unit/test_loop_agent.py::TestStatefulAgentLoop::test_init_storage_failure PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_init_sdk_mode PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_init_cli_mode PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_init_cli_mode_not_found PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_init_sdk_mode_failed PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_init_with_custom_files PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_init_verbose_mode PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_run_circuit_breaker_open PASSED [ 48%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_run_circuit_breaker_resume PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_generate_step_sdk PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_generate_step_cli PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_verify_project_syntax PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_full_syntax_check PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_self_correct PASSED  [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_create_format_feedback PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_save_loop_summary PASSED [ 49%]
tests/unit/test_loop_legacy.py::TestAgentLoop::test_check_plan_completion PASSED [ 49%]
tests/unit/test_loop_module.py::TestLoopImports::test_loop_module_imports PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopImports::test_agent_imports PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopImports::test_base_imports PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopImports::test_context_imports PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_creation PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_has_loop_count PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_has_max_loops PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_start_loop PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_increment_loop PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_should_continue PASSED [ 50%]
tests/unit/test_loop_module.py::TestLoopContext::test_loop_context_mark_exit PASSED [ 51%]
tests/unit/test_loop_module.py::TestBaseLoop::test_base_loop_exists PASSED [ 51%]
tests/unit/test_loop_module.py::TestAgentLoop::test_agent_loop_import PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_name PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_on_enter PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_handle_no_function_calls PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_handle_write_file_success PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_handle_search_replace_success PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_handle_report_status PASSED [ 51%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_handle_no_files_modified PASSED [ 52%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_next_state_success PASSED [ 52%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_next_state_failure PASSED [ 52%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_get_files_to_modify PASSED [ 52%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_process_write_file PASSED [ 52%]
tests/unit/test_loop_states_patching.py::TestPatchingState::test_process_search_replace PASSED [ 52%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_name PASSED [ 52%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_on_enter PASSED [ 52%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_handle_max_retries_exceeded PASSED [ 52%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_handle_can_retry PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_generate_recovery_prompt_format_error PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_generate_recovery_prompt_verification_error PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_generate_recovery_prompt_patching_error PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_generate_recovery_prompt_generic_error PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_next_state_exit PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_next_state_retry PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_format_error_prompt PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_verification_error_prompt PASSED [ 53%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_patching_error_prompt PASSED [ 54%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_inject_recovery_context PASSED [ 54%]
tests/unit/test_loop_states_recovery.py::TestRecoveryState::test_record_metrics PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestThinkingStateName::test_应返回Thinking PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestOnEnter::test_应记录状态进入日志 PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestBuildPrompt::test_当prompt文件存在时_应返回文件内容 PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestBuildPrompt::test_当prompt文件不存在时_应返回提示消息 PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestBuildContext::test_当有memory时_应包含memory上下文 PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestBuildContext::test_当有task文件时_应包含任务内容 PASSED [ 54%]
tests/unit/test_loop_states_thinking.py::TestBuildContext::test_当有extensions时_应包含扩展上下文 PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestExecuteSDK::test_当gemini_client未初始化时_应返回失败 PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestExecuteSDK::test_当API调用成功时_应返回成功并存储结果 PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestExecuteSDK::test_当API调用失败时_应返回失败 PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestExecuteCLI::test_当CLI调用成功时_应提取工具调用 PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestNextState::test_当结果为EXIT时_应返回None PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestNextState::test_当结果为FAILURE时_应转到RecoveryState PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestNextState::test_当有function_calls时_应转到PatchingState PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestNextState::test_当无function_calls但有输出时_应转到RecoveryState PASSED [ 55%]
tests/unit/test_loop_states_thinking.py::TestExecuteDelegated::test_应生成委托消息并退出 PASSED [ 55%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_name PASSED  [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_on_enter PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_handle_no_verifier PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_handle_verification_passes PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_handle_verification_fails PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_handle_records_error_pattern PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_next_state_failure PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_next_state_success_should_exit PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_next_state_success_plan_complete PASSED [ 56%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_next_state_success_continue PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_record_success PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_record_success_no_memory PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_record_success_exception PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_check_plan_complete_no_file PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_check_plan_complete_all_checked PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_check_plan_complete_has_unchecked PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_check_plan_complete_exception PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_record_metrics PASSED [ 57%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_record_metrics_no_storage PASSED [ 58%]
tests/unit/test_loop_verifying.py::TestVerifyingState::test_record_metrics_exception PASSED [ 58%]
tests/unit/test_main_cli.py::test_hooks_uninstall_failure PASSED         [ 58%]
tests/unit/test_main_cli.py::test_auto_fix_run_boring_exception PASSED   [ 58%]
tests/unit/test_main_cli.py::test_start_command_api_backend PASSED       [ 58%]
tests/unit/test_main_cli.py::test_start_command_cli_backend_privacy_mode PASSED [ 58%]
tests/unit/test_main_cli.py::test_start_command_invalid_backend PASSED   [ 58%]
tests/unit/test_main_cli.py::test_start_cli_backend_coverage PASSED      [ 58%]
tests/unit/test_main_cli.py::test_start_api_backend_coverage PASSED      [ 58%]
tests/unit/test_main_cli.py::test_status_coverage PASSED                 [ 59%]
tests/unit/test_main_cli.py::test_verify_command_coverage PASSED         [ 59%]
tests/unit/test_main_cli.py::test_start_command_experimental_stateful PASSED [ 59%]
tests/unit/test_main_cli.py::test_start_command_with_custom_prompt PASSED [ 59%]
tests/unit/test_main_cli.py::test_start_command_exception_handling PASSED [ 59%]
tests/unit/test_main_cli.py::test_start_self_heal PASSED                 [ 59%]
tests/unit/test_main_cli.py::test_start_exception_self_heal PASSED       [ 59%]
tests/unit/test_main_cli.py::test_dashboard_missing_deps PASSED          [ 59%]
tests/unit/test_main_cli.py::test_auto_fix_target_not_found PASSED       [ 59%]
tests/unit/test_main_cli.py::test_status_command PASSED                  [ 60%]
tests/unit/test_main_cli.py::test_circuit_commands PASSED                [ 60%]
tests/unit/test_main_cli.py::test_setup_extensions PASSED                [ 60%]
tests/unit/test_main_cli.py::test_memory_clear_exists PASSED             [ 60%]
tests/unit/test_main_cli.py::test_memory_clear_not_exists PASSED         [ 60%]
tests/unit/test_main_cli.py::test_health_check_healthy PASSED            [ 60%]
tests/unit/test_main_cli.py::test_health_check_unhealthy PASSED          [ 60%]
tests/unit/test_main_cli.py::test_version_command PASSED                 [ 60%]
tests/unit/test_main_cli.py::test_version_command_fallback PASSED        [ 60%]
tests/unit/test_main_cli.py::test_workflow_list PASSED                   [ 60%]
tests/unit/test_main_cli.py::test_workflow_list_empty PASSED             [ 61%]
tests/unit/test_main_cli.py::test_workflow_export_success PASSED         [ 61%]
tests/unit/test_main_cli.py::test_workflow_export_failure PASSED         [ 61%]
tests/unit/test_main_cli.py::test_workflow_publish_no_token PASSED       [ 61%]
tests/unit/test_main_cli.py::test_workflow_publish_success PASSED        [ 61%]
tests/unit/test_main_cli.py::test_workflow_publish_failure PASSED        [ 61%]
tests/unit/test_main_cli.py::test_workflow_install_success PASSED        [ 61%]
tests/unit/test_main_cli.py::test_workflow_install_failure PASSED        [ 61%]
tests/unit/test_main_cli.py::test_evaluate_file_not_found PASSED         [ 61%]
tests/unit/test_main_cli.py::test_evaluate_success_cli PASSED            [ 62%]
tests/unit/test_main_cli.py::test_evaluate_api_missing_key PASSED        [ 62%]
tests/unit/test_main_cli.py::test_evaluate_exception PASSED              [ 62%]
tests/unit/test_main_cli.py::test_dashboard_success PASSED               [ 62%]
tests/unit/test_main_cli.py::test_dashboard_subprocess_error PASSED      [ 62%]
tests/unit/test_main_cli.py::test_auto_fix_success PASSED                [ 62%]
tests/unit/test_main_cli.py::test_auto_fix_failure PASSED                [ 62%]
tests/unit/test_main_cli.py::test_auto_fix_wrappers_logic PASSED         [ 62%]
tests/unit/test_main_cli.py::test_hooks_install_success PASSED           [ 62%]
tests/unit/test_main_cli.py::test_hooks_install_fail PASSED              [ 63%]
tests/unit/test_main_cli.py::test_hooks_uninstall_success PASSED         [ 63%]
tests/unit/test_main_cli.py::test_hooks_status_not_repo PASSED           [ 63%]
tests/unit/test_main_cli.py::test_hooks_status_repo PASSED               [ 63%]
tests/unit/test_mcp_instance.py::TestMCPInstance::test_mcp_available PASSED [ 63%]
tests/unit/test_mcp_instance.py::TestMCPInstance::test_mcp_not_available PASSED [ 63%]
tests/unit/test_mcp_instance.py::TestMCPInstance::test_mcp_available_flag PASSED [ 63%]
tests/unit/test_mcp_instance.py::TestMCPInstance::test_fastmcp_import_success PASSED [ 63%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_bytes_interceptor_write_passthrough PASSED [ 63%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_bytes_interceptor_write_mcp_started PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_bytes_interceptor_write_jsonrpc PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_bytes_interceptor_write_newline PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_bytes_interceptor_write_memoryview PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_write_passthrough PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_write_mcp_started PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_write_jsonrpc PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_write_newline PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_write_empty PASSED [ 64%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_flush PASSED [ 65%]
tests/unit/test_mcp_interceptors.py::TestInterceptors::test_stdout_interceptor_getattr PASSED [ 65%]
tests/unit/test_mcp_server.py::TestMCPServerImports::test_mcp_module_imports PASSED [ 65%]
tests/unit/test_mcp_server.py::TestMCPServerImports::test_mcp_availability_check PASSED [ 65%]
tests/unit/test_mcp_server.py::TestSpecKitTools::test_read_workflow_exists PASSED [ 65%]
tests/unit/test_mcp_server.py::TestSpecKitTools::test_list_workflows_returns_all PASSED [ 65%]
tests/unit/test_mcp_server.py::TestSpecKitTools::test_workflow_frontmatter_parsing PASSED [ 65%]
tests/unit/test_mcp_server.py::TestBoringIntegrationTools::test_setup_extensions_structure PASSED [ 65%]
tests/unit/test_mcp_server.py::TestBoringIntegrationTools::test_gemini_not_available PASSED [ 65%]
tests/unit/test_mcp_server.py::TestMCPResources::test_project_prompt_resource PASSED [ 65%]
tests/unit/test_mcp_server.py::TestMCPResources::test_workflows_list_resource PASSED [ 66%]
tests/unit/test_mcp_server.py::TestTaskResult::test_task_result_creation PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_no_stdout_pollution_on_import PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_print_statements_use_stderr PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_workflow_result_json_serializable PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_error_result_json_serializable PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_workflows_directory_detection PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_missing_workflows_directory_handled PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPConnectionStability::test_special_characters_in_context PASSED [ 66%]
tests/unit/test_mcp_server.py::TestMCPToolReturnTypes::test_health_check_returns_dict PASSED [ 67%]
tests/unit/test_mcp_server.py::TestMCPToolReturnTypes::test_status_returns_dict PASSED [ 67%]
tests/unit/test_mcp_server.py::TestMCPToolReturnTypes::test_verify_returns_dict PASSED [ 67%]
tests/unit/test_mcp_server.py::TestMCPToolReturnTypes::test_speckit_tools_return_dict PASSED [ 67%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_security_scan_full PASSED [ 67%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_security_scan_secrets PASSED [ 67%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_security_scan_vulnerabilities PASSED [ 67%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_security_scan_dependencies PASSED [ 67%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_transaction_start PASSED [ 67%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_transaction_commit PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_transaction_rollback PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_transaction_status PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_transaction_unknown_action PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_task_submit PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_task_submit_no_type PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_task_status PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_task_status_no_id PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_task_list PASSED [ 68%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_task_unknown_action PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_context_save PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_context_save_missing_params PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_context_load PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_context_load_no_id PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_context_list PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_context_unknown_action PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_profile_get PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_profile_learn PASSED [ 69%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_profile_learn_missing_params PASSED [ 70%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_boring_profile_unknown_action PASSED [ 70%]
tests/unit/test_mcp_tools_advanced.py::TestAdvancedTools::test_register_advanced_tools PASSED [ 70%]
tests/unit/test_mcp_tools_agents.py::TestAgentTools::test_boring_multi_agent_not_execute PASSED [ 70%]
tests/unit/test_mcp_tools_agents.py::TestAgentTools::test_boring_multi_agent_execute_blocked PASSED [ 70%]
tests/unit/test_mcp_tools_agents.py::TestAgentTools::test_boring_multi_agent_execute_success PASSED [ 70%]
tests/unit/test_mcp_tools_agents.py::TestAgentTools::test_boring_multi_agent_execute_exception PASSED [ 70%]
tests/unit/test_mcp_tools_discovery.py::TestCapabilitiesResource::test_当请求capabilities时_应返回所有可用能力列表 PASSED [ 70%]
tests/unit/test_mcp_tools_discovery.py::TestCapabilitiesResource::test_当请求capabilities时_每个能力应包含描述和工具列表 PASSED [ 70%]
tests/unit/test_mcp_tools_discovery.py::TestToolCategoryResource::test_当请求有效类别时_应返回该类别的详细信息 PASSED [ 70%]
tests/unit/test_mcp_tools_discovery.py::TestToolCategoryResource::test_当请求无效类别时_应返回错误信息和可用类别列表 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestToolCategoryResource::test_当请求不同类别时_应返回对应的工具列表 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestCapabilitiesDataStructure::test_所有能力类别应包含必需字段 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestCapabilitiesDataStructure::test_应包含所有主要能力类别 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestRegisterDiscoveryResources::test_应注册capabilities资源 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestRegisterDiscoveryResources::test_应注册工具类别资源 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestRegisterDiscoveryResources::test_当调用capabilities资源时_应返回所有能力 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestRegisterDiscoveryResources::test_当调用工具类别资源时_有效类别应返回详细信息 PASSED [ 71%]
tests/unit/test_mcp_tools_discovery.py::TestRegisterDiscoveryResources::test_当调用工具类别资源时_无效类别应返回错误 PASSED [ 71%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_rate_limited PASSED [ 72%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_no_project PASSED [ 72%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_direct_mode PASSED [ 72%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_file_path PASSED [ 72%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_pairwise_mode PASSED [ 72%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_pairwise_invalid PASSED [ 72%]
tests/unit/test_mcp_tools_evaluation.py::TestEvaluationTools::test_boring_evaluate_interactive_mode PASSED [ 72%]
tests/unit/test_mcp_tools_git.py::TestGitTools::test_boring_hooks_install_success PASSED [ 72%]
tests/unit/test_mcp_tools_git.py::TestGitTools::test_boring_hooks_install_already_installed PASSED [ 72%]
tests/unit/test_mcp_tools_git.py::TestGitTools::test_boring_hooks_install_error PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestGitTools::test_boring_hooks_install_exception PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestGitTools::test_boring_hooks_uninstall_success PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestGitTools::test_boring_hooks_status PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestBoringCommit::test_当有已完成任务时_应生成提交消息 PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestBoringCommit::test_当无已完成任务时_应返回无任务消息 PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestBoringCommit::test_当任务文件不存在时_应返回未找到消息 PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestBoringCommit::test_当commit_type为auto时_应从任务内容推断类型 PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestBoringCommit::test_当指定scope时_应在提交消息中包含scope PASSED [ 73%]
tests/unit/test_mcp_tools_git.py::TestBoringVisualize::test_当有Python文件时_应生成模块依赖图 PASSED [ 74%]
tests/unit/test_mcp_tools_git.py::TestBoringVisualize::test_当output_format为json时_应返回JSON格式数据 PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestReloadRAGDependencies::test_当依赖可用时_应返回成功状态 PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestReloadRAGDependencies::test_当依赖不可用时_应返回错误状态 PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestGetRetriever::test_当RAG可用时_应返回retriever实例 PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestGetRetriever::test_当RAG不可用时_应返回None PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestGetRetriever::test_相同项目应返回缓存的retriever PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGReload::test_应调用reload_rag_dependencies并返回结果 PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGIndex::test_当RAG可用且有统计信息时_应返回索引统计 PASSED [ 74%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGIndex::test_当RAG不可用时_应返回安装提示 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGIndex::test_当force为True时_应重建索引 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGSearch::test_当有结果时_应返回格式化的搜索结果 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGSearch::test_当索引为空时_应返回提示信息 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGSearch::test_当没有结果时_应返回无结果消息 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGSearch::test_当collection为None时_应返回初始化提示 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGStatus::test_当索引健康时_应返回详细统计信息 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGStatus::test_当RAG不可用时_应返回安装提示 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGStatus::test_当索引为空时_应返回空索引提示 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGStatus::test_当collection为None时_应返回未初始化提示 PASSED [ 75%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGContext::test_当找到目标时_应返回代码上下文 PASSED [ 76%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGContext::test_当目标不存在时_应返回错误消息 PASSED [ 76%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGExpand::test_当有扩展结果时_应返回扩展的代码块 PASSED [ 76%]
tests/unit/test_mcp_tools_rag.py::TestBoringRAGExpand::test_当没有扩展结果时_应返回无结果消息 PASSED [ 76%]
tests/unit/test_mcp_tools_shadow.py::TestGetShadowGuard::test_相同项目应返回缓存的guard PASSED [ 76%]
tests/unit/test_mcp_tools_shadow.py::TestGetShadowGuard::test_不同项目应返回不同的guard PASSED [ 76%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowStatus::test_当有待处理操作时_应返回待处理操作列表 PASSED [ 76%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowStatus::test_当无待处理操作时_应返回无待处理消息 PASSED [ 76%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowStatus::test_当模式为ENABLED时_应显示自动批准说明 PASSED [ 76%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowApprove::test_当操作存在时_应返回批准成功消息 PASSED [ 77%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowApprove::test_当操作不存在时_应返回未找到消息 PASSED [ 77%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowReject::test_当操作存在时_应返回拒绝成功消息 PASSED [ 77%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowReject::test_当操作不存在时_应返回未找到消息 PASSED [ 77%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowMode::test_当模式有效时_应设置模式并返回成功消息 PASSED [ 77%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowMode::test_当模式无效时_应返回错误消息 PASSED [ 77%]
tests/unit/test_mcp_tools_shadow.py::TestBoringShadowClear::test_应清除所有待处理操作并返回计数 PASSED [ 77%]
tests/unit/test_mcp_v10_tools.py::TestV10Tools::test_register_v10_tools_success PASSED [ 77%]
tests/unit/test_mcp_v10_tools.py::TestV10Tools::test_register_v10_tools_rag_import_error PASSED [ 77%]
tests/unit/test_mcp_v10_tools.py::TestV10Tools::test_register_v10_tools_agent_import_error PASSED [ 78%]
tests/unit/test_mcp_v10_tools.py::TestV10Tools::test_register_v10_tools_shadow_import_error PASSED [ 78%]
tests/unit/test_mcp_v10_tools.py::TestV10Tools::test_register_v10_tools_rag_exception PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringListPlugins::test_当有插件时_应返回插件列表 PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringListPlugins::test_当include_builtin为True时_应包含内置工具列表 PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringRunPlugin::test_当插件存在时_应执行插件并返回结果 PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringWorkspaceAdd::test_当参数有效时_应添加项目到工作区 PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringWorkspaceList::test_应返回所有注册的项目列表 PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringWorkspaceList::test_当指定tag时_应过滤项目 PASSED [ 78%]
tests/unit/test_mcp_v9_tools.py::TestBoringPromptFix::test_当验证通过时_应返回成功消息 PASSED [ 79%]
tests/unit/test_mcp_v9_tools.py::TestBoringPromptFix::test_当验证失败时_应返回修复提示 PASSED [ 79%]
tests/unit/test_mcp_v9_tools.py::TestBoringSuggestNext::test_应返回基于项目状态的建议 PASSED [ 79%]
tests/unit/test_mcp_v9_tools.py::TestBoringGetProgress::test_当任务存在时_应返回任务进度 PASSED [ 79%]
tests/unit/test_mcp_v9_tools.py::TestBoringGetProgress::test_当任务不存在时_应返回未找到消息 PASSED [ 79%]
tests/unit/test_multi_language.py::TestMultiLanguageVerification::test_verify_syntax_node PASSED [ 79%]
tests/unit/test_multi_language.py::TestMultiLanguageVerification::test_verify_syntax_go PASSED [ 79%]
tests/unit/test_multi_language.py::TestMultiLanguageIndexing::test_index_universal_js PASSED [ 79%]
tests/unit/test_multi_language.py::TestMultiLanguageIndexing::test_index_project_multi_ext PASSED [ 79%]
tests/unit/test_quality_tracker.py::test_quality_tracker_record PASSED   [ 80%]
tests/unit/test_quality_tracker.py::test_quality_history_limit PASSED    [ 80%]
tests/unit/test_quality_tracker.py::test_ascii_chart PASSED              [ 80%]
tests/unit/test_quality_tracker.py::test_boring_quality_trend_tool PASSED [ 80%]
tests/unit/test_rag.py::TestCodeIndexer::test_code_chunk_creation PASSED [ 80%]
tests/unit/test_rag.py::TestCodeIndexer::test_indexer_init PASSED        [ 80%]
tests/unit/test_rag.py::TestCodeIndexer::test_indexer_parses_function PASSED [ 80%]
tests/unit/test_rag.py::TestCodeIndexer::test_indexer_parses_class PASSED [ 80%]
tests/unit/test_rag.py::TestDependencyGraph::test_graph_build_empty PASSED [ 80%]
tests/unit/test_rag.py::TestDependencyGraph::test_graph_build_with_chunks PASSED [ 80%]
tests/unit/test_rag.py::TestDependencyGraph::test_impact_zone PASSED     [ 81%]
tests/unit/test_rag.py::TestRAGRetriever::test_retriever_without_chromadb PASSED [ 81%]
tests/unit/test_rag.py::TestRAGRetriever::test_retriever_stats PASSED    [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當ChromaDB可用時_應初始化成功並可检索 PASSED [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當ChromaDB不可用時_應标记為不可用 PASSED [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當ChromaDB初始化失敗時_應優雅降級為不可用 PASSED [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_init_with_additional_roots PASSED [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_is_available_property PASSED [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當RAG不可用時_構築索引應返回0 PASSED [ 81%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當強制重建索引時_應清除舊索引並重建 PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當RAG不可用時_檢索應返回空列表 PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當查詢代碼時_應返回相關的代码塊 PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當設置閾值時_應只返回分數高於閾值的結果 PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_retrieve_with_file_filter PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_retrieve_query_failure PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當沒有依賴圖時_獲取修改上下文應返回空結果 PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當未指定函數或類名時_獲取修改上下文應返回空結果 PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_smart_expand_no_graph PASSED [ 82%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_smart_expand_chunk_not_found PASSED [ 83%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當獲取統計信息時_應返回包含索引數量的RAGStats PASSED [ 83%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_當清除索引時_應清空所有數據和數據庫集合 PASSED [ 83%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_update_file_not_available PASSED [ 83%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_generate_context_injection_no_results PASSED [ 83%]
tests/unit/test_rag_retriever.py::TestRAGRetrieverInitialization::test_retrieve_async PASSED [ 83%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_set_and_get PASSED [ 83%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_cache_miss PASSED [ 83%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_cache_stats PASSED [ 83%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_compare_with_cache_both_hit PASSED [ 84%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_compare_with_cache_partial_hit PASSED [ 84%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_max_entries_eviction PASSED [ 84%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_clear PASSED [ 84%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_ttl_expiration PASSED [ 84%]
tests/unit/test_reasoning_cache.py::TestReasoningCache::test_global_singleton PASSED [ 84%]
tests/unit/test_release_workflow_integration.py::test_setup_copies_release_workflow SKIPPED [ 84%]
tests/unit/test_security.py::test_scanner_init PASSED                    [ 84%]
tests/unit/test_security.py::test_scan_secrets_detection PASSED          [ 84%]
tests/unit/test_security.py::test_scan_secrets_ignore_dirs PASSED        [ 85%]
tests/unit/test_security.py::test_scan_vulnerabilities PASSED            [ 85%]
tests/unit/test_security.py::test_scan_dependencies PASSED               [ 85%]
tests/unit/test_shadow_mode.py::TestShadowModeEnums::test_shadow_mode_level PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestShadowModeEnums::test_operation_severity PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestPendingOperation::test_pending_operation_creation PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestPendingOperation::test_pending_operation_serialization PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_guard_disabled_mode PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_guard_enabled_mode_blocks_high PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_guard_enabled_mode_allows_read PASSED [ 85%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_guard_strict_mode PASSED [ 86%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_guard_sensitive_file_detection PASSED [ 86%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_guard_shell_command_detection PASSED [ 86%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_approve_operation PASSED [ 86%]
tests/unit/test_shadow_mode.py::TestShadowModeGuard::test_reject_operation PASSED [ 86%]
tests/unit/test_shadow_mode.py::TestCreateShadowGuard::test_create_with_default_mode PASSED [ 86%]
tests/unit/test_shadow_mode.py::TestCreateShadowGuard::test_create_with_custom_mode PASSED [ 86%]
tests/unit/test_shadow_mode_enforcement.py::TestStrictModeEnforcement::test_strict_mode_blocks_low_severity_write PASSED [ 86%]
tests/unit/test_shadow_mode_enforcement.py::TestStrictModeEnforcement::test_strict_mode_blocks_shell_command PASSED [ 86%]
tests/unit/test_shadow_mode_enforcement.py::TestStrictModeEnforcement::test_strict_mode_blocks_search_replace PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestModePersistence::test_mode_persists_to_file PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestModePersistence::test_mode_loads_from_file_on_init PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestModePersistence::test_mode_persists_across_sessions PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestEnabledModeEnforcement::test_enabled_mode_allows_low_severity PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestEnabledModeEnforcement::test_enabled_mode_blocks_high_severity PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestEnabledModeEnforcement::test_enabled_mode_blocks_shell_commands PASSED [ 87%]
tests/unit/test_shadow_mode_enforcement.py::TestDisabledMode::test_disabled_mode_allows_all PASSED [ 87%]
tests/unit/test_storage.py::TestSQLiteStorage::test_create_storage PASSED [ 87%]
tests/unit/test_storage.py::TestSQLiteStorage::test_record_loop PASSED   [ 88%]
tests/unit/test_storage.py::TestSQLiteStorage::test_get_recent_loops PASSED [ 88%]
tests/unit/test_storage.py::TestSQLiteStorage::test_get_loop_stats PASSED [ 88%]
tests/unit/test_storage.py::TestSQLiteStorage::test_record_error PASSED  [ 88%]
tests/unit/test_storage.py::TestSQLiteStorage::test_add_and_get_solution PASSED [ 88%]
tests/unit/test_storage.py::TestSQLiteStorage::test_record_metric PASSED [ 88%]
tests/unit/test_storage.py::TestContextSelector::test_create_selector PASSED [ 88%]
tests/unit/test_storage.py::TestContextSelector::test_extract_keywords PASSED [ 88%]
tests/unit/test_storage.py::TestContextSelector::test_extract_keywords_camelcase PASSED [ 88%]
tests/unit/test_storage.py::TestContextSelector::test_score_file_filename_match PASSED [ 89%]
tests/unit/test_storage.py::TestContextSelector::test_get_project_files PASSED [ 89%]
tests/unit/test_storage.py::TestContextSelector::test_select_files_by_relevance PASSED [ 89%]
tests/unit/test_storage.py::TestContextSelector::test_select_context_with_budget PASSED [ 89%]
tests/unit/test_storage.py::TestContextSelector::test_generate_context_injection PASSED [ 89%]
tests/unit/test_transactions.py::test_transaction_start PASSED           [ 89%]
tests/unit/test_transactions.py::test_transaction_commit PASSED          [ 89%]
tests/unit/test_transactions.py::test_transaction_rollback PASSED        [ 89%]
tests/unit/test_transactions.py::test_transaction_status PASSED          [ 89%]
tests/unit/test_tree_sitter_and_tools.py::test_parser_init PASSED        [ 90%]
tests/unit/test_tree_sitter_and_tools.py::test_parser_extract_chunks_mocked SKIPPED [ 90%]
tests/unit/test_tree_sitter_and_tools.py::test_verifier_generic_dispatch PASSED [ 90%]
tests/unit/test_tree_sitter_and_tools.py::test_judge_prompt_language_awareness PASSED [ 90%]
tests/unit/test_tutorial.py::test_tutorial_initialization PASSED         [ 90%]
tests/unit/test_tutorial.py::test_show_tutorial_updates_state PASSED     [ 90%]
tests/unit/test_tutorial.py::test_show_tutorial_idempotency PASSED       [ 90%]
tests/unit/test_tutorial.py::test_generate_learning_note PASSED          [ 90%]
tests/unit/test_vector_memory.py::TestExperience::test_experience_creation PASSED [ 90%]
tests/unit/test_vector_memory.py::TestVectorMemoryInit::test_init_without_chromadb PASSED [ 90%]
tests/unit/test_vector_memory.py::TestVectorMemoryInit::test_init_creates_directory PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryAddExperience::test_add_experience_disabled PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryRetrieve::test_retrieve_disabled PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryHelpers::test_get_solution_for_error_disabled PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryHelpers::test_generate_context_injection_disabled PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryHelpers::test_clear_disabled PASSED [ 91%]
tests/unit/test_vector_memory.py::TestCreateVectorMemory::test_create_with_project_root PASSED [ 91%]
tests/unit/test_vector_memory.py::TestCreateVectorMemory::test_create_without_project_root PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryWithChromaDB::test_init_with_chromadb PASSED [ 91%]
tests/unit/test_vector_memory.py::TestVectorMemoryWithChromaDB::test_add_and_retrieve PASSED [ 92%]
tests/unit/test_verification.py::TestVerificationResult::test_result_creation PASSED [ 92%]
tests/unit/test_verification.py::TestVerificationResult::test_failed_result_with_details PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierSyntax::test_verify_syntax_valid PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierSyntax::test_verify_syntax_invalid PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierSyntax::test_verify_syntax_empty_file PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierLint::test_verify_lint_no_ruff PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierLint::test_verify_lint_with_ruff_mock_success PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierLint::test_verify_lint_with_ruff_mock_failure PASSED [ 92%]
tests/unit/test_verification.py::TestCodeVerifierImports::test_verify_imports_standard_lib PASSED [ 93%]
tests/unit/test_verification.py::TestCodeVerifierImports::test_verify_imports_relative PASSED [ 93%]
tests/unit/test_verification.py::TestCodeVerifierTests::test_run_tests_no_pytest PASSED [ 93%]
tests/unit/test_verification.py::TestCodeVerifierTests::test_run_tests_no_tests_dir PASSED [ 93%]
tests/unit/test_verification.py::TestCodeVerifierProject::test_verify_project_no_src PASSED [ 93%]
tests/unit/test_verification.py::TestCodeVerifierProject::test_verify_project_with_valid_files PASSED [ 93%]
tests/unit/test_verification.py::TestCodeVerifierProject::test_verify_file_non_python PASSED [ 93%]
tests/unit/test_verification.py::TestGenerateFeedbackPrompt::test_generate_feedback_no_failures PASSED [ 93%]
tests/unit/test_verification.py::TestGenerateFeedbackPrompt::test_generate_feedback_with_failures PASSED [ 93%]
tests/unit/test_verification.py::TestVerificationSubmodules::test_tool_manager_init PASSED [ 94%]
tests/unit/test_verification.py::TestVerificationSubmodules::test_load_custom_rules_mock PASSED [ 94%]
tests/unit/test_verification.py::TestVerificationSubmodules::test_verify_syntax_python_compile PASSED [ 94%]
tests/unit/test_verification.py::TestVerificationSubmodules::test_verify_lint_python_mock PASSED [ 94%]
tests/unit/test_verification.py::TestVerificationSubmodules::test_verify_imports_python_logic PASSED [ 94%]
tests/unit/test_verification.py::TestJudgeSubmodules::test_extract_json_logic PASSED [ 94%]
tests/unit/test_verification.py::TestJudgeSubmodules::test_build_grade_prompt_logic PASSED [ 94%]
tests/unit/test_verification.py::TestJudgeSubmodules::test_create_judge_provider_logic PASSED [ 94%]
tests/unit/test_verification.py::TestReviewerSubmodules::test_extract_verdict_logic PASSED [ 94%]
tests/unit/test_verification.py::TestReviewerSubmodules::test_extract_issues_logic PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_circuit_state_import PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_should_halt_execution_import PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_log_status_import PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_can_make_call_import PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_constants_import PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_circuit_functions_import PASSED [ 95%]
tests/unit/test_verification.py::TestCoreModule::test_limiter_functions_import PASSED [ 95%]
tests/unit/test_verification.py::TestModelsModule::test_verification_result_dataclass PASSED [ 95%]
tests/unit/test_verification.py::TestModelsModule::test_loop_info_model PASSED [ 95%]
tests/unit/test_verification.py::TestModelsModule::test_exit_signals_model PASSED [ 96%]
tests/unit/test_verification.py::TestModelsModule::test_workflow_step_model PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_init_creates_base_dir PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_ensure_base_backup PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_ensure_base_backup_invalid_workflow PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_evolve_workflow PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_evolve_workflow_creates_backup PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_evolve_workflow_no_change PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_reset_workflow PASSED [ 96%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_get_workflow_status PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_evolution_log PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestWorkflowEvolver::test_backup_all_workflows PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestProjectContextDetector::test_detect_python_project PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestProjectContextDetector::test_detect_mcp_server_project PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestProjectContextDetector::test_detect_bilingual_docs PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestWorkflowGapAnalyzer::test_detect_missing_version_file PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestWorkflowGapAnalyzer::test_generate_enhanced_workflow PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestAutoEvolve::test_auto_evolve_adds_missing_checks PASSED [ 97%]
tests/unit/test_workflow_evolver.py::TestAutoEvolve::test_analyze_project_returns_context PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowPackage::test_json_serialization PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowPackage::test_from_json_valid PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowPackage::test_from_json_invalid PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_parse_frontmatter PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_list_local_workflows PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_export_workflow_success PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_export_workflow_not_found PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_install_workflow_url PASSED [ 98%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_install_workflow_local_file PASSED [ 99%]
tests/unit/test_workflow_manager.py::TestWorkflowManager::test_publish_workflow_success PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_project_serialization PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_add_project PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_add_nonexistent_path PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_remove_project PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_switch_project PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_list_projects PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_persistence PASSED [ 99%]
tests/unit/test_workspace_enhanced.py::test_workspace_get_project_path PASSED [100%]

================================== FAILURES ===================================
__________________________ test_boring_health_check ___________________________
tests\unit\mcp\test_core_tools_v10.py:68: in test_boring_health_check
    assert result["healthy"] is True
E   assert False is True
============================== warnings summary ===============================
C:\Users\User\AppData\Roaming\Python\Python312\site-packages\dateutil\tz\tz.py:37
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\dateutil\tz\tz.py:37: DeprecationWarning: datetime.datetime.utcfromtimestamp() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.fromtimestamp(timestamp, datetime.UTC).
    EPOCH = datetime.datetime.utcfromtimestamp(0)

src\boring\core\models.py:35
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:35: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CircuitBreakerState(BaseModel):

src\boring\core\models.py:65
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:65: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LoopStatus(BaseModel):

C:\Users\User\AppData\Roaming\Python\Python312\site-packages\pydantic\_internal\_generate_schema.py:319
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\pydantic\_internal\_generate_schema.py:319: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.12/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    warnings.warn(

src\boring\core\models.py:81
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:81: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CircuitBreakerHistoryEntry(BaseModel):

src\boring\core\models.py:99
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:99: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Workflow(BaseModel):

tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_done_returns_message
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\win10toast\__init__.py:15: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
    from pkg_resources import Requirement

tests/unit/mcp/test_core_tools.py::TestCoreTools::test_boring_done_returns_message
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\pkg_resources\__init__.py:3146: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

tests/unit/mcp/test_core_tools_v10.py::test_boring_quickstart
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\_pytest\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-2 (_show_toast)
  
  Traceback (most recent call last):
    File "C:\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
      self.run()
    File "C:\Python312\Lib\threading.py", line 1012, in run
      self._target(*self._args, **self._kwargs)
    File "C:\Users\User\AppData\Roaming\Python\Python312\site-packages\win10toast\__init__.py", line 83, in _show_toast
      self.hwnd = CreateWindow(self.classAtom, "Taskbar", style,
                               ^^^^^^^^^^^^^^
  AttributeError: 'ToastNotifier' object has no attribute 'classAtom'
  
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))

tests/unit/mcp/test_core_tools_v10.py::test_boring_health_check
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\services\health.py:176: FutureWarning: 
  
  All support for the `google.generativeai` package has ended. It will no longer be receiving 
  updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
  See README for more details:
  
  https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
  
    __import__(package)

tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_markdown_format
  D:\User\Desktop\ralphgeminicode\boring-gemini\tests\unit\test_file_patcher.py:25: DeprecationWarning: extract_file_blocks() is deprecated. Use process_structured_calls() instead.
    blocks = extract_file_blocks(content)

tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_xml_format
  D:\User\Desktop\ralphgeminicode\boring-gemini\tests\unit\test_file_patcher.py:39: DeprecationWarning: extract_file_blocks() is deprecated. Use process_structured_calls() instead.
    blocks = extract_file_blocks(content)

tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_empty_content
  D:\User\Desktop\ralphgeminicode\boring-gemini\tests\unit\test_file_patcher.py:48: DeprecationWarning: extract_file_blocks() is deprecated. Use process_structured_calls() instead.
    blocks = extract_file_blocks("")

tests/unit/test_file_patcher.py::TestExtractFileBlocks::test_extract_file_blocks_no_blocks
  D:\User\Desktop\ralphgeminicode\boring-gemini\tests\unit\test_file_patcher.py:61: DeprecationWarning: extract_file_blocks() is deprecated. Use process_structured_calls() instead.
    blocks = extract_file_blocks(content)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.12.6-final-0 _______________

Name                                             Stmts   Miss Branch BrPart  Cover   Missing
--------------------------------------------------------------------------------------------
src\boring\__init__.py                              16      5      4      2    65%   251, 255-257, 264
src\boring\__main__.py                               3      3      2      0     0%   1-4
src\boring\agents\__init__.py                        6      0      0      0   100%
src\boring\agents\agent_protocol.py                208     31     50     21    78%   65->67, 67->exit, 203, 228-229, 272, 284, 286->289, 290, 293, 302, 304->309, 305->307, 315, 335-336, 340-349, 404, 409, 412, 430, 438, 480->490, 496, 513, 568, 581-590, 610->612
src\boring\agents\architect.py                      35      1     14      1    96%   169
src\boring\agents\base.py                          114     14     24      4    84%   137->136, 143, 185, 198, 251, 262-269, 280-287, 291
src\boring\agents\coder.py                          94     82     42      0     9%   39, 91-207, 218-279
src\boring\agents\orchestrator.py                  126    102     52      0    13%   96-206, 220-245, 256, 278-311, 330-342
src\boring\agents\reviewer\__init__.py               3      0      0      0   100%
src\boring\agents\reviewer\agent.py                 46      4     12      2    90%   52, 104-106
src\boring\agents\reviewer\orchestrator.py          39      1     16      3    93%   41->40, 52, 88->96
src\boring\agents\reviewer\parsers.py               27      2     12      2    90%   21, 23
src\boring\agents\reviewer\prompts.py                2      0      0      0   100%
src\boring\audit.py                                102     28     26      8    72%   52, 56, 77, 104, 106, 115, 120->119, 123-124, 159, 161-163, 173, 180-212
src\boring\auto_fix.py                              58     41     14      0    24%   41-44, 57-130, 140-150, 173-206
src\boring\auto_learner.py                           3      3      0      0     0%   10-16
src\boring\background_agent.py                       3      0      0      0   100%
src\boring\backup.py                                 1      0      0      0   100%
src\boring\brain_manager.py                          3      0      0      0   100%
src\boring\cache.py                                  1      0      0      0   100%
src\boring\circuit.py                                1      0      0      0   100%
src\boring\cli\__init__.py                           0      0      0      0   100%
src\boring\cli\cli_client.py                       142     53     38      6    57%   76, 80, 105-164, 191-193, 199-213, 226-229, 236->242, 264, 273, 281->285, 299, 309-310, 326-328, 344, 363-368
src\boring\cli\dashboard.py                        124     27     40     11    74%   31-37, 54->57, 110-113, 138->137, 145->154, 148, 152, 166->169, 169->exit, 172-173, 178-197, 201
src\boring\cli\interactive.py                      217    113     68      8    41%   76-104, 171-197, 206, 209, 221->223, 224, 228-231, 236-237, 247-248, 254-255, 259->exit, 285-298, 329-330, 334-345, 349-358, 362-363, 367-372, 376-377, 382-393, 397-401, 405-408, 412-427, 431-432, 436, 448-449, 454-455
src\boring\cli\quickstart.py                       105    105      6      0     0%   9-262
src\boring\cli\setup.py                            133    117     36      0     9%   31-149, 164-359
src\boring\cli\tutorial.py                          83      9     30     10    83%   64, 71, 87-88, 102->101, 116->115, 118->115, 122, 132, 139, 141, 144
src\boring\cli_client.py                             1      0      0      0   100%
src\boring\config.py                                 1      0      0      0   100%
src\boring\constants.py                              1      1      0      0     0%   1
src\boring\context_selector.py                     127     16     40      7    85%   264, 279-282, 300, 305-307, 329, 384-388, 395-396, 418
src\boring\context_sync.py                         122     42     14      1    62%   111, 125-126, 143-144, 150-156, 160-164, 211-212, 250-257, 261-263, 271-275, 280-284, 289-293, 298-300, 311-312
src\boring\core\__init__.py                          9      2      0      0    78%   63-70
src\boring\core\cache.py                            91     39     16      4    52%   44-46, 55-59, 65-66, 72, 94-98, 102-106, 111-120, 124-126, 131, 134-136, 140-144
src\boring\core\circuit.py                          84     13     20      3    81%   76, 127-128, 130-135, 170-180
src\boring\core\config.py                          110     43     46      7    50%   32->31, 33->32, 38-45, 123-148, 155, 160-165, 175-181, 189-191, 201, 205->exit
src\boring\core\constants.py                        43     43      0      0     0%   7-93
src\boring\core\dependencies.py                     45      8     12      1    77%   34->exit, 48-49, 55-56, 69-70, 76-77
src\boring\core\exceptions.py                       84     19      2      0    78%   54-55, 62-63, 90-91, 98-101, 119-121, 137-138, 163-164, 171-172
src\boring\core\limiter.py                          73     59     22      0    15%   25-37, 54-59, 72-74, 88, 100-124, 143-191
src\boring\core\logger.py                           58     20     12      3    61%   73, 107, 112->119, 144-167, 181-190
src\boring\core\models.py                           60      0      0      0   100%
src\boring\core\utils.py                            47     36     14      0    18%   20-28, 38-75, 80-89
src\boring\dashboard.py                              1      1      0      0     0%   1
src\boring\debugger.py                               1      0      0      0   100%
src\boring\diff_patcher.py                           1      0      0      0   100%
src\boring\error_diagnostics.py                     82     82     34      0     0%   8-329
src\boring\error_translator.py                      23      0      4      0   100%
src\boring\exceptions.py                             1      0      0      0   100%
src\boring\extensions.py                           146     14     42      6    88%   103, 141-144, 147-148, 159, 210->213, 227-228, 252-254, 275-276
src\boring\feedback_learner.py                       3      3      0      0     0%   10-16
src\boring\file_patcher.py                           1      0      0      0   100%
src\boring\gemini_client.py                         10      0      0      0   100%
src\boring\health.py                                 1      0      0      0   100%
src\boring\hooks.py                                 75      2     18      0    98%   200-201
src\boring\intelligence\__init__.py                 14      0      0      0   100%
src\boring\intelligence\adaptive_cache.py          333    133    108     12    52%   157-169, 173-175, 207->211, 211->218, 213, 215, 221->226, 227-228, 248-249, 253-267, 271-282, 291-302, 353-357, 385, 416, 420-423, 427-440, 444-450, 457-467, 498-500, 512, 536, 540-549, 557-564, 597-600, 604-609, 613-619, 623-625, 649-653, 659-661
src\boring\intelligence\auto_learner.py             76     50     30      0    25%   29-30, 78-79, 91-127, 131-139, 151-159, 171-190, 199-202, 216-222
src\boring\intelligence\brain_manager.py           407    277    128      9    27%   123->136, 128->136, 130-133, 180-201, 211-212, 236-272, 286, 290, 307, 308->312, 320->297, 334-385, 412-415, 419-610, 614-624, 634, 646-648, 652-657, 661, 677-710, 729-752, 756-757, 779-813, 828-849, 853-864, 881-914, 923-941, 967-1018, 1022-1066, 1070-1073, 1083-1085
src\boring\intelligence\cache_warming.py           208    164     34      0    18%   69-73, 95, 108-179, 191-247, 256-265, 277-327, 331, 343, 347, 368-371, 383-397, 407, 419-430, 434-436, 456-459, 465-467, 481-493
src\boring\intelligence\context_optimizer.py       387     91    148     18    73%   143-146, 178-179, 204, 236, 245->249, 302, 307-312, 315->300, 324, 327->295, 341->337, 361->364, 409, 417, 422-451, 472->470, 486-492, 505-509, 523-572, 592->594, 611->614, 623, 627-628, 663-671, 684-685, 699-705
src\boring\intelligence\feedback_learner.py         92     61     28      0    26%   55-58, 61, 73-89, 93-102, 110-123, 127-144, 151-180, 183-189, 192-193
src\boring\intelligence\intelligent_ranker.py      225     72     56     12    62%   227->236, 232-233, 238, 246-276, 285, 293, 313, 336-342, 350-356, 363->327, 381-410, 414-432, 455, 514->exit, 543, 567-582, 595-598, 604-624, 628-632
src\boring\intelligence\memory.py                   98     59     18      0    34%   59-67, 71, 75, 80-94, 98, 102-128, 138-140, 144, 148, 152-165, 169-189
src\boring\intelligence\pattern_clustering.py      192    151     50      0    17%   65-67, 123-150, 160-172, 176-209, 213-224, 230-265, 271-279, 283-311, 331-343, 359-373, 395-399, 403-424, 428-459, 463-464, 468, 478-480
src\boring\intelligence\pattern_mining.py          157     46     72     19    65%   138-155, 164->167, 192, 197, 211, 220-221, 246-248, 251, 256-260, 264-276, 306-307, 312, 318, 320, 324-325, 329-332, 336-337, 373, 392->395, 400-405
src\boring\intelligence\prediction_tracker.py      202    144     42      0    24%   94-97, 101-105, 109-149, 171-190, 201-221, 226-257, 272-346, 359-375, 389-405, 417-484, 504-532, 541-570, 580-582
src\boring\intelligence\predictive_analyzer.py     307    137     78     11    51%   231, 235, 246->248, 300, 341-344, 401-409, 413-441, 461-489, 501-511, 543, 545-546, 552, 555->557, 557->560, 571-575, 593-639, 650-663, 667-672, 676-704, 715, 733-745, 749-760, 764-775, 779-787, 791-802, 806-817, 830-862
src\boring\intelligence\vector_memory.py           102     41     32      5    54%   82, 98-100, 151-153, 172-210, 222, 239-260, 267-277
src\boring\interactions_client.py                   72     72     18      0     0%   13-228
src\boring\interactive.py                            1      0      0      0   100%
src\boring\interfaces.py                            78     23      6      0    65%   41, 47, 64, 81, 92-109, 125, 130, 135, 160, 165, 170, 194, 199
src\boring\judge\__init__.py                         8      0      0      0   100%
src\boring\judge\bias_monitor.py                   191    144     40      0    20%   86-89, 93-97, 101-131, 155-186, 204-223, 237-280, 300-338, 356-409, 426-432, 437-490, 500-502
src\boring\judge\core.py                           136     40     38      4    67%   52-57, 90->92, 141, 218, 275-285, 306-317, 329-355, 364-386
src\boring\judge\factory.py                         12      0      4      0   100%
src\boring\judge\metrics.py                        356    257    132     10    23%   100-106, 120-126, 140-142, 158-170, 199-224, 239-292, 297-306, 321-335, 351-366, 380-412, 426-458, 472-498, 504, 510-514, 519-529, 543-547, 573-579, 593-600, 613-628, 670-676, 680-692, 696-704, 707->711, 727-734, 738-753, 757-767, 771-778, 781->789, 789->796
src\boring\judge\parsers.py                         24      8      8      4    62%   18, 20, 22, 31-35
src\boring\judge\prompts.py                         31      5     10      5    76%   34, 44, 66, 123, 180
src\boring\judge\rubric_generator.py                86     49     30      0    32%   369-432, 446, 464, 485-513, 518
src\boring\judge\rubrics.py                         27      1      0      0    96%   239
src\boring\limiter.py                                1      0      0      0   100%
src\boring\llm\__init__.py                          17      0      4      0   100%
src\boring\llm\claude_adapter.py                    55      2     12      1    96%   131->136, 134-135
src\boring\llm\executor.py                          54      6     18      5    85%   59-63, 72->exit, 90->exit, 105-107
src\boring\llm\gemini.py                            78     26     28      0    60%   20-23, 115-168
src\boring\llm\ollama.py                            42      7      2      1    82%   71-74, 79-81, 96-97
src\boring\llm\openai_compat.py                     54      2      8      2    94%   50, 78
src\boring\llm\provider.py                          19      5      0      0    74%   20, 26, 37, 48, 52
src\boring\llm\sdk.py                              140     31     56     10    75%   23-26, 136, 179, 235-237, 253, 276-297, 303->317, 305->304, 309-312, 314->306, 320, 328-338
src\boring\llm\tools.py                             12      4      2      1    64%   14-16, 74
src\boring\logger.py                                 1      0      0      0   100%
src\boring\loop\__init__.py                         10      0      0      0   100%
src\boring\loop\agent.py                           176    125     52      2    26%   106->122, 124-125, 129-130, 136-221, 226-245, 253-254, 266-287, 301-323, 334-370, 380-403
src\boring\loop\background_agent.py                125     53     28      4    51%   51-55, 59, 115, 133, 137-138, 147, 160-172, 186-188, 211-264, 274, 279
src\boring\loop\base.py                             23      5      0      0    78%   42, 55, 69, 73, 77
src\boring\loop\context.py                         143     57     20      0    53%   124, 128, 132, 142, 146, 167-179, 185-196, 203-208, 218-223, 230-238, 244-246, 252, 263-271, 293-306, 312-335
src\boring\loop\legacy.py                          295    100     78     17    62%   101->130, 123-128, 153-158, 166-169, 180-290, 329->333, 335-336, 348->363, 351-360, 373-375, 379->383, 389, 445-447, 452-453, 485-486, 514->518, 523-537, 547, 552, 569->exit, 572->exit, 625-626, 658-659
src\boring\loop\shadow_mode.py                     226     60     60     16    73%   34-35, 199->207, 203-204, 226-229, 250->249, 255, 265->264, 270, 274, 278-281, 291->290, 293, 336-337, 352, 379, 421, 434, 441-458, 465-466, 478-479, 486->exit, 489-490, 505-540, 565-566
src\boring\loop\states\__init__.py                   5      0      0      0   100%
src\boring\loop\states\patching.py                 134     28     56     16    76%   59->53, 71->75, 94, 121->119, 123->119, 128->126, 130->126, 142-143, 148-150, 153->156, 173-178, 188-189, 194-195, 197->200, 203-204, 210-212, 220-222, 226-240
src\boring\loop\states\recovery.py                  61      4     12      1    93%   182-183, 187->exit, 199-200
src\boring\loop\states\thinking.py                 174     60     56     11    64%   49-67, 96-97, 135-136, 151->155, 164-173, 178->181, 200-211, 222-226, 231-232, 289, 303-309, 318-319, 321->329, 336-348, 355-369
src\boring\loop\states\verifying.py                 76      2     18      1    97%   66->69, 137-138
src\boring\loop\transactions.py                    123     38     28     10    67%   49-69, 81, 94, 103, 118->122, 153, 159, 179, 190-192, 231->exit, 257-258, 262->264, 272-276, 281-286, 291-296, 301-305
src\boring\loop\workflow_evolver.py                320     80    132     27    70%   236->235, 250-252, 262->273, 263->273, 275-299, 310-350, 361-362, 377, 383, 387-392, 400, 416, 422->428, 423->422, 504-505, 560, 568, 623, 629, 657, 670->676, 685, 719-727, 757, 764, 775, 790-792, 814-833, 839, 844-847, 852
src\boring\loop\workflow_manager.py                155     25     42     10    81%   55-56, 59, 69, 111->118, 115->114, 130, 170-171, 193, 196, 203-206, 230-233, 249, 255, 287->290, 292-297
src\boring\main.py                                 553    192    142     19    63%   73, 75, 77, 189-190, 228-282, 311-314, 360, 373-387, 440-444, 474-480, 586, 588, 602, 611-643, 659, 667-672, 680->exit, 696, 708, 754, 765-772, 796-798, 827->833, 876, 883, 903-905, 981-1007, 1027-1053, 1067-1090, 1103-1123, 1133-1142, 1148-1157, 1163-1173, 1177
src\boring\mcp\__init__.py                           0      0      0      0   100%
src\boring\mcp\async_utils.py                       42     42      6      0     0%   10-130
src\boring\mcp\brain_tools.py                      166    166     30      0     0%   16-599
src\boring\mcp\core_tools.py                        52      2      8      2    93%   131, 180
src\boring\mcp\http.py                              75     75     14      0     0%   13-158
src\boring\mcp\instance.py                           7      0      2      0   100%
src\boring\mcp\intelligence_tools.py               138    113     18      0    16%   67-100, 128-160, 191-225, 256-314, 364-411, 432-469
src\boring\mcp\interceptors.py                     105     30     26      2    71%   42, 50-53, 59, 62, 103-107, 113, 118, 126, 130, 135-141, 145, 149, 153, 157, 161, 164, 167, 170, 173, 176
src\boring\mcp\prompts.py                          172     66     10      0    58%   28, 49, 75, 101, 116, 128, 144, 155, 171, 194, 217, 261, 292, 332, 357, 382, 405, 424, 441, 466, 484, 499, 519, 555, 568, 585, 597, 638, 660, 681, 695, 707, 723, 748, 764, 777, 790, 810, 834, 854, 873, 893, 966, 1000-1003, 1210, 1230, 1280-1296, 1328-1344, 1394-1412
src\boring\mcp\resources.py                         66     41     20      4    34%   4->exit, 11, 27, 32, 37-46, 51-75, 80-120
src\boring\mcp\server.py                           151     62     44     10    54%   45-47, 52-53, 73, 75->81, 80, 89-126, 138-144, 148->152, 219-220, 235-239, 258-288, 302->321, 311-312, 325-326, 337, 349-353, 358->363, 365-367, 371
src\boring\mcp\speckit_tools.py                     28     28      0      0     0%   15-193
src\boring\mcp\tool_profiles.py                     85     49     20      2    36%   202, 207->218, 212-213, 220-221, 237-244, 249-283, 306-307, 311-314, 318, 322, 328-329
src\boring\mcp\tool_router.py                      123     84     50      0    24%   546-578, 588-608, 612-631, 635-652, 664-682, 694-712, 716, 772, 784-824
src\boring\mcp\tools\advanced.py                    69      0     40      0   100%
src\boring\mcp\tools\agents.py                      96     39     30      5    56%   47, 61->68, 137-152, 172-192, 222-268, 308, 337, 343
src\boring\mcp\tools\core.py                       125     31     32      7    73%   104, 106, 108, 184-188, 197-198, 223, 306-307, 374-384, 387->390, 408-422, 434->exit
src\boring\mcp\tools\discovery.py                   26     20      6      0    19%   131-137, 145-161
src\boring\mcp\tools\evaluation.py                 200     60     72     13    69%   79, 101, 115, 123, 125, 137-138, 150, 158, 183, 189-195, 211-230, 248-249, 253-263, 273-294, 459->exit
src\boring\mcp\tools\git.py                        149     33     66     14    73%   36, 92, 100-101, 122, 129-130, 170, 182-183, 194-195, 210->224, 216-221, 234-235, 285, 290, 298, 310-312, 328-335, 349->exit
src\boring\mcp\tools\integration.py                 43      5     10      2    87%   43, 64-65, 158-159, 168->exit
src\boring\mcp\tools\knowledge.py                   50      9      8      4    78%   39, 50-51, 78, 85-86, 112, 119-120, 123->exit
src\boring\mcp\tools\quality.py                     21      1      4      2    88%   28, 41->exit
src\boring\mcp\tools\rag.py                        184    127     76      3    27%   23->35, 30-31, 57-59, 68->71, 85-86, 131, 164-195, 256-321, 346-397, 446-498, 538-565
src\boring\mcp\tools\session.py                    264    178     64      1    27%   101-103, 108-109, 116-119, 122, 126-139, 143-146, 150-159, 163, 167-185, 189-202, 211-214, 247-307, 321-362, 375-461, 475-505, 518-550, 564-600, 610, 634-635, 661, 681, 717->exit
src\boring\mcp\tools\shadow.py                     119     91     36      0    19%   64-103, 139-149, 185-195, 224-244, 266-272, 327-350, 367-393, 420-434
src\boring\mcp\tools\verification.py                67     17     26     12    69%   44, 55, 80, 90, 99-100, 109-110, 114-115, 154, 163, 172, 190, 198, 210-211, 218->exit
src\boring\mcp\tools\workflow.py                   113     45     28      8    57%   71, 78-79, 107, 114-115, 136-156, 178-192, 215, 246-258, 281, 286, 298->309, 302->309, 306-307, 324-325, 328->exit
src\boring\mcp\utils.py                             84     52     34      1    28%   33-34, 64-96, 104-139, 151-156, 176-182
src\boring\mcp\v9_tools.py                         179    126     34      0    25%   36-41, 46-50, 58-88, 93-110, 115-129, 134-154, 159-173, 214-261, 293-298, 316-324, 368-369, 384-385, 398-401, 416-417, 467-501, 555-590, 614-621
src\boring\mcp\v10_tools.py                         35      6      0      0    83%   59-62, 74-77
src\boring\mcp\vibe_tools.py                       598    550    298      0     5%   41-46, 51-68, 73-81, 111-204, 230-352, 368-422, 442-527, 547-612, 633-822, 857-1056, 1100-1154, 1181-1230, 1263-1299
src\boring\memory.py                                 3      0      0      0   100%
src\boring\models.py                                 1      0      0      0   100%
src\boring\monitor.py                                1      1      0      0     0%   1
src\boring\pattern_mining.py                         3      0      0      0   100%
src\boring\plugins\__init__.py                       2      0      0      0   100%
src\boring\plugins\loader.py                       111     60     32      6    40%   57-75, 95->101, 98, 103, 110-112, 118-119, 123-156, 163, 169-179, 183-191, 217-220, 230-233
src\boring\quality_tracker.py                       65      2     12      2    95%   68, 84
src\boring\quickstart.py                             1      1      0      0     0%   1
src\boring\rag\__init__.py                           7      0      0      0   100%
src\boring\rag\code_indexer.py                     262     70    114     25    68%   128, 146-148, 161, 170-171, 184-185, 189-191, 196->214, 199-211, 239->257, 255, 264->exit, 280-282, 290, 304, 318, 320, 329->322, 350-351, 363->367, 364->363, 401->412, 408-410, 417-420, 444-445, 480-482, 484-486, 491-494, 515-525, 531-559, 565-566, 579-582, 591, 593
src\boring\rag\graph_builder.py                    138     66     72      7    45%   63-64, 79-91, 95, 99-100, 144->147, 148, 151->150, 154->150, 160, 179, 193-206, 230-259, 272-300
src\boring\rag\hyde.py                              82     58     22      0    23%   118-119, 132-153, 163-169, 174-318, 322-331, 345-353, 357-385, 395-397, 411-412
src\boring\rag\index_state.py                       65     39     14      1    34%   41-53, 62-67, 71-72, 76-79, 83-84, 88-92, 97, 100-102, 106-109, 113-116
src\boring\rag\parser.py                            77     36     22      3    46%   21-23, 162, 170-172, 179, 186-247
src\boring\rag\rag_retriever.py                    425    213    170     24    44%   62-64, 82-88, 99, 244->266, 261-263, 273-274, 286-377, 411-413, 457->483, 460, 474, 485-491, 510, 515->518, 525-564, 570->576, 590-593, 646-676, 699-701, 729-760, 785-829, 833->842, 839-840, 852-862, 866, 886-889, 897, 907-913, 927, 933->exit, 935-942, 946, 949-950, 954-958, 979-982
src\boring\rag\rag_watcher.py                      121     89     42      0    20%   95-106, 110-119, 123-135, 140-148, 152-174, 178-192, 196-202, 207, 216-219, 232-247, 252-255
src\boring\rag\reranker.py                         154    123     48      0    15%   65-68, 72-91, 114-122, 134-168, 179-228, 249-255, 278-311, 315-331, 335-344, 348-381, 392-394, 400-402
src\boring\response_analyzer.py                    116    105     46      0     7%   42-160, 165-205, 210-221
src\boring\rubrics.py                                3      0      0      0   100%
src\boring\security.py                               1      0      0      0   100%
src\boring\services\__init__.py                      0      0      0      0   100%
src\boring\services\backup.py                       60     44     22      2    22%   21-25, 32-65, 71-85, 93, 103-109
src\boring\services\health.py                      147     36     42     11    71%   122, 138-142, 160, 177-189, 192, 211->215, 215->218, 218->221, 222, 271, 286, 307, 335-371
src\boring\services\monitor.py                     146    146     34      0     0%   1-255
src\boring\services\security.py                    229     93     78     16    57%   128, 156-163, 169-170, 174-175, 195-199, 206-207, 242-249, 254-257, 276-289, 304, 308, 365->exit, 370, 374, 393->426, 442, 461-462, 477, 487->510, 502-508, 529->552, 546-549, 553-603, 615-633, 643-649
src\boring\services\storage.py                     240    118     54      1    45%   46-65, 192-195, 325-337, 372-387, 400-411, 432-445, 487-489, 493-494, 513-558, 591-624, 637-648, 659-660, 665-666, 670-681
src\boring\services\web_monitor.py                  98     98     20      0     0%   8-342
src\boring\setup.py                                  1      0      0      0   100%
src\boring\shadow_mode.py                            3      0      0      0   100%
src\boring\skills_catalog.py                        39     24     20      0    25%   147-175, 180-192
src\boring\storage.py                                1      0      0      0   100%
src\boring\streaming.py                             82     42      8      0    44%   58-65, 84-104, 108-122, 126, 130, 142-143, 147, 164-172, 180, 191-198
src\boring\tools\debugger.py                        78      9     20      3    88%   34, 38, 62-63, 70-72, 107-108
src\boring\tools\diff_patcher.py                    91     33     34      7    62%   94-95, 99-100, 104-105, 158, 164, 172-173, 202, 207-219, 248-269, 282-288
src\boring\tools\file_patcher.py                   180    122     80      5    30%   83-143, 151-201, 209-256, 303-313, 315->292, 353-356, 369->372, 381, 391-392, 410-426
src\boring\transactions.py                           3      0      0      0   100%
src\boring\trust_rules.py                           92     47     20      3    43%   30-39, 43-45, 48, 58, 89-94, 98-104, 115-134, 138-148, 167-179, 185, 189-192, 202->204
src\boring\tutorial.py                               1      0      0      0   100%
src\boring\utils.py                                  1      0      0      0   100%
src\boring\vector_memory.py                          3      0      0      0   100%
src\boring\verification\__init__.py                  4      0      0      0   100%
src\boring\verification\config.py                   27      8      6      2    70%   28-32, 41->45, 46, 52-53
src\boring\verification\handlers.py                188    107     68      9    40%   38-39, 53, 77-85, 96, 115-123, 131-160, 168-196, 202-230, 238-266, 300-304, 331-332, 340-374, 386, 392, 410, 431-439, 479-480, 486-532, 540-569
src\boring\verification\test_runners.py             68     53     26      1    19%   26-52, 60-90, 102-132, 144-174, 186-216, 228-258
src\boring\verification\tools.py                    23      4      0      0    83%   60-65, 68, 74
src\boring\verification\verifier.py                192     93     96     21    47%   104, 114, 125, 127, 145-155, 159-196, 208, 210, 214, 216, 218, 225-235, 245-267, 281, 291->289, 295-299, 308-310, 314-339, 342, 345, 351-361, 371->375, 375->368
src\boring\vibe\__init__.py                          0      0      0      0   100%
src\boring\vibe\analysis.py                         50      0      0      0   100%
src\boring\vibe\engine.py                          122     77     26      0    32%   39-40, 44-45, 81-82, 87-88, 92-100, 104-108, 112-115, 119-143, 149-173, 177-189, 193-196, 200-203, 211, 226-227, 231-243
src\boring\vibe\handlers\__init__.py                 0      0      0      0   100%
src\boring\vibe\handlers\base.py                    23      6      0      0    74%   21, 27, 34, 51, 65, 79
src\boring\vibe\handlers\generic.py                 19      6      0      0    68%   22, 26, 33, 36, 40, 44
src\boring\vibe\handlers\javascript.py             108     94     44      0     9%   32, 36-94, 108-236, 241-276, 280-299, 303-350
src\boring\vibe\handlers\python.py                 163    145     94      0     7%   32, 36-70, 82-100, 106-147, 151-174, 178-227, 232-249, 252-269, 272-332, 335-348
src\boring\vscode_server.py                        140    140     20      0     0%   8-265
src\boring\web_monitor.py                            1      1      0      0     0%   1
src\boring\workflow_evolver.py                       3      0      0      0   100%
src\boring\workflow_manager.py                       3      0      0      0   100%
src\boring\workspace.py                            109     14     30      8    83%   106-115, 142->exit, 164, 180, 184->187, 194, 210, 250-252
--------------------------------------------------------------------------------------------
TOTAL                                            17898   8692   5294    622    47%
=========================== short test summary info ===========================
FAILED tests/unit/mcp/test_core_tools_v10.py::test_boring_health_check - asse...
=========== 1 failed, 914 passed, 5 skipped, 14 warnings in 44.86s ============
