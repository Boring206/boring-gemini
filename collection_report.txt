============================= test session starts =============================
platform win32 -- Python 3.12.6, pytest-9.0.2, pluggy-1.6.0 -- C:\Python312\python.exe
cachedir: .pytest_cache
rootdir: D:\User\Desktop\ralphgeminicode\boring-gemini
configfile: pyproject.toml
plugins: anyio-4.11.0, Faker-38.0.0, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 899 items

<Dir boring-gemini>
  <Dir tests>
    <Package unit>
      <Package mcp>
        <Module test_agents_tools.py>
          <Function test_boring_delegate_telemetry>
            Test that boring_delegate records metrics.
          <Function test_boring_delegate_telemetry_failure_silence>
            Test that telemetry failure doesn't break the tool.
          <Function test_boring_delegate_cot>
            Test that delegate prompts include Chain-of-Thought.
        <Module test_core_tools.py>
          <Class TestCoreTools>
            <Function test_run_boring_template>
              Test run_boring returns WORKFLOW_TEMPLATE.
            <Function test_run_boring_empty_task>
              Test empty task validation.
            <Function test_run_boring_whitespace_task>
              Test whitespace-only task validation.
            <Function test_run_boring_invalid_level>
              Test invalid verification level.
            <Function test_run_boring_invalid_max_loops_low>
              Test max_loops below range.
            <Function test_run_boring_invalid_max_loops_high>
              Test max_loops above range.
            <Function test_run_boring_no_project>
              Test when no project root found.
            <Function test_boring_health_check_healthy>
              Test health check when system is healthy.
            <Function test_boring_health_check_with_checks>
              Test health check returns check details.
            <Function test_boring_health_check_exception>
              Test health check handles exceptions.
            <Function test_boring_quickstart_with_project>
              Test quickstart with valid project.
            <Function test_boring_quickstart_no_project>
              Test quickstart without project.
            <Function test_boring_quickstart_has_workflows>
              Test quickstart includes workflow categories.
            <Function test_boring_status_success>
              Test status retrieval.
            <Function test_boring_status_no_project>
              Test status when no project found.
            <Function test_boring_status_exception>
              Test status handles exceptions.
            <Function test_boring_done_returns_message>
              Test boring_done returns completion message.
            <Function test_boring_done_with_long_message>
              Test boring_done handles long messages.
        <Module test_evaluation.py>
          <Class TestEvaluationTools>
            <Function test_boring_evaluate_file>
              Test file evaluation.
            <Function test_boring_evaluate_interactive>
              Test interactive mode (prompt return).
            <Function test_boring_evaluate_rate_limited>
              Test rate limit.
        <Module test_git.py>
          <Class TestGitTools>
            <Function test_boring_hooks_install_success>
              Test successful hook installation.
            <Function test_boring_hooks_install_idempotent>
              Test idempotency of hook installation.
            <Function test_boring_hooks_uninstall>
              Test hook uninstallation.
            <Function test_boring_hooks_status>
              Test status check.
        <Module test_ide_prompts.py>
          <Function test_setup_ide_prompt>
        <Module test_integration.py>
          <Class TestIntegrationTools>
            <Function test_boring_setup_extensions_success>
              Test successful extension setup.
            <Function test_boring_setup_extensions_no_gemini>
              Test setup gracefully handles missing Gemini CLI.
            <Function test_boring_notebooklm_guide>
              Test guide retrieval.
        <Module test_knowledge.py>
          <Class TestKnowledgeTools>
            <Function test_boring_learn_success>
              Test learning trigger.
            <Function test_boring_create_rubrics>
              Test rubric creation.
            <Function test_boring_brain_summary>
              Test brain summary.
        <Module test_resources.py>
          <Class TestResources>
            <Function test_get_project_status>
              Test status resource.
            <Function test_get_prompt>
              Test prompt resource.
        <Module test_server.py>
          <Class TestServer>
            <Function test_run_server>
              Test server startup sequence.
            <Function test_run_server_no_mcp>
              Test exit when FastMCP is missing.
        <Module test_skills_integration.py>
          <Function test_install_skill_success>
            Test successful installation of a skill.
          <Function test_install_skill_not_found>
            Test error when skill is not in catalog.
          <Function test_install_skill_no_command>
            Test skipped status when skill has no install command.
        <Module test_verification.py>
          <Class TestVerificationTools>
            <Function test_boring_verify_success>
              Test successful project verification.
            <Function test_boring_verify_file>
              Test single file verification.
        <Module test_workflow.py>
          <Class TestWorkflowTools>
            <Function test_speckit_evolve_workflow>
              Test workflow evolution.
            <Function test_speckit_reset_workflow>
              Test workflow reset.
            <Function test_boring_install_workflow>
              Test workflow installation.
            <Function test_boring_list_workflows>
              Test listing workflows.
      <Module test_agents.py>
        Unit tests for Multi-Agent system
        <Class TestAgentBase>
          Tests for base agent types
          <Function test_agent_role_enum>
            Test AgentRole enum
          <Function test_shared_resource>
            Test SharedResource dataclass
          <Function test_agent_message>
            Test AgentMessage dataclass
          <Function test_agent_context>
            Test AgentContext
        <Class TestArchitectAgent>
          Tests for ArchitectAgent
          <Function test_architect_system_prompt>
            Test Architect has correct system prompt
          <Function test_extract_file_list>
            Test file extraction from plan
        <Class TestReviewerAgent>
          Tests for ReviewerAgent
          <Function test_reviewer_system_prompt>
            Test Reviewer has correct system prompt
          <Function test_extract_verdict_pass>
            Test verdict extraction for PASS
          <Function test_extract_verdict_needs_work>
            Test verdict extraction for NEEDS_WORK
          <Function test_extract_issues>
            Test issue extraction
        <Class TestOrchestratorInit>
          Tests for AgentOrchestrator initialization
          <Function test_orchestrator_creates_agents>
            Test orchestrator creates all agents
      <Module test_agents_architect.py>
        Unit tests for boring.agents.architect module.
        <Class TestArchitectAgent>
          Tests for ArchitectAgent class.
          <Function test_init>
            Test initialization.
          <Function test_system_prompt>
            Test system prompt content.
          <Coroutine test_execute_success>
            Test successful plan creation.
          <Coroutine test_execute_generation_fails>
            Test execution when generation fails.
          <Coroutine test_execute_with_human_feedback>
            Test execution with human feedback.
          <Coroutine test_execute_with_existing_plan>
            Test execution with existing plan to refine.
          <Function test_extract_file_list>
            Test extracting file list from plan.
          <Function test_extract_file_list_empty>
            Test extracting file list from plan with no files.
          <Function test_extract_file_list_multiple_patterns>
            Test extracting files with different patterns.
      <Module test_agents_base.py>
        Unit tests for boring.agents.base module.
        
        测试原则：
        1. 测试决策结果：给定输入数据，应该得到什么输出
        2. 只 mock 边界：不 mock 自己的 domain logic
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestAgentRole>
          测试 AgentRole 枚举的行为
          <Function test_应包含所有定义的代理角色>
            规格：AgentRole 应包含 ARCHITECT, CODER, REVIEWER, ORCHESTRATOR
        <Class TestSharedResource>
          测试 SharedResource 数据类的行为
          <Function test_当创建新资源时_版本号应为1>
            规格：创建新资源 → version 应该是 1
          <Function test_当转换为字典时_应包含所有字段>
            规格：to_dict() → 应返回包含所有字段的字典
          <Function test_当从字典创建时_应正确还原所有字段>
            规格：from_dict(dict) → 应创建包含相同数据的 SharedResource
          <Function test_当字典中没有role时_应设置为None>
            规格：from_dict(dict without role) → last_updated_by 应该是 None
        <Class TestAgentMessage>
          测试 AgentMessage 数据类的行为
          <Function test_当创建消息时_应保存所有字段>
            规格：创建 AgentMessage → 应保存 sender, receiver, action, summary
          <Function test_当创建带artifacts的消息时_应保存artifacts>
            规格：创建带 artifacts 的消息 → artifacts 应该被保存
          <Function test_当消息需要审批时_应设置审批标志和原因>
            规格：requires_approval=True → 应设置审批标志和原因
        <Class TestAgentContext>
          测试 AgentContext 类的行为
          <Function test_当创建context时_应初始化所有默认值>
            规格：创建 AgentContext → 应设置 project_root, task_description, current_phase="planning" 
          <Function test_当获取不存在的资源时_应返回None>
            规格：get_resource("nonexistent") → 应返回 None
          <Function test_当设置新资源时_应能获取该资源>
            规格：set_resource("test", "data") → get_resource("test") 应返回 "data" 
          <Function test_当更新已存在的资源时_版本号应递增>
            规格：更新已存在的资源 → version 应递增，last_updated_by 应更新
          <Function test_当添加消息时_应保存到消息历史>
            规格：add_message(msg) → messages 列表应包含该消息
          <Function test_当获取最新消息时_应返回最后添加的消息>
            规格：添加多条消息后 → get_latest_message_from(role) 应返回最后一条
          <Function test_当没有消息时_应返回None>
            规格：get_latest_message_from(role) 当没有消息时 → 应返回 None
          <Function test_当获取当前计划时_应返回implementation_plan资源>
            规格：get_current_plan() → 应返回 "implementation_plan" 资源的内容
          <Function test_当获取修改的文件列表时_应返回modified_files资源>
            规格：get_modified_files() → 应返回 "modified_files" 资源的内容
        <Class TestAgent>
          测试 Agent 基类的行为
          <Function test_Agent应该是抽象基类>
            规格：Agent 应该继承自 ABC，不能直接实例化
          <Function test_当创建具体Agent实现时_應保存role和llm_client>
            规格：创建 Agent 子类实例 → 应保存 role 和 llm_client
      <Module test_agents_reviewer.py>
        Unit tests for boring.agents.reviewer module.
        <Class TestReviewerAgent>
          Tests for ReviewerAgent class.
          <Function test_init>
            Test initialization.
          <Function test_system_prompt>
            Test system prompt.
          <Coroutine test_execute_no_code_output>
            Test execution when no code output.
          <Coroutine test_execute_success_pass>
            Test successful review with PASS verdict.
          <Coroutine test_execute_needs_work>
            Test review with NEEDS_WORK verdict.
          <Coroutine test_execute_generation_fails>
            Test execution when generation fails.
        <Class TestParallelReviewOrchestrator>
          Tests for ParallelReviewOrchestrator class.
          <Function test_init>
            Test initialization.
          <Coroutine test_review_parallel_all_aspects>
            Test parallel review with all aspects.
          <Coroutine test_review_parallel_specific_aspects>
            Test parallel review with specific aspects.
          <Coroutine test_review_parallel_with_exception>
            Test parallel review when exception occurs.
          <Coroutine test_review_parallel_reject_verdict>
            Test parallel review with REJECT verdict.
          <Coroutine test_review_aspect_success>
            Test reviewing a specific aspect.
          <Coroutine test_review_aspect_no_json>
            Test reviewing when response has no JSON.
          <Coroutine test_review_aspect_exception>
            Test reviewing when exception occurs.
      <Module test_background_agent.py>
        <Function test_submit_task>
          Test submitting a task.
        <Function test_task_execution>
          Test task runs and returns result.
        <Function test_task_failure>
          Test task failure handling.
        <Function test_list_tasks>
          Test listing tasks.
      <Module test_brain_manager.py>
        Unit tests for boring.brain_manager module.
        <Class TestBrainManager>
          Tests for BrainManager class.
          <Function test_init>
            Test initialization.
          <Function test_init_with_log_dir>
            Test initialization with custom log dir.
          <Function test_ensure_structure>
            Test _ensure_structure creates directories.
          <Function test_load_patterns_empty>
            Test loading patterns when file doesn't exist.
          <Function test_load_patterns_existing>
            Test loading existing patterns.
          <Function test_load_patterns_invalid_json>
            Test loading patterns with invalid JSON.
          <Function test_save_patterns>
            Test saving patterns.
          <Function test_learn_from_memory>
            Test learning from memory.
          <Function test_get_relevant_patterns>
            Test getting relevant patterns.
          <Function test_add_pattern>
            Test adding a pattern.
          <Function test_create_rubric>
            Test creating a rubric.
      <Module test_circuit.py>
        Tests for circuit breaker module.
        <Class TestCircuitState>
          Tests for CircuitState enum.
          <Function test_circuit_state_values>
            Test that circuit state values exist.
        <Class TestLoopInfo>
          Tests for LoopInfo dataclass.
          <Function test_loop_info_creation>
            Test creating a LoopInfo.
        <Class TestInitCircuitBreaker>
          Tests for init_circuit_breaker function.
          <Function test_init_creates_state_file>
            Test that init creates state file.
          <Function test_init_sets_closed_state>
            Test that init sets CLOSED state.
        <Class TestGetCircuitState>
          Tests for get_circuit_state function.
          <Function test_get_circuit_state_returns_dict>
            Test that get_circuit_state returns a dict.
        <Class TestRecordLoopResult>
          Tests for record_loop_result function.
          <Function test_record_success>
            Test recording a successful loop.
          <Function test_record_failure>
            Test recording a failed loop.
        <Class TestShouldHaltExecution>
          Tests for should_halt_execution function.
          <Function test_should_not_halt_initially>
            Test that execution should not halt initially.
        <Class TestResetCircuitBreaker>
          Tests for reset_circuit_breaker function.
          <Function test_reset_sets_closed_state>
            Test that reset sets CLOSED state.
      <Module test_cli_client.py>
        <Class TestGeminiCLIAdapter>
          <Function test_init_success>
          <Function test_init_failure>
          <Function test_generate_success>
          <Function test_generate_auth_error>
          <Function test_generate_timeout>
          <Function test_execute_cli_json_success>
          <Function test_execute_cli_json_invalid>
          <Function test_create_cli_adapter_factory>
        <Class TestCLIUtilities>
          <Function test_check_cli_available>
          <Function test_check_cli_authenticated_success>
          <Function test_check_cli_authenticated_failure>
      <Module test_config.py>
        Tests for config module.
        <Class TestSettings>
          Tests for Settings configuration.
          <Function test_settings_has_project_root>
            Test that settings has PROJECT_ROOT.
          <Function test_settings_has_log_dir>
            Test that settings has LOG_DIR.
          <Function test_settings_has_timeout>
            Test that settings has TIMEOUT_MINUTES.
          <Function test_settings_has_max_loops>
            Test that settings has MAX_LOOPS.
          <Function test_settings_has_default_model>
            Test that settings has DEFAULT_MODEL.
        <Class TestSettingsClass>
          Tests for Settings class.
          <Function test_settings_class_exists>
            Test that Settings class exists.
          <Function test_project_root_is_path>
            Test that PROJECT_ROOT is a Path.
        <Class TestSupportedModels>
          Tests for SUPPORTED_MODELS.
          <Function test_supported_models_is_list>
            Test that SUPPORTED_MODELS is a list.
          <Function test_supported_models_contains_strings>
            Test that SUPPORTED_MODELS contains strings.
        <Class TestInitDirectories>
          Tests for init_directories function.
          <Function test_init_directories_exists>
            Test that init_directories function exists.
      <Module test_context_sync.py>
        <Function test_save_load_context>
          Test saving and loading context.
        <Function test_list_contexts>
          Test listing contexts.
        <Function test_user_profile_manager>
          Test user profile persistence.
      <Module test_dashboard.py>
        <Class TestDashboard>
          <Function test_load_json_success>
          <Function test_load_json_file_not_found>
          <Function test_load_json_decode_error>
          <Function test_main_layout>
            Test main dashboard layout generation.
          <Function test_main_no_data>
            Test dashboard handles missing data gracefully.
          <Function test_main_brain_explorer>
            Test Brain Explorer tab logic.
      <Module test_debugger.py>
        <Class TestBoringDebugger>
          <Function test_init>
          <Function test_run_with_healing_success>
          <Function test_run_with_healing_disabled>
          <Function test_run_with_healing_no_fix>
          <Function test_run_with_healing_apply_fix>
          <Function test_find_relevant_frame>
          <Function test_apply_fix_no_match>
      <Module test_dependencies.py>
        Tests for DependencyManager.
        <Class TestDependencyManager>
          <Function test_check_chroma_success>
          <Function test_check_chroma_failure>
          <Function test_require_chroma_raises>
          <Function test_check_gui>
          <Function test_caching>
            Test that results are cached.
      <Module test_diff_patcher.py>
        Tests for diff_patcher module (V4.0 Diff/Patch functionality)
        <Class TestExtractSearchReplaceBlocks>
          Tests for parsing SEARCH_REPLACE blocks from output.
          <Function test_extract_simple_block>
            Test extracting a simple search/replace block.
          <Function test_extract_block_with_file_path>
            Test extracting block with file path header.
          <Function test_extract_multiple_blocks>
            Test extracting multiple search/replace blocks.
          <Function test_extract_no_blocks>
            Test when no search/replace blocks are present.
        <Class TestApplySearchReplace>
          Tests for applying search/replace to files.
          <Function test_apply_simple_replace>
            Test applying a simple search/replace.
          <Function test_apply_replace_not_found>
            Test when search text is not found.
          <Function test_apply_replace_file_not_found>
            Test when file doesn't exist.
          <Function test_apply_replace_only_first_occurrence>
            Test that only the first occurrence is replaced.
        <Class TestApplySearchReplaceBlocks>
          Tests for applying multiple search/replace operations.
          <Function test_apply_multiple_blocks>
            Test applying multiple search/replace blocks.
      <Module test_error_translator.py>
        <Function test_translator_initialization>
        <Function test_translate_module_not_found>
        <Function test_translate_syntax_error>
        <Function test_translate_unknown_error>
      <Module test_evaluation_advanced.py>
        Unit tests for boring.mcp.tools.evaluation - Advanced Evaluation Tools.
        
        Tests for:
        - boring_evaluation_metrics
        - boring_bias_report
        - boring_generate_rubric
        <Class TestBoringEvaluationMetrics>
          Tests for boring_evaluation_metrics tool.
          <Function test_rate_limited>
            Test rate limiting.
          <Function test_no_project>
            Test when no project found.
          <Function test_no_memory_dir>
            Test when no evaluation history exists.
          <Function test_success_with_memory>
            Test successful metrics report.
          <Function test_handles_exception>
            Test error handling.
        <Class TestBoringBiasReport>
          Tests for boring_bias_report tool.
          <Function test_rate_limited>
            Test rate limiting.
          <Function test_no_project>
            Test when no project found.
          <Function test_success>
            Test successful bias report.
          <Function test_custom_days>
            Test custom days parameter.
          <Function test_handles_exception>
            Test error handling.
        <Class TestBoringGenerateRubric>
          Tests for boring_generate_rubric tool.
          <Function test_rate_limited>
            Test rate limiting.
          <Function test_default_criteria_code_quality>
            Test default criteria for code_quality domain.
          <Function test_custom_criteria>
            Test custom criteria parameter.
          <Function test_security_domain>
            Test security domain default criteria.
          <Function test_strictness_levels>
            Test different strictness levels.
          <Function test_output_format>
            Test output contains expected sections.
          <Function test_handles_exception>
            Test error handling.
      <Module test_exceptions.py>
        Tests for exceptions module.
        <Class TestBoringError>
          Tests for BoringError base class.
          <Function test_boring_error_exists>
            Test that BoringError exists.
          <Function test_boring_error_message>
            Test BoringError with message.
          <Function test_boring_error_with_details>
            Test BoringError with details.
        <Class TestAPIErrors>
          Tests for API error classes.
          <Function test_api_error_exists>
            Test that APIError exists.
          <Function test_rate_limit_error>
            Test RateLimitError.
          <Function test_authentication_error>
            Test AuthenticationError.
        <Class TestFileErrors>
          Tests for file error classes.
          <Function test_file_error_exists>
            Test that FileError exists.
          <Function test_path_security_error>
            Test PathSecurityError.
        <Class TestVerificationErrors>
          Tests for verification error classes.
          <Function test_verification_error_exists>
            Test that VerificationError exists.
          <Function test_lint_error>
            Test LintError.
        <Class TestLoopErrors>
          Tests for loop error classes.
          <Function test_loop_error_exists>
            Test that LoopError exists.
          <Function test_circuit_breaker_open_error>
            Test CircuitBreakerOpenError.
        <Class TestConfigurationErrors>
          Tests for configuration error classes.
          <Function test_configuration_error>
            Test ConfigurationError.
          <Function test_dependency_error>
            Test DependencyError.
        <Class TestExceptionHierarchy>
          Tests for exception hierarchy.
          <Function test_api_error_inherits_from_boring_error>
            Test that APIError inherits from BoringError.
          <Function test_file_error_inherits_from_boring_error>
            Test that FileError inherits from BoringError.
          <Function test_verification_error_inherits_from_boring_error>
            Test that VerificationError inherits from BoringError.
      <Module test_extensions.py>
        Unit tests for boring.extensions module.
        
        测试原则：
        1. 测试决策结果：给定扩展名称，应该返回什么状态
        2. 只 mock 边界：subprocess（外部命令）、shutil.which（系统命令查找）
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestExtensionsManager>
          测试 ExtensionsManager 类的行为
          <Function test_当创建manager时_应设置项目根和配置文件路径>
            规格：创建 ExtensionsManager(project_root) → 应设置 project_root 和 extensions_config_file
          <Function test_当未指定项目根时_应使用settings中的默认值>
            规格：创建 ExtensionsManager() → 应使用 settings.PROJECT_ROOT
          <Function test_当系统中有gemini命令时_应返回True>
            规格：shutil.which("gemini") 返回路径 → is_gemini_available() 应返回 True
          <Function test_当系统中没有gemini命令时_应返回False>
            规格：shutil.which("gemini") 返回 None → is_gemini_available() 应返回 False
          <Function test_当gemini可用且命令成功时_应返回已安装的扩展列表>
            规格：is_gemini_available=True, subprocess 成功 → 应返回扩展名称列表
          <Function test_当gemini不可用时_应返回空列表>
            规格：is_gemini_available=False → get_installed_extensions() 应返回空列表
          <Function test_当命令执行失败时_应返回空列表>
            规格：subprocess.run 抛出异常 → get_installed_extensions() 应返回空列表
          <Function test_当gemini不可用时_安装扩展应返回失败>
            规格：is_gemini_available=False → install_extension() 应返回 (False, "not found")
          <Function test_当扩展已安装时_应返回已安装状态>
            规格：扩展已在已安装列表中 → install_extension() 应返回 (True, "Already installed")
          <Function test_当扩展未安装且命令成功时_应安装成功>
            规格：扩展未安装，subprocess 成功 → install_extension() 应返回 (True, "Successfully installed")
          <Function test_install_extension_custom_command>
            Test installing extension with custom command.
          <Function test_当命令超时时_安装扩展应返回失败>
            规格：subprocess.run 超时 → install_extension() 应返回 (False, "timed out")
          <Function test_当安装所有推荐扩展时_应返回每个扩展的安装结果>
            规格：install_recommended_extensions() → 应返回所有推荐扩展的安装结果字典
          <Function test_setup_auto_extensions_with_context7>
            Test setting up auto extensions when context7 is installed.
          <Function test_setup_auto_extensions_none_installed>
            Test setting up auto extensions when none installed.
          <Function test_当有已安装扩展时_增强提示应包含扩展指令>
            规格：get_installed_extensions() 返回扩展列表 → enhance_prompt_with_extensions() 应添加扩展指令
          <Function test_当没有已安装扩展时_增强提示应返回原提示>
            规格：get_installed_extensions() 返回空列表 → enhance_prompt_with_extensions() 应返回原提示
          <Function test_当criticalthink已安装时_应返回命令字符串>
            规格：slash-criticalthink 在已安装列表中 → get_criticalthink_command() 应返回 "/criticalthink" 
          <Function test_当criticalthink未安装时_应返回None>
            规格：slash-criticalthink 不在已安装列表中 → get_criticalthink_command() 应返回 None
          <Function test_create_extensions_report>
            Test creating extensions report.
          <Function test_register_boring_mcp_success>
            Test registering Boring MCP successfully.
          <Function test_register_boring_mcp_not_available>
            Test registering when Gemini CLI not available.
          <Function test_register_boring_mcp_failure>
            Test registering when command fails.
        <Class TestModuleFunctions>
          测试模块级函数的行为
          <Function test_当设置项目扩展时_应安装所有推荐扩展>
            规格：setup_project_extensions(project_root) → 应调用 install_recommended_extensions()
          <Function test_当gemini不可用时_设置项目扩展应显示警告>
            规格：is_gemini_available=False → setup_project_extensions() 应显示警告
          <Function test_当创建criticalthink命令文件时_应生成toml配置文件>
            规格：create_criticalthink_command(project_root) → 应创建 criticalthink.toml 文件
          <Function test_当创建speckit命令文件时_应生成包含plan的toml配置文件>
            规格：create_speckit_command(project_root) → 应创建包含 speckit 和 plan 的 toml 文件
      <Module test_file_patcher.py>
        Tests for file_patcher module.
        <Class TestExtractFileBlocks>
          Tests for extract_file_blocks function.
          <Function test_extract_file_blocks_markdown_format>
            Test extracting file blocks from markdown format.
          <Function test_extract_file_blocks_xml_format>
            Test extracting file blocks from XML format.
          <Function test_extract_file_blocks_empty_content>
            Test with empty content.
          <Function test_extract_file_blocks_no_blocks>
            Test with content that has no file blocks.
        <Class TestApplyPatches>
          Tests for apply_patches function.
          <Function test_apply_patches_creates_file>
            Test that apply_patches creates files.
          <Function test_apply_patches_to_existing_file>
            Test patching existing file.
          <Function test_apply_patches_creates_subdirectories>
            Test that subdirectories are created.
        <Class TestPathTraversalProtection>
          Tests for path traversal protection.
          <Function test_blocks_path_traversal>
            Test that path traversal is blocked.
          <Function test_blocks_absolute_path>
            Test that absolute paths are blocked or normalized.
        <Class TestFileExtensionFiltering>
          Tests for file extension filtering.
          <Function test_blocks_executable_extensions>
            Test that dangerous extensions are blocked.
      <Module test_function_calling.py>
        Tests for Function Calling in gemini_client module (V5.0)
        <Class TestBoringTools>
          Tests for the get_boring_tools() function.
          <Function test_tools_structure>
            Test that get_boring_tools returns valid structure.
          <Function test_tools_have_function_declarations>
            Test that tools have function declarations.
          <Function test_write_file_tool_exists>
            Test write_file tool exists in declarations.
          <Function test_search_replace_tool_exists>
            Test search_replace tool exists in declarations.
          <Function test_report_status_tool_exists>
            Test report_status tool exists in declarations.
        <Class TestProcessFunctionCalls>
          Tests for processing function calls.
          <Function test_process_write_file>
            Test processing write_file function call.
          <Function test_process_search_replace>
            Test processing search_replace function call.
          <Function test_process_report_status>
            Test processing report_status function call.
          <Function test_security_check_path_traversal>
            Test that path traversal is blocked.
      <Module test_gemini_client.py>
        Tests for gemini_client module.
        <Class TestGetBoringTools>
          Tests for get_boring_tools function.
          <Function test_get_boring_tools_returns_list>
            Test that get_boring_tools returns a list of tool definitions.
        <Class TestGeminiClientInit>
          Tests for GeminiClient initialization.
          <Function test_init_with_api_key>
            Test initialization with explicit API key.
          <Function test_init_sets_model_name>
            Test that model name is set correctly.
        <Class TestGeminiClientGenerate>
          Tests for GeminiClient.generate method.
          <Function test_generate_success>
            Test successful generation.
          <Function test_generate_handles_exception>
            Test that generate handles exceptions gracefully.
        <Class TestCreateGeminiClient>
          Tests for create_gemini_client factory function.
          <Function test_create_gemini_client_no_key_returns_none>
            Test factory function with no API key and no CLI fallback.
      <Module test_health.py>
        Tests for health check module.
        <Class TestCheckApiKey>
          Tests for API key check.
          <Function test_api_key_not_set>
            Test when API key is not set.
          <Function test_api_key_valid_format>
            Test when API key has valid format.
          <Function test_api_key_invalid_format>
            Test when API key has invalid format.
        <Class TestCheckPythonVersion>
          Tests for Python version check.
          <Function test_python_version_sufficient>
            Test that current Python version is sufficient.
        <Class TestCheckDependencies>
          Tests for dependency checks.
          <Function test_required_dependencies_installed>
            Test that required dependencies are installed.
        <Class TestCheckPromptFile>
          Tests for PROMPT.md check.
          <Function test_prompt_file_missing>
            Test when PROMPT.md is missing.
          <Function test_prompt_file_exists>
            Test when PROMPT.md exists.
          <Function test_prompt_file_too_short>
            Test when PROMPT.md is too short.
        <Class TestCheckGitRepo>
          Tests for Git repository check.
          <Function test_not_git_repo>
            Test when not in a Git repository.
        <Class TestRunHealthCheck>
          Tests for full health check.
          <Function test_run_health_check_returns_report>
            Test that run_health_check returns a report.
          <Function test_health_report_counts>
            Test health report counting.
      <Module test_hooks.py>
        Unit tests for boring.hooks module.
        
        测试原则：
        1. 测试决策结果：给定 hook 名称，应该安装/卸载什么
        2. 只 mock 边界：文件系统操作（Path.exists, Path.write_text）
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestHooksManager>
          测试 HooksManager 类的行为
          <Function test_当创建manager时_应设置项目根和git目录路径>
            规格：创建 HooksManager(project_root) → 应设置 project_root, git_dir, hooks_dir
          <Function test_当未指定项目根时_应使用当前工作目录>
            规格：创建 HooksManager() → 应使用 Path.cwd()
          <Function test_当存在git目录时_应返回True>
            规格：.git 目录存在 → is_git_repo() 应返回 True
          <Function test_当不存在git目录时_应返回False>
            规格：.git 目录不存在 → is_git_repo() 应返回 False
          <Function test_当在git仓库中安装hook时_应创建hook文件>
            规格：is_git_repo()=True → install_hook() 应创建 hook 文件并返回成功
          <Function test_当不在git仓库中时_安装hook应返回失败>
            规格：is_git_repo()=False → install_hook() 应返回失败
          <Function test_当hook已存在时_安装前应备份原文件>
            规格：hook 文件已存在 → install_hook() 应备份原文件后安装新 hook
          <Function test_当在Unix系统上安装hook时_应设置可执行权限>
            规格：在 Unix 系统上 → install_hook() 应调用 chmod 设置可执行权限
          <Function test_当安装所有hooks时_应创建pre_commit和pre_push文件>
            规格：install_all() → 应安装所有定义的 hooks
          <Function test_当不在git仓库中时_安装所有hooks应返回失败>
            规格：is_git_repo()=False → install_all() 应返回失败
          <Function test_当卸载已安装的hook时_应删除hook文件>
            规格：hook 已安装 → uninstall_hook() 应删除文件并返回成功
          <Function test_当hook不存在时_卸载应返回失败>
            规格：hook 文件不存在 → uninstall_hook() 应返回失败
          <Function test_当卸载有备份的hook时_应恢复备份文件>
            规格：hook 有备份文件 → uninstall_hook() 应恢复备份并删除 hook
          <Function test_当卸载所有hooks时_应删除所有hook文件>
            规格：uninstall_all() → 应删除所有已安装的 hook 文件
          <Function test_当在git仓库中获取状态时_应返回hooks安装状态>
            规格：is_git_repo()=True, hook 已安装 → status() 应返回安装状态
          <Function test_当不在git仓库中时_状态应显示is_git_repo为False>
            规格：is_git_repo()=False → status() 应返回 is_git_repo=False
          <Function test_当hook未安装时_状态应显示installed为False>
            规格：hook 文件不存在 → status() 应返回 installed=False
          <Function test_当hook不是Boring_hook时_状态应显示is_boring_hook为False>
            规格：hook 文件存在但不包含 Boring 标识 → status() 应返回 is_boring_hook=False
      <Module test_intelligence.py>
        Tests for Boring Intelligence Module V10.22
        
        Tests for:
        - IntelligentRanker
        - PredictiveAnalyzer
        - ContextOptimizer / SmartContextBuilder
        - AdaptiveCache
        <Class TestIntelligentRanker>
          Tests for IntelligentRanker.
          <Function test_ranker_initialization>
            Test ranker can be initialized.
          <Function test_record_selection>
            Test recording user selections.
          <Function test_record_skip>
            Test recording skipped results.
          <Function test_boost_calculation>
            Test boost increases with selections.
          <Function test_get_top_chunks>
            Test getting top chunks by selection count.
        <Class TestPredictiveAnalyzer>
          Tests for PredictiveAnalyzer.
          <Function test_analyzer_initialization>
            Test analyzer can be initialized.
          <Function test_learn_error_correlation>
            Test learning error correlations.
          <Function test_file_pattern_extraction>
            Test file pattern extraction.
          <Function test_prevention_tips>
            Test prevention tips.
          <Function test_health_score>
            Test health score calculation.
        <Class TestContextOptimizer>
          Tests for ContextOptimizer and SmartContextBuilder.
          <Function test_optimizer_initialization>
            Test optimizer can be initialized.
          <Function test_add_section>
            Test adding sections.
          <Function test_deduplication>
            Test duplicate removal.
          <Function test_compression>
            Test content compression.
          <Function test_smart_builder>
            Test SmartContextBuilder fluent API.
          <Function test_token_limit_enforcement>
            Test that token limit is enforced.
        <Class TestAdaptiveCache>
          Tests for AdaptiveCache.
          <Function test_cache_initialization>
            Test cache can be initialized.
          <Function test_set_and_get>
            Test basic set/get operations.
          <Function test_cache_miss>
            Test cache miss returns default.
          <Function test_expiration>
            Test TTL expiration.
          <Function test_eviction>
            Test LRU eviction when cache is full.
          <Function test_cached_decorator>
            Test @cached decorator.
          <Function test_stats_tracking>
            Test cache statistics.
          <Function test_clear>
            Test cache clearing.
        <Class TestIntegration>
          Integration tests for intelligence module with core modules.
          <Function test_rag_with_ranker>
            Test RAG retriever uses intelligent ranker.
          <Function test_storage_predictions>
            Test storage has prediction methods.
      <Module test_interactive.py>
        Unit tests for boring.interactive module.
        <Class TestInteractiveSession>
          Tests for InteractiveSession class.
          <Function test_init>
            Test initialization.
          <Function test_init_defaults>
            Test initialization with defaults.
          <Function test_show_header>
            Test showing header.
          <Function test_prompt_action>
            Test prompting for action.
          <Function test_confirm_resume>
            Test confirming resume.
          <Function test_confirm_abort>
            Test confirming abort.
          <Function test_edit_prompt>
            Test editing prompt.
          <Function test_run_command>
            Test running command.
          <Function test_view_errors>
            Test viewing errors.
          <Function test_view_logs>
            Test viewing logs.
          <Function test_reset_circuit>
            Test resetting circuit breaker.
      <Module test_judge_core.py>
        Unit tests for boring.judge.core module.
        
        测试原则：
        1. 测试决策结果：给定代码，应该返回什么评分
        2. 只 mock 边界：LLM provider（外部 API）
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestLLMJudge>
          测试 LLMJudge 类的行为
          <Function test_当创建judge时_应保存provider>
            规格：创建 LLMJudge(provider) → 应保存 provider，tracker 为 None
          <Function test_当创建judge时指定tracker_应保存tracker>
            规格：创建 LLMJudge(provider, tracker) → 应保存 tracker
          <Function test_当评分代码成功时_应返回评分和推理>
            规格：provider.chat() 返回有效 JSON → grade_code() 应返回包含 score 和 reasoning 的字典
          <Function test_当使用交互模式时_应返回待审核状态>
            规格：interactive=True → grade_code() 应返回 pending_manual_review 状态
          <Function test_当JSON解析失败时_应返回0分和错误信息>
            规格：extract_json() 返回 None → grade_code() 应返回 score=0 和错误信息
          <Function test_当API调用异常时_应返回0分和错误信息>
            规格：provider.chat() 抛出异常 → grade_code() 应返回 score=0 和错误信息
          <Function test_当有tracker时_评分应记录到tracker>
            规格：tracker 存在 → grade_code() 应调用 tracker.record()
          <Function test_当比较两个计划且结果一致时_应返回获胜者和平均置信度>
            规格：两次比较都返回相同获胜者 → compare_plans() 应返回该获胜者和平均置信度
          <Function test_当比较两个计划且结果不一致时_应返回TIE>
            规格：两次比较返回不同获胜者 → compare_plans() 应返回 TIE
          <Function test_当使用交互模式比较计划时_应返回待审核状态>
            规格：interactive=True → compare_plans() 应返回 pending_manual_review 状态
          <Function test_当解析失败时_比较计划应返回TIE>
            规格：extract_json() 返回 None → compare_plans() 应返回 TIE 和错误
          <Function test_当API异常时_比较计划应返回TIE>
            规格：provider.chat() 抛出异常 → compare_plans() 应返回 TIE 和错误
          <Function test_当比较两个代码且结果一致时_应返回获胜者和平均置信度>
            规格：两次比较都返回相同获胜者 → compare_code() 应返回该获胜者和平均置信度
          <Function test_当比较两个代码且结果不一致时_应返回TIE>
            规格：两次比较返回不同获胜者 → compare_code() 应返回 TIE
          <Function test_compare_code_interactive>
            Test interactive code comparison.
          <Function test_compare_code_parse_failure>
            Test code comparison when parsing fails.
          <Function test_compare_code_exception>
            Test code comparison when exception occurs.
          <Function test_extract_json_deprecated>
            Test deprecated _extract_json method.
          <Function test_build_grade_prompt_compatibility>
            Test compatibility wrapper for build_grade_prompt.
      <Module test_llm_claude_adapter.py>
        Unit tests for boring.llm.claude_adapter module.
        
        测试原则：
        1. 测试决策结果：给定 prompt，应该返回什么响应
        2. 只 mock 边界：subprocess（外部 CLI 命令）、shutil.which（系统命令查找）
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestClaudeCLIAdapter>
          测试 ClaudeCLIAdapter 类的行为
          <Function test_当CLI可用时_应设置is_available为True>
            规格：shutil.which() 返回路径 → is_available 应为 True
          <Function test_当CLI不可用时_应设置is_available为False>
            规格：shutil.which() 返回 None → is_available 应为 False
          <Function test_model_name_property>
            Test model_name property.
          <Function test_当CLI不可用时_生成应返回失败>
            规格：is_available=False → generate(prompt) 应返回 (result, False)
          <Function test_当CLI不可用时_带工具的生成应返回失败>
            规格：is_available=False → generate_with_tools(prompt) 应返回 success=False
          <Function test_当CLI命令成功时_带工具的生成应返回响应>
            规格：subprocess.run() 返回 returncode=0 → generate_with_tools() 应返回成功和响应文本
          <Function test_当CLI命令失败时_带工具的生成应返回错误>
            规格：subprocess.run() 返回 returncode!=0 → generate_with_tools() 应返回失败和错误信息
          <Function test_parse_tool_calls_with_json>
            Test parsing tool calls from JSON.
          <Function test_parse_tool_calls_no_json>
            Test parsing when no JSON found.
      <Module test_llm_gemini.py>
        Unit tests for boring.llm.gemini module.
        
        测试原则：
        1. 测试决策结果：给定 prompt，应该返回什么响应
        2. 只 mock 边界：genai SDK（外部 API）、subprocess（CLI 命令）
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestGeminiProvider>
          测试 GeminiProvider 类的行为
          <Function test_当提供API密钥时_应使用SDK后端>
            规格：api_key 不为空 → 应使用 SDK 后端，backend="sdk" 
          <Function test_当未提供API密钥但CLI可用时_应使用CLI后端>
            规格：api_key=None, CLI 可用 → 应使用 CLI 后端，backend="cli" 
          <Function test_当未提供API密钥且CLI不可用时_应使用SDK后端但client为None>
            规格：api_key=None, CLI 不可用 → 应使用 SDK 后端但 client=None
          <Function test_model_name_property>
            Test model_name property.
          <Function test_is_available_sdk>
            Test is_available with SDK backend.
          <Function test_is_available_cli>
            Test is_available with CLI backend.
          <Function test_当使用CLI后端生成时_应返回CLI适配器的响应>
            规格：backend="cli" → generate(prompt) 应返回 CLI 适配器的响应
          <Function test_当使用SDK后端生成时_应返回SDK的响应>
            规格：backend="sdk" → generate(prompt) 应返回 SDK 的响应
          <Function test_当SDK未初始化时_生成应返回错误>
            规格：backend="sdk", client=None → generate(prompt) 应返回错误
          <Function test_当SDK抛出异常时_生成应返回错误>
            规格：SDK API 抛出异常 → generate(prompt) 应返回错误
          <Function test_当使用CLI后端时_chat方法应返回响应字符串>
            规格：backend="cli" → chat(prompt) 应返回字符串响应
      <Module test_llm_init.py>
        Unit tests for boring.llm.__init__ module.
        
        测试原则：
        1. 测试决策结果：给定 provider_name，应该返回对应的 provider
        2. 只 mock 边界：不 mock 自己的 domain logic
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestGetProvider>
          测试 get_provider 函数的行为：给定输入，应该返回什么 provider
          <Function test_当指定claude_code时_应返回ClaudeProvider>
            规格：provider_name="claude-code" → 返回 ClaudeCLIAdapter 实例
          <Function test_当指定ollama时_应返回OllamaProvider>
            规格：provider_name="ollama" → 返回 OllamaProvider 实例
          <Function test_当指定ollama但未指定model时_应使用默认模型llama3>
            规格：provider_name="ollama", model_name=None → 使用默认模型 "llama3" 
          <Function test_当未指定provider时_应返回GeminiProvider>
            规格：provider_name=None → 默认返回 GeminiProvider
          <Function test_当从settings读取provider时_应使用settings的值>
            规格：provider_name=None, settings.LLM_PROVIDER="ollama" → 返回 OllamaProvider
          <Function test_当指定model_name时_应传递给provider>
            规格：model_name="custom-model" → provider.model_name 应该是 "custom-model" 
        <Class TestModuleExports>
          测试模块导出的公共接口
          <Function test_应导出所有必需的公共接口>
            规格：__all__ 应包含所有公共 API
      <Module test_llm_openai_compat.py>
        Unit tests for boring.llm.openai_compat module.
        
        测试原则：
        1. 测试决策结果：给定 prompt，应该返回什么响应
        2. 只 mock 边界：requests（外部 HTTP API）
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestOpenAICompatProvider>
          Tests for OpenAICompatProvider class.
          <Function test_init>
            Test initialization.
          <Function test_model_name_property>
            Test model_name property.
          <Function test_provider_name_property>
            Test provider_name property.
          <Function test_base_url_property>
            Test base_url property.
          <Function test_当服务器可达时_应返回is_available为True>
            规格：requests.get() 返回 status_code=200 → is_available 应为 True
          <Function test_当服务器不可达时_应返回is_available为False>
            规格：requests.get() 抛出异常 → is_available 应为 False
          <Function test_当API返回成功时_生成应返回响应文本>
            规格：requests.post() 返回 status_code=200 → generate() 应返回成功和响应文本
          <Function test_当提供context时_生成应包含context在请求中>
            规格：generate(prompt, context="...") → 请求应包含 context
          <Function test_当API返回错误时_生成应返回失败>
            规格：requests.post() 返回 status_code!=200 → generate() 应返回失败
          <Function test_当网络异常时_生成应返回失败>
            规格：requests.post() 抛出异常 → generate() 应返回失败
          <Function test_generate_with_tools>
            Test generate_with_tools.
      <Module test_llm_provider.py>
        <Function test_ollama_provider_init>
        <Function test_ollama_is_available>
        <Function test_ollama_generate>
        <Function test_openai_compat_provider_init>
        <Function test_create_judge_provider_factory>
      <Module test_llm_sdk.py>
        Unit tests for boring.llm.sdk module.
        <Class TestGeminiClient>
          Tests for GeminiClient class.
          <Function test_init_with_api_key>
            Test initialization with API key.
          <Function test_init_without_api_key_cli_available>
            Test initialization without API key but CLI available.
          <Function test_init_genai_not_available>
            Test initialization when genai not available.
          <Function test_init_no_api_key_no_cli>
            Test initialization when no API key and no CLI.
          <Function test_generate_sdk_success>
            Test successful generation with SDK.
          <Function test_generate_cli_backend>
            Test generation with CLI backend.
          <Function test_generate_model_not_found_fallback>
            Test generation with model not found fallback.
          <Function test_generate_rate_limit_error>
            Test generation with rate limit error.
          <Function test_generate_timeout_error>
            Test generation with timeout error.
          <Function test_generate_empty_response>
            Test generation with empty response.
          <Function test_generate_with_retry_success>
            Test generate_with_retry with success.
          <Function test_generate_with_retry_rate_limit>
            Test generate_with_retry with rate limit retry.
          <Function test_generate_with_tools_success>
            Test generate_with_tools successfully.
          <Function test_generate_with_tools_cli_backend>
            Test generate_with_tools with CLI backend.
      <Module test_logger.py>
        Tests for logger module.
        <Class TestLogStatus>
          Tests for log_status function.
          <Function test_log_status_creates_log_file>
            Test that log_status can write to log file.
          <Function test_log_status_different_levels>
            Test log_status with different levels.
          <Function test_log_status_with_nonexistent_dir>
            Test log_status with non-existent directory.
        <Class TestConfigureLogging>
          Tests for logging configuration.
          <Function test_imports_succeed>
            Test that logger module imports successfully.
          <Function test_log_status_exists>
            Test that log_status function exists.
        <Class TestStructuredLogging>
          Tests for structured logging features.
          <Function test_logger_with_context>
            Test logging with context.
      <Module test_loop.py>
        Tests for loop.py - Testing individual methods without full initialization.
        
        Note: Full AgentLoop initialization requires GOOGLE_API_KEY.
        These tests focus on utility methods that can be tested in isolation.
        <Class TestLoopUtilityFunctions>
          Tests for loop utility functions that don't require full initialization.
          <Function test_plan_completion_detection_complete>
            Test that completed plan is detected correctly.
          <Function test_plan_completion_detection_incomplete>
            Test that incomplete plan is detected correctly.
          <Function test_plan_completion_no_file>
            Test handling when no fix plan file exists.
          <Function test_syntax_check_valid_python>
            Test syntax checking on valid Python file.
          <Function test_syntax_check_invalid_python>
            Test syntax checking on invalid Python file.
        <Class TestAgentLoopWithAPI>
          Tests that require actual API connection - skipped in CI.
          <Function test_init_default_values>
            Test AgentLoop initializes with defaults.
          <Function test_init_custom_model>
            Test AgentLoop with custom model.
        <Class TestLoopConfigDefaults>
          Tests for loop configuration defaults.
          <Function test_default_model_from_settings>
            Test that default model is read from settings.
          <Function test_project_root_exists>
            Test that project root is configured.
          <Function test_log_dir_exists>
            Test that log directory is configured.
      <Module test_loop_agent.py>
        Unit tests for boring.loop.agent module.
        <Class TestStatefulAgentLoop>
          Tests for StatefulAgentLoop class.
          <Function test_init>
            Test initialization.
          <Function test_init_cli_mode>
            Test initialization in CLI mode.
          <Function test_init_cli_not_available>
            Test initialization when CLI not available.
          <Function test_init_sdk_failed>
            Test initialization when SDK client creation fails.
          <Function test_init_subsystems>
            Test subsystem initialization.
          <Function test_init_storage_failure>
            Test initialization when storage creation fails.
      <Module test_loop_legacy.py>
        Unit tests for boring.loop.legacy module.
        <Class TestAgentLoop>
          Tests for AgentLoop class.
          <Function test_init_sdk_mode>
            Test initialization in SDK mode.
          <Function test_init_cli_mode>
            Test initialization in CLI mode.
          <Function test_init_cli_mode_not_found>
            Test initialization when CLI not found.
          <Function test_init_sdk_mode_failed>
            Test initialization when SDK client creation fails.
          <Function test_init_with_custom_files>
            Test initialization with custom prompt and context files.
          <Function test_init_verbose_mode>
            Test initialization with verbose mode.
          <Function test_run_circuit_breaker_open>
            Test run when circuit breaker is open.
          <Function test_run_circuit_breaker_resume>
            Test run when circuit breaker is open but user resumes.
          <Function test_generate_step_sdk>
            Test _generate_step in SDK mode.
          <Function test_generate_step_cli>
            Test _generate_step in CLI mode.
          <Function test_verify_project_syntax>
            Test _verify_project_syntax method.
          <Function test_full_syntax_check>
            Test _full_syntax_check method.
          <Function test_self_correct>
            Test _self_correct method.
          <Function test_create_format_feedback>
            Test _create_format_feedback method.
          <Function test_save_loop_summary>
            Test _save_loop_summary method.
          <Function test_check_plan_completion>
            Test _check_plan_completion method.
      <Module test_loop_module.py>
        Tests for loop module (agent loop components).
        <Class TestLoopImports>
          Tests for loop module imports.
          <Function test_loop_module_imports>
            Test that loop module can be imported.
          <Function test_agent_imports>
            Test that agent module imports.
          <Function test_base_imports>
            Test that base module imports.
          <Function test_context_imports>
            Test that context module imports.
        <Class TestLoopContext>
          Tests for LoopContext.
          <Function test_loop_context_creation>
            Test creating a loop context with defaults.
          <Function test_loop_context_has_loop_count>
            Test loop context has loop_count.
          <Function test_loop_context_has_max_loops>
            Test loop context has max_loops.
          <Function test_loop_context_start_loop>
            Test start_loop method.
          <Function test_loop_context_increment_loop>
            Test increment_loop method.
          <Function test_loop_context_should_continue>
            Test should_continue method.
          <Function test_loop_context_mark_exit>
            Test mark_exit method.
        <Class TestBaseLoop>
          Tests for base loop class.
          <Function test_base_loop_exists>
            Test that base module has expected content.
        <Class TestAgentLoop>
          Tests for agent loop.
          <Function test_agent_loop_import>
            Test agent loop can be imported.
      <Module test_loop_states_patching.py>
        Unit tests for boring.loop.states.patching module.
        <Class TestPatchingState>
          Tests for PatchingState class.
          <Function test_name>
            Test state name.
          <Function test_on_enter>
            Test state entry.
          <Function test_handle_no_function_calls>
            Test handling when no function calls.
          <Function test_handle_write_file_success>
            Test handling write_file call successfully.
          <Function test_handle_search_replace_success>
            Test handling search_replace call successfully.
          <Function test_handle_report_status>
            Test handling report_status call.
          <Function test_handle_no_files_modified>
            Test handling when no files are modified.
          <Function test_next_state_success>
            Test next state on success.
          <Function test_next_state_failure>
            Test next state on failure.
          <Function test_get_files_to_modify>
            Test getting files to modify.
          <Function test_process_write_file>
            Test processing write_file call.
          <Function test_process_search_replace>
            Test processing search_replace call.
      <Module test_loop_states_recovery.py>
        Unit tests for boring.loop.states.recovery module.
        <Class TestRecoveryState>
          Tests for RecoveryState class.
          <Function test_name>
            Test state name.
          <Function test_on_enter>
            Test state entry.
          <Function test_handle_max_retries_exceeded>
            Test handling when max retries exceeded.
          <Function test_handle_can_retry>
            Test handling when can retry.
          <Function test_generate_recovery_prompt_format_error>
            Test generating recovery prompt for format error.
          <Function test_generate_recovery_prompt_verification_error>
            Test generating recovery prompt for verification error.
          <Function test_generate_recovery_prompt_patching_error>
            Test generating recovery prompt for patching error.
          <Function test_generate_recovery_prompt_generic_error>
            Test generating recovery prompt for generic error.
          <Function test_next_state_exit>
            Test next state on exit.
          <Function test_next_state_retry>
            Test next state on retry.
          <Function test_format_error_prompt>
            Test format error prompt generation.
          <Function test_verification_error_prompt>
            Test verification error prompt generation.
          <Function test_patching_error_prompt>
            Test patching error prompt generation.
          <Function test_inject_recovery_context>
            Test injecting recovery context.
          <Function test_record_metrics>
            Test recording metrics.
      <Module test_loop_states_thinking.py>
        Unit tests for boring.loop.states.thinking module.
        
        测试原则：
        1. 测决策结果：给定上下文，系统应该产生什么输出
        2. Mock 只放在边界：只 mock Gemini API、文件系统等外部依赖
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestThinkingStateName>
          测试 ThinkingState 的名称属性
          <Function test_应返回Thinking>
            规格：状态名称 → 应返回 'Thinking'
        <Class TestOnEnter>
          测试 on_enter 方法的行为
          <Function test_应记录状态进入日志>
            规格：进入状态 → 应记录日志并开始状态计时
        <Class TestBuildPrompt>
          测试 _build_prompt 方法的行为
          <Function test_当prompt文件存在时_应返回文件内容>
            规格：prompt 文件存在 → 应返回文件内容
          <Function test_当prompt文件不存在时_应返回提示消息>
            规格：prompt 文件不存在 → 应返回提示消息
        <Class TestBuildContext>
          测试 _build_context 方法的行为
          <Function test_当有memory时_应包含memory上下文>
            规格：有 memory → 应包含 memory 生成的上下文
          <Function test_当有task文件时_应包含任务内容>
            规格：有 task 文件 → 应包含任务内容
          <Function test_当有extensions时_应包含扩展上下文>
            规格：有 extensions → 应包含扩展设置的上下文
        <Class TestExecuteSDK>
          测试 _execute_sdk 方法的行为
          <Function test_当gemini_client未初始化时_应返回失败>
            规格：gemini_client 未初始化 → 应返回 FAILURE
          <Function test_当API调用成功时_应返回成功并存储结果>
            规格：API 调用成功 → 应返回 SUCCESS 并存储结果
          <Function test_当API调用失败时_应返回失败>
            规格：API 调用失败 → 应返回 FAILURE
        <Class TestExecuteCLI>
          测试 _execute_cli 方法的行为
          <Function test_当CLI调用成功时_应提取工具调用>
            规格：CLI 调用成功 → 应提取文件块和搜索替换块
        <Class TestNextState>
          测试 next_state 方法的行为
          <Function test_当结果为EXIT时_应返回None>
            规格：结果为 EXIT → 应返回 None（退出循环）
          <Function test_当结果为FAILURE时_应转到RecoveryState>
            规格：结果为 FAILURE → 应转到 RecoveryState
          <Function test_当有function_calls时_应转到PatchingState>
            规格：有 function_calls → 应转到 PatchingState
          <Function test_当无function_calls但有输出时_应转到RecoveryState>
            规格：无 function_calls 但有输出 → 应转到 RecoveryState
        <Class TestExecuteDelegated>
          测试 _execute_delegated 方法的行为
          <Function test_应生成委托消息并退出>
            规格：交互模式 → 应生成委托消息并返回 EXIT
      <Module test_loop_verifying.py>
        Unit tests for boring.loop.states.verifying module.
        <Class TestVerifyingState>
          Tests for VerifyingState class.
          <Function test_name>
            Test state name.
          <Function test_on_enter>
            Test state entry.
          <Function test_handle_no_verifier>
            Test handling when no verifier is configured.
          <Function test_handle_verification_passes>
            Test handling when verification passes.
          <Function test_handle_verification_fails>
            Test handling when verification fails.
          <Function test_handle_records_error_pattern>
            Test that error pattern is recorded to memory.
          <Function test_next_state_failure>
            Test next state when verification fails.
          <Function test_next_state_success_should_exit>
            Test next state when should exit.
          <Function test_next_state_success_plan_complete>
            Test next state when plan is complete.
          <Function test_next_state_success_continue>
            Test next state when continuing loop.
          <Function test_record_success>
            Test recording successful loop to memory.
          <Function test_record_success_no_memory>
            Test recording when no memory manager.
          <Function test_record_success_exception>
            Test recording when exception occurs.
          <Function test_check_plan_complete_no_file>
            Test checking plan when task file doesn't exist.
          <Function test_check_plan_complete_all_checked>
            Test checking plan when all items are checked.
          <Function test_check_plan_complete_has_unchecked>
            Test checking plan when unchecked items exist.
          <Function test_check_plan_complete_exception>
            Test checking plan when exception occurs.
          <Function test_record_metrics>
            Test recording metrics to storage.
          <Function test_record_metrics_no_storage>
            Test recording metrics when no storage.
          <Function test_record_metrics_exception>
            Test recording metrics when exception occurs.
      <Module test_main_cli.py>
        <Function test_hooks_uninstall_failure>
        <Function test_auto_fix_run_boring_exception>
        <Function test_start_command_api_backend>
        <Function test_start_command_cli_backend_privacy_mode>
        <Function test_start_command_invalid_backend>
        <Function test_start_cli_backend_coverage>
          Test boring start command with CLI backend (Coverage).
        <Function test_start_api_backend_coverage>
          Test boring start command with API backend (Coverage).
        <Function test_status_coverage>
          Test boring status command (Coverage).
        <Function test_verify_command_coverage>
          Test verify command (Coverage).
        <Function test_start_command_experimental_stateful>
        <Function test_start_command_with_custom_prompt>
        <Function test_start_command_exception_handling>
        <Function test_start_self_heal>
        <Function test_start_exception_self_heal>
        <Function test_dashboard_missing_deps>
          Test dashboard command when dependencies are missing.
        <Function test_auto_fix_target_not_found>
        <Function test_status_command>
        <Function test_circuit_commands>
        <Function test_setup_extensions>
        <Function test_memory_clear_exists>
        <Function test_memory_clear_not_exists>
        <Function test_health_check_healthy>
        <Function test_health_check_unhealthy>
        <Function test_version_command>
        <Function test_version_command_fallback>
        <Function test_workflow_list>
        <Function test_workflow_list_empty>
        <Function test_workflow_export_success>
        <Function test_workflow_export_failure>
        <Function test_workflow_publish_no_token>
        <Function test_workflow_publish_success>
        <Function test_workflow_publish_failure>
        <Function test_workflow_install_success>
        <Function test_workflow_install_failure>
        <Function test_evaluate_file_not_found>
        <Function test_evaluate_success_cli>
        <Function test_evaluate_api_missing_key>
        <Function test_evaluate_exception>
        <Function test_dashboard_success>
        <Function test_dashboard_subprocess_error>
        <Function test_auto_fix_success>
        <Function test_auto_fix_failure>
        <Function test_auto_fix_wrappers_logic>
        <Function test_hooks_install_success>
        <Function test_hooks_install_fail>
        <Function test_hooks_uninstall_success>
        <Function test_hooks_status_not_repo>
        <Function test_hooks_status_repo>
      <Module test_mcp_instance.py>
        Unit tests for boring.mcp.instance module.
        <Class TestMCPInstance>
          Tests for MCP instance module.
          <Function test_mcp_available>
            Test when FastMCP is available.
          <Function test_mcp_not_available>
            Test when FastMCP is not available.
          <Function test_mcp_available_flag>
            Test MCP_AVAILABLE flag.
          <Function test_fastmcp_import_success>
            Test successful FastMCP import.
      <Module test_mcp_interceptors.py>
        Unit tests for boring.mcp.interceptors module.
        <Class TestInterceptors>
          Tests for stdout interceptors.
          <Function test_bytes_interceptor_write_passthrough>
            Test BytesInterceptor with passthrough enabled.
          <Function test_bytes_interceptor_write_mcp_started>
            Test BytesInterceptor when MCP has started.
          <Function test_bytes_interceptor_write_jsonrpc>
            Test BytesInterceptor with JSON-RPC message.
          <Function test_bytes_interceptor_write_newline>
            Test BytesInterceptor with newline.
          <Function test_bytes_interceptor_write_memoryview>
            Test BytesInterceptor with memoryview.
          <Function test_stdout_interceptor_write_passthrough>
            Test StdoutInterceptor with passthrough enabled.
          <Function test_stdout_interceptor_write_mcp_started>
            Test StdoutInterceptor when MCP has started.
          <Function test_stdout_interceptor_write_jsonrpc>
            Test StdoutInterceptor with JSON-RPC message.
          <Function test_stdout_interceptor_write_newline>
            Test StdoutInterceptor with newline.
          <Function test_stdout_interceptor_write_empty>
            Test StdoutInterceptor with empty data.
          <Function test_stdout_interceptor_flush>
            Test StdoutInterceptor flush.
          <Function test_stdout_interceptor_getattr>
            Test StdoutInterceptor __getattr__.
      <Module test_mcp_server.py>
        Unit tests for Boring MCP Server.
        
        Tests the MCP tools and resources exposed by boring-mcp.
        <Class TestMCPServerImports>
          Test MCP server module imports.
          <Function test_mcp_module_imports>
            Test that mcp module can be imported.
          <Function test_mcp_availability_check>
            Test MCP_AVAILABLE flag exists.
        <Class TestSpecKitTools>
          Test SpecKit workflow tool implementations.
          <Function test_read_workflow_exists>
            Test workflow content can be read correctly.
          <Function test_list_workflows_returns_all>
            Test boring_list_workflows returns all workflows.
          <Function test_workflow_frontmatter_parsing>
            Test that workflow frontmatter is parsed correctly.
        <Class TestBoringIntegrationTools>
          Test Boring integration tools.
          <Function test_setup_extensions_structure>
            Test boring_setup_extensions returns correct structure.
          <Function test_gemini_not_available>
            Test behavior when Gemini CLI is not available.
        <Class TestMCPResources>
          Test MCP resource endpoints.
          <Function test_project_prompt_resource>
            Test boring://project/prompt resource.
          <Function test_workflows_list_resource>
            Test boring://workflows/list resource.
        <Class TestTaskResult>
          Test TaskResult dataclass.
          <Function test_task_result_creation>
            Test TaskResult can be created.
        <Class TestMCPConnectionStability>
          Test MCP connection stability and potential issues.
          <Function test_no_stdout_pollution_on_import>
            Test that importing mcp module doesn't write to stdout.
          <Function test_print_statements_use_stderr>
            Verify MCP modules exist (file-based tests removed after refactor).
          <Function test_workflow_result_json_serializable>
            Test that workflow execution results are JSON serializable.
          <Function test_error_result_json_serializable>
            Test that error results are JSON serializable.
          <Function test_workflows_directory_detection>
            Test _find_project_root logic finds project correctly.
          <Function test_missing_workflows_directory_handled>
            Test graceful handling when workflows directory doesn't exist.
          <Function test_special_characters_in_context>
            Test that special characters in context don't break JSON.
        <Class TestMCPToolReturnTypes>
          Test that all MCP tools return proper dict/str types.
          <Function test_health_check_returns_dict>
            Test boring_health_check return type structure.
          <Function test_status_returns_dict>
            Test boring_status return type structure.
          <Function test_verify_returns_dict>
            Test boring_verify return type structure.
          <Function test_speckit_tools_return_dict>
            Test SpecKit tools return dict with expected keys.
      <Module test_mcp_tools_advanced.py>
        Unit tests for boring.mcp.tools.advanced module.
        <Class TestAdvancedTools>
          Tests for advanced MCP tools.
          <Function test_boring_security_scan_full>
            Test boring_security_scan with full scan.
          <Function test_boring_security_scan_secrets>
            Test boring_security_scan with secrets scan.
          <Function test_boring_security_scan_vulnerabilities>
            Test boring_security_scan with vulnerabilities scan.
          <Function test_boring_security_scan_dependencies>
            Test boring_security_scan with dependencies scan.
          <Function test_boring_transaction_start>
            Test boring_transaction start action.
          <Function test_boring_transaction_commit>
            Test boring_transaction commit action.
          <Function test_boring_transaction_rollback>
            Test boring_transaction rollback action.
          <Function test_boring_transaction_status>
            Test boring_transaction status action.
          <Function test_boring_transaction_unknown_action>
            Test boring_transaction with unknown action.
          <Function test_boring_task_submit>
            Test boring_task submit action.
          <Function test_boring_task_submit_no_type>
            Test boring_task submit without task_type.
          <Function test_boring_task_status>
            Test boring_task status action.
          <Function test_boring_task_status_no_id>
            Test boring_task status without task_id.
          <Function test_boring_task_list>
            Test boring_task list action.
          <Function test_boring_task_unknown_action>
            Test boring_task with unknown action.
          <Function test_boring_context_save>
            Test boring_context save action.
          <Function test_boring_context_save_missing_params>
            Test boring_context save without required params.
          <Function test_boring_context_load>
            Test boring_context load action.
          <Function test_boring_context_load_no_id>
            Test boring_context load without context_id.
          <Function test_boring_context_list>
            Test boring_context list action.
          <Function test_boring_context_unknown_action>
            Test boring_context with unknown action.
          <Function test_boring_profile_get>
            Test boring_profile get action.
          <Function test_boring_profile_learn>
            Test boring_profile learn action.
          <Function test_boring_profile_learn_missing_params>
            Test boring_profile learn without required params.
          <Function test_boring_profile_unknown_action>
            Test boring_profile with unknown action.
          <Function test_register_advanced_tools>
            Test registering advanced tools.
      <Module test_mcp_tools_agents.py>
        Unit tests for boring.mcp.tools.agents module.
        <Class TestAgentTools>
          Tests for agent tools.
          <Function test_boring_multi_agent_not_execute>
            Test boring_multi_agent without execution.
          <Function test_boring_multi_agent_execute_blocked>
            Test boring_multi_agent execution blocked by shadow mode.
          <Function test_boring_multi_agent_execute_success>
            Test boring_multi_agent execution success.
          <Function test_boring_multi_agent_execute_exception>
            Test boring_multi_agent execution with exception.
      <Module test_mcp_tools_discovery.py>
        Unit tests for boring.mcp.tools.discovery module.
        
        测试原则：
        1. 测试决策结果：给定 category，应该返回什么内容
        2. 只 mock 边界：MCP server 是外部依赖，可以 mock
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestCapabilitiesResource>
          测试 capabilities 资源的行为
          <Function test_当请求capabilities时_应返回所有可用能力列表>
            规格：访问 boring://capabilities → 应返回包含所有能力类别的列表
          <Function test_当请求capabilities时_每个能力应包含描述和工具列表>
            规格：每个能力应显示描述、工具列表和文档链接
        <Class TestToolCategoryResource>
          测试工具类别资源的行为
          <Function test_当请求有效类别时_应返回该类别的详细信息>
            规格：category="verification" → 应返回验证工具的详细信息
          <Function test_当请求无效类别时_应返回错误信息和可用类别列表>
            规格：category="invalid" → 应返回错误，并列出所有可用类别
          <Function test_当请求不同类别时_应返回对应的工具列表>
            规格：不同 category → 应返回不同的工具列表
        <Class TestCapabilitiesDataStructure>
          测试 CAPABILITIES 数据结构
          <Function test_所有能力类别应包含必需字段>
            规格：每个能力类别必须有 description、tools、docs 字段
          <Function test_应包含所有主要能力类别>
            规格：CAPABILITIES 应包含所有定义的能力
        <Class TestRegisterDiscoveryResources>
          测试 register_discovery_resources 函数的行为
          <Function test_应注册capabilities资源>
            规格：注册资源 → 应调用 mcp.resource 注册 capabilities
          <Function test_应注册工具类别资源>
            规格：注册资源 → 应注册工具类别资源模板
          <Function test_当调用capabilities资源时_应返回所有能力>
            规格：调用 capabilities 资源 → 应返回格式化的能力列表
          <Function test_当调用工具类别资源时_有效类别应返回详细信息>
            规格：category="security" → 应返回安全工具的详细信息
          <Function test_当调用工具类别资源时_无效类别应返回错误>
            规格：category="nonexistent" → 应返回错误消息
      <Module test_mcp_tools_evaluation.py>
        Unit tests for boring.mcp.tools.evaluation module.
        <Class TestEvaluationTools>
          Tests for evaluation tools.
          <Function test_boring_evaluate_rate_limited>
            Test boring_evaluate when rate limited.
          <Function test_boring_evaluate_no_project>
            Test boring_evaluate when no project found.
          <Function test_boring_evaluate_direct_mode>
            Test boring_evaluate in DIRECT mode.
          <Function test_boring_evaluate_file_path>
            Test boring_evaluate with file path.
          <Function test_boring_evaluate_pairwise_mode>
            Test boring_evaluate in PAIRWISE mode.
          <Function test_boring_evaluate_pairwise_invalid>
            Test boring_evaluate PAIRWISE mode with invalid input.
          <Function test_boring_evaluate_interactive_mode>
            Test boring_evaluate in interactive mode.
      <Module test_mcp_tools_git.py>
        Unit tests for boring.mcp.tools.git module.
        <Class TestGitTools>
          Tests for Git tools.
          <Function test_boring_hooks_install_success>
            Test boring_hooks_install successfully.
          <Function test_boring_hooks_install_already_installed>
            Test boring_hooks_install when already installed.
          <Function test_boring_hooks_install_error>
            Test boring_hooks_install with error.
          <Function test_boring_hooks_install_exception>
            Test boring_hooks_install with exception.
          <Function test_boring_hooks_uninstall_success>
            Test boring_hooks_uninstall successfully.
          <Function test_boring_hooks_status>
            Test boring_hooks_status.
        <Class TestBoringCommit>
          测试 boring_commit 工具的行为
          <Function test_当有已完成任务时_应生成提交消息>
            规格：有已完成任务 → 应生成 Conventional Commits 格式的提交消息
          <Function test_当无已完成任务时_应返回无任务消息>
            规格：无已完成任务 → 应返回无任务提示
          <Function test_当任务文件不存在时_应返回未找到消息>
            规格：任务文件不存在 → 应返回未找到消息
          <Function test_当commit_type为auto时_应从任务内容推断类型>
            规格：commit_type="auto" → 应从任务内容推断提交类型
          <Function test_当指定scope时_应在提交消息中包含scope>
            规格：指定 scope → 应在提交消息中包含 scope
        <Class TestBoringVisualize>
          测试 boring_visualize 工具的行为
          <Function test_当有Python文件时_应生成模块依赖图>
            规格：有 Python 文件 → 应生成 Mermaid 格式的依赖图
          <Function test_当output_format为json时_应返回JSON格式数据>
            规格：output_format="json" → 应返回 JSON 格式的模块数据
      <Module test_mcp_tools_rag.py>
        Unit tests for boring.mcp.tools.rag module.
        
        测试原则：
        1. 测决策结果：给定输入，系统应该返回什么
        2. Mock 只放在边界：只 mock RAGRetriever、文件系统等外部依赖
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestReloadRAGDependencies>
          测试 reload_rag_dependencies 函数的行为
          <Function test_当依赖可用时_应返回成功状态>
            规格：成功重新加载依赖 → 应返回 SUCCESS 状态和成功消息
          <Function test_当依赖不可用时_应返回错误状态>
            规格：依赖不可用 → 应返回 ERROR 状态和错误消息
        <Class TestGetRetriever>
          测试 get_retriever 函数的行为
          <Function test_当RAG可用时_应返回retriever实例>
            规格：RAG 可用 → 应返回 RAGRetriever 实例
          <Function test_当RAG不可用时_应返回None>
            规格：RAG 不可用 → 应返回 None
          <Function test_相同项目应返回缓存的retriever>
            规格：相同项目路径 → 应返回同一个 retriever 实例（缓存）
        <Class TestBoringRAGReload>
          测试 boring_rag_reload 工具的行为
          <Function test_应调用reload_rag_dependencies并返回结果>
            规格：调用工具 → 应返回 reload_rag_dependencies 的结果
        <Class TestBoringRAGIndex>
          测试 boring_rag_index 工具的行为
          <Function test_当RAG可用且有统计信息时_应返回索引统计>
            规格：RAG 可用且有统计 → 应返回包含统计信息的消息
          <Function test_当RAG不可用时_应返回安装提示>
            规格：RAG 不可用 → 应返回安装依赖的提示
          <Function test_当force为True时_应重建索引>
            规格：force=True → 应调用 build_index(force=True)
        <Class TestBoringRAGSearch>
          测试 boring_rag_search 工具的行为
          <Function test_当有结果时_应返回格式化的搜索结果>
            规格：有搜索结果 → 应返回格式化的结果列表
          <Function test_当索引为空时_应返回提示信息>
            规格：索引为空 → 应返回提示运行 boring_rag_index
          <Function test_当没有结果时_应返回无结果消息>
            规格：无搜索结果 → 应返回无结果提示
          <Function test_当collection为None时_应返回初始化提示>
            规格：collection 未初始化 → 应返回初始化提示
        <Class TestBoringRAGStatus>
          测试 boring_rag_status 工具的行为
          <Function test_当索引健康时_应返回详细统计信息>
            规格：索引健康 → 应返回包含统计信息的报告
          <Function test_当RAG不可用时_应返回安装提示>
            规格：RAG 不可用 → 应返回安装依赖的提示
          <Function test_当索引为空时_应返回空索引提示>
            规格：索引为空 → 应返回空索引提示
          <Function test_当collection为None时_应返回未初始化提示>
            规格：collection 未初始化 → 应返回未初始化提示
        <Class TestBoringRAGContext>
          测试 boring_rag_context 工具的行为
          <Function test_当找到目标时_应返回代码上下文>
            规格：找到目标代码 → 应返回包含目标、调用者、被调用者的上下文
          <Function test_当目标不存在时_应返回错误消息>
            规格：目标代码不存在 → 应返回错误消息
        <Class TestBoringRAGExpand>
          测试 boring_rag_expand 工具的行为
          <Function test_当有扩展结果时_应返回扩展的代码块>
            规格：有扩展结果 → 应返回格式化的扩展代码块列表
          <Function test_当没有扩展结果时_应返回无结果消息>
            规格：无扩展结果 → 应返回无结果提示
      <Module test_mcp_tools_shadow.py>
        Unit tests for boring.mcp.tools.shadow module.
        
        测试原则：
        1. 测决策结果：给定输入，系统应该返回什么
        2. Mock 只放在边界：只 mock ShadowModeGuard 等外部依赖
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestGetShadowGuard>
          测试 get_shadow_guard 函数的行为
          <Function test_相同项目应返回缓存的guard>
            规格：相同项目路径 → 应返回同一个 guard 实例（缓存）
          <Function test_不同项目应返回不同的guard>
            规格：不同项目路径 → 应返回不同的 guard 实例
        <Class TestBoringShadowStatus>
          测试 boring_shadow_status 工具的行为
          <Function test_当有待处理操作时_应返回待处理操作列表>
            规格：有待处理操作 → 应返回包含操作详情的状态报告
          <Function test_当无待处理操作时_应返回无待处理消息>
            规格：无待处理操作 → 应返回无待处理消息
          <Function test_当模式为ENABLED时_应显示自动批准说明>
            规格：模式为 ENABLED → 应显示自动批准说明
        <Class TestBoringShadowApprove>
          测试 boring_shadow_approve 工具的行为
          <Function test_当操作存在时_应返回批准成功消息>
            规格：操作存在且批准成功 → 应返回成功消息
          <Function test_当操作不存在时_应返回未找到消息>
            规格：操作不存在 → 应返回未找到消息
        <Class TestBoringShadowReject>
          测试 boring_shadow_reject 工具的行为
          <Function test_当操作存在时_应返回拒绝成功消息>
            规格：操作存在且拒绝成功 → 应返回成功消息
          <Function test_当操作不存在时_应返回未找到消息>
            规格：操作不存在 → 应返回未找到消息
        <Class TestBoringShadowMode>
          测试 boring_shadow_mode 工具的行为
          <Function test_当模式有效时_应设置模式并返回成功消息>
            规格：有效模式 → 应设置模式并返回成功消息
          <Function test_当模式无效时_应返回错误消息>
            规格：无效模式 → 应返回错误消息
        <Class TestBoringShadowClear>
          测试 boring_shadow_clear 工具的行为
          <Function test_应清除所有待处理操作并返回计数>
            规格：清除操作 → 应返回清除的操作数量
      <Module test_mcp_v10_tools.py>
        Unit tests for boring.mcp.v10_tools module.
        <Class TestV10Tools>
          Tests for V10 tools registration.
          <Function test_register_v10_tools_success>
            Test registering V10 tools successfully.
          <Function test_register_v10_tools_rag_import_error>
            Test registering when RAG tools import fails.
          <Function test_register_v10_tools_agent_import_error>
            Test registering when agent tools import fails.
          <Function test_register_v10_tools_shadow_import_error>
            Test registering when shadow tools import fails.
          <Function test_register_v10_tools_rag_exception>
            Test registering when RAG tools raise exception.
      <Module test_mcp_v9_tools.py>
        Unit tests for boring.mcp.v9_tools module.
        
        测试原则：
        1. 测决策结果：给定输入，系统应该返回什么
        2. Mock 只放在边界：只 mock PluginLoader、WorkspaceManager 等外部依赖
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestBoringListPlugins>
          测试 boring_list_plugins 工具的行为
          <Function test_当有插件时_应返回插件列表>
            规格：有插件 → 应返回插件列表和状态
          <Function test_当include_builtin为True时_应包含内置工具列表>
            规格：include_builtin=True → 应包含内置工具列表
        <Class TestBoringRunPlugin>
          测试 boring_run_plugin 工具的行为
          <Function test_当插件存在时_应执行插件并返回结果>
            规格：插件存在 → 应执行插件并返回结果
        <Class TestBoringWorkspaceAdd>
          测试 boring_workspace_add 工具的行为
          <Function test_当参数有效时_应添加项目到工作区>
            规格：有效参数 → 应添加项目并返回成功状态
        <Class TestBoringWorkspaceList>
          测试 boring_workspace_list 工具的行为
          <Function test_应返回所有注册的项目列表>
            规格：调用工具 → 应返回项目列表和活动项目
          <Function test_当指定tag时_应过滤项目>
            规格：指定 tag → 应返回匹配 tag 的项目
        <Class TestBoringPromptFix>
          测试 boring_prompt_fix 工具的行为
          <Function test_当验证通过时_应返回成功消息>
            规格：验证通过 → 应返回成功消息
          <Function test_当验证失败时_应返回修复提示>
            规格：验证失败 → 应返回修复提示和工作流模板
        <Class TestBoringSuggestNext>
          测试 boring_suggest_next 工具的行为
          <Function test_应返回基于项目状态的建议>
            规格：调用工具 → 应返回建议列表和项目状态
        <Class TestBoringGetProgress>
          测试 boring_get_progress 工具的行为
          <Function test_当任务存在时_应返回任务进度>
            规格：任务存在 → 应返回任务进度信息
          <Function test_当任务不存在时_应返回未找到消息>
            规格：任务不存在 → 应返回未找到消息
      <Module test_multi_language.py>
        <Class TestMultiLanguageVerification>
          <Function test_verify_syntax_node>
          <Function test_verify_syntax_go>
        <Class TestMultiLanguageIndexing>
          <Function test_index_universal_js>
          <Function test_index_project_multi_ext>
      <Module test_quality_tracker.py>
        <Function test_quality_tracker_record>
        <Function test_quality_history_limit>
        <Function test_ascii_chart>
        <Function test_boring_quality_trend_tool>
      <Module test_rag.py>
        Unit tests for RAG system
        <Class TestCodeIndexer>
          Tests for CodeIndexer
          <Function test_code_chunk_creation>
            Test CodeChunk dataclass
          <Function test_indexer_init>
            Test indexer initialization
          <Function test_indexer_parses_function>
            Test indexer parses Python function
          <Function test_indexer_parses_class>
            Test indexer parses Python class
        <Class TestDependencyGraph>
          Tests for DependencyGraph
          <Function test_graph_build_empty>
            Test graph with no chunks
          <Function test_graph_build_with_chunks>
            Test graph with sample chunks
          <Function test_impact_zone>
            Test impact zone calculation
        <Class TestRAGRetriever>
          Tests for RAGRetriever
          <Function test_retriever_without_chromadb>
            Test retriever gracefully handles missing ChromaDB
          <Function test_retriever_stats>
            Test retriever stats
      <Module test_rag_retriever.py>
        Unit tests for boring.rag.rag_retriever module.
        
        测试原则：
        1. 测试决策结果：给定查询，应该返回什么结果
        2. 只 mock 边界：ChromaDB 是外部数据库，可以 mock
        3. 测试名称即规格：清楚说明输入和期望输出
        <Class TestRAGRetrieverInitialization>
          测试 RAGRetriever 初始化的行为
          <Function test_當ChromaDB可用時_應初始化成功並可检索>
            規格：ChromaDB 可用 → is_available 应为 True，可以执行检索
          <Function test_當ChromaDB不可用時_應标记為不可用>
            規格：ChromaDB 不可用 → is_available 应为 False
          <Function test_當ChromaDB初始化失敗時_應優雅降級為不可用>
            規格：ChromaDB 初始化失败 → 应优雅降级，is_available 为 False
          <Function test_init_with_additional_roots>
            Test initialization with additional project roots.
          <Function test_is_available_property>
            Test is_available property.
          <Function test_當RAG不可用時_構築索引應返回0>
            規格：is_available=False → build_index() 应返回 0（不执行索引）
          <Function test_當強制重建索引時_應清除舊索引並重建>
            規格：build_index(force=True) → 应清除旧索引，返回新索引的chunk数量
          <Function test_當RAG不可用時_檢索應返回空列表>
            規格：is_available=False → retrieve(query) 应返回空列表
          <Function test_當查詢代碼時_應返回相關的代码塊>
            規格：retrieve("test function") → 应返回包含相关代码的 RetrievalResult 列表
          <Function test_當設置閾值時_應只返回分數高於閾值的結果>
            規格：retrieve(query, threshold=0.5) → 应只返回 score >= 0.5 的结果
          <Function test_retrieve_with_file_filter>
            Test retrieve with file_filter.
          <Function test_retrieve_query_failure>
            Test retrieve when query fails.
          <Function test_當沒有依賴圖時_獲取修改上下文應返回空結果>
            規格：graph=None → get_modification_context() 应返回空的上下文字典
          <Function test_當未指定函數或類名時_獲取修改上下文應返回空結果>
            規格：function_name=None, class_name=None → 应返回空上下文
          <Function test_smart_expand_no_graph>
            Test smart_expand when graph is None.
          <Function test_smart_expand_chunk_not_found>
            Test smart_expand when chunk not found.
          <Function test_當獲取統計信息時_應返回包含索引數量的RAGStats>
            規格：get_stats() → 应返回包含 total_chunks_indexed 的 RAGStats
          <Function test_當清除索引時_應清空所有數據和數據庫集合>
            規格：clear() → 应清空内存中的chunks、文件映射和数据库集合
          <Function test_update_file_not_available>
            Test update_file when RAG not available.
          <Function test_generate_context_injection_no_results>
            Test generate_context_injection when no results.
          <Coroutine test_retrieve_async>
            Test retrieve_async method.
      <Module test_reasoning_cache.py>
        Unit tests for V10.28 ReasoningCache (PREPAIR technique).
        <Class TestReasoningCache>
          Tests for the ReasoningCache class.
          <Function test_set_and_get>
            Test basic set and get operations.
          <Function test_cache_miss>
            Test that cache miss returns None.
          <Function test_cache_stats>
            Test cache statistics tracking.
          <Function test_compare_with_cache_both_hit>
            Test compare_with_cache when both entries exist.
          <Function test_compare_with_cache_partial_hit>
            Test compare_with_cache with only one entry cached.
          <Function test_max_entries_eviction>
            Test that oldest entries are evicted when max_entries is reached.
          <Function test_clear>
            Test cache clear functionality.
          <Function test_ttl_expiration>
            Test that entries expire after TTL.
          <Function test_global_singleton>
            Test that get_reasoning_cache returns singleton.
      <Module test_release_workflow_integration.py>
        <Function test_setup_copies_release_workflow>
          Verify that setup_new_project copies the release-prep workflow.
      <Module test_security.py>
        <Function test_scanner_init>
        <Function test_scan_secrets_detection>
          Test secret detection.
        <Function test_scan_secrets_ignore_dirs>
          Test that ignored directories are skipped.
        <Function test_scan_vulnerabilities>
          Test SAST scanning via bandit.
        <Function test_scan_dependencies>
          Test dependency scanning via pip-audit.
      <Module test_shadow_mode.py>
        Unit tests for Shadow Mode
        <Class TestShadowModeEnums>
          Tests for Shadow Mode enums
          <Function test_shadow_mode_level>
            Test ShadowModeLevel enum
          <Function test_operation_severity>
            Test OperationSeverity enum
        <Class TestPendingOperation>
          Tests for PendingOperation
          <Function test_pending_operation_creation>
            Test PendingOperation dataclass
          <Function test_pending_operation_serialization>
            Test PendingOperation to_dict
        <Class TestShadowModeGuard>
          Tests for ShadowModeGuard
          <Function test_guard_disabled_mode>
            Test guard in DISABLED mode allows all
          <Function test_guard_enabled_mode_blocks_high>
            Test guard in ENABLED mode blocks HIGH ops
          <Function test_guard_enabled_mode_allows_read>
            Test guard in ENABLED mode allows LOW ops
          <Function test_guard_strict_mode>
            Test guard in STRICT mode blocks all writes
          <Function test_guard_sensitive_file_detection>
            Test guard detects sensitive files
          <Function test_guard_shell_command_detection>
            Test guard blocks shell commands
          <Function test_approve_operation>
            Test approving a pending operation
          <Function test_reject_operation>
            Test rejecting a pending operation
        <Class TestCreateShadowGuard>
          Tests for factory function
          <Function test_create_with_default_mode>
            Test create_shadow_guard defaults to ENABLED
          <Function test_create_with_custom_mode>
            Test create_shadow_guard with custom mode
      <Module test_shadow_mode_enforcement.py>
        Unit tests for Shadow Mode security enforcement.
        
        Tests for:
        - STRICT mode blocking all write operations
        - Mode persistence across guard re-creation
        - ENABLED mode blocking HIGH/CRITICAL only
        <Class TestStrictModeEnforcement>
          Tests for STRICT mode blocking all write operations.
          <Function test_strict_mode_blocks_low_severity_write>
            STRICT mode should block even LOW severity writes.
          <Function test_strict_mode_blocks_shell_command>
            STRICT mode should block shell commands.
          <Function test_strict_mode_blocks_search_replace>
            STRICT mode should block search/replace operations.
        <Class TestModePersistence>
          Tests for mode persistence across guard re-creation.
          <Function test_mode_persists_to_file>
            Setting mode should persist to .boring_shadow_mode file.
          <Function test_mode_loads_from_file_on_init>
            New guard should load persisted mode from file.
          <Function test_mode_persists_across_sessions>
            Mode should persist across session simulations.
        <Class TestEnabledModeEnforcement>
          Tests for ENABLED mode blocking HIGH/CRITICAL only.
          <Function test_enabled_mode_allows_low_severity>
            ENABLED mode should auto-approve LOW severity operations.
          <Function test_enabled_mode_blocks_high_severity>
            ENABLED mode should block HIGH severity operations.
          <Function test_enabled_mode_blocks_shell_commands>
            ENABLED mode should block shell commands (HIGH severity).
        <Class TestDisabledMode>
          Tests for DISABLED mode auto-approving all operations.
          <Function test_disabled_mode_allows_all>
            DISABLED mode should auto-approve all operations.
      <Module test_storage.py>
        Tests for storage.py and context_selector.py modules.
        <Class TestSQLiteStorage>
          Tests for SQLite storage.
          <Function test_create_storage>
            Test storage creation.
          <Function test_record_loop>
            Test recording a loop.
          <Function test_get_recent_loops>
            Test getting recent loops.
          <Function test_get_loop_stats>
            Test loop statistics.
          <Function test_record_error>
            Test recording errors.
          <Function test_add_and_get_solution>
            Test adding and retrieving solutions.
          <Function test_record_metric>
            Test recording metrics.
        <Class TestContextSelector>
          Tests for context selector.
          <Function test_create_selector>
            Test selector creation.
          <Function test_extract_keywords>
            Test keyword extraction.
          <Function test_extract_keywords_camelcase>
            Test keyword extraction from camelCase.
          <Function test_score_file_filename_match>
            Test file scoring with filename match.
          <Function test_get_project_files>
            Test getting project files.
          <Function test_select_files_by_relevance>
            Test file selection by relevance.
          <Function test_select_context_with_budget>
            Test context selection with token budget.
          <Function test_generate_context_injection>
            Test context injection generation.
      <Module test_transactions.py>
        <Function test_transaction_start>
          Test starting a transaction.
        <Function test_transaction_commit>
          Test committing a transaction.
        <Function test_transaction_rollback>
          Test rolling back a transaction.
        <Function test_transaction_status>
          Test status reporting.
      <Module test_tree_sitter_and_tools.py>
        <Function test_parser_init>
        <Function test_parser_extract_chunks_mocked>
          Test that parser can extract chunks when tree-sitter is available.
        <Function test_verifier_generic_dispatch>
        <Function test_judge_prompt_language_awareness>
      <Module test_tutorial.py>
        <Function test_tutorial_initialization>
        <Function test_show_tutorial_updates_state>
        <Function test_show_tutorial_idempotency>
        <Function test_generate_learning_note>
      <Module test_vector_memory.py>
        Tests for vector_memory.py - VectorMemory class with mocked ChromaDB.
        <Class TestExperience>
          Tests for Experience dataclass.
          <Function test_experience_creation>
            Test creating an experience.
        <Class TestVectorMemoryInit>
          Tests for VectorMemory initialization.
          <Function test_init_without_chromadb>
            Test initialization when ChromaDB is not available.
          <Function test_init_creates_directory>
            Test that persist directory is created.
        <Class TestVectorMemoryAddExperience>
          Tests for adding experiences.
          <Function test_add_experience_disabled>
            Test adding experience when disabled.
        <Class TestVectorMemoryRetrieve>
          Tests for retrieving experiences.
          <Function test_retrieve_disabled>
            Test retrieval when disabled.
        <Class TestVectorMemoryHelpers>
          Tests for helper methods.
          <Function test_get_solution_for_error_disabled>
            Test get_solution_for_error when disabled.
          <Function test_generate_context_injection_disabled>
            Test context injection when disabled.
          <Function test_clear_disabled>
            Test clear when disabled.
        <Class TestCreateVectorMemory>
          Tests for factory function.
          <Function test_create_with_project_root>
            Test creating vector memory with project root.
          <Function test_create_without_project_root>
            Test creating vector memory without project root.
        <Class TestVectorMemoryWithChromaDB>
          Tests for VectorMemory with ChromaDB functionality (mocked).
          <Function test_init_with_chromadb>
            Test initialization with ChromaDB available.
          <Function test_add_and_retrieve>
            Test adding and retrieving experience.
      <Module test_verification.py>
        Tests for verification module.
        <Class TestVerificationResult>
          Tests for VerificationResult dataclass.
          <Function test_result_creation>
            Test creating a verification result.
          <Function test_failed_result_with_details>
            Test failed result with details and suggestions.
        <Class TestCodeVerifierSyntax>
          Tests for syntax verification.
          <Function test_verify_syntax_valid>
            Test syntax check on valid Python.
          <Function test_verify_syntax_invalid>
            Test syntax check on invalid Python.
          <Function test_verify_syntax_empty_file>
            Test syntax check on empty file.
        <Class TestCodeVerifierLint>
          Tests for linting verification.
          <Function test_verify_lint_no_ruff>
            Test lint check when ruff is not available.
          <Function test_verify_lint_with_ruff_mock_success>
            Test lint check with mocked ruff success.
          <Function test_verify_lint_with_ruff_mock_failure>
            Test lint check with mocked ruff failure.
        <Class TestCodeVerifierImports>
          Tests for import verification.
          <Function test_verify_imports_standard_lib>
            Test import check with standard library imports.
          <Function test_verify_imports_relative>
            Test import check with relative imports (should be skipped).
        <Class TestCodeVerifierTests>
          Tests for test runner.
          <Function test_run_tests_no_pytest>
            Test running tests when pytest is not available.
          <Function test_run_tests_no_tests_dir>
            Test running tests when tests directory doesn't exist.
        <Class TestCodeVerifierProject>
          Tests for project-level verification.
          <Function test_verify_project_no_src>
            Test project verification when src doesn't exist.
          <Function test_verify_project_with_valid_files>
            Test project verification with valid Python files.
          <Function test_verify_file_non_python>
            Test that non-Python files are skipped.
        <Class TestGenerateFeedbackPrompt>
          Tests for feedback prompt generation.
          <Function test_generate_feedback_no_failures>
            Test feedback generation when all passed.
          <Function test_generate_feedback_with_failures>
            Test feedback generation with failures.
        <Class TestVerificationSubmodules>
          Test the individual components of the verification package.
          <Function test_tool_manager_init>
          <Function test_load_custom_rules_mock>
          <Function test_verify_syntax_python_compile>
          <Function test_verify_lint_python_mock>
          <Function test_verify_imports_python_logic>
        <Class TestJudgeSubmodules>
          Test the individual components of the judge package.
          <Function test_extract_json_logic>
          <Function test_build_grade_prompt_logic>
          <Function test_create_judge_provider_logic>
        <Class TestReviewerSubmodules>
          Test the individual components of the reviewer package.
          <Function test_extract_verdict_logic>
          <Function test_extract_issues_logic>
        <Class TestCoreModule>
          Additional tests for core module to increase coverage.
          <Function test_circuit_state_import>
          <Function test_should_halt_execution_import>
          <Function test_log_status_import>
          <Function test_can_make_call_import>
          <Function test_constants_import>
          <Function test_circuit_functions_import>
          <Function test_limiter_functions_import>
        <Class TestModelsModule>
          Tests for boring.models dataclasses.
          <Function test_verification_result_dataclass>
          <Function test_loop_info_model>
          <Function test_exit_signals_model>
          <Function test_workflow_step_model>
      <Module test_workflow_evolver.py>
        Unit tests for WorkflowEvolver module.
        <Class TestWorkflowEvolver>
          Tests for WorkflowEvolver class.
          <Function test_init_creates_base_dir>
            Test that initialization creates _base directory.
          <Function test_ensure_base_backup>
            Test backup creation.
          <Function test_ensure_base_backup_invalid_workflow>
            Test backup fails for invalid workflow name.
          <Function test_evolve_workflow>
            Test workflow evolution.
          <Function test_evolve_workflow_creates_backup>
            Test that evolution creates backup.
          <Function test_evolve_workflow_no_change>
            Test evolution with same content.
          <Function test_reset_workflow>
            Test workflow reset to base.
          <Function test_get_workflow_status>
            Test workflow status check.
          <Function test_evolution_log>
            Test evolution history logging.
          <Function test_backup_all_workflows>
            Test backing up all workflows.
        <Class TestProjectContextDetector>
          Tests for V10.18 ProjectContextDetector.
          <Function test_detect_python_project>
            Test detection of Python project type.
          <Function test_detect_mcp_server_project>
            Test detection of MCP server project.
          <Function test_detect_bilingual_docs>
            Test detection of bilingual documentation.
        <Class TestWorkflowGapAnalyzer>
          Tests for V10.18 WorkflowGapAnalyzer.
          <Function test_detect_missing_version_file>
            Test gap detection for missing version files.
          <Function test_generate_enhanced_workflow>
            Test enhanced workflow generation with gap fixes.
        <Class TestAutoEvolve>
          Tests for V10.18 auto_evolve method.
          <Function test_auto_evolve_adds_missing_checks>
            Test auto_evolve adds missing version file checks.
          <Function test_analyze_project_returns_context>
            Test analyze_project returns proper context dict.
      <Module test_workflow_manager.py>
        <Class TestWorkflowPackage>
          <Function test_json_serialization>
          <Function test_from_json_valid>
          <Function test_from_json_invalid>
        <Class TestWorkflowManager>
          <Function test_parse_frontmatter>
          <Function test_list_local_workflows>
          <Function test_export_workflow_success>
          <Function test_export_workflow_not_found>
          <Function test_install_workflow_url>
          <Function test_install_workflow_local_file>
          <Function test_publish_workflow_success>

============================== warnings summary ===============================
C:\Users\User\AppData\Roaming\Python\Python312\site-packages\dateutil\tz\tz.py:37
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\dateutil\tz\tz.py:37: DeprecationWarning: datetime.datetime.utcfromtimestamp() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.fromtimestamp(timestamp, datetime.UTC).
    EPOCH = datetime.datetime.utcfromtimestamp(0)

src\boring\core\models.py:35
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:35: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CircuitBreakerState(BaseModel):

src\boring\core\models.py:65
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:65: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LoopStatus(BaseModel):

C:\Users\User\AppData\Roaming\Python\Python312\site-packages\pydantic\_internal\_generate_schema.py:319
  C:\Users\User\AppData\Roaming\Python\Python312\site-packages\pydantic\_internal\_generate_schema.py:319: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.12/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    warnings.warn(

src\boring\core\models.py:81
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:81: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CircuitBreakerHistoryEntry(BaseModel):

src\boring\core\models.py:99
  D:\User\Desktop\ralphgeminicode\boring-gemini\src\boring\core\models.py:99: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Workflow(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 899 tests collected in 11.77s ========================
