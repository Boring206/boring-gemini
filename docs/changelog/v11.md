# V11 Changelog

> All features and improvements in the V11.x series.

---


## [11.2.10] - 2026-01-13
### üöÄ Major Features
- **One Dragon Engine**: Released `boring_flow` MCP tool, enabling AI Agents (Cursor/Gemini) to fully drive the project lifecycle.
- **Headless FlowEngine**: Refactored the core engine to support non-interactive execution, allowing seamless integration with MCP.
- **Auto-Alignment**: Enhanced Vibe Session to handle vague instructions ("Make it pretty") by automatically resolving ambiguity via LLM.

## [11.2.2] - 2026-01-12
### üöÄ Major Features
- **Visual Intelligence**: New **Brain Map** in Dashboard.
- **Brain Scalability**: Migrated `BrainManager` to **SQLite** backend (ACID compliance & 10x performance).
- **Lightweight UX**: Implemented **Global Cache & Lazy Initialization** (`BORING_LAZY_MODE`).
- **Deep & Critical Thinking**: Enhanced multi-layered reasoning states (`ReasoningState`) for autonomous logic verification.

### üõ†Ô∏è Improvements
- **Architectural Standardization**: All core tools now return `BoringResult` (TypedDict).
- **Security Sandbox**: AST-based validation for synthesized tools.

---

## [11.2.1] - 2026-01-11
### üîß Fixes
- **Vibe Tools**: Resolved `KeyError: 'message'` and `NameError`.
- **Unit Isolation**: Fixed inconsistent engine usage in `vibe.py`.
- **Knowledge Sync**: Optimized Git synchronization retry logic.
- **Reflex Stability**: Improved Brain Reflex prompt injection.
- **Lint & Format**: Cleaned up `ruff` errors in core library and unit tests.

---

## [11.1.0] - Cross-Language Parser Refinement üîß

**JavaScript Parsing Fix**
- Fixed `function_expression` ‚Üí `function` node type for tree-sitter-languages JavaScript grammar
- Updated test cases from JSX to pure JavaScript patterns for consistent parsing

**Type Specificity Ranking System**
- Added intelligent type priority: `interface > type_alias > namespace > method > function > class`
- Fixed Go interface detection being incorrectly classified as `class`
- All 4 languages (JS/TS/Go/C++) now fully validated with correct names and types

**Fixes**
- Updated CLI version fallback from 10.32.1 to 11.1.0
- Test assertions now use dynamic version checking from `boring.__version__`

---

## [11.0.0] - The Resilient Foundation Update üõ°Ô∏è

### Windows Optimization
- **Transactional Atomic Writes**: Introduced `TransactionalFileWriter` with exponential backoff for `os.replace` to solve Windows mandatory file locking contention
- **Race Condition Prevention**: Implemented cross-thread and cross-process safe state persistence for `Web Monitor` and `Shadow Mode`
- **Pre-execution Locking**: Added mandatory lock detection before file modifications to ensure clean rollbacks

### Polyglot RAG Precision
- **Matched Definition Extraction**: Re-engineered `TreeSitterParser` to use `query.matches()`, ensuring properties (Go receivers, TS interface names) are precisely bound to their definitions
- **Go Support**: Added robust extraction for Go method receivers and pointer types
- **TypeScript & C++**: Enhanced semantic boundary detection for TS Interface/Type Alias and C++ Namespace/Template definitions
- **Tree-sitter Pinning**: Standardized on `tree-sitter==0.21.3` for project-wide API stability

### Developer Experience
- **Zero-Config Wizard**: Integrated the `boring wizard` and cross-platform bootstrappers (`install.ps1`, `install.sh`) as a core feature
- **Vibe Score Evolution**: Fully integrated "One-Click Fix Prompt" logic into health checks

### Zero-Config Bootstrapper
- **One-Click Installers**: Introduced `install.ps1` (Windows) and `install.sh` (Linux/macOS) for a unified, stable setup experience
- **Isolated Environment**: Bootstrappers now automatically create a dedicated `~/.boring/env` to prevent Python conflicts
- **Wizard Enhancements**: Added `Custom` profile support to `boring wizard` for granular control over RAG and Logs without editing JSON

### Sustainability & Quality
- **Coverage Success**: Tripled project-wide test coverage to **60%** (up from ~20%)
- **Intelligence Layer**: Achieved high coverage for core AI modules: `brain_manager.py` (88%), `pattern_clustering.py` (93%), `pattern_mining.py` (86%)
- **Resilient Services**: Robust testing established for `web_monitor.py` (78%) and `rag_watcher.py`
