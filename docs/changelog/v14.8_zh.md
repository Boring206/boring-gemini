
# 🦒 Boring-Gemini V14.8.0 發布說明
"世界級版本 (The World Class Edition)"

**日期**: 2026-01-17

## 🌟 亮點功能

### 原子級持久性 (Atomic Durability)
我們已將事件帳本從簡單的 JSONL 文件遷移至 **SQLite (WAL 模式)**。這確保了即使在突然斷電或進程崩潰的情況下，項目歷史的完整性也能得到保留。

### EventWriter 自癒能力 (Self-Healing)
後台事件寫入器現在擁有 **自癒 (Self-Healing)** 能力。如果寫入線程因 Bug 或內存問題崩潰，系統將檢測到並透明地重啟新線程，確保不會丟失任何事件。

### 性能飆升 (Performance Turbocharge)
啟動時間已大幅縮減至 **200ms 以下**。我們通過僅在需要時才延遲加載 Pydantic、ChromaDB 和 SentenceTransformers 等重型庫來實現這一目標。

### 死信隊列 (Dead Letter Queue)
您的數據至關重要。即使資料庫被鎖定或經多次重試後仍無法訪問，事件也會被安全地寫入 `dead_letters.jsonl` 文件，以便日後恢復。

## 🛠️ 完整變更日誌

### 新功能
- **[核心]** SQLite 事件存儲集成。
- **[核心]** 死信隊列 (DLQ) 機制。
- **[智能]** ProcessPoolExecutor 用於非阻塞嵌入計算。
- **[智能]** `Singleflight` 緩存保護模式。
- **[CLI]** `boring doctor` 新增 DB 優化功能 (WAL checkpoints)。

### 修復
- 修復 `AsyncEventStore` 序列生成中的競爭條件。
- 修復 ThreadPool 資源洩漏。
- 修復 DB 鎖定超過 5 秒時的靜默失敗。
- 修復 `UnitOfWork` 部分提交狀態。

### 統計數據
- **並發支持**: 支持 20+ 並行用戶。
- **吞吐量**: ~40 事件/秒。
- **韌性**: 在混沌測試 (鎖定、崩潰、刪除) 中實現 100% 數據存活。
